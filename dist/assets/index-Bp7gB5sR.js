var S_=Object.defineProperty;var v_=(r,A,e)=>A in r?S_(r,A,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[A]=e;var a=(r,A,e)=>(v_(r,typeof A!="symbol"?A+"":A,e),e);(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kf(r,A){const e=new Set(r.split(","));return A?t=>e.has(t.toLowerCase()):t=>e.has(t)}const ve={},Bo=[],br=()=>{},w_=()=>!1,Gc=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),zf=r=>r.startsWith("onUpdate:"),st=Object.assign,Gf=(r,A)=>{const e=r.indexOf(A);e>-1&&r.splice(e,1)},b_=Object.prototype.hasOwnProperty,Ae=(r,A)=>b_.call(r,A),RA=Array.isArray,To=r=>pu(r)==="[object Map]",Vc=r=>pu(r)==="[object Set]",Sp=r=>pu(r)==="[object Date]",kA=r=>typeof r=="function",Ve=r=>typeof r=="string",kn=r=>typeof r=="symbol",ye=r=>r!==null&&typeof r=="object",jm=r=>(ye(r)||kA(r))&&kA(r.then)&&kA(r.catch),Wm=Object.prototype.toString,pu=r=>Wm.call(r),I_=r=>pu(r).slice(8,-1),Ym=r=>pu(r)==="[object Object]",Vf=r=>Ve(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,dl=kf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qc=r=>{const A=Object.create(null);return e=>A[e]||(A[e]=r(e))},B_=/-(\w)/g,vi=Qc(r=>r.replace(B_,(A,e)=>e?e.toUpperCase():"")),T_=/\B([A-Z])/g,Ks=Qc(r=>r.replace(T_,"-$1").toLowerCase()),Hc=Qc(r=>r.charAt(0).toUpperCase()+r.slice(1)),lh=Qc(r=>r?`on${Hc(r)}`:""),zn=(r,A)=>!Object.is(r,A),fl=(r,A)=>{for(let e=0;e<r.length;e++)r[e](A)},Vl=(r,A,e)=>{Object.defineProperty(r,A,{configurable:!0,enumerable:!1,value:e})},Za=r=>{const A=parseFloat(r);return isNaN(A)?r:A},D_=r=>{const A=Ve(r)?Number(r):NaN;return isNaN(A)?r:A};let vp;const $m=()=>vp||(vp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gu(r){if(RA(r)){const A={};for(let e=0;e<r.length;e++){const t=r[e],i=Ve(t)?R_(t):gu(t);if(i)for(const n in i)A[n]=i[n]}return A}else if(Ve(r)||ye(r))return r}const x_=/;(?![^(]*\))/g,O_=/:([^]+)/,M_=/\/\*[^]*?\*\//g;function R_(r){const A={};return r.replace(M_,"").split(x_).forEach(e=>{if(e){const t=e.split(O_);t.length>1&&(A[t[0].trim()]=t[1].trim())}}),A}function Wo(r){let A="";if(Ve(r))A=r;else if(RA(r))for(let e=0;e<r.length;e++){const t=Wo(r[e]);t&&(A+=t+" ")}else if(ye(r))for(const e in r)r[e]&&(A+=e+" ");return A.trim()}const P_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",F_=kf(P_);function Km(r){return!!r||r===""}function N_(r,A){if(r.length!==A.length)return!1;let e=!0;for(let t=0;e&&t<r.length;t++)e=Au(r[t],A[t]);return e}function Au(r,A){if(r===A)return!0;let e=Sp(r),t=Sp(A);if(e||t)return e&&t?r.getTime()===A.getTime():!1;if(e=kn(r),t=kn(A),e||t)return r===A;if(e=RA(r),t=RA(A),e||t)return e&&t?N_(r,A):!1;if(e=ye(r),t=ye(A),e||t){if(!e||!t)return!1;const i=Object.keys(r).length,n=Object.keys(A).length;if(i!==n)return!1;for(const s in r){const o=r.hasOwnProperty(s),u=A.hasOwnProperty(s);if(o&&!u||!o&&u||!Au(r[s],A[s]))return!1}}return String(r)===String(A)}function L_(r,A){return r.findIndex(e=>Au(e,A))}const wi=r=>Ve(r)?r:r==null?"":RA(r)||ye(r)&&(r.toString===Wm||!kA(r.toString))?JSON.stringify(r,qm,2):String(r),qm=(r,A)=>A&&A.__v_isRef?qm(r,A.value):To(A)?{[`Map(${A.size})`]:[...A.entries()].reduce((e,[t,i],n)=>(e[ch(t,n)+" =>"]=i,e),{})}:Vc(A)?{[`Set(${A.size})`]:[...A.values()].map(e=>ch(e))}:kn(A)?ch(A):ye(A)&&!RA(A)&&!Ym(A)?String(A):A,ch=(r,A="")=>{var e;return kn(r)?`Symbol(${(e=r.description)!=null?e:A})`:r};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zr;class U_{constructor(A=!1){this.detached=A,this._active=!0,this.effects=[],this.cleanups=[],this.parent=zr,!A&&zr&&(this.index=(zr.scopes||(zr.scopes=[])).push(this)-1)}get active(){return this._active}run(A){if(this._active){const e=zr;try{return zr=this,A()}finally{zr=e}}}on(){zr=this}off(){zr=this.parent}stop(A){if(this._active){let e,t;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].stop();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!A){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function k_(r,A=zr){A&&A.active&&A.effects.push(r)}function z_(){return zr}let Bs;class Qf{constructor(A,e,t,i){this.fn=A,this.trigger=e,this.scheduler=t,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,k_(this,i)}get dirty(){if(this._dirtyLevel===1){qs();for(let A=0;A<this._depsLength;A++){const e=this.deps[A];if(e.computed&&(G_(e.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),Xs()}return this._dirtyLevel>=2}set dirty(A){this._dirtyLevel=A?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let A=Nn,e=Bs;try{return Nn=!0,Bs=this,this._runnings++,wp(this),this.fn()}finally{bp(this),this._runnings--,Bs=e,Nn=A}}stop(){var A;this.active&&(wp(this),bp(this),(A=this.onStop)==null||A.call(this),this.active=!1)}}function G_(r){return r.value}function wp(r){r._trackId++,r._depsLength=0}function bp(r){if(r.deps&&r.deps.length>r._depsLength){for(let A=r._depsLength;A<r.deps.length;A++)Xm(r.deps[A],r);r.deps.length=r._depsLength}}function Xm(r,A){const e=r.get(A);e!==void 0&&A._trackId!==e&&(r.delete(A),r.size===0&&r.cleanup())}let Nn=!0,xd=0;const Jm=[];function qs(){Jm.push(Nn),Nn=!1}function Xs(){const r=Jm.pop();Nn=r===void 0?!0:r}function Hf(){xd++}function jf(){for(xd--;!xd&&Od.length;)Od.shift()()}function Zm(r,A,e){if(A.get(r)!==r._trackId){A.set(r,r._trackId);const t=r.deps[r._depsLength];t!==A?(t&&Xm(t,r),r.deps[r._depsLength++]=A):r._depsLength++}}const Od=[];function A3(r,A,e){Hf();for(const t of r.keys())if(t._dirtyLevel<A&&r.get(t)===t._trackId){const i=t._dirtyLevel;t._dirtyLevel=A,i===0&&(t._shouldSchedule=!0,t.trigger())}e3(r),jf()}function e3(r){for(const A of r.keys())A.scheduler&&A._shouldSchedule&&(!A._runnings||A.allowRecurse)&&r.get(A)===A._trackId&&(A._shouldSchedule=!1,Od.push(A.scheduler))}const t3=(r,A)=>{const e=new Map;return e.cleanup=r,e.computed=A,e},Md=new WeakMap,Ts=Symbol(""),Rd=Symbol("");function qt(r,A,e){if(Nn&&Bs){let t=Md.get(r);t||Md.set(r,t=new Map);let i=t.get(e);i||t.set(e,i=t3(()=>t.delete(e))),Zm(Bs,i)}}function Ki(r,A,e,t,i,n){const s=Md.get(r);if(!s)return;let o=[];if(A==="clear")o=[...s.values()];else if(e==="length"&&RA(r)){const u=Number(t);s.forEach((l,c)=>{(c==="length"||!kn(c)&&c>=u)&&o.push(l)})}else switch(e!==void 0&&o.push(s.get(e)),A){case"add":RA(r)?Vf(e)&&o.push(s.get("length")):(o.push(s.get(Ts)),To(r)&&o.push(s.get(Rd)));break;case"delete":RA(r)||(o.push(s.get(Ts)),To(r)&&o.push(s.get(Rd)));break;case"set":To(r)&&o.push(s.get(Ts));break}Hf();for(const u of o)u&&A3(u,2);jf()}const V_=kf("__proto__,__v_isRef,__isVue"),r3=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(kn)),Ip=Q_();function Q_(){const r={};return["includes","indexOf","lastIndexOf"].forEach(A=>{r[A]=function(...e){const t=re(this);for(let n=0,s=this.length;n<s;n++)qt(t,"get",n+"");const i=t[A](...e);return i===-1||i===!1?t[A](...e.map(re)):i}}),["push","pop","shift","unshift","splice"].forEach(A=>{r[A]=function(...e){qs(),Hf();const t=re(this)[A].apply(this,e);return jf(),Xs(),t}}),r}function H_(r){const A=re(this);return qt(A,"has",r),A.hasOwnProperty(r)}class i3{constructor(A=!1,e=!1){this._isReadonly=A,this._shallow=e}get(A,e,t){const i=this._isReadonly,n=this._shallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return n;if(e==="__v_raw")return t===(i?n?rS:a3:n?o3:s3).get(A)||Object.getPrototypeOf(A)===Object.getPrototypeOf(t)?A:void 0;const s=RA(A);if(!i){if(s&&Ae(Ip,e))return Reflect.get(Ip,e,t);if(e==="hasOwnProperty")return H_}const o=Reflect.get(A,e,t);return(kn(e)?r3.has(e):V_(e))||(i||qt(A,"get",e),n)?o:Xt(o)?s&&Vf(e)?o:o.value:ye(o)?i?u3(o):Wc(o):o}}class n3 extends i3{constructor(A=!1){super(!1,A)}set(A,e,t,i){let n=A[e];if(!this._shallow){const u=Yo(n);if(!Ql(t)&&!Yo(t)&&(n=re(n),t=re(t)),!RA(A)&&Xt(n)&&!Xt(t))return u?!1:(n.value=t,!0)}const s=RA(A)&&Vf(e)?Number(e)<A.length:Ae(A,e),o=Reflect.set(A,e,t,i);return A===re(i)&&(s?zn(t,n)&&Ki(A,"set",e,t):Ki(A,"add",e,t)),o}deleteProperty(A,e){const t=Ae(A,e);A[e];const i=Reflect.deleteProperty(A,e);return i&&t&&Ki(A,"delete",e,void 0),i}has(A,e){const t=Reflect.has(A,e);return(!kn(e)||!r3.has(e))&&qt(A,"has",e),t}ownKeys(A){return qt(A,"iterate",RA(A)?"length":Ts),Reflect.ownKeys(A)}}class j_ extends i3{constructor(A=!1){super(!0,A)}set(A,e){return!0}deleteProperty(A,e){return!0}}const W_=new n3,Y_=new j_,$_=new n3(!0),Wf=r=>r,jc=r=>Reflect.getPrototypeOf(r);function Qu(r,A,e=!1,t=!1){r=r.__v_raw;const i=re(r),n=re(A);e||(zn(A,n)&&qt(i,"get",A),qt(i,"get",n));const{has:s}=jc(i),o=t?Wf:e?Kf:eu;if(s.call(i,A))return o(r.get(A));if(s.call(i,n))return o(r.get(n));r!==i&&r.get(A)}function Hu(r,A=!1){const e=this.__v_raw,t=re(e),i=re(r);return A||(zn(r,i)&&qt(t,"has",r),qt(t,"has",i)),r===i?e.has(r):e.has(r)||e.has(i)}function ju(r,A=!1){return r=r.__v_raw,!A&&qt(re(r),"iterate",Ts),Reflect.get(r,"size",r)}function Bp(r){r=re(r);const A=re(this);return jc(A).has.call(A,r)||(A.add(r),Ki(A,"add",r,r)),this}function Tp(r,A){A=re(A);const e=re(this),{has:t,get:i}=jc(e);let n=t.call(e,r);n||(r=re(r),n=t.call(e,r));const s=i.call(e,r);return e.set(r,A),n?zn(A,s)&&Ki(e,"set",r,A):Ki(e,"add",r,A),this}function Dp(r){const A=re(this),{has:e,get:t}=jc(A);let i=e.call(A,r);i||(r=re(r),i=e.call(A,r)),t&&t.call(A,r);const n=A.delete(r);return i&&Ki(A,"delete",r,void 0),n}function xp(){const r=re(this),A=r.size!==0,e=r.clear();return A&&Ki(r,"clear",void 0,void 0),e}function Wu(r,A){return function(t,i){const n=this,s=n.__v_raw,o=re(s),u=A?Wf:r?Kf:eu;return!r&&qt(o,"iterate",Ts),s.forEach((l,c)=>t.call(i,u(l),u(c),n))}}function Yu(r,A,e){return function(...t){const i=this.__v_raw,n=re(i),s=To(n),o=r==="entries"||r===Symbol.iterator&&s,u=r==="keys"&&s,l=i[r](...t),c=e?Wf:A?Kf:eu;return!A&&qt(n,"iterate",u?Rd:Ts),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:o?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function hn(r){return function(...A){return r==="delete"?!1:r==="clear"?void 0:this}}function K_(){const r={get(n){return Qu(this,n)},get size(){return ju(this)},has:Hu,add:Bp,set:Tp,delete:Dp,clear:xp,forEach:Wu(!1,!1)},A={get(n){return Qu(this,n,!1,!0)},get size(){return ju(this)},has:Hu,add:Bp,set:Tp,delete:Dp,clear:xp,forEach:Wu(!1,!0)},e={get(n){return Qu(this,n,!0)},get size(){return ju(this,!0)},has(n){return Hu.call(this,n,!0)},add:hn("add"),set:hn("set"),delete:hn("delete"),clear:hn("clear"),forEach:Wu(!0,!1)},t={get(n){return Qu(this,n,!0,!0)},get size(){return ju(this,!0)},has(n){return Hu.call(this,n,!0)},add:hn("add"),set:hn("set"),delete:hn("delete"),clear:hn("clear"),forEach:Wu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=Yu(n,!1,!1),e[n]=Yu(n,!0,!1),A[n]=Yu(n,!1,!0),t[n]=Yu(n,!0,!0)}),[r,e,A,t]}const[q_,X_,J_,Z_]=K_();function Yf(r,A){const e=A?r?Z_:J_:r?X_:q_;return(t,i,n)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?t:Reflect.get(Ae(e,i)&&i in t?e:t,i,n)}const AS={get:Yf(!1,!1)},eS={get:Yf(!1,!0)},tS={get:Yf(!0,!1)},s3=new WeakMap,o3=new WeakMap,a3=new WeakMap,rS=new WeakMap;function iS(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nS(r){return r.__v_skip||!Object.isExtensible(r)?0:iS(I_(r))}function Wc(r){return Yo(r)?r:$f(r,!1,W_,AS,s3)}function sS(r){return $f(r,!1,$_,eS,o3)}function u3(r){return $f(r,!0,Y_,tS,a3)}function $f(r,A,e,t,i){if(!ye(r)||r.__v_raw&&!(A&&r.__v_isReactive))return r;const n=i.get(r);if(n)return n;const s=nS(r);if(s===0)return r;const o=new Proxy(r,s===2?t:e);return i.set(r,o),o}function Do(r){return Yo(r)?Do(r.__v_raw):!!(r&&r.__v_isReactive)}function Yo(r){return!!(r&&r.__v_isReadonly)}function Ql(r){return!!(r&&r.__v_isShallow)}function l3(r){return Do(r)||Yo(r)}function re(r){const A=r&&r.__v_raw;return A?re(A):r}function c3(r){return Vl(r,"__v_skip",!0),r}const eu=r=>ye(r)?Wc(r):r,Kf=r=>ye(r)?u3(r):r;class h3{constructor(A,e,t,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Qf(()=>A(this._value),()=>pl(this,1),()=>this.dep&&e3(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=t}get value(){const A=re(this);return(!A._cacheable||A.effect.dirty)&&zn(A._value,A._value=A.effect.run())&&pl(A,2),d3(A),A.effect._dirtyLevel>=1&&pl(A,1),A._value}set value(A){this._setter(A)}get _dirty(){return this.effect.dirty}set _dirty(A){this.effect.dirty=A}}function oS(r,A,e=!1){let t,i;const n=kA(r);return n?(t=r,i=br):(t=r.get,i=r.set),new h3(t,i,n||!i,e)}function d3(r){Nn&&Bs&&(r=re(r),Zm(Bs,r.dep||(r.dep=t3(()=>r.dep=void 0,r instanceof h3?r:void 0))))}function pl(r,A=2,e){r=re(r);const t=r.dep;t&&A3(t,A)}function Xt(r){return!!(r&&r.__v_isRef===!0)}function aS(r){return uS(r,!1)}function uS(r,A){return Xt(r)?r:new lS(r,A)}class lS{constructor(A,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?A:re(A),this._value=e?A:eu(A)}get value(){return d3(this),this._value}set value(A){const e=this.__v_isShallow||Ql(A)||Yo(A);A=e?A:re(A),zn(A,this._rawValue)&&(this._rawValue=A,this._value=e?A:eu(A),pl(this,2))}}function fr(r){return Xt(r)?r.value:r}const cS={get:(r,A,e)=>fr(Reflect.get(r,A,e)),set:(r,A,e,t)=>{const i=r[A];return Xt(i)&&!Xt(e)?(i.value=e,!0):Reflect.set(r,A,e,t)}};function f3(r){return Do(r)?r:new Proxy(r,cS)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ln(r,A,e,t){let i;try{i=t?r(...t):r()}catch(n){Yc(n,A,e)}return i}function Dr(r,A,e,t){if(kA(r)){const n=Ln(r,A,e,t);return n&&jm(n)&&n.catch(s=>{Yc(s,A,e)}),n}const i=[];for(let n=0;n<r.length;n++)i.push(Dr(r[n],A,e,t));return i}function Yc(r,A,e,t=!0){const i=A?A.vnode:null;if(A){let n=A.parent;const s=A.proxy,o=`https://vuejs.org/error-reference/#runtime-${e}`;for(;n;){const l=n.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](r,s,o)===!1)return}n=n.parent}const u=A.appContext.config.errorHandler;if(u){Ln(u,null,10,[r,s,o]);return}}hS(r,e,i,t)}function hS(r,A,e,t=!0){console.error(r)}let tu=!1,Pd=!1;const bt=[];let gi=0;const xo=[];let mn=null,hs=0;const p3=Promise.resolve();let qf=null;function g3(r){const A=qf||p3;return r?A.then(this?r.bind(this):r):A}function dS(r){let A=gi+1,e=bt.length;for(;A<e;){const t=A+e>>>1,i=bt[t],n=ru(i);n<r||n===r&&i.pre?A=t+1:e=t}return A}function Xf(r){(!bt.length||!bt.includes(r,tu&&r.allowRecurse?gi+1:gi))&&(r.id==null?bt.push(r):bt.splice(dS(r.id),0,r),m3())}function m3(){!tu&&!Pd&&(Pd=!0,qf=p3.then(E3))}function fS(r){const A=bt.indexOf(r);A>gi&&bt.splice(A,1)}function pS(r){RA(r)?xo.push(...r):(!mn||!mn.includes(r,r.allowRecurse?hs+1:hs))&&xo.push(r),m3()}function Op(r,A,e=tu?gi+1:0){for(;e<bt.length;e++){const t=bt[e];if(t&&t.pre){if(r&&t.id!==r.uid)continue;bt.splice(e,1),e--,t()}}}function y3(r){if(xo.length){const A=[...new Set(xo)].sort((e,t)=>ru(e)-ru(t));if(xo.length=0,mn){mn.push(...A);return}for(mn=A,hs=0;hs<mn.length;hs++)mn[hs]();mn=null,hs=0}}const ru=r=>r.id==null?1/0:r.id,gS=(r,A)=>{const e=ru(r)-ru(A);if(e===0){if(r.pre&&!A.pre)return-1;if(A.pre&&!r.pre)return 1}return e};function E3(r){Pd=!1,tu=!0,bt.sort(gS);try{for(gi=0;gi<bt.length;gi++){const A=bt[gi];A&&A.active!==!1&&Ln(A,null,14)}}finally{gi=0,bt.length=0,y3(),tu=!1,qf=null,(bt.length||xo.length)&&E3()}}function mS(r,A,...e){if(r.isUnmounted)return;const t=r.vnode.props||ve;let i=e;const n=A.startsWith("update:"),s=n&&A.slice(7);if(s&&s in t){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:h,trim:d}=t[c]||ve;d&&(i=e.map(f=>Ve(f)?f.trim():f)),h&&(i=e.map(Za))}let o,u=t[o=lh(A)]||t[o=lh(vi(A))];!u&&n&&(u=t[o=lh(Ks(A))]),u&&Dr(u,r,6,i);const l=t[o+"Once"];if(l){if(!r.emitted)r.emitted={};else if(r.emitted[o])return;r.emitted[o]=!0,Dr(l,r,6,i)}}function C3(r,A,e=!1){const t=A.emitsCache,i=t.get(r);if(i!==void 0)return i;const n=r.emits;let s={},o=!1;if(!kA(r)){const u=l=>{const c=C3(l,A,!0);c&&(o=!0,st(s,c))};!e&&A.mixins.length&&A.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}return!n&&!o?(ye(r)&&t.set(r,null),null):(RA(n)?n.forEach(u=>s[u]=null):st(s,n),ye(r)&&t.set(r,s),s)}function $c(r,A){return!r||!Gc(A)?!1:(A=A.slice(2).replace(/Once$/,""),Ae(r,A[0].toLowerCase()+A.slice(1))||Ae(r,Ks(A))||Ae(r,A))}let zt=null,Kc=null;function Hl(r){const A=zt;return zt=r,Kc=r&&r.type.__scopeId||null,A}function Js(r){Kc=r}function Zs(){Kc=null}function _3(r,A=zt,e){if(!A||r._n)return r;const t=(...i)=>{t._d&&Qp(-1);const n=Hl(A);let s;try{s=r(...i)}finally{Hl(n),t._d&&Qp(1)}return s};return t._n=!0,t._c=!0,t._d=!0,t}function hh(r){const{type:A,vnode:e,proxy:t,withProxy:i,props:n,propsOptions:[s],slots:o,attrs:u,emit:l,render:c,renderCache:h,data:d,setupState:f,ctx:p,inheritAttrs:y}=r;let _,g;const m=Hl(r);try{if(e.shapeFlag&4){const w=i||t,L=w;_=fi(c.call(L,w,h,n,f,d,p)),g=u}else{const w=A;_=fi(w.length>1?w(n,{attrs:u,slots:o,emit:l}):w(n,null)),g=A.props?u:yS(u)}}catch(w){Ga.length=0,Yc(w,r,1),_=pe(Zr)}let E=_;if(g&&y!==!1){const w=Object.keys(g),{shapeFlag:L}=E;w.length&&L&7&&(s&&w.some(zf)&&(g=ES(g,s)),E=Gn(E,g))}return e.dirs&&(E=Gn(E),E.dirs=E.dirs?E.dirs.concat(e.dirs):e.dirs),e.transition&&(E.transition=e.transition),_=E,Hl(m),_}const yS=r=>{let A;for(const e in r)(e==="class"||e==="style"||Gc(e))&&((A||(A={}))[e]=r[e]);return A},ES=(r,A)=>{const e={};for(const t in r)(!zf(t)||!(t.slice(9)in A))&&(e[t]=r[t]);return e};function CS(r,A,e){const{props:t,children:i,component:n}=r,{props:s,children:o,patchFlag:u}=A,l=n.emitsOptions;if(A.dirs||A.transition)return!0;if(e&&u>=0){if(u&1024)return!0;if(u&16)return t?Mp(t,s,l):!!s;if(u&8){const c=A.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(s[d]!==t[d]&&!$c(l,d))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:t===s?!1:t?s?Mp(t,s,l):!0:!!s;return!1}function Mp(r,A,e){const t=Object.keys(A);if(t.length!==Object.keys(r).length)return!0;for(let i=0;i<t.length;i++){const n=t[i];if(A[n]!==r[n]&&!$c(e,n))return!0}return!1}function _S({vnode:r,parent:A},e){for(;A;){const t=A.subTree;if(t.suspense&&t.suspense.activeBranch===r&&(t.el=r.el),t===r)(r=A.vnode).el=e,A=A.parent;else break}}const S3="components";function SS(r,A){return wS(S3,r,!0,A)||r}const vS=Symbol.for("v-ndc");function wS(r,A,e=!0,t=!1){const i=zt||dt;if(i){const n=i.type;if(r===S3){const o=_v(n,!1);if(o&&(o===A||o===vi(A)||o===Hc(vi(A))))return n}const s=Rp(i[r]||n[r],A)||Rp(i.appContext[r],A);return!s&&t?n:s}}function Rp(r,A){return r&&(r[A]||r[vi(A)]||r[Hc(vi(A))])}const bS=r=>r.__isSuspense;function IS(r,A){A&&A.pendingBranch?RA(r)?A.effects.push(...r):A.effects.push(r):pS(r)}const BS=Symbol.for("v-scx"),TS=()=>ml(BS),$u={};function dh(r,A,e){return v3(r,A,e)}function v3(r,A,{immediate:e,deep:t,flush:i,once:n,onTrack:s,onTrigger:o}=ve){if(A&&n){const T=A;A=(...R)=>{T(...R),L()}}const u=dt,l=T=>t===!0?T:Ss(T,t===!1?1:void 0);let c,h=!1,d=!1;if(Xt(r)?(c=()=>r.value,h=Ql(r)):Do(r)?(c=()=>l(r),h=!0):RA(r)?(d=!0,h=r.some(T=>Do(T)||Ql(T)),c=()=>r.map(T=>{if(Xt(T))return T.value;if(Do(T))return l(T);if(kA(T))return Ln(T,u,2)})):kA(r)?A?c=()=>Ln(r,u,2):c=()=>(f&&f(),Dr(r,u,3,[p])):c=br,A&&t){const T=c;c=()=>Ss(T())}let f,p=T=>{f=E.onStop=()=>{Ln(T,u,4),f=E.onStop=void 0}},y;if(e1)if(p=br,A?e&&Dr(A,u,3,[c(),d?[]:void 0,p]):c(),i==="sync"){const T=TS();y=T.__watcherHandles||(T.__watcherHandles=[])}else return br;let _=d?new Array(r.length).fill($u):$u;const g=()=>{if(!(!E.active||!E.dirty))if(A){const T=E.run();(t||h||(d?T.some((R,P)=>zn(R,_[P])):zn(T,_)))&&(f&&f(),Dr(A,u,3,[T,_===$u?void 0:d&&_[0]===$u?[]:_,p]),_=T)}else E.run()};g.allowRecurse=!!A;let m;i==="sync"?m=g:i==="post"?m=()=>Wt(g,u&&u.suspense):(g.pre=!0,u&&(g.id=u.uid),m=()=>Xf(g));const E=new Qf(c,br,m),w=z_(),L=()=>{E.stop(),w&&Gf(w.effects,E)};return A?e?g():_=E.run():i==="post"?Wt(E.run.bind(E),u&&u.suspense):E.run(),y&&y.push(L),L}function DS(r,A,e){const t=this.proxy,i=Ve(r)?r.includes(".")?w3(t,r):()=>t[r]:r.bind(t,t);let n;kA(A)?n=A:(n=A.handler,e=A);const s=mu(this),o=v3(i,n.bind(t),e);return s(),o}function w3(r,A){const e=A.split(".");return()=>{let t=r;for(let i=0;i<e.length&&t;i++)t=t[e[i]];return t}}function Ss(r,A,e=0,t){if(!ye(r)||r.__v_skip)return r;if(A&&A>0){if(e>=A)return r;e++}if(t=t||new Set,t.has(r))return r;if(t.add(r),Xt(r))Ss(r.value,A,e,t);else if(RA(r))for(let i=0;i<r.length;i++)Ss(r[i],A,e,t);else if(Vc(r)||To(r))r.forEach(i=>{Ss(i,A,e,t)});else if(Ym(r))for(const i in r)Ss(r[i],A,e,t);return r}function St(r,A){if(zt===null)return r;const e=t1(zt)||zt.proxy,t=r.dirs||(r.dirs=[]);for(let i=0;i<A.length;i++){let[n,s,o,u=ve]=A[i];n&&(kA(n)&&(n={mounted:n,updated:n}),n.deep&&Ss(s),t.push({dir:n,instance:e,value:s,oldValue:void 0,arg:o,modifiers:u}))}return r}function Jn(r,A,e,t){const i=r.dirs,n=A&&A.dirs;for(let s=0;s<i.length;s++){const o=i[s];n&&(o.oldValue=n[s].value);let u=o.dir[t];u&&(qs(),Dr(u,e,8,[r.el,o,r,A]),Xs())}}const yn=Symbol("_leaveCb"),Ku=Symbol("_enterCb");function xS(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Jf(()=>{r.isMounted=!0}),D3(()=>{r.isUnmounting=!0}),r}const hr=[Function,Array],b3={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hr,onEnter:hr,onAfterEnter:hr,onEnterCancelled:hr,onBeforeLeave:hr,onLeave:hr,onAfterLeave:hr,onLeaveCancelled:hr,onBeforeAppear:hr,onAppear:hr,onAfterAppear:hr,onAppearCancelled:hr},OS={name:"BaseTransition",props:b3,setup(r,{slots:A}){const e=gv(),t=xS();let i;return()=>{const n=A.default&&B3(A.default(),!0);if(!n||!n.length)return;let s=n[0];if(n.length>1){for(const y of n)if(y.type!==Zr){s=y;break}}const o=re(r),{mode:u}=o;if(t.isLeaving)return fh(s);const l=Pp(s);if(!l)return fh(s);const c=Fd(l,o,t,e);Nd(l,c);const h=e.subTree,d=h&&Pp(h);let f=!1;const{getTransitionKey:p}=l.type;if(p){const y=p();i===void 0?i=y:y!==i&&(i=y,f=!0)}if(d&&d.type!==Zr&&(!ds(l,d)||f)){const y=Fd(d,o,t,e);if(Nd(d,y),u==="out-in")return t.isLeaving=!0,y.afterLeave=()=>{t.isLeaving=!1,e.update.active!==!1&&(e.effect.dirty=!0,e.update())},fh(s);u==="in-out"&&l.type!==Zr&&(y.delayLeave=(_,g,m)=>{const E=I3(t,d);E[String(d.key)]=d,_[yn]=()=>{g(),_[yn]=void 0,delete c.delayedLeave},c.delayedLeave=m})}return s}}},MS=OS;function I3(r,A){const{leavingVNodes:e}=r;let t=e.get(A.type);return t||(t=Object.create(null),e.set(A.type,t)),t}function Fd(r,A,e,t){const{appear:i,mode:n,persisted:s=!1,onBeforeEnter:o,onEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:y,onAppear:_,onAfterAppear:g,onAppearCancelled:m}=A,E=String(r.key),w=I3(e,r),L=(P,F)=>{P&&Dr(P,t,9,F)},T=(P,F)=>{const H=F[1];L(P,F),RA(P)?P.every(M=>M.length<=1)&&H():P.length<=1&&H()},R={mode:n,persisted:s,beforeEnter(P){let F=o;if(!e.isMounted)if(i)F=y||o;else return;P[yn]&&P[yn](!0);const H=w[E];H&&ds(r,H)&&H.el[yn]&&H.el[yn](),L(F,[P])},enter(P){let F=u,H=l,M=c;if(!e.isMounted)if(i)F=_||u,H=g||l,M=m||c;else return;let b=!1;const v=P[Ku]=C=>{b||(b=!0,C?L(M,[P]):L(H,[P]),R.delayedLeave&&R.delayedLeave(),P[Ku]=void 0)};F?T(F,[P,v]):v()},leave(P,F){const H=String(r.key);if(P[Ku]&&P[Ku](!0),e.isUnmounting)return F();L(h,[P]);let M=!1;const b=P[yn]=v=>{M||(M=!0,F(),v?L(p,[P]):L(f,[P]),P[yn]=void 0,w[H]===r&&delete w[H])};w[H]=r,d?T(d,[P,b]):b()},clone(P){return Fd(P,A,e,t)}};return R}function fh(r){if(qc(r))return r=Gn(r),r.children=null,r}function Pp(r){return qc(r)?r.children?r.children[0]:void 0:r}function Nd(r,A){r.shapeFlag&6&&r.component?Nd(r.component.subTree,A):r.shapeFlag&128?(r.ssContent.transition=A.clone(r.ssContent),r.ssFallback.transition=A.clone(r.ssFallback)):r.transition=A}function B3(r,A=!1,e){let t=[],i=0;for(let n=0;n<r.length;n++){let s=r[n];const o=e==null?s.key:String(e)+String(s.key!=null?s.key:n);s.type===wt?(s.patchFlag&128&&i++,t=t.concat(B3(s.children,A,o))):(A||s.type!==Zr)&&t.push(o!=null?Gn(s,{key:o}):s)}if(i>1)for(let n=0;n<t.length;n++)t[n].patchFlag=-2;return t}const gl=r=>!!r.type.__asyncLoader,qc=r=>r.type.__isKeepAlive;function RS(r,A){T3(r,"a",A)}function PS(r,A){T3(r,"da",A)}function T3(r,A,e=dt){const t=r.__wdc||(r.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(Xc(A,t,e),e){let i=e.parent;for(;i&&i.parent;)qc(i.parent.vnode)&&FS(t,A,e,i),i=i.parent}}function FS(r,A,e,t){const i=Xc(A,r,t,!0);x3(()=>{Gf(t[A],i)},e)}function Xc(r,A,e=dt,t=!1){if(e){const i=e[r]||(e[r]=[]),n=A.__weh||(A.__weh=(...s)=>{if(e.isUnmounted)return;qs();const o=mu(e),u=Dr(A,e,r,s);return o(),Xs(),u});return t?i.unshift(n):i.push(n),n}}const on=r=>(A,e=dt)=>(!e1||r==="sp")&&Xc(r,(...t)=>A(...t),e),NS=on("bm"),Jf=on("m"),LS=on("bu"),US=on("u"),D3=on("bum"),x3=on("um"),kS=on("sp"),zS=on("rtg"),GS=on("rtc");function VS(r,A=dt){Xc("ec",r,A)}function Zf(r,A,e,t){let i;const n=e&&e[t];if(RA(r)||Ve(r)){i=new Array(r.length);for(let s=0,o=r.length;s<o;s++)i[s]=A(r[s],s,void 0,n&&n[s])}else if(typeof r=="number"){i=new Array(r);for(let s=0;s<r;s++)i[s]=A(s+1,s,void 0,n&&n[s])}else if(ye(r))if(r[Symbol.iterator])i=Array.from(r,(s,o)=>A(s,o,void 0,n&&n[o]));else{const s=Object.keys(r);i=new Array(s.length);for(let o=0,u=s.length;o<u;o++){const l=s[o];i[o]=A(r[l],l,o,n&&n[o])}}else i=[];return e&&(e[t]=i),i}const Ld=r=>r?V3(r)?t1(r)||r.proxy:Ld(r.parent):null,za=st(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Ld(r.parent),$root:r=>Ld(r.root),$emit:r=>r.emit,$options:r=>A0(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,Xf(r.update)}),$nextTick:r=>r.n||(r.n=g3.bind(r.proxy)),$watch:r=>DS.bind(r)}),ph=(r,A)=>r!==ve&&!r.__isScriptSetup&&Ae(r,A),QS={get({_:r},A){const{ctx:e,setupState:t,data:i,props:n,accessCache:s,type:o,appContext:u}=r;let l;if(A[0]!=="$"){const f=s[A];if(f!==void 0)switch(f){case 1:return t[A];case 2:return i[A];case 4:return e[A];case 3:return n[A]}else{if(ph(t,A))return s[A]=1,t[A];if(i!==ve&&Ae(i,A))return s[A]=2,i[A];if((l=r.propsOptions[0])&&Ae(l,A))return s[A]=3,n[A];if(e!==ve&&Ae(e,A))return s[A]=4,e[A];Ud&&(s[A]=0)}}const c=za[A];let h,d;if(c)return A==="$attrs"&&qt(r,"get",A),c(r);if((h=o.__cssModules)&&(h=h[A]))return h;if(e!==ve&&Ae(e,A))return s[A]=4,e[A];if(d=u.config.globalProperties,Ae(d,A))return d[A]},set({_:r},A,e){const{data:t,setupState:i,ctx:n}=r;return ph(i,A)?(i[A]=e,!0):t!==ve&&Ae(t,A)?(t[A]=e,!0):Ae(r.props,A)||A[0]==="$"&&A.slice(1)in r?!1:(n[A]=e,!0)},has({_:{data:r,setupState:A,accessCache:e,ctx:t,appContext:i,propsOptions:n}},s){let o;return!!e[s]||r!==ve&&Ae(r,s)||ph(A,s)||(o=n[0])&&Ae(o,s)||Ae(t,s)||Ae(za,s)||Ae(i.config.globalProperties,s)},defineProperty(r,A,e){return e.get!=null?r._.accessCache[A]=0:Ae(e,"value")&&this.set(r,A,e.value,null),Reflect.defineProperty(r,A,e)}};function Fp(r){return RA(r)?r.reduce((A,e)=>(A[e]=null,A),{}):r}let Ud=!0;function HS(r){const A=A0(r),e=r.proxy,t=r.ctx;Ud=!1,A.beforeCreate&&Np(A.beforeCreate,r,"bc");const{data:i,computed:n,methods:s,watch:o,provide:u,inject:l,created:c,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:y,deactivated:_,beforeDestroy:g,beforeUnmount:m,destroyed:E,unmounted:w,render:L,renderTracked:T,renderTriggered:R,errorCaptured:P,serverPrefetch:F,expose:H,inheritAttrs:M,components:b,directives:v,filters:C}=A;if(l&&jS(l,t,null),s)for(const B in s){const D=s[B];kA(D)&&(t[B]=D.bind(e))}if(i){const B=i.call(e,e);ye(B)&&(r.data=Wc(B))}if(Ud=!0,n)for(const B in n){const D=n[B],Q=kA(D)?D.bind(e,e):kA(D.get)?D.get.bind(e,e):br,Z=!kA(D)&&kA(D.set)?D.set.bind(e):br,AA=vv({get:Q,set:Z});Object.defineProperty(t,B,{enumerable:!0,configurable:!0,get:()=>AA.value,set:Y=>AA.value=Y})}if(o)for(const B in o)O3(o[B],t,e,B);if(u){const B=kA(u)?u.call(e):u;Reflect.ownKeys(B).forEach(D=>{XS(D,B[D])})}c&&Np(c,r,"c");function S(B,D){RA(D)?D.forEach(Q=>B(Q.bind(e))):D&&B(D.bind(e))}if(S(NS,h),S(Jf,d),S(LS,f),S(US,p),S(RS,y),S(PS,_),S(VS,P),S(GS,T),S(zS,R),S(D3,m),S(x3,w),S(kS,F),RA(H))if(H.length){const B=r.exposed||(r.exposed={});H.forEach(D=>{Object.defineProperty(B,D,{get:()=>e[D],set:Q=>e[D]=Q})})}else r.exposed||(r.exposed={});L&&r.render===br&&(r.render=L),M!=null&&(r.inheritAttrs=M),b&&(r.components=b),v&&(r.directives=v)}function jS(r,A,e=br){RA(r)&&(r=kd(r));for(const t in r){const i=r[t];let n;ye(i)?"default"in i?n=ml(i.from||t,i.default,!0):n=ml(i.from||t):n=ml(i),Xt(n)?Object.defineProperty(A,t,{enumerable:!0,configurable:!0,get:()=>n.value,set:s=>n.value=s}):A[t]=n}}function Np(r,A,e){Dr(RA(r)?r.map(t=>t.bind(A.proxy)):r.bind(A.proxy),A,e)}function O3(r,A,e,t){const i=t.includes(".")?w3(e,t):()=>e[t];if(Ve(r)){const n=A[r];kA(n)&&dh(i,n)}else if(kA(r))dh(i,r.bind(e));else if(ye(r))if(RA(r))r.forEach(n=>O3(n,A,e,t));else{const n=kA(r.handler)?r.handler.bind(e):A[r.handler];kA(n)&&dh(i,n,r)}}function A0(r){const A=r.type,{mixins:e,extends:t}=A,{mixins:i,optionsCache:n,config:{optionMergeStrategies:s}}=r.appContext,o=n.get(A);let u;return o?u=o:!i.length&&!e&&!t?u=A:(u={},i.length&&i.forEach(l=>jl(u,l,s,!0)),jl(u,A,s)),ye(A)&&n.set(A,u),u}function jl(r,A,e,t=!1){const{mixins:i,extends:n}=A;n&&jl(r,n,e,!0),i&&i.forEach(s=>jl(r,s,e,!0));for(const s in A)if(!(t&&s==="expose")){const o=WS[s]||e&&e[s];r[s]=o?o(r[s],A[s]):A[s]}return r}const WS={data:Lp,props:Up,emits:Up,methods:Ma,computed:Ma,beforeCreate:Rt,created:Rt,beforeMount:Rt,mounted:Rt,beforeUpdate:Rt,updated:Rt,beforeDestroy:Rt,beforeUnmount:Rt,destroyed:Rt,unmounted:Rt,activated:Rt,deactivated:Rt,errorCaptured:Rt,serverPrefetch:Rt,components:Ma,directives:Ma,watch:$S,provide:Lp,inject:YS};function Lp(r,A){return A?r?function(){return st(kA(r)?r.call(this,this):r,kA(A)?A.call(this,this):A)}:A:r}function YS(r,A){return Ma(kd(r),kd(A))}function kd(r){if(RA(r)){const A={};for(let e=0;e<r.length;e++)A[r[e]]=r[e];return A}return r}function Rt(r,A){return r?[...new Set([].concat(r,A))]:A}function Ma(r,A){return r?st(Object.create(null),r,A):A}function Up(r,A){return r?RA(r)&&RA(A)?[...new Set([...r,...A])]:st(Object.create(null),Fp(r),Fp(A??{})):A}function $S(r,A){if(!r)return A;if(!A)return r;const e=st(Object.create(null),r);for(const t in A)e[t]=Rt(r[t],A[t]);return e}function M3(){return{app:null,config:{isNativeTag:w_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KS=0;function qS(r,A){return function(t,i=null){kA(t)||(t=st({},t)),i!=null&&!ye(i)&&(i=null);const n=M3(),s=new WeakSet;let o=!1;const u=n.app={_uid:KS++,_component:t,_props:i,_container:null,_context:n,_instance:null,version:bv,get config(){return n.config},set config(l){},use(l,...c){return s.has(l)||(l&&kA(l.install)?(s.add(l),l.install(u,...c)):kA(l)&&(s.add(l),l(u,...c))),u},mixin(l){return n.mixins.includes(l)||n.mixins.push(l),u},component(l,c){return c?(n.components[l]=c,u):n.components[l]},directive(l,c){return c?(n.directives[l]=c,u):n.directives[l]},mount(l,c,h){if(!o){const d=pe(t,i);return d.appContext=n,h===!0?h="svg":h===!1&&(h=void 0),c&&A?A(d,l):r(d,l,h),o=!0,u._container=l,l.__vue_app__=u,t1(d.component)||d.component.proxy}},unmount(){o&&(r(null,u._container),delete u._container.__vue_app__)},provide(l,c){return n.provides[l]=c,u},runWithContext(l){Wl=u;try{return l()}finally{Wl=null}}};return u}}let Wl=null;function XS(r,A){if(dt){let e=dt.provides;const t=dt.parent&&dt.parent.provides;t===e&&(e=dt.provides=Object.create(t)),e[r]=A}}function ml(r,A,e=!1){const t=dt||zt;if(t||Wl){const i=t?t.parent==null?t.vnode.appContext&&t.vnode.appContext.provides:t.parent.provides:Wl._context.provides;if(i&&r in i)return i[r];if(arguments.length>1)return e&&kA(A)?A.call(t&&t.proxy):A}}function JS(r,A,e,t=!1){const i={},n={};Vl(n,A1,1),r.propsDefaults=Object.create(null),R3(r,A,i,n);for(const s in r.propsOptions[0])s in i||(i[s]=void 0);e?r.props=t?i:sS(i):r.type.props?r.props=i:r.props=n,r.attrs=n}function ZS(r,A,e,t){const{props:i,attrs:n,vnode:{patchFlag:s}}=r,o=re(i),[u]=r.propsOptions;let l=!1;if((t||s>0)&&!(s&16)){if(s&8){const c=r.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if($c(r.emitsOptions,d))continue;const f=A[d];if(u)if(Ae(n,d))f!==n[d]&&(n[d]=f,l=!0);else{const p=vi(d);i[p]=zd(u,o,p,f,r,!1)}else f!==n[d]&&(n[d]=f,l=!0)}}}else{R3(r,A,i,n)&&(l=!0);let c;for(const h in o)(!A||!Ae(A,h)&&((c=Ks(h))===h||!Ae(A,c)))&&(u?e&&(e[h]!==void 0||e[c]!==void 0)&&(i[h]=zd(u,o,h,void 0,r,!0)):delete i[h]);if(n!==o)for(const h in n)(!A||!Ae(A,h))&&(delete n[h],l=!0)}l&&Ki(r,"set","$attrs")}function R3(r,A,e,t){const[i,n]=r.propsOptions;let s=!1,o;if(A)for(let u in A){if(dl(u))continue;const l=A[u];let c;i&&Ae(i,c=vi(u))?!n||!n.includes(c)?e[c]=l:(o||(o={}))[c]=l:$c(r.emitsOptions,u)||(!(u in t)||l!==t[u])&&(t[u]=l,s=!0)}if(n){const u=re(e),l=o||ve;for(let c=0;c<n.length;c++){const h=n[c];e[h]=zd(i,u,h,l[h],r,!Ae(l,h))}}return s}function zd(r,A,e,t,i,n){const s=r[e];if(s!=null){const o=Ae(s,"default");if(o&&t===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&kA(u)){const{propsDefaults:l}=i;if(e in l)t=l[e];else{const c=mu(i);t=l[e]=u.call(null,A),c()}}else t=u}s[0]&&(n&&!o?t=!1:s[1]&&(t===""||t===Ks(e))&&(t=!0))}return t}function P3(r,A,e=!1){const t=A.propsCache,i=t.get(r);if(i)return i;const n=r.props,s={},o=[];let u=!1;if(!kA(r)){const c=h=>{u=!0;const[d,f]=P3(h,A,!0);st(s,d),f&&o.push(...f)};!e&&A.mixins.length&&A.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}if(!n&&!u)return ye(r)&&t.set(r,Bo),Bo;if(RA(n))for(let c=0;c<n.length;c++){const h=vi(n[c]);kp(h)&&(s[h]=ve)}else if(n)for(const c in n){const h=vi(c);if(kp(h)){const d=n[c],f=s[h]=RA(d)||kA(d)?{type:d}:st({},d);if(f){const p=Vp(Boolean,f.type),y=Vp(String,f.type);f[0]=p>-1,f[1]=y<0||p<y,(p>-1||Ae(f,"default"))&&o.push(h)}}}const l=[s,o];return ye(r)&&t.set(r,l),l}function kp(r){return r[0]!=="$"}function zp(r){const A=r&&r.toString().match(/^\s*(function|class) (\w+)/);return A?A[2]:r===null?"null":""}function Gp(r,A){return zp(r)===zp(A)}function Vp(r,A){return RA(A)?A.findIndex(e=>Gp(e,r)):kA(A)&&Gp(A,r)?0:-1}const F3=r=>r[0]==="_"||r==="$stable",e0=r=>RA(r)?r.map(fi):[fi(r)],Av=(r,A,e)=>{if(A._n)return A;const t=_3((...i)=>e0(A(...i)),e);return t._c=!1,t},N3=(r,A,e)=>{const t=r._ctx;for(const i in r){if(F3(i))continue;const n=r[i];if(kA(n))A[i]=Av(i,n,t);else if(n!=null){const s=e0(n);A[i]=()=>s}}},L3=(r,A)=>{const e=e0(A);r.slots.default=()=>e},ev=(r,A)=>{if(r.vnode.shapeFlag&32){const e=A._;e?(r.slots=re(A),Vl(A,"_",e)):N3(A,r.slots={})}else r.slots={},A&&L3(r,A);Vl(r.slots,A1,1)},tv=(r,A,e)=>{const{vnode:t,slots:i}=r;let n=!0,s=ve;if(t.shapeFlag&32){const o=A._;o?e&&o===1?n=!1:(st(i,A),!e&&o===1&&delete i._):(n=!A.$stable,N3(A,i)),s=A}else A&&(L3(r,A),s={default:1});if(n)for(const o in i)!F3(o)&&s[o]==null&&delete i[o]};function Gd(r,A,e,t,i=!1){if(RA(r)){r.forEach((d,f)=>Gd(d,A&&(RA(A)?A[f]:A),e,t,i));return}if(gl(t)&&!i)return;const n=t.shapeFlag&4?t1(t.component)||t.component.proxy:t.el,s=i?null:n,{i:o,r:u}=r,l=A&&A.r,c=o.refs===ve?o.refs={}:o.refs,h=o.setupState;if(l!=null&&l!==u&&(Ve(l)?(c[l]=null,Ae(h,l)&&(h[l]=null)):Xt(l)&&(l.value=null)),kA(u))Ln(u,o,12,[s,c]);else{const d=Ve(u),f=Xt(u),p=r.f;if(d||f){const y=()=>{if(p){const _=d?Ae(h,u)?h[u]:c[u]:u.value;i?RA(_)&&Gf(_,n):RA(_)?_.includes(n)||_.push(n):d?(c[u]=[n],Ae(h,u)&&(h[u]=c[u])):(u.value=[n],r.k&&(c[r.k]=u.value))}else d?(c[u]=s,Ae(h,u)&&(h[u]=s)):f&&(u.value=s,r.k&&(c[r.k]=s))};i||p?y():(y.id=-1,Wt(y,e))}}}const Wt=IS;function rv(r){return iv(r)}function iv(r,A){const e=$m();e.__VUE__=!0;const{insert:t,remove:i,patchProp:n,createElement:s,createText:o,createComment:u,setText:l,setElementText:c,parentNode:h,nextSibling:d,setScopeId:f=br,insertStaticContent:p}=r,y=(k,j,eA,W=null,O=null,N=null,z=void 0,tA=null,aA=!!j.dynamicChildren)=>{if(k===j)return;k&&!ds(k,j)&&(W=vA(k),Y(k,O,N,!0),k=null),j.patchFlag===-2&&(aA=!1,j.dynamicChildren=null);const{type:uA,ref:gA,shapeFlag:DA}=j;switch(uA){case Jc:_(k,j,eA,W);break;case Zr:g(k,j,eA,W);break;case yl:k==null&&m(j,eA,W,z);break;case wt:b(k,j,eA,W,O,N,z,tA,aA);break;default:DA&1?L(k,j,eA,W,O,N,z,tA,aA):DA&6?v(k,j,eA,W,O,N,z,tA,aA):(DA&64||DA&128)&&uA.process(k,j,eA,W,O,N,z,tA,aA,xA)}gA!=null&&O&&Gd(gA,k&&k.ref,N,j||k,!j)},_=(k,j,eA,W)=>{if(k==null)t(j.el=o(j.children),eA,W);else{const O=j.el=k.el;j.children!==k.children&&l(O,j.children)}},g=(k,j,eA,W)=>{k==null?t(j.el=u(j.children||""),eA,W):j.el=k.el},m=(k,j,eA,W)=>{[k.el,k.anchor]=p(k.children,j,eA,W,k.el,k.anchor)},E=({el:k,anchor:j},eA,W)=>{let O;for(;k&&k!==j;)O=d(k),t(k,eA,W),k=O;t(j,eA,W)},w=({el:k,anchor:j})=>{let eA;for(;k&&k!==j;)eA=d(k),i(k),k=eA;i(j)},L=(k,j,eA,W,O,N,z,tA,aA)=>{j.type==="svg"?z="svg":j.type==="math"&&(z="mathml"),k==null?T(j,eA,W,O,N,z,tA,aA):F(k,j,O,N,z,tA,aA)},T=(k,j,eA,W,O,N,z,tA)=>{let aA,uA;const{props:gA,shapeFlag:DA,transition:wA,dirs:FA}=k;if(aA=k.el=s(k.type,N,gA&&gA.is,gA),DA&8?c(aA,k.children):DA&16&&P(k.children,aA,null,W,O,gh(k,N),z,tA),FA&&Jn(k,null,W,"created"),R(aA,k,k.scopeId,z,W),gA){for(const V in gA)V!=="value"&&!dl(V)&&n(aA,V,null,gA[V],N,k.children,W,O,lA);"value"in gA&&n(aA,"value",null,gA.value,N),(uA=gA.onVnodeBeforeMount)&&ai(uA,W,k)}FA&&Jn(k,null,W,"beforeMount");const VA=nv(O,wA);VA&&wA.beforeEnter(aA),t(aA,j,eA),((uA=gA&&gA.onVnodeMounted)||VA||FA)&&Wt(()=>{uA&&ai(uA,W,k),VA&&wA.enter(aA),FA&&Jn(k,null,W,"mounted")},O)},R=(k,j,eA,W,O)=>{if(eA&&f(k,eA),W)for(let N=0;N<W.length;N++)f(k,W[N]);if(O){let N=O.subTree;if(j===N){const z=O.vnode;R(k,z,z.scopeId,z.slotScopeIds,O.parent)}}},P=(k,j,eA,W,O,N,z,tA,aA=0)=>{for(let uA=aA;uA<k.length;uA++){const gA=k[uA]=tA?En(k[uA]):fi(k[uA]);y(null,gA,j,eA,W,O,N,z,tA)}},F=(k,j,eA,W,O,N,z)=>{const tA=j.el=k.el;let{patchFlag:aA,dynamicChildren:uA,dirs:gA}=j;aA|=k.patchFlag&16;const DA=k.props||ve,wA=j.props||ve;let FA;if(eA&&Zn(eA,!1),(FA=wA.onVnodeBeforeUpdate)&&ai(FA,eA,j,k),gA&&Jn(j,k,eA,"beforeUpdate"),eA&&Zn(eA,!0),uA?H(k.dynamicChildren,uA,tA,eA,W,gh(j,O),N):z||D(k,j,tA,null,eA,W,gh(j,O),N,!1),aA>0){if(aA&16)M(tA,j,DA,wA,eA,W,O);else if(aA&2&&DA.class!==wA.class&&n(tA,"class",null,wA.class,O),aA&4&&n(tA,"style",DA.style,wA.style,O),aA&8){const VA=j.dynamicProps;for(let V=0;V<VA.length;V++){const $=VA[V],rA=DA[$],SA=wA[$];(SA!==rA||$==="value")&&n(tA,$,rA,SA,O,k.children,eA,W,lA)}}aA&1&&k.children!==j.children&&c(tA,j.children)}else!z&&uA==null&&M(tA,j,DA,wA,eA,W,O);((FA=wA.onVnodeUpdated)||gA)&&Wt(()=>{FA&&ai(FA,eA,j,k),gA&&Jn(j,k,eA,"updated")},W)},H=(k,j,eA,W,O,N,z)=>{for(let tA=0;tA<j.length;tA++){const aA=k[tA],uA=j[tA],gA=aA.el&&(aA.type===wt||!ds(aA,uA)||aA.shapeFlag&70)?h(aA.el):eA;y(aA,uA,gA,null,W,O,N,z,!0)}},M=(k,j,eA,W,O,N,z)=>{if(eA!==W){if(eA!==ve)for(const tA in eA)!dl(tA)&&!(tA in W)&&n(k,tA,eA[tA],null,z,j.children,O,N,lA);for(const tA in W){if(dl(tA))continue;const aA=W[tA],uA=eA[tA];aA!==uA&&tA!=="value"&&n(k,tA,uA,aA,z,j.children,O,N,lA)}"value"in W&&n(k,"value",eA.value,W.value,z)}},b=(k,j,eA,W,O,N,z,tA,aA)=>{const uA=j.el=k?k.el:o(""),gA=j.anchor=k?k.anchor:o("");let{patchFlag:DA,dynamicChildren:wA,slotScopeIds:FA}=j;FA&&(tA=tA?tA.concat(FA):FA),k==null?(t(uA,eA,W),t(gA,eA,W),P(j.children||[],eA,gA,O,N,z,tA,aA)):DA>0&&DA&64&&wA&&k.dynamicChildren?(H(k.dynamicChildren,wA,eA,O,N,z,tA),(j.key!=null||O&&j===O.subTree)&&U3(k,j,!0)):D(k,j,eA,gA,O,N,z,tA,aA)},v=(k,j,eA,W,O,N,z,tA,aA)=>{j.slotScopeIds=tA,k==null?j.shapeFlag&512?O.ctx.activate(j,eA,W,z,aA):C(j,eA,W,O,N,z,aA):x(k,j,aA)},C=(k,j,eA,W,O,N,z)=>{const tA=k.component=pv(k,W,O);if(qc(k)&&(tA.ctx.renderer=xA),mv(tA),tA.asyncDep){if(O&&O.registerDep(tA,S),!k.el){const aA=tA.subTree=pe(Zr);g(null,aA,j,eA)}}else S(tA,k,j,eA,O,N,z)},x=(k,j,eA)=>{const W=j.component=k.component;if(CS(k,j,eA))if(W.asyncDep&&!W.asyncResolved){B(W,j,eA);return}else W.next=j,fS(W.update),W.effect.dirty=!0,W.update();else j.el=k.el,W.vnode=j},S=(k,j,eA,W,O,N,z)=>{const tA=()=>{if(k.isMounted){let{next:gA,bu:DA,u:wA,parent:FA,vnode:VA}=k;{const GA=k3(k);if(GA){gA&&(gA.el=VA.el,B(k,gA,z)),GA.asyncDep.then(()=>{k.isUnmounted||tA()});return}}let V=gA,$;Zn(k,!1),gA?(gA.el=VA.el,B(k,gA,z)):gA=VA,DA&&fl(DA),($=gA.props&&gA.props.onVnodeBeforeUpdate)&&ai($,FA,gA,VA),Zn(k,!0);const rA=hh(k),SA=k.subTree;k.subTree=rA,y(SA,rA,h(SA.el),vA(SA),k,O,N),gA.el=rA.el,V===null&&_S(k,rA.el),wA&&Wt(wA,O),($=gA.props&&gA.props.onVnodeUpdated)&&Wt(()=>ai($,FA,gA,VA),O)}else{let gA;const{el:DA,props:wA}=j,{bm:FA,m:VA,parent:V}=k,$=gl(j);if(Zn(k,!1),FA&&fl(FA),!$&&(gA=wA&&wA.onVnodeBeforeMount)&&ai(gA,V,j),Zn(k,!0),DA&&ie){const rA=()=>{k.subTree=hh(k),ie(DA,k.subTree,k,O,null)};$?j.type.__asyncLoader().then(()=>!k.isUnmounted&&rA()):rA()}else{const rA=k.subTree=hh(k);y(null,rA,eA,W,k,O,N),j.el=rA.el}if(VA&&Wt(VA,O),!$&&(gA=wA&&wA.onVnodeMounted)){const rA=j;Wt(()=>ai(gA,V,rA),O)}(j.shapeFlag&256||V&&gl(V.vnode)&&V.vnode.shapeFlag&256)&&k.a&&Wt(k.a,O),k.isMounted=!0,j=eA=W=null}},aA=k.effect=new Qf(tA,br,()=>Xf(uA),k.scope),uA=k.update=()=>{aA.dirty&&aA.run()};uA.id=k.uid,Zn(k,!0),uA()},B=(k,j,eA)=>{j.component=k;const W=k.vnode.props;k.vnode=j,k.next=null,ZS(k,j.props,W,eA),tv(k,j.children,eA),qs(),Op(k),Xs()},D=(k,j,eA,W,O,N,z,tA,aA=!1)=>{const uA=k&&k.children,gA=k?k.shapeFlag:0,DA=j.children,{patchFlag:wA,shapeFlag:FA}=j;if(wA>0){if(wA&128){Z(uA,DA,eA,W,O,N,z,tA,aA);return}else if(wA&256){Q(uA,DA,eA,W,O,N,z,tA,aA);return}}FA&8?(gA&16&&lA(uA,O,N),DA!==uA&&c(eA,DA)):gA&16?FA&16?Z(uA,DA,eA,W,O,N,z,tA,aA):lA(uA,O,N,!0):(gA&8&&c(eA,""),FA&16&&P(DA,eA,W,O,N,z,tA,aA))},Q=(k,j,eA,W,O,N,z,tA,aA)=>{k=k||Bo,j=j||Bo;const uA=k.length,gA=j.length,DA=Math.min(uA,gA);let wA;for(wA=0;wA<DA;wA++){const FA=j[wA]=aA?En(j[wA]):fi(j[wA]);y(k[wA],FA,eA,null,O,N,z,tA,aA)}uA>gA?lA(k,O,N,!0,!1,DA):P(j,eA,W,O,N,z,tA,aA,DA)},Z=(k,j,eA,W,O,N,z,tA,aA)=>{let uA=0;const gA=j.length;let DA=k.length-1,wA=gA-1;for(;uA<=DA&&uA<=wA;){const FA=k[uA],VA=j[uA]=aA?En(j[uA]):fi(j[uA]);if(ds(FA,VA))y(FA,VA,eA,null,O,N,z,tA,aA);else break;uA++}for(;uA<=DA&&uA<=wA;){const FA=k[DA],VA=j[wA]=aA?En(j[wA]):fi(j[wA]);if(ds(FA,VA))y(FA,VA,eA,null,O,N,z,tA,aA);else break;DA--,wA--}if(uA>DA){if(uA<=wA){const FA=wA+1,VA=FA<gA?j[FA].el:W;for(;uA<=wA;)y(null,j[uA]=aA?En(j[uA]):fi(j[uA]),eA,VA,O,N,z,tA,aA),uA++}}else if(uA>wA)for(;uA<=DA;)Y(k[uA],O,N,!0),uA++;else{const FA=uA,VA=uA,V=new Map;for(uA=VA;uA<=wA;uA++){const He=j[uA]=aA?En(j[uA]):fi(j[uA]);He.key!=null&&V.set(He.key,uA)}let $,rA=0;const SA=wA-VA+1;let GA=!1,xe=0;const ZA=new Array(SA);for(uA=0;uA<SA;uA++)ZA[uA]=0;for(uA=FA;uA<=DA;uA++){const He=k[uA];if(rA>=SA){Y(He,O,N,!0);continue}let Ar;if(He.key!=null)Ar=V.get(He.key);else for($=VA;$<=wA;$++)if(ZA[$-VA]===0&&ds(He,j[$])){Ar=$;break}Ar===void 0?Y(He,O,N,!0):(ZA[Ar-VA]=uA+1,Ar>=xe?xe=Ar:GA=!0,y(He,j[Ar],eA,null,O,N,z,tA,aA),rA++)}const Mt=GA?sv(ZA):Bo;for($=Mt.length-1,uA=SA-1;uA>=0;uA--){const He=VA+uA,Ar=j[He],_p=He+1<gA?j[He+1].el:W;ZA[uA]===0?y(null,Ar,eA,_p,O,N,z,tA,aA):GA&&($<0||uA!==Mt[$]?AA(Ar,eA,_p,2):$--)}}},AA=(k,j,eA,W,O=null)=>{const{el:N,type:z,transition:tA,children:aA,shapeFlag:uA}=k;if(uA&6){AA(k.component.subTree,j,eA,W);return}if(uA&128){k.suspense.move(j,eA,W);return}if(uA&64){z.move(k,j,eA,xA);return}if(z===wt){t(N,j,eA);for(let DA=0;DA<aA.length;DA++)AA(aA[DA],j,eA,W);t(k.anchor,j,eA);return}if(z===yl){E(k,j,eA);return}if(W!==2&&uA&1&&tA)if(W===0)tA.beforeEnter(N),t(N,j,eA),Wt(()=>tA.enter(N),O);else{const{leave:DA,delayLeave:wA,afterLeave:FA}=tA,VA=()=>t(N,j,eA),V=()=>{DA(N,()=>{VA(),FA&&FA()})};wA?wA(N,VA,V):V()}else t(N,j,eA)},Y=(k,j,eA,W=!1,O=!1)=>{const{type:N,props:z,ref:tA,children:aA,dynamicChildren:uA,shapeFlag:gA,patchFlag:DA,dirs:wA}=k;if(tA!=null&&Gd(tA,null,eA,k,!0),gA&256){j.ctx.deactivate(k);return}const FA=gA&1&&wA,VA=!gl(k);let V;if(VA&&(V=z&&z.onVnodeBeforeUnmount)&&ai(V,j,k),gA&6)nA(k.component,eA,W);else{if(gA&128){k.suspense.unmount(eA,W);return}FA&&Jn(k,null,j,"beforeUnmount"),gA&64?k.type.remove(k,j,eA,O,xA,W):uA&&(N!==wt||DA>0&&DA&64)?lA(uA,j,eA,!1,!0):(N===wt&&DA&384||!O&&gA&16)&&lA(aA,j,eA),W&&G(k)}(VA&&(V=z&&z.onVnodeUnmounted)||FA)&&Wt(()=>{V&&ai(V,j,k),FA&&Jn(k,null,j,"unmounted")},eA)},G=k=>{const{type:j,el:eA,anchor:W,transition:O}=k;if(j===wt){X(eA,W);return}if(j===yl){w(k);return}const N=()=>{i(eA),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(k.shapeFlag&1&&O&&!O.persisted){const{leave:z,delayLeave:tA}=O,aA=()=>z(eA,N);tA?tA(k.el,N,aA):aA()}else N()},X=(k,j)=>{let eA;for(;k!==j;)eA=d(k),i(k),k=eA;i(j)},nA=(k,j,eA)=>{const{bum:W,scope:O,update:N,subTree:z,um:tA}=k;W&&fl(W),O.stop(),N&&(N.active=!1,Y(z,k,j,eA)),tA&&Wt(tA,j),Wt(()=>{k.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},lA=(k,j,eA,W=!1,O=!1,N=0)=>{for(let z=N;z<k.length;z++)Y(k[z],j,eA,W,O)},vA=k=>k.shapeFlag&6?vA(k.component.subTree):k.shapeFlag&128?k.suspense.next():d(k.anchor||k.el);let BA=!1;const bA=(k,j,eA)=>{k==null?j._vnode&&Y(j._vnode,null,null,!0):y(j._vnode||null,k,j,null,null,null,eA),BA||(BA=!0,Op(),y3(),BA=!1),j._vnode=k},xA={p:y,um:Y,m:AA,r:G,mt:C,mc:P,pc:D,pbc:H,n:vA,o:r};let TA,ie;return A&&([TA,ie]=A(xA)),{render:bA,hydrate:TA,createApp:qS(bA,TA)}}function gh({type:r,props:A},e){return e==="svg"&&r==="foreignObject"||e==="mathml"&&r==="annotation-xml"&&A&&A.encoding&&A.encoding.includes("html")?void 0:e}function Zn({effect:r,update:A},e){r.allowRecurse=A.allowRecurse=e}function nv(r,A){return(!r||r&&!r.pendingBranch)&&A&&!A.persisted}function U3(r,A,e=!1){const t=r.children,i=A.children;if(RA(t)&&RA(i))for(let n=0;n<t.length;n++){const s=t[n];let o=i[n];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[n]=En(i[n]),o.el=s.el),e||U3(s,o)),o.type===Jc&&(o.el=s.el)}}function sv(r){const A=r.slice(),e=[0];let t,i,n,s,o;const u=r.length;for(t=0;t<u;t++){const l=r[t];if(l!==0){if(i=e[e.length-1],r[i]<l){A[t]=i,e.push(t);continue}for(n=0,s=e.length-1;n<s;)o=n+s>>1,r[e[o]]<l?n=o+1:s=o;l<r[e[n]]&&(n>0&&(A[t]=e[n-1]),e[n]=t)}}for(n=e.length,s=e[n-1];n-- >0;)e[n]=s,s=A[s];return e}function k3(r){const A=r.subTree.component;if(A)return A.asyncDep&&!A.asyncResolved?A:k3(A)}const ov=r=>r.__isTeleport,wt=Symbol.for("v-fgt"),Jc=Symbol.for("v-txt"),Zr=Symbol.for("v-cmt"),yl=Symbol.for("v-stc"),Ga=[];let $r=null;function qA(r=!1){Ga.push($r=r?null:[])}function av(){Ga.pop(),$r=Ga[Ga.length-1]||null}let iu=1;function Qp(r){iu+=r}function z3(r){return r.dynamicChildren=iu>0?$r||Bo:null,av(),iu>0&&$r&&$r.push(r),r}function ae(r,A,e,t,i,n){return z3(EA(r,A,e,t,i,n,!0))}function Zc(r,A,e,t,i){return z3(pe(r,A,e,t,i,!0))}function Vd(r){return r?r.__v_isVNode===!0:!1}function ds(r,A){return r.type===A.type&&r.key===A.key}const A1="__vInternal",G3=({key:r})=>r??null,El=({ref:r,ref_key:A,ref_for:e})=>(typeof r=="number"&&(r=""+r),r!=null?Ve(r)||Xt(r)||kA(r)?{i:zt,r,k:A,f:!!e}:r:null);function EA(r,A=null,e=null,t=0,i=null,n=r===wt?0:1,s=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:r,props:A,key:A&&G3(A),ref:A&&El(A),scopeId:Kc,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:t,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:zt};return o?(t0(u,e),n&128&&r.normalize(u)):e&&(u.shapeFlag|=Ve(e)?8:16),iu>0&&!s&&$r&&(u.patchFlag>0||n&6)&&u.patchFlag!==32&&$r.push(u),u}const pe=uv;function uv(r,A=null,e=null,t=0,i=null,n=!1){if((!r||r===vS)&&(r=Zr),Vd(r)){const o=Gn(r,A,!0);return e&&t0(o,e),iu>0&&!n&&$r&&(o.shapeFlag&6?$r[$r.indexOf(r)]=o:$r.push(o)),o.patchFlag|=-2,o}if(Sv(r)&&(r=r.__vccOpts),A){A=lv(A);let{class:o,style:u}=A;o&&!Ve(o)&&(A.class=Wo(o)),ye(u)&&(l3(u)&&!RA(u)&&(u=st({},u)),A.style=gu(u))}const s=Ve(r)?1:bS(r)?128:ov(r)?64:ye(r)?4:kA(r)?2:0;return EA(r,A,e,t,i,s,n,!0)}function lv(r){return r?l3(r)||A1 in r?st({},r):r:null}function Gn(r,A,e=!1){const{props:t,ref:i,patchFlag:n,children:s}=r,o=A?hv(t||{},A):t;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:o,key:o&&G3(o),ref:A&&A.ref?e&&i?RA(i)?i.concat(El(A)):[i,El(A)]:El(A):i,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:A&&r.type!==wt?n===-1?16:n|16:n,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Gn(r.ssContent),ssFallback:r.ssFallback&&Gn(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function Ao(r=" ",A=0){return pe(Jc,null,r,A)}function cv(r,A){const e=pe(yl,null,r);return e.staticCount=A,e}function $t(r="",A=!1){return A?(qA(),Zc(Zr,null,r)):pe(Zr,null,r)}function fi(r){return r==null||typeof r=="boolean"?pe(Zr):RA(r)?pe(wt,null,r.slice()):typeof r=="object"?En(r):pe(Jc,null,String(r))}function En(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Gn(r)}function t0(r,A){let e=0;const{shapeFlag:t}=r;if(A==null)A=null;else if(RA(A))e=16;else if(typeof A=="object")if(t&65){const i=A.default;i&&(i._c&&(i._d=!1),t0(r,i()),i._c&&(i._d=!0));return}else{e=32;const i=A._;!i&&!(A1 in A)?A._ctx=zt:i===3&&zt&&(zt.slots._===1?A._=1:(A._=2,r.patchFlag|=1024))}else kA(A)?(A={default:A,_ctx:zt},e=32):(A=String(A),t&64?(e=16,A=[Ao(A)]):e=8);r.children=A,r.shapeFlag|=e}function hv(...r){const A={};for(let e=0;e<r.length;e++){const t=r[e];for(const i in t)if(i==="class")A.class!==t.class&&(A.class=Wo([A.class,t.class]));else if(i==="style")A.style=gu([A.style,t.style]);else if(Gc(i)){const n=A[i],s=t[i];s&&n!==s&&!(RA(n)&&n.includes(s))&&(A[i]=n?[].concat(n,s):s)}else i!==""&&(A[i]=t[i])}return A}function ai(r,A,e,t=null){Dr(r,A,7,[e,t])}const dv=M3();let fv=0;function pv(r,A,e){const t=r.type,i=(A?A.appContext:r.appContext)||dv,n={uid:fv++,vnode:r,type:t,parent:A,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new U_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:A?A.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:P3(t,i),emitsOptions:C3(t,i),emit:null,emitted:null,propsDefaults:ve,inheritAttrs:t.inheritAttrs,ctx:ve,data:ve,props:ve,attrs:ve,slots:ve,refs:ve,setupState:ve,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=A?A.root:n,n.emit=mS.bind(null,n),r.ce&&r.ce(n),n}let dt=null;const gv=()=>dt||zt;let Yl,Qd;{const r=$m(),A=(e,t)=>{let i;return(i=r[e])||(i=r[e]=[]),i.push(t),n=>{i.length>1?i.forEach(s=>s(n)):i[0](n)}};Yl=A("__VUE_INSTANCE_SETTERS__",e=>dt=e),Qd=A("__VUE_SSR_SETTERS__",e=>e1=e)}const mu=r=>{const A=dt;return Yl(r),r.scope.on(),()=>{r.scope.off(),Yl(A)}},Hp=()=>{dt&&dt.scope.off(),Yl(null)};function V3(r){return r.vnode.shapeFlag&4}let e1=!1;function mv(r,A=!1){A&&Qd(A);const{props:e,children:t}=r.vnode,i=V3(r);JS(r,e,i,A),ev(r,t);const n=i?yv(r,A):void 0;return A&&Qd(!1),n}function yv(r,A){const e=r.type;r.accessCache=Object.create(null),r.proxy=c3(new Proxy(r.ctx,QS));const{setup:t}=e;if(t){const i=r.setupContext=t.length>1?Cv(r):null,n=mu(r);qs();const s=Ln(t,r,0,[r.props,i]);if(Xs(),n(),jm(s)){if(s.then(Hp,Hp),A)return s.then(o=>{jp(r,o,A)}).catch(o=>{Yc(o,r,0)});r.asyncDep=s}else jp(r,s,A)}else Q3(r,A)}function jp(r,A,e){kA(A)?r.type.__ssrInlineRender?r.ssrRender=A:r.render=A:ye(A)&&(r.setupState=f3(A)),Q3(r,e)}let Wp;function Q3(r,A,e){const t=r.type;if(!r.render){if(!A&&Wp&&!t.render){const i=t.template||A0(r).template;if(i){const{isCustomElement:n,compilerOptions:s}=r.appContext.config,{delimiters:o,compilerOptions:u}=t,l=st(st({isCustomElement:n,delimiters:o},s),u);t.render=Wp(i,l)}}r.render=t.render||br}{const i=mu(r);qs();try{HS(r)}finally{Xs(),i()}}}function Ev(r){return r.attrsProxy||(r.attrsProxy=new Proxy(r.attrs,{get(A,e){return qt(r,"get","$attrs"),A[e]}}))}function Cv(r){const A=e=>{r.exposed=e||{}};return{get attrs(){return Ev(r)},slots:r.slots,emit:r.emit,expose:A}}function t1(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(f3(c3(r.exposed)),{get(A,e){if(e in A)return A[e];if(e in za)return za[e](r)},has(A,e){return e in A||e in za}}))}function _v(r,A=!0){return kA(r)?r.displayName||r.name:r.name||A&&r.__name}function Sv(r){return kA(r)&&"__vccOpts"in r}const vv=(r,A)=>oS(r,A,e1);function wv(r,A,e){const t=arguments.length;return t===2?ye(A)&&!RA(A)?Vd(A)?pe(r,null,[A]):pe(r,A):pe(r,null,A):(t>3?e=Array.prototype.slice.call(arguments,2):t===3&&Vd(e)&&(e=[e]),pe(r,A,e))}const bv="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Iv="http://www.w3.org/2000/svg",Bv="http://www.w3.org/1998/Math/MathML",Cn=typeof document<"u"?document:null,Yp=Cn&&Cn.createElement("template"),Tv={insert:(r,A,e)=>{A.insertBefore(r,e||null)},remove:r=>{const A=r.parentNode;A&&A.removeChild(r)},createElement:(r,A,e,t)=>{const i=A==="svg"?Cn.createElementNS(Iv,r):A==="mathml"?Cn.createElementNS(Bv,r):Cn.createElement(r,e?{is:e}:void 0);return r==="select"&&t&&t.multiple!=null&&i.setAttribute("multiple",t.multiple),i},createText:r=>Cn.createTextNode(r),createComment:r=>Cn.createComment(r),setText:(r,A)=>{r.nodeValue=A},setElementText:(r,A)=>{r.textContent=A},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Cn.querySelector(r),setScopeId(r,A){r.setAttribute(A,"")},insertStaticContent(r,A,e,t,i,n){const s=e?e.previousSibling:A.lastChild;if(i&&(i===n||i.nextSibling))for(;A.insertBefore(i.cloneNode(!0),e),!(i===n||!(i=i.nextSibling)););else{Yp.innerHTML=t==="svg"?`<svg>${r}</svg>`:t==="mathml"?`<math>${r}</math>`:r;const o=Yp.content;if(t==="svg"||t==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}A.insertBefore(o,e)}return[s?s.nextSibling:A.firstChild,e?e.previousSibling:A.lastChild]}},dn="transition",da="animation",nu=Symbol("_vtc"),r0=(r,{slots:A})=>wv(MS,Dv(r),A);r0.displayName="Transition";const H3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};r0.props=st({},b3,H3);const As=(r,A=[])=>{RA(r)?r.forEach(e=>e(...A)):r&&r(...A)},$p=r=>r?RA(r)?r.some(A=>A.length>1):r.length>1:!1;function Dv(r){const A={};for(const b in r)b in H3||(A[b]=r[b]);if(r.css===!1)return A;const{name:e="v",type:t,duration:i,enterFromClass:n=`${e}-enter-from`,enterActiveClass:s=`${e}-enter-active`,enterToClass:o=`${e}-enter-to`,appearFromClass:u=n,appearActiveClass:l=s,appearToClass:c=o,leaveFromClass:h=`${e}-leave-from`,leaveActiveClass:d=`${e}-leave-active`,leaveToClass:f=`${e}-leave-to`}=r,p=xv(i),y=p&&p[0],_=p&&p[1],{onBeforeEnter:g,onEnter:m,onEnterCancelled:E,onLeave:w,onLeaveCancelled:L,onBeforeAppear:T=g,onAppear:R=m,onAppearCancelled:P=E}=A,F=(b,v,C)=>{es(b,v?c:o),es(b,v?l:s),C&&C()},H=(b,v)=>{b._isLeaving=!1,es(b,h),es(b,f),es(b,d),v&&v()},M=b=>(v,C)=>{const x=b?R:m,S=()=>F(v,b,C);As(x,[v,S]),Kp(()=>{es(v,b?u:n),fn(v,b?c:o),$p(x)||qp(v,t,y,S)})};return st(A,{onBeforeEnter(b){As(g,[b]),fn(b,n),fn(b,s)},onBeforeAppear(b){As(T,[b]),fn(b,u),fn(b,l)},onEnter:M(!1),onAppear:M(!0),onLeave(b,v){b._isLeaving=!0;const C=()=>H(b,v);fn(b,h),Rv(),fn(b,d),Kp(()=>{b._isLeaving&&(es(b,h),fn(b,f),$p(w)||qp(b,t,_,C))}),As(w,[b,C])},onEnterCancelled(b){F(b,!1),As(E,[b])},onAppearCancelled(b){F(b,!0),As(P,[b])},onLeaveCancelled(b){H(b),As(L,[b])}})}function xv(r){if(r==null)return null;if(ye(r))return[mh(r.enter),mh(r.leave)];{const A=mh(r);return[A,A]}}function mh(r){return D_(r)}function fn(r,A){A.split(/\s+/).forEach(e=>e&&r.classList.add(e)),(r[nu]||(r[nu]=new Set)).add(A)}function es(r,A){A.split(/\s+/).forEach(t=>t&&r.classList.remove(t));const e=r[nu];e&&(e.delete(A),e.size||(r[nu]=void 0))}function Kp(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let Ov=0;function qp(r,A,e,t){const i=r._endId=++Ov,n=()=>{i===r._endId&&t()};if(e)return setTimeout(n,e);const{type:s,timeout:o,propCount:u}=Mv(r,A);if(!s)return t();const l=s+"end";let c=0;const h=()=>{r.removeEventListener(l,d),n()},d=f=>{f.target===r&&++c>=u&&h()};setTimeout(()=>{c<u&&h()},o+1),r.addEventListener(l,d)}function Mv(r,A){const e=window.getComputedStyle(r),t=p=>(e[p]||"").split(", "),i=t(`${dn}Delay`),n=t(`${dn}Duration`),s=Xp(i,n),o=t(`${da}Delay`),u=t(`${da}Duration`),l=Xp(o,u);let c=null,h=0,d=0;A===dn?s>0&&(c=dn,h=s,d=n.length):A===da?l>0&&(c=da,h=l,d=u.length):(h=Math.max(s,l),c=h>0?s>l?dn:da:null,d=c?c===dn?n.length:u.length:0);const f=c===dn&&/\b(transform|all)(,|$)/.test(t(`${dn}Property`).toString());return{type:c,timeout:h,propCount:d,hasTransform:f}}function Xp(r,A){for(;r.length<A.length;)r=r.concat(r);return Math.max(...A.map((e,t)=>Jp(e)+Jp(r[t])))}function Jp(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function Rv(){return document.body.offsetHeight}function Pv(r,A,e){const t=r[nu];t&&(A=(A?[A,...t]:[...t]).join(" ")),A==null?r.removeAttribute("class"):e?r.setAttribute("class",A):r.className=A}const i0=Symbol("_vod"),yh={beforeMount(r,{value:A},{transition:e}){r[i0]=r.style.display==="none"?"":r.style.display,e&&A?e.beforeEnter(r):fa(r,A)},mounted(r,{value:A},{transition:e}){e&&A&&e.enter(r)},updated(r,{value:A,oldValue:e},{transition:t}){!A!=!e&&(t?A?(t.beforeEnter(r),fa(r,!0),t.enter(r)):t.leave(r,()=>{fa(r,!1)}):fa(r,A))},beforeUnmount(r,{value:A}){fa(r,A)}};function fa(r,A){r.style.display=A?r[i0]:"none"}const Fv=Symbol("");function Nv(r,A,e){const t=r.style,i=t.display,n=Ve(e);if(e&&!n){if(A&&!Ve(A))for(const s in A)e[s]==null&&Hd(t,s,"");for(const s in e)Hd(t,s,e[s])}else if(n){if(A!==e){const s=t[Fv];s&&(e+=";"+s),t.cssText=e}}else A&&r.removeAttribute("style");i0 in r&&(t.display=i)}const Zp=/\s*!important$/;function Hd(r,A,e){if(RA(e))e.forEach(t=>Hd(r,A,t));else if(e==null&&(e=""),A.startsWith("--"))r.setProperty(A,e);else{const t=Lv(r,A);Zp.test(e)?r.setProperty(Ks(t),e.replace(Zp,""),"important"):r[t]=e}}const Ag=["Webkit","Moz","ms"],Eh={};function Lv(r,A){const e=Eh[A];if(e)return e;let t=vi(A);if(t!=="filter"&&t in r)return Eh[A]=t;t=Hc(t);for(let i=0;i<Ag.length;i++){const n=Ag[i]+t;if(n in r)return Eh[A]=n}return A}const eg="http://www.w3.org/1999/xlink";function Uv(r,A,e,t,i){if(t&&A.startsWith("xlink:"))e==null?r.removeAttributeNS(eg,A.slice(6,A.length)):r.setAttributeNS(eg,A,e);else{const n=F_(A);e==null||n&&!Km(e)?r.removeAttribute(A):r.setAttribute(A,n?"":e)}}function kv(r,A,e,t,i,n,s){if(A==="innerHTML"||A==="textContent"){t&&s(t,i,n),r[A]=e??"";return}const o=r.tagName;if(A==="value"&&o!=="PROGRESS"&&!o.includes("-")){r._value=e;const l=o==="OPTION"?r.getAttribute("value"):r.value,c=e??"";l!==c&&(r.value=c),e==null&&r.removeAttribute(A);return}let u=!1;if(e===""||e==null){const l=typeof r[A];l==="boolean"?e=Km(e):e==null&&l==="string"?(e="",u=!0):l==="number"&&(e=0,u=!0)}try{r[A]=e}catch{}u&&r.removeAttribute(A)}function fs(r,A,e,t){r.addEventListener(A,e,t)}function zv(r,A,e,t){r.removeEventListener(A,e,t)}const tg=Symbol("_vei");function Gv(r,A,e,t,i=null){const n=r[tg]||(r[tg]={}),s=n[A];if(t&&s)s.value=t;else{const[o,u]=Vv(A);if(t){const l=n[A]=jv(t,i);fs(r,o,l,u)}else s&&(zv(r,o,s,u),n[A]=void 0)}}const rg=/(?:Once|Passive|Capture)$/;function Vv(r){let A;if(rg.test(r)){A={};let t;for(;t=r.match(rg);)r=r.slice(0,r.length-t[0].length),A[t[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Ks(r.slice(2)),A]}let Ch=0;const Qv=Promise.resolve(),Hv=()=>Ch||(Qv.then(()=>Ch=0),Ch=Date.now());function jv(r,A){const e=t=>{if(!t._vts)t._vts=Date.now();else if(t._vts<=e.attached)return;Dr(Wv(t,e.value),A,5,[t])};return e.value=r,e.attached=Hv(),e}function Wv(r,A){if(RA(A)){const e=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{e.call(r),r._stopped=!0},A.map(t=>i=>!i._stopped&&t&&t(i))}else return A}const ig=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,Yv=(r,A,e,t,i,n,s,o,u)=>{const l=i==="svg";A==="class"?Pv(r,t,l):A==="style"?Nv(r,e,t):Gc(A)?zf(A)||Gv(r,A,e,t,s):(A[0]==="."?(A=A.slice(1),!0):A[0]==="^"?(A=A.slice(1),!1):$v(r,A,t,l))?kv(r,A,t,n,s,o,u):(A==="true-value"?r._trueValue=t:A==="false-value"&&(r._falseValue=t),Uv(r,A,t,l))};function $v(r,A,e,t){if(t)return!!(A==="innerHTML"||A==="textContent"||A in r&&ig(A)&&kA(e));if(A==="spellcheck"||A==="draggable"||A==="translate"||A==="form"||A==="list"&&r.tagName==="INPUT"||A==="type"&&r.tagName==="TEXTAREA")return!1;if(A==="width"||A==="height"){const i=r.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ig(A)&&Ve(e)?!1:A in r}const $l=r=>{const A=r.props["onUpdate:modelValue"]||!1;return RA(A)?e=>fl(A,e):A};function Kv(r){r.target.composing=!0}function ng(r){const A=r.target;A.composing&&(A.composing=!1,A.dispatchEvent(new Event("input")))}const Oo=Symbol("_assign"),Kr={created(r,{modifiers:{lazy:A,trim:e,number:t}},i){r[Oo]=$l(i);const n=t||i.props&&i.props.type==="number";fs(r,A?"change":"input",s=>{if(s.target.composing)return;let o=r.value;e&&(o=o.trim()),n&&(o=Za(o)),r[Oo](o)}),e&&fs(r,"change",()=>{r.value=r.value.trim()}),A||(fs(r,"compositionstart",Kv),fs(r,"compositionend",ng),fs(r,"change",ng))},mounted(r,{value:A}){r.value=A??""},beforeUpdate(r,{value:A,modifiers:{lazy:e,trim:t,number:i}},n){if(r[Oo]=$l(n),r.composing)return;const s=i||r.type==="number"?Za(r.value):r.value,o=A??"";s!==o&&(document.activeElement===r&&r.type!=="range"&&(e||t&&r.value.trim()===o)||(r.value=o))}},j3={deep:!0,created(r,{value:A,modifiers:{number:e}},t){const i=Vc(A);fs(r,"change",()=>{const n=Array.prototype.filter.call(r.options,s=>s.selected).map(s=>e?Za(Kl(s)):Kl(s));r[Oo](r.multiple?i?new Set(n):n:n[0]),r._assigning=!0,g3(()=>{r._assigning=!1})}),r[Oo]=$l(t)},mounted(r,{value:A,oldValue:e,modifiers:{number:t}}){sg(r,A,e,t)},beforeUpdate(r,A,e){r[Oo]=$l(e)},updated(r,{value:A,oldValue:e,modifiers:{number:t}}){r._assigning||sg(r,A,e,t)}};function sg(r,A,e,t){const i=r.multiple,n=RA(A);if(!(i&&!n&&!Vc(A))&&!(n&&Au(A,e))){for(let s=0,o=r.options.length;s<o;s++){const u=r.options[s],l=Kl(u);if(i)if(n){const c=typeof l;c==="string"||c==="number"?u.selected=A.includes(t?Za(l):l):u.selected=L_(A,l)>-1}else u.selected=A.has(l);else if(Au(Kl(u),A)){r.selectedIndex!==s&&(r.selectedIndex=s);return}}!i&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function Kl(r){return"_value"in r?r._value:r.value}const qv=["ctrl","shift","alt","meta"],Xv={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,A)=>qv.some(e=>r[`${e}Key`]&&!A.includes(e))},og=(r,A)=>{const e=r._withMods||(r._withMods={}),t=A.join(".");return e[t]||(e[t]=(i,...n)=>{for(let s=0;s<A.length;s++){const o=Xv[A[s]];if(o&&o(i,A))return}return r(i,...n)})},Jv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ds=(r,A)=>{const e=r._withKeys||(r._withKeys={}),t=A.join(".");return e[t]||(e[t]=i=>{if(!("key"in i))return;const n=Ks(i.key);if(A.some(s=>s===n||Jv[s]===n))return r(i)})},Zv=st({patchProp:Yv},Tv);let ag;function Aw(){return ag||(ag=rv(Zv))}const ew=(...r)=>{const A=Aw().createApp(...r),{mount:e}=A;return A.mount=t=>{const i=rw(t);if(!i)return;const n=A._component;!kA(n)&&!n.render&&!n.template&&(n.template=i.innerHTML),i.innerHTML="";const s=e(i,!1,tw(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},A};function tw(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function rw(r){return Ve(r)?document.querySelector(r):r}const J=class J{constructor(A=1,e=1,t=1,i=1){a(this,"r",0);a(this,"g",0);a(this,"b",0);a(this,"a",0);this.setTo(A,e,t,i)}convertToHDRRGB(){return this.r=this.r*Math.pow(2.4,this.a),this.g=this.g*Math.pow(2.4,this.a),this.b=this.b*Math.pow(2.4,this.a),this}unSerialized(A){return this.r=A.r,this.g=A.g,this.b=A.b,this.a=A.a,this}hexToRGB(A){return this.r=(A>>16&255)/255,this.g=(A>>8&255)/255,this.b=(A&255)/255,this}hexToRGBA(A){return this.a=(A>>24&255)/255,this.r=(A>>16&255)/255,this.g=(A>>8&255)/255,this.b=(A&255)/255,this}static random(A=1){let e=new J;return e.a=A,e.r=A*Math.random(),e.g=A*Math.random(),e.b=A*Math.random(),e}static randomRGB(A=.5,e=.5,t=.5,i=.5,n=.5,s=.5){let o=new J;return o.a=1,o.r=i+A*Math.random(),o.g=n+e*Math.random(),o.b=s+t*Math.random(),o}static randomGray(A=.5,e=.5){let t=Math.random()*e+A,i=new J;return i.a=1,i.r=t,i.g=t,i.b=t,i}setTo(A,e,t,i){this.r=Math.max(A,0),this.g=Math.max(e,0),this.b=Math.max(t,0),this.a=Math.max(i,0)}setHex(A){if(typeof A!="string"||J.NON_HEX_CHARS.test(A)||!J.VALID_HEX_SIZE.test(A))throw new TypeError("Expected a valid hex string");A=A.replace(/^#/,"");let e=1;A.length===8&&(e=Number.parseInt(A.slice(6,8),16)/255,A=A.slice(0,6)),A.length===4&&(e=Number.parseInt(A.slice(3,4).repeat(2),16)/255,A=A.slice(0,3)),A.length===3&&(A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]);const t=Number.parseInt(A,16),i=t>>16,n=t>>8&255,s=t&255,o=e;this.a=o,this.r=i/255,this.g=n/255,this.b=s/255}getHex(){let A=e=>{e*=255;let t=e.toString(16);return t.length===1&&(t="0"+t),t};return A(this.r)+A(this.g)+A(this.b)+A(this.a)}get rgb(){return[this.r*255>>>0,this.g*255>>>0,this.b*255>>>0]}set rgb(A){this.setTo(A[0]/255,A[1]/255,A[2]/255,this.a)}get rgba(){return[this.r*255>>>0,this.g*255>>>0,this.b*255>>>0,this.a*255>>>0]}set rgba(A){this.setTo(A[0]/255,A[1]/255,A[2]/255,A[3]/255)}clone(){return new J().copyFrom(this)}copyFrom(A){return this.r=A.r,this.g=A.g,this.b=A.b,this.a=A.a,this}copyFromArray(A,e=255){return this.r=A[0]/e,this.g=A[1]/e,this.b=A[2]/e,this.a=A[3]/e,this}copyFromVector(A){return this.r=A.x,this.g=A.y,this.b=A.z,this.a=A.w,this}static hexRGBColor(A,e=null){return e=e||new J,e.hexToRGB(A),e}static lerp(A,e,t,i){let n=i||new J;return n.r=(t.r-e.r)*A+e.r,n.g=(t.g-e.g)*A+e.g,n.b=(t.b-e.b)*A+e.b,n.a=(t.a-e.a)*A+e.a,i}};a(J,"COLOR_RED",new J(1,0,0,1)),a(J,"COLOR_GREEN",new J(0,1,0,1)),a(J,"COLOR_BLUE",new J(0,0,1,1)),a(J,"COLOR_WHITE",new J(1,1,1,1)),a(J,"COLOR_0",new J),a(J,"COLOR_1",new J),a(J,"COLOR_2",new J),a(J,"HEX_CHARACTERS","a-f\\d"),a(J,"MATCH_3OR4_HEX",`#?[${J.HEX_CHARACTERS}]{3}[${J.HEX_CHARACTERS}]?`),a(J,"MATCH_6OR8_HEX",`#?[${J.HEX_CHARACTERS}]{6}([${J.HEX_CHARACTERS}]{2})?`),a(J,"NON_HEX_CHARS",new RegExp(`[^#${J.HEX_CHARACTERS}]`,"gi")),a(J,"VALID_HEX_SIZE",new RegExp(`^${J.MATCH_3OR4_HEX}$|^${J.MATCH_6OR8_HEX}$`,"i")),a(J,"PRIMARY",4149685),a(J,"PRIMARYDARK",3162015),a(J,"ACCENT",16728193),a(J,"WHITE",16777215),a(J,"IVORY",16777200),a(J,"LIGHTYELLOW",16777184),a(J,"YELLOW",16776960),a(J,"SNOW",16775930),a(J,"FLORALWHITE",16775920),a(J,"LEMONCHIFFON",16775885),a(J,"CORNSILK",16775388),a(J,"SEASHELL",16774638),a(J,"LAVENDERBLUSH",16773365),a(J,"PAPAYAWHIP",16773077),a(J,"BLANCHEDALMOND",16772045),a(J,"MISTYROSE",16770273),a(J,"BISQUE",16770244),a(J,"MOCCASIN",16770229),a(J,"NAVAJOWHITE",16768685),a(J,"PEACHPUFF",16767673),a(J,"GOLD",16766720),a(J,"PINK",16761035),a(J,"LIGHTPINK",16758465),a(J,"ORANGE",16753920),a(J,"LIGHTSALMON",16752762),a(J,"DARKORANGE",16747520),a(J,"CORAL",16744272),a(J,"HOTPINK",16738740),a(J,"TOMATO",16737095),a(J,"ORANGERED",16729344),a(J,"DEEPPINK",16716947),a(J,"FUCHSIA",16711935),a(J,"MAGENTA",16711935),a(J,"RED",16711680),a(J,"OLDLACE",16643558),a(J,"LIGHTGOLDENRODYELLOW",16448210),a(J,"LINEN",16445670),a(J,"ANTIQUEWHITE",16444375),a(J,"SALMON",16416882),a(J,"GHOSTWHITE",16316671),a(J,"MINTCREAM",16121850),a(J,"WHITESMOKE",16119285),a(J,"BEIGE",16119260),a(J,"WHEAT",16113331),a(J,"SANDYBROWN",16032864),a(J,"AZURE",15794175),a(J,"HONEYDEW",15794160),a(J,"ALICEBLUE",15792383),a(J,"KHAKI",15787660),a(J,"LIGHTCORAL",15761536),a(J,"PALEGOLDENROD",15657130),a(J,"VIOLET",15631086),a(J,"DARKSALMON",15308410),a(J,"LAVENDER",15132410),a(J,"LIGHTCYAN",14745599),a(J,"BURLYWOOD",14596231),a(J,"PLUM",14524637),a(J,"GAINSBORO",14474460),a(J,"CRIMSON",14423100),a(J,"PALEVIOLETRED",14381203),a(J,"GOLDENROD",14329120),a(J,"ORCHID",14315734),a(J,"THISTLE",14204888),a(J,"LIGHTGREY",13882323),a(J,"TAN",13808780),a(J,"CHOCOLATE",13789470),a(J,"PERU",13468991),a(J,"INDIANRED",13458524),a(J,"MEDIUMVIOLETRED",13047173),a(J,"SILVER",12632256),a(J,"DARKKHAKI",12433259),a(J,"ROSYBROWN",12357519),a(J,"MEDIUMORCHID",12211667),a(J,"DARKGOLDENROD",12092939),a(J,"FIREBRICK",11674146),a(J,"POWDERBLUE",11591910),a(J,"LIGHTSTEELBLUE",11584734),a(J,"PALETURQUOISE",11529966),a(J,"GREENYELLOW",11403055),a(J,"LIGHTBLUE",11393254),a(J,"DARKGRAY",11119017),a(J,"BROWN",10824234),a(J,"SIENNA",10506797),a(J,"DARKORCHID",10040012),a(J,"PALEGREEN",10025880),a(J,"DARKVIOLET",9699539),a(J,"MEDIUMPURPLE",9662683),a(J,"LIGHTGREEN",9498256),a(J,"DARKSEAGREEN",9419919),a(J,"SADDLEBROWN",9127187),a(J,"DARKMAGENTA",9109643),a(J,"DARKRED",9109504),a(J,"BLUEVIOLET",9055202),a(J,"LIGHTSKYBLUE",8900346),a(J,"SKYBLUE",8900331),a(J,"GRAY",8421504),a(J,"OLIVE",8421376),a(J,"PURPLE",8388736),a(J,"MAROON",8388608),a(J,"AQUAMARINE",8388564),a(J,"CHARTREUSE",8388352),a(J,"LAWNGREEN",8190976),a(J,"MEDIUMSLATEBLUE",8087790),a(J,"LIGHTSLATEGRAY",7833753),a(J,"SLATEGRAY",7372944),a(J,"OLIVEDRAB",7048739),a(J,"SLATEBLUE",6970061),a(J,"DIMGRAY",6908265),a(J,"MEDIUMAQUAMARINE",6737322),a(J,"CORNFLOWERBLUE",6591981),a(J,"CADETBLUE",6266528),a(J,"DARKOLIVEGREEN",5597999),a(J,"INDIGO",4915330),a(J,"MEDIUMTURQUOISE",4772300),a(J,"DARKSLATEBLUE",4734347),a(J,"STEELBLUE",4620980),a(J,"ROYALBLUE",4286945),a(J,"TURQUOISE",4251856),a(J,"MEDIUMSEAGREEN",3978097),a(J,"LIMEGREEN",3329330),a(J,"DARKSLATEGRAY",3100495),a(J,"SEAGREEN",3050327),a(J,"FORESTGREEN",2263842),a(J,"LIGHTSEAGREEN",2142890),a(J,"DODGERBLUE",2003199),a(J,"MIDNIGHTBLUE",1644912),a(J,"AQUA",65535),a(J,"CYAN",65535),a(J,"SPRINGGREEN",65407),a(J,"LIME",65280),a(J,"MEDIUMSPRINGGREEN",64154),a(J,"DARKTURQUOISE",52945),a(J,"DEEPSKYBLUE",49151),a(J,"DARKCYAN",35723),a(J,"TEAL",32896),a(J,"GREEN",32768),a(J,"DARKGREEN",25600),a(J,"BLUE",255),a(J,"MEDIUMBLUE",205),a(J,"DARKBLUE",139),a(J,"NAVY",128),a(J,"BLACK",0);let fA=J;class be{static start(A){this._startTime=performance.now(),this._timeLabel=A}static end(){console.log(this._timeLabel,performance.now()-this._startTime)}}a(be,"time",0),a(be,"frame",0),a(be,"delta",0),a(be,"_startTime",0),a(be,"_timeLabel","");class qr{constructor(A=null,e=null){a(this,"target");a(this,"currentTarget");a(this,"type");a(this,"data");a(this,"param");a(this,"time",0);a(this,"delay",0);a(this,"mouseCode",0);a(this,"ctrlKey");a(this,"altKey");a(this,"shiftKey");a(this,"targetTouches");a(this,"changedTouches");a(this,"touches");a(this,"_stopImmediatePropagation",!1);a(this,"view");this.type=A,this.data=e}stopImmediatePropagation(){this._stopImmediatePropagation=!0}reset(){this._stopImmediatePropagation=!1}get isStopImmediatePropagation(){return this._stopImmediatePropagation}}class ql{constructor(A=null,e=null,t=null,i=null,n=0){a(this,"id",0);a(this,"current");this.type=A,this.thisObject=e,this.handler=t,this.param=i,this.priority=n}equalCurrentListener(A,e,t,i){return this.type==A&&this.thisObject==t&&this.handler==e&&this.param==i}dispose(){this.handler=null,this.thisObject=null,this.param=null,this.priority=0}}a(ql,"event_id_count",0);class oa{constructor(){a(this,"listeners",{});a(this,"data")}dispatchEvent(A){var e=this.listeners[A.type];if(e!=null){e=e.slice();for(var t=0;t<e.length;t++){var i=e[t];if(i.handler){try{A.param=i.param,A.currentTarget=i,i.thisObject,i.handler.call(i.thisObject,A)}catch{}if(A.isStopImmediatePropagation)break}}}}destroy(){for(var A in this.listeners)for(var e=this.listeners[A];e.length>0;){var t=e[0];t.handler=null,t.thisObject=null,e.splice(0,1)}}addEventListener(A,e,t,i=null,n=0){if(this.listeners[A]==null&&(this.listeners[A]=[]),!this.hasEventListener(A,e,t)){var s=new ql(A,t,e,i,n);return s.id=++ql.event_id_count,s.current=this,this.listeners[A].push(s),this.listeners[A].sort(function(o,u){return u.priority-o.priority}),s.id}for(let o=0;o<this.listeners[A].length;o++){let u=this.listeners[A][o];if(u.equalCurrentListener(A,e,t,i))return u.id}return 0}removeEventListener(A,e,t){if(this.hasEventListener(A,e,t))for(var i=0;i<this.listeners[A].length;i++){var n=this.listeners[A][i];if(n.equalCurrentListener(A,e,t,n.param)){n.handler=null,n.thisObject=null,this.listeners[A].splice(i,1);return}}}removeEventListenerAt(A){for(var e in this.listeners)for(var t=0;t<this.listeners[e].length;t++){var i=this.listeners[e][t];if(i.id==A)return i.handler=null,i.thisObject=null,this.listeners[e].splice(t,1),!0}return!1}removeAllEventListener(A=null){let e;if(A){if(this.listeners[A]){for(var t=0;t<this.listeners[A].length;t++)e=this.listeners[A][t],e.dispose(),this.listeners[A].splice(t,1);delete this.listeners[A]}}else for(let i in this.listeners){for(var t=0;t<this.listeners[i].length;t++)e=this.listeners[i][t],e.dispose(),this.listeners[i].splice(t,1);delete this.listeners[i]}}containEventListener(A){return this.listeners[A]==null?!1:this.listeners[A].length>0}hasEventListener(A,e=null,t=null){if(this.listeners[A]==null)return!1;if(t&&e)for(var i=0;i<this.listeners[A].length;i++){var n=this.listeners[A][i];if(n.equalCurrentListener(A,e,t,n.param))return!0}return!1}}class Va extends qr{constructor(){super(...arguments);a(this,"keyCode",0)}}a(Va,"KEY_DOWN","onKeyDown"),a(Va,"KEY_UP","onKeyUp");class mA extends qr{constructor(){super(...arguments);a(this,"pointerId");a(this,"pointerType");a(this,"isPrimary");a(this,"pressure");a(this,"mouseX");a(this,"mouseY");a(this,"movementX");a(this,"movementY");a(this,"deltaX");a(this,"deltaY");a(this,"deltaZ")}reset(){super.reset(),this.mouseX=0,this.mouseY=0,this.movementX=0,this.movementY=0,this.deltaX=0,this.deltaY=0,this.deltaZ=0}}a(mA,"PICK_OVER","onPickOver"),a(mA,"PICK_OVER_GUI","onPickOverGUI"),a(mA,"PICK_CLICK","onPickClick"),a(mA,"PICK_CLICK_GUI","onPickClickGUI"),a(mA,"PICK_OUT","onPickOut"),a(mA,"PICK_OUT_GUI","onPickOutGUI"),a(mA,"PICK_MOVE","onPickMove"),a(mA,"PICK_UP","onPickUp"),a(mA,"PICK_UP_GUI","onPickUpGUI"),a(mA,"PICK_DOWN","onPickDown"),a(mA,"PICK_DOWN_GUI","onPickDownGUI"),a(mA,"POINTER_RIGHT_CLICK","onPointerRightClick"),a(mA,"POINTER_MID_UP","onPointerMidUp"),a(mA,"POINTER_MID_DOWN","onPointerMidDown"),a(mA,"POINTER_CLICK","onPointerClick"),a(mA,"POINTER_MOVE","onPointerMove"),a(mA,"POINTER_DOWN","onPointerDown"),a(mA,"POINTER_UP","onPointerUp"),a(mA,"POINTER_OUT","onPointerOut"),a(mA,"POINTER_OVER","onPointerOver"),a(mA,"POINTER_WHEEL","onPointerWheel");const dA=class dA{constructor(A=0,e=0,t=0,i=0){a(this,"x",0);a(this,"y",0);a(this,"z",0);a(this,"w",1);a(this,"index",0);this.set(A,e,t,i),this.index=dA._index++}static get ZERO(){return new dA(0,0,0)}static get ONE(){return new dA(1,1,1)}static get LEFT(){return new dA(-1,0,0)}static get RIGHT(){return new dA(1,0,0)}static get UP(){return new dA(0,1,0)}static get DOWN(){return new dA(0,-1,0)}static get BACK(){return new dA(0,0,-1)}static get FORWARD(){return new dA(0,0,1)}set a(A){this.w=A}set r(A){this.x=A}set g(A){this.y=A}set b(A){this.z=A}get a(){return this.w}get r(){return this.x}get g(){return this.y}get b(){return this.z}get length(){return Math.sqrt(this.lengthSquared)}get lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}get position(){return this}static getTowPointbyDir(A,e,t,i,n){n==dA.Z_AXIS?(e.x=A.y,e.y=-A.x,t.x=-A.y,t.y=A.x,e.scaleBy(i*.5),t.scaleBy(i*.5)):n==dA.Y_AXIS&&(e.x=A.z,e.z=-A.x,t.x=-A.z,t.z=A.x,e.scaleBy(i*.5),t.scaleBy(i*.5))}static pointToLine(A,e,t){let i=0,n,s,o;if(n=dA.distance(A,e),s=dA.distance(A,t),o=dA.distance(e,t),o<=1e-6||s<=1e-6)return i=0,i;if(n<=1e-6||o*o>=n*n+s*s)return i=s,i;if(s*s>=n*n+o*o)return i=o,i;let u=(n+s+o)/2;return i=2*Math.sqrt(u*(u-n)*(u-s)*(u-o))/n,i}static dot(A,e){return A.x*e.x+A.y*e.y+A.z*e.z}static getPoints(A,e){let t=[];for(let i=0;i<A;i++){const n=new dA(Math.random()*e-e*.5,Math.random()*e-e*.5,Math.random()*e-e*.5);t.push(n)}return t}static getPointNumbers(A,e){let t=[];for(let i=0;i<A;i++)t.push(Math.random()*e-e*.5,Math.random()*e-e*.5,Math.random()*e-e*.5);return t}static getAngle(A,e){let t=A.dotProduct(e)/(A.length*e.length);return Math.acos(t)*180/Math.PI}static sqrMagnitude(A){return A.x*A.x+A.y*A.y+A.z*A.z}static getZYAngle(A,e){return this.calAngle(A.y,A.z,e.y,e.z)}static sub(A,e,t=null){return t=t||new dA,t.x=A.x-e.x,t.y=A.y-e.y,t.z=A.z-e.z,t}static add(A,e,t=null){return t=t||new dA,t.x=A.x+e.x,t.y=A.y+e.y,t.z=A.z+e.z,t}static smoothDamp(A,e,t,i,n,s){return null}static distance(A,e){var t=A.x-e.x,i=A.y-e.y,n=A.z-e.z;return Math.sqrt(t*t+i*i+n*n)}static squareDistance(A,e){var t=A.x-e.x,i=A.y-e.y,n=A.z-e.z;return t*t+i*i+n*n}static distanceXZ(A,e){var t=A.x-e.x,i=0,n=A.z-e.z;return Math.sqrt(t*t+i*i+n*n)}set(A,e,t,i=1){return this.x=A,this.y=e,this.z=t,this.w=i,this}add(A,e=null){e||(e=new dA);var t=this.x,i=this.y,n=this.z,s=this.w,o=A.x,u=A.y,l=A.z,c=A.w;return e.setTo(t+o,i+u,n+l,s+c),e}subVectors(A,e){return this.x=A.x-e.x,this.y=A.y-e.y,this.z=A.z-e.z,this}distanceToSquared(A){let e=this.x-A.x,t=this.y-A.y,i=this.z-A.z;return e*e+t*t+i*i}addXYZW(A,e,t,i,n=null){n||(n=new dA);var s=this.x,o=this.y,u=this.z,l=this.w,c=A,h=e,d=t,f=i;return n.setTo(s+c,o+h,u+d,l+f),n}clone(){return new dA(this.x,this.y,this.z,this.w)}copyFrom(A){var e=this;return e.x=A.x,e.y=A.y,e.z=A.z,e.w=A.w,e}decrementBy(A){this.x-=A.x,this.y-=A.y,this.z-=A.z}dotProduct(A){return this.x*A.x+this.y*A.y+this.z*A.z}equals(A,e=!1){return this.x==A.x&&this.y==A.y&&this.z==A.z&&(!e||this.w==A.w)}incrementBy(A){this.x+=A.x,this.y+=A.y,this.z+=A.z}divide(A){return A instanceof dA?new dA(this.x/A.x,this.y/A.y,this.z/A.z):(this.x=this.x/A,this.y=this.y/A,this.z=this.z/A,this)}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}normalize(A=1){let e=this;if(this.length!=0){var t=A/this.length;return this.x*=t,this.y*=t,this.z*=t,e}return e}applyQuaternion(A){const e=this.x,t=this.y,i=this.z,n=A.x,s=A.y,o=A.z,u=A.w,l=u*e+s*i-o*t,c=u*t+o*e-n*i,h=u*i+n*t-s*e,d=-n*e-s*t-o*i;return this.x=l*u+d*-n+c*-o-h*-s,this.y=c*u+d*-s+h*-n-l*-o,this.z=h*u+d*-o+l*-s-c*-n,this}scaleBy(A){return this.x*=A,this.y*=A,this.z*=A,this}mul(A){let e=new dA;return e.x=this.x*A,e.y=this.y*A,e.z=this.z*A,e}scale(A){return this.x*=A.x,this.y*=A.y,this.z*=A.z,this}scaleToRef(A,e){return e||(e=new dA),e.x=this.x*A,e.y=this.y*A,e.z=this.z*A,e}setTo(A,e,t,i=1){this.x=A,this.y=e,this.z=t,this.w=i}copy(A){return this.x=A.x,this.y=A.y,this.z=A.z,this.w=A.w,this}subtract(A,e=null){return e||(e=new dA),e.setTo(this.x-A.x,this.y-A.y,this.z-A.z),e}multiply(A,e=null){e||(e=new dA);var t=this.x,i=this.y,n=this.z,s=A.x,o=A.y,u=A.z;return e.setTo(t*s,i*o,n*u),e}divided(A,e=null){e||(e=new dA);var t=this.x,i=this.y,n=this.z,s=A.x,o=A.y,u=A.z;return e.setTo(t/s,i/o,n/u),e}div(A,e){e||(e=new dA);var t=this.x,i=this.y,n=this.z,s=this.w;return e.setTo(t/A,i/A,n/A,s/A),e}lerp(A,e,t){var i=A.x,n=A.y,s=A.z,o=A.w,u=e.x,l=e.y,c=e.z,h=e.w;this.x=(u-i)*t+i,this.y=(l-n)*t+n,this.z=(c-s)*t+s,this.w=(h-o)*t+o}clamp(A,e){return this.x=Math.max(A.x,Math.min(e.x,this.x)),this.y=Math.max(A.y,Math.min(e.y,this.y)),this.z=Math.max(A.z,Math.min(e.z,this.z)),this}toString(){return"<"+this.x+", "+this.y+", "+this.z+">"}normalizeToWay2D_XY(){let A=Math.abs(this.x),e=Math.abs(this.y);A>e?this.x>0?this.copyFrom(dA.RIGHT):this.copyFrom(dA.LEFT):this.y>0?this.copyFrom(dA.DOWN):this.copyFrom(dA.UP)}toArray(){return[this.x,this.y,this.z]}copyToBytes(A){A.setFloat32(0*Float32Array.BYTES_PER_ELEMENT,this.x,!0),A.setFloat32(1*Float32Array.BYTES_PER_ELEMENT,this.y,!0),A.setFloat32(2*Float32Array.BYTES_PER_ELEMENT,this.z,!0)}crossProduct(A,e=null){return e=e||new dA,e.x=this.y*A.z-this.z*A.y,e.y=this.z*A.x-this.x*A.z,e.z=this.x*A.y-this.y*A.x,e.w=1,e}crossVectors(A,e){return A.crossProduct(e,this),this}multiplyScalar(A){return this.x*=A,this.y*=A,this.z*=A,this}setFromArray(A,e=0){this.x=A[e],this.y=A[e+1],this.z=A[e+2]}divideScalar(A){return this.multiplyScalar(1/A)}clampLength(A,e){let t=this.length;return this.divideScalar(t||1).multiplyScalar(Math.max(A,Math.min(e,t)))}setScalar(A){return this.x=A,this.y=A,this.z=A,this}static calAngle(A,e,t,i){const n=o(t,i,A,e);let s=Math.acos(n)*180/Math.PI;return t<A&&(s=-s),s;function o(l,c,h,d){let f=[l-h,c-d];return u(f,[0,-1])}function u(l,c){let h=l[0]*c[0]+l[1]*c[1],d=Math.sqrt(l[0]*l[0]+l[1]*l[1])*Math.sqrt(c[0]*c[0]+c[1]*c[1]);return h/d}}static pointInsideTriangle(A,e,t,i){return dA.HELP_0.setTo(A.x,A.z,0),dA.HELP_1.setTo(e.x,e.z,0),dA.HELP_2.setTo(t.x,t.z,0),dA.HELP_3.setTo(i.x,i.z,0),dA.pointInsideTriangle2d()}static pointInsideTriangle2d(){return dA.productXY(dA.HELP_1,dA.HELP_2,dA.HELP_3)>=0?dA.productXY(dA.HELP_1,dA.HELP_2,dA.HELP_0)>=0&&dA.productXY(dA.HELP_2,dA.HELP_3,dA.HELP_0)>=0&&dA.productXY(dA.HELP_3,dA.HELP_1,dA.HELP_0)>=0:dA.productXY(dA.HELP_1,dA.HELP_2,dA.HELP_0)<=0&&dA.productXY(dA.HELP_2,dA.HELP_3,dA.HELP_0)<=0&&dA.productXY(dA.HELP_3,dA.HELP_1,dA.HELP_0)<=0}static productXY(A,e,t){var i=(A.x-t.x)*(e.y-t.y)-(A.y-t.y)*(e.x-t.x);return i>-1e-5&&i<1e-5&&(i=0),i}static serialize(A){return new dA(A.x,A.y,A.z,A.w)}};a(dA,"MAX",new dA(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)),a(dA,"MIN",new dA(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE)),a(dA,"SAFE_MAX",new dA(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)),a(dA,"SAFE_MIN",new dA(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER)),a(dA,"X_AXIS",new dA(1,0,0)),a(dA,"neg_X_AXIS",new dA(-1,0,0)),a(dA,"Y_AXIS",new dA(0,1,0)),a(dA,"Z_AXIS",new dA(0,0,1)),a(dA,"HELP_0",new dA),a(dA,"HELP_1",new dA),a(dA,"HELP_2",new dA),a(dA,"EPSILON",1e-5),a(dA,"HELP_3",new dA),a(dA,"HELP_4",new dA),a(dA,"HELP_5",new dA),a(dA,"HELP_6",new dA),a(dA,"_index",0);let I=dA;class iw{constructor(A){a(this,"canvasX");a(this,"canvasY");a(this,"identifier");a(this,"clientX");a(this,"clientY");a(this,"pageX");a(this,"pageY");a(this,"screenX");a(this,"screenY");this.canvasX=A.clientX,this.canvasY=A.clientY,this.identifier=A.identifier,this.clientX=A.clientX,this.clientY=A.clientY,this.pageX=A.pageX,this.pageY=A.pageY,this.screenX=A.screenX,this.screenY=A.screenY}}class nw extends oa{constructor(){super(...arguments);a(this,"canvasX",0);a(this,"canvasY",0);a(this,"isMouseDown",!1);a(this,"isRightMouseDown",!1);a(this,"canvas");a(this,"mouseX",0);a(this,"mouseY",0);a(this,"wheelDelta",0);a(this,"mouseOffsetX",0);a(this,"mouseOffsetY",0);a(this,"mouseLastX",0);a(this,"mouseLastY",0);a(this,"_time",0);a(this,"_keyStatus");a(this,"_mouseStatus");a(this,"_isTouchStart");a(this,"_keyEvent3d");a(this,"_pointerEvent3D");a(this,"_windowsEvent3d");a(this,"_gp",!1);a(this,"_oldPosition1",null);a(this,"_oldPosition2",null);a(this,"_downTime",0)}initCanvas(e){this.canvas=e,e.onpointerdown=i=>{i.button==0?this.mouseStart(i):i.button==1?this.middleDown(i):i.button==2&&this.mouseStart(i)},e.onpointerup=i=>{i.button==0?this.mouseEnd(i):i.button==1?this.middleUp(i):i.button==2&&this.mouseEnd(i)},e.onpointerenter=i=>{this.mouseOver(i)},e.onpointermove=i=>{this.mouseMove(i)},e.onpointercancel=i=>{this.mouseEnd(i)},e.onpointerleave=i=>{this.mouseEnd(i)},e.onpointerout=i=>{this.mouseEnd(i)},e.addEventListener("click",i=>{i.button==2?(this.isRightMouseDown=!1,this.rightClick(i)):i.button==0&&(this.isMouseDown=!1,this.mouseClick(i))},!0),e.addEventListener("wheel",i=>this.mouseWheel(i),{passive:!1}),window.addEventListener("keydown",i=>this.keyDown(i),!0),window.addEventListener("keyup",i=>this.keyUp(i),!0),e.oncontextmenu=function(){return!1};let t=this.canvas.getBoundingClientRect();this.canvasX=t.left,this.canvasY=t.top,this._keyStatus={},this._mouseStatus={},this._isTouchStart=!1,this._keyEvent3d=new Va,this._pointerEvent3D=new mA,this._windowsEvent3d=new qr}onPinch(e,t,i,n){this._oldPosition1=new I(e,t),this._oldPosition2=new I(i,n)}onSwipe(e,t){this.mouseX=e,this.mouseY=t,this._oldPosition1=null,this._oldPosition2=null,this._time=new Date().getTime()}GetTargetTouches(e){for(var t=new Array,i=0;i<e.length;i++){var n=new iw(e[i]);t.push(n)}return t}rightClick(e){this._pointerEvent3D.reset(),this._pointerEvent3D.mouseCode=e.button,this._pointerEvent3D.mouseX=e.clientX-this.canvasX,this._pointerEvent3D.mouseY=e.clientY-this.canvasY,this._pointerEvent3D.type=mA.POINTER_RIGHT_CLICK,this._pointerEvent3D.ctrlKey=e.ctrlKey,this._pointerEvent3D.altKey=e.altKey,this._pointerEvent3D.shiftKey=e.shiftKey,this.dispatchEvent(this._pointerEvent3D)}middleDown(e){this._pointerEvent3D.reset(),this._pointerEvent3D.mouseCode=e.button,this._pointerEvent3D.mouseX=e.clientX-this.canvasX,this._pointerEvent3D.mouseY=e.clientY-this.canvasY,this._pointerEvent3D.type=mA.POINTER_MID_DOWN,this._pointerEvent3D.ctrlKey=e.ctrlKey,this._pointerEvent3D.altKey=e.altKey,this._pointerEvent3D.shiftKey=e.shiftKey,this._pointerEvent3D.pointerId=e.pointerId,this._pointerEvent3D.pointerType=e.pointerType,this._pointerEvent3D.isPrimary=e.isPrimary,this._pointerEvent3D.pressure=e.pressure,this.dispatchEvent(this._pointerEvent3D)}middleUp(e){this._pointerEvent3D.reset(),this._pointerEvent3D.mouseCode=e.button,this._pointerEvent3D.mouseX=e.clientX-this.canvasX,this._pointerEvent3D.mouseY=e.clientY-this.canvasY,this._pointerEvent3D.type=mA.POINTER_MID_UP,this._pointerEvent3D.ctrlKey=e.ctrlKey,this._pointerEvent3D.altKey=e.altKey,this._pointerEvent3D.shiftKey=e.shiftKey,this._pointerEvent3D.pointerId=e.pointerId,this._pointerEvent3D.pointerType=e.pointerType,this._pointerEvent3D.isPrimary=e.isPrimary,this._pointerEvent3D.pressure=e.pressure,this.dispatchEvent(this._pointerEvent3D)}mouseClick(e){this._pointerEvent3D.reset(),this._pointerEvent3D.mouseCode=e.button,this._pointerEvent3D.mouseX=e.clientX-this.canvasX,this._pointerEvent3D.mouseY=e.clientY-this.canvasY,this._pointerEvent3D.type=mA.POINTER_CLICK,this._pointerEvent3D.ctrlKey=e.ctrlKey,this._pointerEvent3D.altKey=e.altKey,this._pointerEvent3D.shiftKey=e.shiftKey,this.dispatchEvent(this._pointerEvent3D)}mouseEnd(e){this.isMouseDown=!1,this.mouseLastX=this.mouseX,this.mouseLastY=this.mouseY,this.mouseX=e.clientX-this.canvasX,this.mouseY=e.clientY-this.canvasY,this.mouseOffsetX=this.mouseX-this.mouseLastX,this.mouseOffsetY=this.mouseY-this.mouseLastY,this._pointerEvent3D.reset(),this._pointerEvent3D.mouseCode=e.button,this._mouseStatus[this._pointerEvent3D.mouseCode]=!1,this._pointerEvent3D.type=mA.POINTER_UP,this._pointerEvent3D.ctrlKey=e.ctrlKey,this._pointerEvent3D.altKey=e.altKey,this._pointerEvent3D.shiftKey=e.shiftKey,this._pointerEvent3D.pointerId=e.pointerId,this._pointerEvent3D.pointerType=e.pointerType,this._pointerEvent3D.isPrimary=e.isPrimary,this._pointerEvent3D.pressure=e.pressure,this._pointerEvent3D.mouseX=this.mouseX,this._pointerEvent3D.mouseY=this.mouseY,this.dispatchEvent(this._pointerEvent3D)}mouseStart(e){this.isMouseDown=!0,this.mouseLastX=this.mouseX,this.mouseLastY=this.mouseY,this.mouseX=e.clientX-this.canvasX,this.mouseY=e.clientY-this.canvasY,this.mouseOffsetX=this.mouseX-this.mouseLastX,this.mouseOffsetY=this.mouseY-this.mouseLastY,this._pointerEvent3D.reset(),this._pointerEvent3D.mouseCode=e.button,this._pointerEvent3D.ctrlKey=e.ctrlKey,this._pointerEvent3D.altKey=e.altKey,this._pointerEvent3D.shiftKey=e.shiftKey,this._pointerEvent3D.pointerId=e.pointerId,this._pointerEvent3D.pointerType=e.pointerType,this._pointerEvent3D.isPrimary=e.isPrimary,this._pointerEvent3D.pressure=e.pressure,this._pointerEvent3D.mouseX=this.mouseX,this._pointerEvent3D.mouseY=this.mouseY,this._pointerEvent3D.type=mA.POINTER_DOWN,this.dispatchEvent(this._pointerEvent3D)}mouseMove(e){this.mouseLastX=this.mouseX,this.mouseLastY=this.mouseY,this.mouseX=e.clientX-this.canvasX,this.mouseY=e.clientY-this.canvasY,this.mouseOffsetX=this.mouseX-this.mouseLastX,this.mouseOffsetY=this.mouseY-this.mouseLastY,this._pointerEvent3D.reset(),this._pointerEvent3D.type=mA.POINTER_MOVE,this._pointerEvent3D.ctrlKey=e.ctrlKey,this._pointerEvent3D.altKey=e.altKey,this._pointerEvent3D.shiftKey=e.shiftKey,this._pointerEvent3D.pointerId=e.pointerId,this._pointerEvent3D.pointerType=e.pointerType,this._pointerEvent3D.isPrimary=e.isPrimary,this._pointerEvent3D.pressure=e.pressure,this._pointerEvent3D.mouseX=this.mouseX,this._pointerEvent3D.mouseY=this.mouseY,this._pointerEvent3D.movementX=e.movementX,this._pointerEvent3D.movementY=e.movementY,this.dispatchEvent(this._pointerEvent3D)}mouseOver(e){this.isMouseDown=!1,this.mouseLastX=this.mouseX,this.mouseLastY=this.mouseY,this.mouseX=e.clientX-this.canvasX,this.mouseY=e.clientY-this.canvasY,this.mouseOffsetX=this.mouseX-this.mouseLastX,this.mouseOffsetY=this.mouseY-this.mouseLastY,this._pointerEvent3D.reset(),this._pointerEvent3D.type=mA.POINTER_OVER,this._pointerEvent3D.ctrlKey=e.ctrlKey,this._pointerEvent3D.altKey=e.altKey,this._pointerEvent3D.shiftKey=e.shiftKey,this._pointerEvent3D.pointerId=e.pointerId,this._pointerEvent3D.pointerType=e.pointerType,this._pointerEvent3D.isPrimary=e.isPrimary,this._pointerEvent3D.pressure=e.pressure,this._pointerEvent3D.mouseX=this.mouseX,this._pointerEvent3D.mouseY=this.mouseY,this.dispatchEvent(this._pointerEvent3D)}mouseWheel(e){e.preventDefault(),this.mouseLastX=this.mouseX,this.mouseLastY=this.mouseY,this.mouseX=e.clientX-this.canvasX,this.mouseY=e.clientY-this.canvasY,this.mouseOffsetX=this.mouseX-this.mouseLastX,this.mouseOffsetY=this.mouseY-this.mouseLastY,"wheelDelta"in e?(this._pointerEvent3D.delay=e.wheelDelta,this.wheelDelta=e.wheelDelta):"delta"in e&&(this.wheelDelta=e.delta),this._pointerEvent3D.reset(),this._pointerEvent3D.type=mA.POINTER_WHEEL,this._pointerEvent3D.ctrlKey=e.ctrlKey,this._pointerEvent3D.altKey=e.altKey,this._pointerEvent3D.shiftKey=e.shiftKey,this._pointerEvent3D.mouseX=this.mouseX,this._pointerEvent3D.mouseY=this.mouseY,this._pointerEvent3D.deltaX=e.deltaX,this._pointerEvent3D.deltaY=e.deltaY,this._pointerEvent3D.deltaZ=e.deltaZ,this.dispatchEvent(this._pointerEvent3D)}keyDown(e){this._keyEvent3d.reset(),this._keyEvent3d.keyCode=e.keyCode,this._keyEvent3d.ctrlKey=e.ctrlKey,this._keyEvent3d.altKey=e.altKey,this._keyEvent3d.shiftKey=e.shiftKey,this._keyStatus[e.keyCode]||(this._keyStatus[e.keyCode]=!0,this._keyEvent3d.type=Va.KEY_DOWN,this.dispatchEvent(this._keyEvent3d))}keyUp(e){this._keyEvent3d.reset(),this._keyEvent3d.keyCode=e.keyCode,this._keyStatus[e.keyCode]=!1,this._keyEvent3d.type=Va.KEY_UP,this.dispatchEvent(this._keyEvent3d)}GetSlideAngle(e,t){return Math.atan2(t,e)*180/Math.PI}GetSlideDirection(e,t,i,n){var s=t-n,o=i-e,u=0;if(Math.abs(o)<2&&Math.abs(s)<2)return u;var l=this.GetSlideAngle(o,s);return l>=-45&&l<45?u=4:l>=45&&l<135?u=1:l>=-135&&l<-45?u=2:(l>=135&&l<=180||l>=-180&&l<-135)&&(u=3),u}}const sw="0.7.2";let xr={clamp_to_edge:"clamp-to-edge",repeat:"repeat",mirror_repeat:"mirror-repeat"},en={never:"never",less:"less",equal:"equal",less_equal:"less-equal",greater:"greater",not_equal:"not-equal",greater_equal:"greater-equal",always:"always"},ar={none:"none",front:"front",back:"back"},qi={nearest:"nearest",linear:"linear"},r1={point_list:"point-list",line_list:"line-list",line_strip:"line-strip",triangle_list:"triangle-list",triangle_strip:"triangle-strip"},MA={r8unorm:"r8unorm",r8snorm:"r8snorm",r8uint:"r8uint",r8sint:"r8sint",r16uint:"r16uint",r16sint:"r16sint",r16float:"r16float",rg8unorm:"rg8unorm",rg8snorm:"rg8snorm",rg8uint:"rg8uint",rg8sint:"rg8sint",r32uint:"r32uint",r32sint:"r32sint",r32float:"r32float",rg16uint:"rg16uint",rg16sint:"rg16sint",rg16float:"rg16float",rgba8unorm:"rgba8unorm",rgba8unorm_srgb:"rgba8unorm-srgb",rgba8snorm:"rgba8snorm",rgba8uint:"rgba8uint",rgba8sint:"rgba8sint",bgra8unorm:"bgra8unorm",bgra8unorm_srgb:"bgra8unorm-srgb",rgb9e5ufloat:"rgb9e5ufloat",rgb10a2unorm:"rgb10a2unorm",rg11b10ufloat:"rg11b10ufloat",rg32uint:"rg32uint",rg32sint:"rg32sint",rg32float:"rg32float",rgba16uint:"rgba16uint",rgba16sint:"rgba16sint",rgba16float:"rgba16float",rgba32uint:"rgba32uint",rgba32sint:"rgba32sint",rgba32float:"rgba32float",stencil8:"stencil8",depth16unorm:"depth16unorm",depth24plus:"depth24plus",depth24plus_stencil8:"depth24plus-stencil8",depth32float:"depth32float",bc1_rgba_unorm:"bc1-rgba-unorm",bc1_rgba_unorm_srgb:"bc1-rgba-unorm-srgb",bc2_rgba_unorm:"bc2-rgba-unorm",bc2_rgba_unorm_srgb:"bc2-rgba-unorm-srgb",bc3_rgba_unorm:"bc3-rgba-unorm",bc3_rgba_unorm_srgb:"bc3-rgba-unorm-srgb",bc4_r_unorm:"bc4-r-unorm",bc4_r_snorm:"bc4-r-snorm",bc5_rg_unorm:"bc5-rg-unorm",bc5_rg_snorm:"bc5-rg-snorm",bc6h_rgb_ufloat:"bc6h-rgb-ufloat",bc6h_rgb_float:"bc6h-rgb-float",bc7_rgba_unorm:"bc7-rgba-unorm",bc7_rgba_unorm_srgb:"bc7-rgba-unorm-srgb",depth24unorm_stencil8:"depth24unorm-stencil8",depth32float_stencil8:"depth32float-stencil8"},qu={uint8x2:"uint8x2",uint8x4:"uint8x4",sint8x2:"sint8x2",sint8x4:"sint8x4",unorm8x2:"unorm8x2",unorm8x4:"unorm8x4",snorm8x2:"snorm8x2",snorm8x4:"snorm8x4",uint16x2:"uint16x2",uint16x4:"uint16x4",sint16x2:"sint16x2",sint16x4:"sint16x4",unorm16x2:"unorm16x2",unorm16x4:"unorm16x4",snorm16x2:"snorm16x2",snorm16x4:"snorm16x4",float16x2:"float16x2",float16x4:"float16x4",float32:"float32",float32x2:"float32x2",float32x3:"float32x3",float32x4:"float32x4",uint32:"uint32",uint32x2:"uint32x2",uint32x3:"uint32x3",uint32x4:"uint32x4",sint32:"sint32",sint32x2:"sint32x2",sint32x3:"sint32x3",sint32x4:"sint32x4"};class Ls extends qr{}a(Ls,"RESIZE","resize");class ow extends oa{constructor(){super(...arguments);a(this,"adapter");a(this,"device");a(this,"context");a(this,"aspect");a(this,"presentationSize",[0,0]);a(this,"presentationFormat");a(this,"canvas");a(this,"windowWidth");a(this,"windowHeight");a(this,"canvasConfig");a(this,"super",1);a(this,"_pixelRatio",1);a(this,"_resizeEvent")}get pixelRatio(){return this._pixelRatio}async init(e){var t;if(this.canvasConfig=e,e&&e.canvas){if(this.canvas=e.canvas,this.canvas===null)throw new Error("no Canvas");const i=this.canvas.clientWidth,n=this.canvas.clientHeight;i!=this.canvas.clientWidth&&(this.canvas.style.width=i+"px"),n!=this.canvas.clientHeight&&(this.canvas.style.height=n+"px")}else this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top="0px",this.canvas.style.left="0px",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.zIndex=e!=null&&e.zIndex?e.zIndex.toString():"0",document.body.appendChild(this.canvas);if(e&&e.backgroundImage?(this.canvas.style.background=`url(${e.backgroundImage})`,this.canvas.style["background-size"]="cover",this.canvas.style["background-position"]="center"):this.canvas.style.background="transparent",this.canvas.style["touch-action"]="none",this.canvas.style["object-fit"]="cover",navigator.gpu===void 0)throw new Error("Your browser does not support WebGPU!");if(this.adapter=await navigator.gpu.requestAdapter({powerPreference:"high-performance"}),this.adapter==null)throw new Error("Your browser does not support WebGPU!");if(this.device=await this.adapter.requestDevice({requiredFeatures:["bgra8unorm-storage","depth-clip-control","depth32float-stencil8","indirect-first-instance","rg11b10ufloat-renderable"],requiredLimits:{minUniformBufferOffsetAlignment:256,maxStorageBufferBindingSize:this.adapter.limits.maxStorageBufferBindingSize}}),this.device==null)throw new Error("Your browser does not support WebGPU!");return this._pixelRatio=((t=this.canvasConfig)==null?void 0:t.devicePixelRatio)||window.devicePixelRatio||1,this._pixelRatio=Math.min(this._pixelRatio,2),this.device.label="device",this.presentationFormat=navigator.gpu.getPreferredCanvasFormat(),this.context=this.canvas.getContext("webgpu"),this.context.configure({device:this.device,format:this.presentationFormat,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT,alphaMode:"premultiplied",colorSpace:"srgb"}),this._resizeEvent=new Ls(Ls.RESIZE,{width:this.windowWidth,height:this.windowHeight}),new ResizeObserver(()=>{this.updateSize(),Tt.destroyTexture()}).observe(this.canvas),this.updateSize(),!0}updateSize(){let e=Math.floor(this.canvas.clientWidth*this.pixelRatio*this.super),t=Math.floor(this.canvas.clientHeight*this.pixelRatio*this.super);(e!=this.windowWidth||t!=this.windowHeight)&&(this.canvas.width=this.windowWidth=e,this.canvas.height=this.windowHeight=t,this.presentationSize[0]=this.windowWidth,this.presentationSize[1]=this.windowHeight,this.aspect=this.windowWidth/this.windowHeight,this._resizeEvent.data.width=this.windowWidth,this._resizeEvent.data.height=this.windowHeight,this.dispatchEvent(this._resizeEvent))}}let iA=new ow;class Ye{}a(Ye,"colorBufferTex_NAME","colorBufferTex"),a(Ye,"positionBufferTex_NAME","positionBufferTex"),a(Ye,"normalBufferTex_NAME","normalBufferTex"),a(Ye,"materialBufferTex_NAME","materialBufferTex"),a(Ye,"zBufferTexture_NAME","zBufferTexture"),a(Ye,"zPreDepthTexture_NAME","zPreDepthTexture"),a(Ye,"outTex_NAME","outTex");var It=(r=>(r[r.Default=1]="Default",r[r.IgnoreDepthPass=2]="IgnoreDepthPass",r[r.Sky=6]="Sky",r[r.Particle=10]="Particle",r[r.SkinnedMesh=16]="SkinnedMesh",r[r.MorphTarget=32]="MorphTarget",r[r.Terrain=64]="Terrain",r[r.UI=128]="UI",r))(It||{});class Gi{static addMask(A,e){return A|e}static removeMask(A,e){return A&~e}static hasMask(A,e){return(A&e)==e}}function Xl(r,A){let e=r.__NonSerialize__;e||(e=r.__NonSerialize__={},e.__NonSerialize__=!0),e[A]=!0}function ug(r,A){let e;for(;r&&(r=r.__proto__,r&&(e=r.__NonSerialize__),!e););return e&&e[A]}function Hi(r,A,e,t,i){let n=r.__EditorInspector__;n||(n=r.__EditorInspector__=new Map);let s=n.get(r.constructor.name);s||(s=new Map,n.set(r.constructor.name,s)),s.set(A,{p1:e,p2:t,p3:i})}function ri(r,A,e,t,i){let n=window.__Component__;n||(n=window.__Component__={}),n[A]=r}function aw(r){let A=window.__Component__;return A[r]?A[r]:null}function $n(r,A,e,t,i){let n=window.__shader__;n||(n=window.__shader__={}),n[A]=r}function uw(r){let A=window.__shader__;return A[r]?A[r]:null}var lw=Object.defineProperty,cw=Object.getOwnPropertyDescriptor,lg=(r,A,e,t)=>{for(var i=t>1?void 0:t?cw(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&lw(A,e,i),i},$i;const jd=($i=class{constructor(){a(this,"__refection");a(this,"__size",0)}getValueType(){if(!this.__refection){let A=this;this.__refection=[];for(const e in A)if(!ug(this,e)){const t=A[e];let i={name:e,type:t.constructor.name};this.__refection.push(i)}}return this.__refection}static getValueSize(A){switch(A.constructor.name){case"Boolean":return 1*4;case"Number":return 1*4;case"f32":return 1*4;case"i32":return 1*4;case"u32":return 1*4;case"Float32Array":return A.byteLength;case"Vector2":return 2*4;case"Vector3":return 3*4;case"Vector4":return 4*4;case"Color":return 4*4;case"Array":let e=0;for(let t=0,i=A.length;t<i;t++)e+=$i.getValueSize(A[t]);return e}return 0}static Ref(A){return this.Get(A).getValueType()}static Get(A){let e=$i.__cacheStruct.get(A.prototype);return e||(e=new A,$i.__cacheStruct.set(A.prototype,e)),e}static GetSize(A){let e=this.Get(A);if(e.__size==0){for(const t in e)if(!ug(e,t)){const i=e[t];e.__size+=$i.getValueSize(i)}e.__size>4&&(e.__size=Math.ceil(e.__size/4)*4)}return e.__size}},a($i,"__cacheStruct",new Map),$i);lg([Xl],jd.prototype,"__refection",2),lg([Xl],jd.prototype,"__size",2);let Mo=jd;class hw{constructor(){a(this,"byteOffset");a(this,"byteSize");a(this,"offset",0);a(this,"dataBytes")}get x(){return this.dataBytes.getFloat32(0*Float32Array.BYTES_PER_ELEMENT,!0)}set x(A){this.dataBytes.setFloat32(0*Float32Array.BYTES_PER_ELEMENT,A,!0)}get y(){return this.dataBytes.getFloat32(1*Float32Array.BYTES_PER_ELEMENT,!0)}set y(A){this.dataBytes.setFloat32(1*Float32Array.BYTES_PER_ELEMENT,A,!0)}get z(){return this.dataBytes.getFloat32(2*Float32Array.BYTES_PER_ELEMENT,!0)}set z(A){this.dataBytes.setFloat32(2*Float32Array.BYTES_PER_ELEMENT,A,!0)}get w(){return this.dataBytes.getFloat32(3*Float32Array.BYTES_PER_ELEMENT,!0)}set w(A){this.dataBytes.setFloat32(3*Float32Array.BYTES_PER_ELEMENT,A,!0)}setX(A){this.x=A}setXY(A,e){this.x=A,this.y=e}setXYZ(A,e,t){this.x=A,this.y=e,this.z=t}setXYZW(A,e,t,i){this.x=A,this.y=e,this.z=t,this.w=i}setVector2Array(A){for(let e=0;e<A.length;e++){const t=A[e];this.dataBytes.setFloat32((e*2+0)*Float32Array.BYTES_PER_ELEMENT,t.x,!0),this.dataBytes.setFloat32((e*2+1)*Float32Array.BYTES_PER_ELEMENT,t.y,!0)}}setVector3Array(A){for(let e=0;e<A.length;e++){const t=A[e];this.dataBytes.setFloat32((e*3+0)*Float32Array.BYTES_PER_ELEMENT,t.x,!0),this.dataBytes.setFloat32((e*3+1)*Float32Array.BYTES_PER_ELEMENT,t.y,!0),this.dataBytes.setFloat32((e*3+2)*Float32Array.BYTES_PER_ELEMENT,t.z,!0)}}setVector4Array(A){for(let e=0;e<A.length;e++){const t=A[e];this.dataBytes.setFloat32((e*4+0)*Float32Array.BYTES_PER_ELEMENT,t.x,!0),this.dataBytes.setFloat32((e*4+1)*Float32Array.BYTES_PER_ELEMENT,t.y,!0),this.dataBytes.setFloat32((e*4+2)*Float32Array.BYTES_PER_ELEMENT,t.z,!0),this.dataBytes.setFloat32((e*4+3)*Float32Array.BYTES_PER_ELEMENT,t.w,!0)}}setColorArray(A){for(let e=0;e<A.length;e++){const t=A[e];this.dataBytes.setFloat32((e*4+0)*Float32Array.BYTES_PER_ELEMENT,t.r,!0),this.dataBytes.setFloat32((e*4+1)*Float32Array.BYTES_PER_ELEMENT,t.g,!0),this.dataBytes.setFloat32((e*4+2)*Float32Array.BYTES_PER_ELEMENT,t.b,!0),this.dataBytes.setFloat32((e*4+3)*Float32Array.BYTES_PER_ELEMENT,t.a,!0)}}setInt8(A,e=0){this.dataBytes.setInt8(e*Int8Array.BYTES_PER_ELEMENT,A)}getInt8(A=0){return this.dataBytes.getInt8(A*Int8Array.BYTES_PER_ELEMENT)}setInt16(A,e=0){this.dataBytes.setInt16(e*Int16Array.BYTES_PER_ELEMENT,A,!0)}getInt16(A=0){return this.dataBytes.getInt16(A*Int16Array.BYTES_PER_ELEMENT,!0)}setInt32(A,e=0){this.dataBytes.setInt32(e*Int32Array.BYTES_PER_ELEMENT,A,!0)}getInt32(A=0){return this.dataBytes.getInt32(A*Int32Array.BYTES_PER_ELEMENT,!0)}setFloat(A,e=0){this.dataBytes.setFloat32(e*Float32Array.BYTES_PER_ELEMENT,A,!0)}getFloat(A=0){return this.dataBytes.getFloat32(A*Float32Array.BYTES_PER_ELEMENT,!0)}setUint8(A,e=0){this.dataBytes.setUint8(e*Uint8Array.BYTES_PER_ELEMENT,A)}getUint8(A=0){return this.dataBytes.getUint8(A*Uint8Array.BYTES_PER_ELEMENT)}setUint16(A,e=0){this.dataBytes.setUint16(e*Uint16Array.BYTES_PER_ELEMENT,A,!0)}getUint16(A=0){return this.dataBytes.getUint16(A*Uint16Array.BYTES_PER_ELEMENT,!0)}setUint32(A,e=0){this.dataBytes.setUint32(e*Uint32Array.BYTES_PER_ELEMENT,A,!0)}getUint32(A=0){return this.dataBytes.getUint32(A*Uint32Array.BYTES_PER_ELEMENT,!0)}setArray(A,e){for(let t=0;t<e.length;t++){const i=e[t];this.dataBytes.setFloat32((A+t)*Float32Array.BYTES_PER_ELEMENT,i,!0)}}setFloat32Array(A,e){new Float32Array(this.dataBytes.buffer,this.dataBytes.byteOffset+A*Float32Array.BYTES_PER_ELEMENT,e.length).set(e)}setArrayBuffer(A,e){e instanceof Uint8Array?this.setUint8Array(A,e):e instanceof Uint16Array?this.setUint16Array(A,e):e instanceof Uint32Array?this.setUint32Array(A,e):e instanceof Int8Array?this.setInt8Array(A,e):e instanceof Int16Array?this.setInt16Array(A,e):e instanceof Int32Array?this.setInt32Array(A,e):e instanceof Float32Array&&this.setFloat32Array(A,e)}setInt8Array(A,e){new Int8Array(this.dataBytes.buffer,this.dataBytes.byteOffset+A*Int8Array.BYTES_PER_ELEMENT).set(e)}setInt16Array(A,e){new Int16Array(this.dataBytes.buffer,this.dataBytes.byteOffset+A*Int16Array.BYTES_PER_ELEMENT).set(e)}setInt32Array(A,e){new Int32Array(this.dataBytes.buffer,this.dataBytes.byteOffset+A*Int32Array.BYTES_PER_ELEMENT).set(e)}setUint8Array(A,e){new Uint8Array(this.dataBytes.buffer,this.dataBytes.byteOffset+A*Uint8Array.BYTES_PER_ELEMENT).set(e)}setUint16Array(A,e){new Uint16Array(this.dataBytes.buffer,this.dataBytes.byteOffset+A*Uint16Array.BYTES_PER_ELEMENT).set(e)}setUint32Array(A,e){new Uint32Array(this.dataBytes.buffer,this.dataBytes.byteOffset+A*Uint32Array.BYTES_PER_ELEMENT).set(e)}setData(A,e){this.dataBytes.setFloat32(A*Float32Array.BYTES_PER_ELEMENT,e,!0)}setVector2(A,e){this.dataBytes.setFloat32(A*Float32Array.BYTES_PER_ELEMENT,e.x,!0),this.dataBytes.setFloat32((A+1)*Float32Array.BYTES_PER_ELEMENT,e.y,!0)}setVector3(A,e){this.dataBytes.setFloat32(A*Float32Array.BYTES_PER_ELEMENT,e.x,!0),this.dataBytes.setFloat32((A+1)*Float32Array.BYTES_PER_ELEMENT,e.y,!0),this.dataBytes.setFloat32((A+2)*Float32Array.BYTES_PER_ELEMENT,e.z,!0)}setVector4(A,e){this.dataBytes.setFloat32(A*Float32Array.BYTES_PER_ELEMENT,e.x,!0),this.dataBytes.setFloat32((A+1)*Float32Array.BYTES_PER_ELEMENT,e.y,!0),this.dataBytes.setFloat32((A+2)*Float32Array.BYTES_PER_ELEMENT,e.z,!0),this.dataBytes.setFloat32((A+3)*Float32Array.BYTES_PER_ELEMENT,e.w,!0)}setColor(A,e){this.dataBytes.setFloat32(A*Float32Array.BYTES_PER_ELEMENT,e.r,!0),this.dataBytes.setFloat32((A+1)*Float32Array.BYTES_PER_ELEMENT,e.g,!0),this.dataBytes.setFloat32((A+2)*Float32Array.BYTES_PER_ELEMENT,e.b,!0),this.dataBytes.setFloat32((A+3)*Float32Array.BYTES_PER_ELEMENT,e.a,!0)}getData(A){return this.dataBytes.getFloat32(A*Float32Array.BYTES_PER_ELEMENT,!0)}writeFloat(A){this.dataBytes.setFloat32(this.offset,A,!0),this.offset+=Float32Array.BYTES_PER_ELEMENT}writeInt8(A){this.dataBytes.setInt8(this.offset,A),this.offset+=Int8Array.BYTES_PER_ELEMENT}writeInt16(A){this.dataBytes.setInt16(this.offset,A,!0),this.offset+=Int16Array.BYTES_PER_ELEMENT}writeInt32(A){this.dataBytes.setInt32(this.offset,A,!0),this.offset+=Int32Array.BYTES_PER_ELEMENT}writeUint8(A){this.dataBytes.setUint8(this.offset,A),this.offset+=Uint8Array.BYTES_PER_ELEMENT}writeUint16(A){this.dataBytes.setUint16(this.offset,A,!0),this.offset+=Uint16Array.BYTES_PER_ELEMENT}writeUint32(A){this.dataBytes.setUint32(this.offset,A,!0),this.offset+=Uint32Array.BYTES_PER_ELEMENT}writeVector2(A){this.writeFloat(A.x),this.writeFloat(A.y)}writeVector3(A){this.writeFloat(A.x),this.writeFloat(A.y),this.writeFloat(A.z)}writeVector4(A){this.writeFloat(A.x),this.writeFloat(A.y),this.writeFloat(A.z),this.writeFloat(A.w)}writeRGBColor(A){this.writeFloat(A.r),this.writeFloat(A.g),this.writeFloat(A.b)}writeArray(A){for(let e=0;e<A.length;e++){const t=A[e];this.writeFloat(t)}}writeFloat32Array(A){new Float32Array(this.dataBytes.buffer,this.dataBytes.byteOffset+this.offset).set(A),this.offset+=A.byteLength}writeInt8Array(A){new Int8Array(this.dataBytes.buffer,this.dataBytes.byteOffset+this.offset).set(A),this.offset+=A.byteLength}writeInt16Array(A){new Int16Array(this.dataBytes.buffer,this.dataBytes.byteOffset+this.offset).set(A),this.offset+=A.byteLength}writeInt32Array(A){new Int32Array(this.dataBytes.buffer,this.dataBytes.byteOffset+this.offset).set(A),this.offset+=A.byteLength}writeUint8Array(A){new Uint8Array(this.dataBytes.buffer,this.dataBytes.byteOffset+this.offset).set(A),this.offset+=A.byteLength}writeUint16Array(A){new Uint16Array(this.dataBytes.buffer,this.dataBytes.byteOffset+this.offset).set(A),this.offset+=A.byteLength}writeUint32Array(A){new Uint32Array(this.dataBytes.buffer,this.dataBytes.byteOffset+this.offset).set(A),this.offset+=A.byteLength}reset(){this.offset=0}destroy(){this.byteOffset=null,this.byteSize=null,this.offset=null,this.dataBytes=null}}class su{constructor(){a(this,"shareDataBuffer");a(this,"_byteOffset",0)}allocation(A){this.shareDataBuffer&&this.shareDataBuffer.byteLength<A?this._byteOffset=0:this.shareDataBuffer=new ArrayBuffer(A)}allocation_node(A){if(this._byteOffset+A>this.shareDataBuffer.byteLength)return console.error("memory not enough!",this._byteOffset,A,this.shareDataBuffer.byteLength),null;let e=new hw;return e.byteOffset=this._byteOffset,e.byteSize=A,e.dataBytes=new DataView(this.shareDataBuffer,this._byteOffset,e.byteSize),this._byteOffset+=e.byteSize,e}allocation_memory(A){return this._byteOffset+A.byteSize>this.shareDataBuffer.byteLength?(console.error("memory not enough!",this._byteOffset,A.byteSize,this.shareDataBuffer.byteLength),null):(A.byteOffset=this._byteOffset,A.dataBytes=new DataView(this.shareDataBuffer,this._byteOffset,A.byteSize),this._byteOffset+=A.byteSize,A)}reset(){this._byteOffset=0}destroy(A){this.shareDataBuffer=null,this._byteOffset=0}}class Kn{constructor(){a(this,"bufferType");a(this,"buffer");a(this,"memory");a(this,"memoryNodes");a(this,"seek");a(this,"outFloat32Array");a(this,"byteSize");a(this,"usage");a(this,"visibility",GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE);a(this,"mapAsyncBuffersOutstanding",0);a(this,"mapAsyncReady");a(this,"_readBuffer");a(this,"_dataView");a(this,"_readFlag",!1);this.mapAsyncReady=[]}debug(){}reset(A=!1,e=0,t){this.seek=0,this.memory.reset(),A&&this.createBuffer(this.usage,e,t)}setBoolean(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(1*4),this.memoryNodes.set(A,t)),t.setX(e?1:0)}setFloat(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(1*4),this.memoryNodes.set(A,t)),t.setX(e)}setInt8(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(1*1),this.memoryNodes.set(A,t)),t.setInt8(e)}setInt16(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(1*2),this.memoryNodes.set(A,t)),t.setInt16(e)}setInt32(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(1*4),this.memoryNodes.set(A,t)),t.setInt32(e)}setUint8(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(1*1),this.memoryNodes.set(A,t)),t.setUint8(e)}setUint16(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(1*2),this.memoryNodes.set(A,t)),t.setUint16(e)}setUint32(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(1*4),this.memoryNodes.set(A,t)),t.setUint32(e)}setVector2(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(2*4),this.memoryNodes.set(A,t)),t.setXY(e.x,e.y)}setVector3(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(3*4),this.memoryNodes.set(A,t)),t.setXYZ(e.x,e.y,e.z)}setVector4(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(4*4),this.memoryNodes.set(A,t)),t.setXYZW(e.x,e.y,e.z,e.w)}setVector4Array(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(4*4*e.length),this.memoryNodes.set(A,t)),t.setVector4Array(e)}setColor(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(4*4),this.memoryNodes.set(A,t)),t.setXYZW(e.r,e.g,e.b,e.a)}setColorArray(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(4*4*e.length),this.memoryNodes.set(A,t)),t.setColorArray(e)}setMatrix(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(16*4),this.memoryNodes.set(A,t)),t.setFloat32Array(0,e.rawData)}setMatrixArray(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(16*4*e.length),this.memoryNodes.set(A,t));for(let i=0;i<e.length;i++){const n=e[i];t.setFloat32Array(i*16,n.rawData)}}setArray(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(e.length*4),this.memoryNodes.set(A,t)),t.setArray(0,e)}setFloat32Array(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(e.length*4),this.memoryNodes.set(A,t)),t.setFloat32Array(0,e)}setInt32Array(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(e.length*4),this.memoryNodes.set(A,t)),t.setInt32Array(0,e)}setUint32Array(A,e){let t=this.memoryNodes.get(A);t||(t=this.memory.allocation_node(e.length*4),this.memoryNodes.set(A,t)),t.setUint32Array(0,e)}setStruct(A,e,t,i){let n=Mo.Ref(A);Mo.GetSize(A);let s=e,o=this.memoryNodes.get(s);o.reset();let u=t;i&&(u=u[i]);for(let l=0;l<n.length;l++){const c=n[l];let h=u[c.name];this.writeValue(o,c,h)}}writeValue(A,e,t){switch(e.type){case"Boolean":A.writeFloat(t);break;case"Number":A.writeFloat(t);break;case"Float32Array":A.writeFloat32Array(t);break;case"Vector2":A.writeVector2(t);break;case"Vector3":A.writeVector3(t);break;case"Vector4":A.writeVector4(t);break;case"Color":A.writeRGBColor(t);break;case"Array":A.writeArray(t);break}}setStructArray(A,e,t){let i=e.length;for(let n=0;n<i;n++){const s=e[n];this.setStruct(A,n,s,t)}}clean(){this._dataView.fill(0,0,this._dataView.length)}apply(){iA.device.queue.writeBuffer(this.buffer,0,this.memory.shareDataBuffer)}mapAsyncWrite(A,e){let t=iA.device;if(A.length>0){let i=null;for(;this.mapAsyncReady.length&&(i=this.mapAsyncReady.shift(),i.usedSize!=A.byteLength);)i.destroy(),this.mapAsyncBuffersOutstanding--,i=null;i||(i=t.createBuffer({size:A.byteLength,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.MAP_WRITE,mappedAtCreation:!0}),i.usedSize=A.byteLength,this.mapAsyncBuffersOutstanding++,this.mapAsyncBuffersOutstanding>10&&console.warn(` Warning: mapAsync requests from ${this.mapAsyncBuffersOutstanding} frames ago have not resolved yet.  MB of staging buffers allocated.`));let n=new Float32Array(A.buffer,A.byteOffset,e);new Float32Array(i.getMappedRange(0,e*4)).set(n),i.unmap();const s=t.createCommandEncoder();s.copyBufferToBuffer(i,0,this.buffer,0,e*4),t.queue.submit([s.finish()]),i.mapAsync(GPUMapMode.WRITE).then(()=>this.mapAsyncReady.push(i))}}destroy(A){this.memoryNodes&&this.memoryNodes.forEach(e=>{e.destroy()}),this.bufferType=null,this.seek=null,this.byteSize=null,this.usage=null,this.visibility=null,this.outFloat32Array=null,this.buffer&&this.buffer.destroy(),this.buffer=null,this.memory&&this.memory.destroy(),this.memory=null,this._readBuffer&&this._readBuffer.destroy()}createBuffer(A,e,t,i){let n=iA.device;this.buffer&&this.destroy(),this.byteSize=e*4,this.usage=A,this.buffer=n.createBuffer({label:i,size:this.byteSize,usage:A,mappedAtCreation:!1}),this.memory=new su,this.memoryNodes=new Map,this._dataView=new Float32Array(this.memory.shareDataBuffer),this.memory.allocation(this.byteSize),t&&(this.memory.allocation_node(t.length*4).setArrayBuffer(0,t),this.apply())}resizeBuffer(A,e){this.createBuffer(this.usage,A,e)}createNewBuffer(A,e){let t=iA.device,i=e*4,n=A;return this.buffer&&this.destroy(),t.createBuffer({size:i,usage:n,mappedAtCreation:!1})}createBufferByStruct(A,e,t){let i=Mo.GetSize(e),n=i*t,s=iA.device;this.buffer=s.createBuffer({label:"StructStorageGPUBuffer",size:n,usage:A,mappedAtCreation:!1}),this.memory=new su,this.memoryNodes=new Map,this._dataView=new Float32Array(this.memory.shareDataBuffer),this.memory.allocation(n);for(let o=0;o<t;o++){let u=o,l=this.memoryNodes.get(u);l||(l=this.memory.allocation_node(i),this.memoryNodes.set(u,l))}}readBuffer(){return this.outFloat32Array||(this.outFloat32Array=new Float32Array(this.memory.shareDataBuffer.byteLength/4)),this._readBuffer||(this._readBuffer=iA.device.createBuffer({size:this.memory.shareDataBuffer.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ,mappedAtCreation:!1})),this._readFlag||this.read(),this.outFloat32Array}async read(){this._readFlag=!0;let A=iA.device.createCommandEncoder();A.copyBufferToBuffer(this.buffer,0,this._readBuffer,0,this.memory.shareDataBuffer.byteLength),iA.device.queue.submit([A.finish()]),await this._readBuffer.mapAsync(GPUMapMode.READ);const e=this._readBuffer.getMappedRange();this.outFloat32Array.set(new Float32Array(e),0),this._readBuffer.unmap(),this._readFlag=!1}}var xi=(r=>(r[r.IndicesGPUBuffer=0]="IndicesGPUBuffer",r[r.VertexGPUBuffer=1]="VertexGPUBuffer",r[r.UniformGPUBuffer=2]="UniformGPUBuffer",r[r.StorageGPUBuffer=3]="StorageGPUBuffer",r[r.ComputeGPUBuffer=4]="ComputeGPUBuffer",r[r.MaterialDataUniformGPUBuffer=5]="MaterialDataUniformGPUBuffer",r[r.StructStorageGPUBuffer=6]="StructStorageGPUBuffer",r))(xi||{});class Bt extends Kn{constructor(A,e=0,t){super(),this.bufferType=xi.StorageGPUBuffer,this.createBuffer(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|e,A,t,"StorageGPUBuffer")}}class i1 extends Kn{constructor(A,e){super(),this.bufferType=xi.UniformGPUBuffer,this.createBuffer(GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC,A,e,"UniformGPUBuffer")}genUniformNodes(){}}class nr{static getMorphTargetShaderBinding(A,e){return`
            fn blendMorphTargetPosition(vertexID:i32, posIn:vec3<f32>) -> vec3<f32>{
                let offset:i32 = vertexID * 3;
                var pos = posIn * morphTargetConfig.morphBaseInfluence;
                pos += vec3<f32>(morphTargetOpPositions[offset], morphTargetOpPositions[offset + 1], morphTargetOpPositions[offset + 2]);
                return pos;
            }

            #if USE_MORPHNORMALS
                fn blendMorphTargetNormal(vertexID:i32, normalIn:vec3<f32>) -> vec3<f32>{
                    let offset:i32 = vertexID * 3;
                    var normal = normalIn * morphTargetConfig.morphBaseInfluence;
                    normal += vec3<f32>(morphTargetOpNormals[offset], morphTargetOpNormals[offset + 1], morphTargetOpNormals[offset + 2]);
                    return normal;
                }
            #endif

            struct MorphTargetConfigData {
                morphBaseInfluence:f32,
                morphTargetCount:f32,
                totalVertexCount:f32,
                computeWorkGroupXY:f32,
            };
            
            @group(${A}) @binding(${e})
            var<uniform> morphTargetConfig: MorphTargetConfigData;
            
            @group(${A}) @binding(${e+1})
            var<storage,read> morphTargetOpPositions: array<f32>;

            #if USE_MORPHNORMALS
                @group(${A}) @binding(${e+2})
                var<storage,read> morphTargetOpNormals: array<f32>;
            #endif
`}static getMorphTargetCalcVertex(){return`
            vertexPosition = blendMorphTargetPosition(i32(vertex.vIndex), vertexPosition);

            #if USE_MORPHNORMALS
                vertexNormal = blendMorphTargetNormal(i32(vertex.vIndex), vertexNormal);
            #endif
        `}}a(nr,"CsMain",`
        struct MorphTargetConfigData {
            morphBaseInfluence:f32,
            morphTargetCount:f32,
            totalVertexCount:f32,
            computeWorkGroupXY:f32,
        };

        @group(0) @binding(0) var<uniform> morphTargetConfig: MorphTargetConfigData;
        @group(0) @binding(1) var<storage, read> morphTargetInfluence : array<f32>;
        @group(0) @binding(2) var<storage, read> morphTargetPositions : array<f32>;
        @group(0) @binding(3) var<storage, read_write> morphTargetOpPositions : array<f32>;
        
        #if USE_MORPHNORMALS
            @group(0) @binding(4) var<storage, read> morphTargetNormals : array<f32>;
            @group(0) @binding(5) var<storage, read_write> morphTargetOpNormals : array<f32>;
        #endif
        
        @compute @workgroup_size( 8 , 8 , 1 )
        fn CsMain(@builtin(global_invocation_id) globalInvocation_id : vec3<u32>)
        {
            let vertexIndex:i32 = i32(globalInvocation_id.y) * i32(morphTargetConfig.computeWorkGroupXY) + i32(globalInvocation_id.x);
        
            let morphTargetCount:i32 = i32(morphTargetConfig.morphTargetCount);
            let totalVertexCount:i32 = i32(morphTargetConfig.totalVertexCount);
            var vertexPosition:vec3<f32> = vec3<f32>(0.0);
            var vertexNormal:vec3<f32> = vec3<f32>(0.0);
            if(vertexIndex < totalVertexCount)
            {
                for(var i:i32 = 0; i < morphTargetCount; i ++){
                    let offset:i32 = (i * totalVertexCount + vertexIndex) * 3;
                    let morphPosition = vec3<f32>(morphTargetPositions[offset], morphTargetPositions[offset + 1], morphTargetPositions[offset + 2]);
                    vertexPosition += morphTargetInfluence[i] * morphPosition;
                }

                var writeOffset = vertexIndex * 3;
                //op position
                morphTargetOpPositions[writeOffset] = vertexPosition.x;
                morphTargetOpPositions[writeOffset + 1] = vertexPosition.y;
                morphTargetOpPositions[writeOffset + 2] = vertexPosition.z;

                #if USE_MORPHNORMALS
                    for(var i:i32 = 0; i < morphTargetCount; i ++){
                        let offset:i32 = (i * totalVertexCount + vertexIndex) * 3;
                        let morphNormal = vec3<f32>(morphTargetNormals[offset], morphTargetNormals[offset + 1], morphTargetNormals[offset + 2]);
                        vertexNormal += morphTargetInfluence[i] * morphNormal;
                    }

                    //op normal
                    morphTargetOpNormals[writeOffset] = vertexNormal.x;
                    morphTargetOpNormals[writeOffset + 1] = vertexNormal.y;
                    morphTargetOpNormals[writeOffset + 2] = vertexNormal.z;
                #endif
            }
        }
`);let ii=function(r=16,A=16){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=[],i;if(A=A||e.length,r)for(i=0;i<r;i++)t[i]=e[0|Math.random()*A];else{var n;for(t[8]=t[13]=t[18]=t[23]="-",t[14]="4",i=0;i<36;i++)t[i]||(n=0|Math.random()*16,t[i]=e[i==19?n&3|8:n])}return t.join("")},cg=1e6,W3=function(){return cg++,cg},dw=(...r)=>function(...A){r.forEach(e=>e.apply(this,A))};const ne=class ne{constructor(A=0,e=0){a(this,"x",0);a(this,"y",0);this.x=A,this.y=e}static getAngle(A,e){return Math.atan2(e.y-A.y,e.x-A.x)}static slerp(A,e,t){let i=new ne,n=A.dot(e);if(n<0&&(e.x=-e.x,e.y=-e.y,n=-n),n>.9995)return i.x=A.x+t*(e.x-A.x),i.y=A.y+t*(e.y-A.y),i;let s=Math.acos(n),o=Math.sin(s),u=Math.sin((1-t)*s)/o,l=Math.sin(t*s)/o;return i.x=u*A.x+l*e.x,i.y=u*A.y+l*e.y,i}static lerp(A,e,t){return ne.HELP_0.copyFrom(A),ne.HELP_1.copyFrom(e),ne.HELP_0.scale(t),ne.HELP_1.scale(1-t),new ne(ne.HELP_0.x+ne.HELP_1.x,ne.HELP_0.y+ne.HELP_1.y)}set(A=0,e=0){return this.x=A,this.y=e,this}distance(A){return Math.sqrt(Math.pow(this.x-A.x,2)+Math.pow(this.y-A.y,2))}add(A,e){return e=e||new ne,e.x=this.x+A.x,e.y=this.y+A.y,e}sub(A,e){return e=e||new ne,e.x=this.x-A.x,e.y=this.y-A.y,e}scale(A){return this.x=this.x*A,this.y=this.y*A,this}multiply(A,e){return e=e||new ne,e.x=this.x*A,e.y=this.y*A,e}multiplyScaler(A){return this.x*=A,this.y*=A,this}divide(A,e){return e=e||new ne,e.x=this.x/A,e.y=this.y/A,e}neg(A){return A||(A=new ne),A.x=-A.x,A.y=-A.y,A}abs(){return Math.sqrt(this.x*this.x+this.y*this.y)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}getAngle(A){return Math.atan2(A.y-this.y,A.x-this.x)}unt(A){A=A||new ne;let e=this.abs();return A.x=this.x/e,A.y=this.y/e,A}angleTo(A){let e=A.x-this.x,t=A.y-this.y;return Math.atan2(t,e)}equals(A){return Math.abs(this.x-A.x)<1e-6&&Math.abs(this.y-A.y)<1e-6}pal(A){let e=this.unt(),t=A.unt();return e.equals(t)?1:e.equals(t.neg())?-1:0}clone(){return new ne(this.x,this.y)}copyFrom(A){return this.x=A.x,this.y=A.y,this}dot(A){return this.x*A.x+this.y*A.y}normalize(){let A=this.abs();return this.x=this.x/A,this.y=this.y/A,this}addInPlace(A){return this.x+=A.x,this.y+=A.y,this}addScalar(A){return this.x+=A,this.y+=A,this}clampScalar(A,e){return this.x=Math.max(A,Math.min(e,this.x)),this.y=Math.max(A,Math.min(e,this.y)),this}};a(ne,"HELP_0",new ne),a(ne,"HELP_1",new ne),a(ne,"HELP_2",new ne),a(ne,"ZERO",new ne(0,0)),a(ne,"SAFE_MAX",new ne(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)),a(ne,"SAFE_MIN",new ne(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER));let Ge=ne;const UA=class UA{constructor(A=0,e=0,t=0,i=0){a(this,"x",0);a(this,"y",0);a(this,"z",0);a(this,"w",1);this.x=A,this.y=e,this.z=t,this.w=i}get width(){return this.z}get height(){return this.w}static crossVectors(A,e,t){t=t||new UA;var i=A.x,n=A.y,s=A.z,o=e.x,u=e.y,l=e.z;return t.x=n*l-s*u,t.y=s*o-i*l,t.z=i*u-n*o,t}static distance(A,e){let t=A.x-e.x,i=A.y-e.y,n=A.z-e.z,s=A.w-e.w;return Math.sqrt(t*t+i*i+n*n+s*s)}set(A,e,t,i){return this.x=A,this.y=e,this.z=t,this.w=i,this}multiplyScalar(A){return this.x*=A,this.y*=A,this.z*=A,this.w*=A,this}copyFrom(A){return this.x=A.x,this.y=A.y,this.z=A.z,this.w=A.w,this}clone(){return new UA(this.x,this.y,this.z,this.w)}};a(UA,"X_AXIS",new UA(1,0,0)),a(UA,"Y_AXIS",new UA(0,1,0)),a(UA,"Z_AXIS",new UA(0,0,1)),a(UA,"HELP_0",new UA),a(UA,"HELP_1",new UA),a(UA,"HELP_2",new UA),a(UA,"EPSILON",1e-5),a(UA,"HELP_3",new UA),a(UA,"HELP_4",new UA),a(UA,"HELP_5",new UA),a(UA,"HELP_6",new UA),a(UA,"ZERO",new UA),a(UA,"ONE",new UA(1,1,1,1)),a(UA,"LEFT",new UA(-1,0,0)),a(UA,"RIGHT",new UA(1,0,0)),a(UA,"UP",new UA(0,-1,0)),a(UA,"DOWN",new UA(0,1,0)),a(UA,"BACK",new UA(0,0,-1)),a(UA,"FORWARD",new UA(0,0,1));let XA=UA;var Pt=(r=>(r[r.Number=0]="Number",r[r.Vector2=1]="Vector2",r[r.Vector3=2]="Vector3",r[r.Vector4=3]="Vector4",r[r.Color=4]="Color",r[r.Float32Array=5]="Float32Array",r))(Pt||{});class ts{constructor(A){a(this,"size");a(this,"memoryInfo");a(this,"bindOnChange");a(this,"_data");a(this,"_type",Pt.Number);a(this,"_x",0);a(this,"_y",0);a(this,"_z",0);a(this,"_w",0);this.data=A}get data(){return this._data}set data(A){this._data=A,this._type=Pt.Number,A instanceof Ge?(this.size=2,this._x=A.x,this._y=A.y,this._type=Pt.Vector2):A instanceof I?(this.size=3,this._x=A.x,this._y=A.y,this._z=A.z,this._type=Pt.Vector3):A instanceof XA?(this.size=4,this._x=A.x,this._y=A.y,this._z=A.z,this._w=A.w,this._type=Pt.Vector4):A instanceof fA?(this.size=4,this._x=A.r,this._y=A.g,this._z=A.b,this._w=A.a,this._type=Pt.Color):A instanceof Float32Array?(this.size=A.length,this._type=Pt.Float32Array):(this.size=1,this._x=A,this._data=A,this._type=Pt.Number)}getColor(A){return A?A.copyFrom(this._data):A=this._data,A}get color(){return new fA(this._data.r,this._data.g,this._data.b,this._data.a)}set color(A){(this._x!=A.r||this._y!=A.g||this._z!=A.b||this._w!=A.a)&&(this._data.r=A.r,this._data.g=A.g,this._data.b=A.b,this._data.a=A.a,this._x=A.r,this._y=A.g,this._z=A.b,this._w=A.a,this.onChange())}get value(){return this._x}set value(A){this._x!=A&&(this._data=A,this._x=A,this.onChange())}get vector2(){return this._data}set vector2(A){(this._x!=A.x||this._y!=A.y)&&(this._data.x=A.x,this._data.y=A.y,this._x=A.x,this._y=A.y,this.onChange())}get vector3(){return this._data}set vector3(A){(this._x!=A.x||this._y!=A.y||this._z!=A.z)&&(this._data.x=A.x,this._data.y=A.y,this._data.z=A.z,this._x=A.x,this._y=A.y,this._z=A.z,this.onChange())}get vector4(){return this._data}set vector4(A){(this._x!=A.x||this._y!=A.y||this._z!=A.z||this._w!=A.w)&&(this._data.x=A.x,this._data.y=A.y,this._data.z=A.z,this._data.w=A.w,this._x=A.x,this._y=A.y,this._z=A.z,this._w=A.w,this.onChange())}onChange(){this.bindOnChange&&this.bindOnChange()}float32Array(A){this._data.set(A),this.onChange()}update(){switch(this._type){case Pt.Number:this.memoryInfo.dataBytes.setFloat32(0*Float32Array.BYTES_PER_ELEMENT,this._data,!0);break;case Pt.Vector2:this.memoryInfo.setVector2(0,this._data);break;case Pt.Vector3:this.memoryInfo.setVector3(0,this._data);break;case Pt.Vector4:this.memoryInfo.setVector4(0,this._data);break;case Pt.Color:this.memoryInfo.setColor(0,this._data);break;case Pt.Float32Array:this.memoryInfo.setFloat32Array(0,this._data);break}}}class Y3{constructor(){a(this,"instanceID");a(this,"shaderVariant");a(this,"vsEntryPoint","main");a(this,"fsEntryPoint","main");a(this,"bindGroups");a(this,"shaderReflection");a(this,"defineValue");a(this,"constValues");a(this,"uniforms");a(this,"materialDataUniformBuffer");a(this,"_bufferDic");a(this,"_shaderChange",!0);a(this,"_valueChange",!1);this.instanceID=ii(),this.defineValue={},this.constValues={},this.uniforms={},this._bufferDic=new Map}noticeShaderChange(){this._shaderChange=!0}noticeValueChange(){this._valueChange=!0}setStorageBuffer(A,e){this._bufferDic.has(A)?this._bufferDic.set(A,e):(this._bufferDic.set(A,e),this.noticeBufferChange(A))}setStructStorageBuffer(A,e){this._bufferDic.has(A)?(this._bufferDic.set(A,e),this.noticeBufferChange(A)):this._bufferDic.set(A,e)}setUniformBuffer(A,e){this._bufferDic.has(A)?(this._bufferDic.set(A,e),this.noticeBufferChange(A)):this._bufferDic.set(A,e)}setDefine(A,e){(this.defineValue[A]==null||this.defineValue[A]!=e)&&(this.defineValue[A]=e,this.noticeValueChange(),this.noticeShaderChange()),this.defineValue[A]=e}hasDefine(A){return this.defineValue[A]!=null}deleteDefine(A){delete this.defineValue[A],this.noticeShaderChange()}setUniformFloat(A,e){this.uniforms[A]?this.uniforms[A].value=e:(this.uniforms[A]=new ts(e),this.noticeValueChange())}setUniformVector2(A,e){this.uniforms[A]?this.uniforms[A].vector2=e:(this.uniforms[A]=new ts(e),this.noticeValueChange())}setUniformVector3(A,e){this.uniforms[A]?this.uniforms[A].vector3=e:this.uniforms[A]=new ts(e)}setUniformVector4(A,e){this.uniforms[A]?this.uniforms[A].vector4=e:this.uniforms[A]=new ts(e)}setUniformColor(A,e){this.uniforms[A]?this.uniforms[A].color=e:this.uniforms[A]=new ts(e)}setUniformArray(A,e){this.uniforms[A]?this.uniforms[A].float32Array(e):this.uniforms[A]=new ts(e)}setUniform(A,e){this.uniforms[A]?this.uniforms[A].data=e:this.uniforms[A]=new ts(e)}getUniform(A){return this.uniforms[A].data}getUniformFloat(A){return this.uniforms[A].data}getUniformVector2(A){return this.uniforms[A].data}getUniformVector3(A){return this.uniforms[A].data}getUniformVector4(A){return this.uniforms[A].data}getUniformColor(A){return this.uniforms[A].color}getBuffer(A){return this._bufferDic[A].data}noticeBufferChange(A){}applyUniform(){this.materialDataUniformBuffer&&this._valueChange&&this.materialDataUniformBuffer.apply()}destroy(A){}}var xs=(r=>(r[r.u32=1]="u32",r[r.f32=1]="f32",r[r["vec2<f32>"]=2]="vec2<f32>",r[r["vec3<f32>"]=3]="vec3<f32>",r[r["vec4<f32>"]=4]="vec4<f32>",r[r.float32=1]="float32",r[r.float32x2=2]="float32x2",r[r.float32x3=3]="float32x3",r[r.float32x4=4]="float32x4",r))(xs||{});let fw=[null,qu.float32,qu.float32x2,qu.float32x3,qu.float32x4],pw=`
        var<private> colorSet : array<vec3<f32>, 9> = array<vec3<f32>, 9>(
            vec3<f32>(1.0, 0.0, 0.0),
            vec3<f32>(1.0, 0.5, 0.0),
            vec3<f32>(0.5, 1.0, 0.0),
            vec3<f32>(0.0, 1.0, 0.0),
            vec3<f32>(0.0, 1.0, 0.5),
            vec3<f32>(0.0, 0.5, 1.0),
            vec3<f32>(0.0, 0.0, 1.0),
            vec3<f32>(0.5, 0.0, 1.0),
            vec3<f32>(1.0, 0.0, 0.5)
        );

        #if DEBUG_CLUSTER
        fn debugCluster(fragCoord:vec4<f32>) {
            #if USE_LIGHT
              var tileID : u32 = getClusterId3().z;
              let clusterDebug = vec4<f32>(colorSet[tileID % 9u], 1.0);
              ORI_FragmentOutput.color = clusterDebug ;
            #endif
          }
      
          fn debugClusterBox(fragCoord:vec4<f32>) {
            #if USE_LIGHT
              let clusterId3 : vec3<u32> = getClusterId3();
              let px = f32(clusterId3.x) / clustersUniform.clusterTileX ;
              let py = f32(clusterId3.y) / clustersUniform.clusterTileY ;
              let pz = f32(clusterId3.z) / clustersUniform.clusterTileZ ;
              ORI_FragmentOutput.color = vec4<f32>(px,py,pz, 1.0);

              var screenUV = ORI_VertexVarying.fragCoord.xy / vec2<f32>( globalUniform.windowWidth , globalUniform.windowHeight );
              ORI_FragmentOutput.color = vec4<f32>(screenUV.x,screenUV.y,0.0, 1.0);

              // let clusterId : u32 = getClusterIndex();
              // let cluster = clusterBuffer[clusterId];
        
              // let midPoint : vec3<f32> = (cluster.maxPoint.xyz - cluster.minPoint.xyz) * vec3<f32>(0.5);
              // let center : vec3<f32> = cluster.minPoint.xyz + midPoint;
              // let radius : f32 = length(midPoint) ;
        
              // let fragToBoundsCenter : vec3<f32> = ORI_VertexVarying.viewPosition.xyz - center;
              // let distToBoundsCenter : f32 = length(fragToBoundsCenter);
              // let normDist : f32 = distToBoundsCenter / radius;
              // ORI_FragmentOutput.color = vec4<f32>(normDist,normDist,normDist, 1.0);
            #endif
          }
      
          fn debugClusterLightCount(fragCoord:vec4<f32>){
            #if USE_LIGHT
            //LightIndex
              let cluster : LightIndex = getCluster();
              let lightCount : u32 = u32(cluster.count);
              let lightFactor : f32 = f32(lightCount) / f32(clustersUniform.maxNumLightsPerCluster);
              ORI_FragmentOutput.color =  mix(vec4<f32>(0.0, 0.0,0.0, 1.0), vec4<f32>(1.0, 1.0, 1.0, 1.0), vec4<f32>(lightFactor, lightFactor, lightFactor, lightFactor));
            #endif
          }
          #endif
    `;class Jl{}a(Jl,"sky_vs_frag_wgsl",`
    #include "WorldMatrixUniform"
    #include "GlobalUniform"

    struct VertexOutput {
      @location(auto) fragUV: vec2<f32>,
      @location(auto) vWorldPos: vec4<f32>,
      @location(auto) vWorldNormal: vec3<f32>,
      @builtin(position) member: vec4<f32>
    };

    var<private> ORI_VertexOut: VertexOutput ;

    @vertex
    fn main( 
      @builtin(instance_index) index : u32,
      @location(auto) position: vec3<f32>,
      @location(auto) normal: vec3<f32>,
      @location(auto) uv: vec2<f32>
    ) -> VertexOutput {
      ORI_VertexOut.fragUV = uv;
      let modelMat = models.matrix[u32(index)];
      let vm = globalUniform.viewMat * modelMat;
      let normalMatrix = mat3x3<f32>(vm[0].xyz,vm[1].xyz,vm[2].xyz);
	    ORI_VertexOut.vWorldNormal = normalize( normalMatrix * normal );
      ORI_VertexOut.vWorldPos = modelMat * vec4<f32>(position.xyz,1.0) ;

      var fixProjMat = globalUniform.projMat ;
      fixProjMat[2].z = 1.0 ;//99999.0 / (99999.0 - 1.0) ;
      fixProjMat[3].z = -1.0 ;//(-1.0 * 99999.0) / (99999.0 - 1.0) ;

      var fixViewMat = globalUniform.viewMat ;
      fixViewMat[3].x = 0.0 ;
      fixViewMat[3].y = 0.0 ;
      fixViewMat[3].z = 0.0 ;

      var clipPos = fixProjMat * fixViewMat * ORI_VertexOut.vWorldPos;
      ORI_VertexOut.member = clipPos;
      return ORI_VertexOut;
    }
  `),a(Jl,"sky_fs_frag_wgsl",`
    #include "GlobalUniform"

    struct uniformData {
        exposure: f32,
        roughness: f32
    };

    struct FragmentOutput {
        @location(auto) o_Target: vec4<f32>,
        #if USE_WORLDPOS
          @location(auto) o_Position: vec4<f32>,
        #endif
        #if USEGBUFFER
          @location(auto) o_Normal: vec4<f32>,
          @location(auto) o_Material: vec4<f32>
        #endif
    };

    @group(1) @binding(0)
    var baseMapSampler: sampler;
    @group(1) @binding(1)
    var baseMap: texture_cube<f32>;

    @group(2) @binding(0)
    var<uniform> global: uniformData;

    fn LinearToGammaSpace(linRGB: vec3<f32>) -> vec3<f32> {
      var linRGB1 = max(linRGB, vec3<f32>(0.0));
      linRGB1 = pow(linRGB1, vec3<f32>(0.4166666567325592));
      return max(((1.0549999475479126 * linRGB1) - vec3<f32>(0.054999999701976776)), vec3<f32>(0.0));
    }

    @fragment
    fn main(@location(auto) fragUV: vec2<f32>, @location(auto) vWorldPos: vec4<f32>, @location(auto) vWorldNormal: vec3<f32>) -> FragmentOutput {
        let maxLevel: u32 = textureNumLevels(baseMap);
        var textureColor:vec3<f32> = textureSampleLevel(baseMap, baseMapSampler, normalize(vWorldPos.xyz), global.roughness * f32(maxLevel) ).xyz;
        #if IS_HDR_SKY
        textureColor = LinearToGammaSpace(textureColor);
        #endif
        let o_Target: vec4<f32> =vec4<f32>(textureColor, 1.0) * globalUniform.skyExposure ;
        var normal_rgba8unorm = (vWorldNormal + 1.0) * 0.5;
        normal_rgba8unorm = clamp(normal_rgba8unorm, vec3<f32>(0.0), vec3<f32>(1.0));

        return FragmentOutput(
          o_Target,
          #if USE_WORLDPOS
              vWorldPos,
          #endif
          #if USEGBUFFER
              vec4<f32>(normal_rgba8unorm,0.0),
              vec4<f32>(0.0,1.0,0.0,0.0)
          #endif
        );
    }
    `);let gw=`
#include "BRDF_frag"
#include "ClusterLight"
#include "ShadowMapping_frag"

#if USE_IES_PROFILE
  #include "IESProfiles_frag"
#endif



const LUMEN = 10.764;



fn calcAttenuation( d : f32 ,  falloffStart : f32 ,  falloffEnd : f32)-> f32
{
    // Linear falloff.
    return saturate((falloffEnd-d) / (falloffEnd - falloffStart));
}

fn directLighting( albedo:vec3<f32>, N:vec3<f32>, V:vec3<f32>,  roughness:f32 , metallic:f32 , light:LightData , shadowBias:f32 ) -> vec3<f32> {
    var color = vec3<f32>(0.0) ;
    #if USE_LIGHT
      var L = -normalize(light.direction.xyz) ;
      let lightCC = pow( light.lightColor.rgb,vec3<f32>(2.2));
      var lightColor = getHDRColor( lightCC.rgb , light.linear )  ;
      var att = light.intensity / LUMEN ;
      if(light.castShadow>=0){
          #if USE_SHADOWMAPING
            for (var j: i32 = 0; j < 8; j += 1) {
                if(j == light.castShadow){
                  att *= shadowStrut.directShadowVisibility[j] ; 
                }
            }
          #endif
      }

      #if USE_LAMBERT
        color = vec3<f32>(1.0,1.0,1.0) ;
      #endif 
      
      #if USE_BRDF
        color = simpleBRDF(albedo,N,V,L,att,lightColor,roughness,metallic) ;
      #endif 
    #endif 
    return color;
}

fn directDulLighting( albedo:vec3<f32>, N:vec3<f32>, V:vec3<f32>,  roughness:f32 , metallic:f32 , light:LightData , shadowBias:f32 ) -> vec3<f32> {
  var color = vec3<f32>(0.0) ;
  #if USE_LIGHT
    var L = -normalize(light.direction.xyz) ;
    let lightCC = pow( light.lightColor.rgb,vec3<f32>(2.2));
    var lightColor = getHDRColor( lightCC.rgb , light.linear )  ;
    var att = light.intensity / LUMEN ;
    if(light.castShadow>=0){
        #if USE_SHADOWMAPING
          for (var j: i32 = 0; j < 8; j += 1) {
              if(j == light.castShadow){
                att *= shadowStrut.directShadowVisibility[j] ; 
              }
          }
        #endif
    }
    #if USE_LAMBERT
      color = vec3<f32>(1.0,1.0,1.0) ;
    #endif 
    
    #if USE_BRDF
      color = 0.85 * simpleBRDF(albedo,N,V,L,att,lightColor,0.85 * roughness,metallic) ;
      color += 0.15 * simpleBRDF(albedo,N,V,L,att,lightColor,0.15 * roughness,metallic) ;
    #endif 
  #endif 
  return color;
}

fn directHairLighting( albedo:vec3<f32>, N:vec3<f32>, V:vec3<f32>,  roughness:f32 , metallic:f32 , light:LightData , shadowBias:f32 ) -> vec3<f32> {
  var color = vec3<f32>(0.0) ;
  #if USE_LIGHT
    var L = -normalize(light.direction.xyz) ;
    let lightCC = pow( light.lightColor.rgb,vec3<f32>(2.2));
    var lightColor = getHDRColor( lightCC.rgb , light.linear )  ;
    var att = light.intensity / LUMEN ;
    if(light.castShadow>=0){
        #if USE_SHADOWMAPING
          for (var j: i32 = 0; j < 8; j += 1) {
              if(j == light.castShadow){
                att *= shadowStrut.directShadowVisibility[j] ; 
              }
          }
        #endif
    }
    #if USE_LAMBERT
      color = vec3<f32>(1.0,1.0,1.0) ;
    #endif 
    
    #if USE_BRDF
      color = 0.5 * simpleBRDF(albedo,N,V,L,att,lightColor,0.85 ,metallic) ;
      color += 0.5 * simpleBRDF(albedo,N,V,L,att,lightColor,0.15 ,metallic) ;
    #endif 
  #endif 
  return color;
}


fn pointLighting( albedo:vec3<f32>,WP:vec3<f32>, N:vec3<f32>, V:vec3<f32>, roughness:f32 , metallic:f32 ,light:LightData ) -> vec3<f32> {
    var color = vec3<f32>(0.0) ;
    let lightPos = light.position.xyz;
    var dir = lightPos.xyz - WP ;
    let dist = length(dir);
    if(dist != 0.0){
      dir *= 1.0 / dist ;
    }
    if( abs(dist) < light.range ){
        var L = dir ;
        var atten = 1.0 ;
        atten = 1.0 - smoothstep(0.0,light.range,dist) ;
        atten *= 1.0 / max(light.radius,0.001) * light.intensity / LUMEN;
        if( light.castShadow >= 0 )
        {
            #if USE_SHADOWMAPING
              // atten *= shadowStrut.pointShadows[light.castShadow] ; 
              for (var j: i32 = 0; j < 8; j += 1) {
                  if(j == light.castShadow){
                    atten *= shadowStrut.pointShadows[j] ; 
                  }
              }
            #endif
        }

        #if USE_IES_PROFILE
          atten *= getLightIESProfileAtt(WP,light);
        #endif

        var lightColor = light.lightColor.rgb  ;
        lightColor = getHDRColor(lightColor , light.linear )  ;

        #if USE_LAMBERT
          color = vec3<f32>(1.0,1.0,1.0) ;
        #endif 

        #if USE_BRDF
          color = (simpleBRDF(albedo,N,V,L,atten,lightColor,roughness,metallic))  ;
        #endif 
    } 
    return color ;
}

fn getDistanceAtten(  light:LightData , dist : f32 ) -> f32 {
  return 1.0 - smoothstep(0.0,light.range,dist) ;
}

fn spotLighting( albedo:vec3<f32>,WP:vec3<f32>, N:vec3<f32>, V:vec3<f32>, roughness:f32 , metallic:f32 ,light:LightData ) -> vec3<f32> {
    let lightPos = light.position.xyz;
    var dir = lightPos.xyz - WP ;
    let dist = length(dir) ;
    if(dist != 0.0){
      dir *= 1.0 / dist ;
    }
    var color = vec3<f32>(0.0) ;
    if( abs(dist) < light.range * 2.0 ){
        var L = dir ;
        let theta = dot(-L, normalize(light.direction));
        let angle = acos(theta) ;
        var atten = 1.0 ;
        var lightColor = light.lightColor.rgb  ;

        atten = 1.0 - smoothstep(0.0,light.range,dist) ;
        atten *= 1.0 / max(light.radius,0.1) * light.intensity / LUMEN;
        if(angle < light.outerCutOff){
          if(angle > light.innerCutOff){
            atten *= 1.0 - smoothstep(light.innerCutOff, light.outerCutOff, angle) ;
          }
        }else{
            atten = 0.0 ;
        }

        if( light.castShadow >= 0 )
        {
            #if USE_SHADOWMAPING
            for (var j: i32 = 0; j < 8; j += 1) {
                if(j == light.castShadow){
                  atten *= shadowStrut.pointShadows[j] ; 
                }
            }
          #endif
        }

        #if USE_IES_PROFILE
            atten *= getLightIESProfileAtt(WP,light);
        #endif

        lightColor = getHDRColor(lightColor , light.linear ) ;

        #if USE_LAMBERT
          color = vec3<f32>(1.0,0.5,1.0) ;
        #endif 

        #if USE_BRDF
          color = (simpleBRDF(albedo,N,V,L,atten,lightColor,roughness,metallic)) ;
        #endif 
    }
    return  color ;
}
`,mw=`


fn applyQuaternion(position:vec3<f32>, q:vec4<f32>) -> vec3<f32>{
  let x:f32 = position.x;
  let y:f32 = position.y;
  let z:f32 = position.z;

  let qx:f32 = q.x;
  let qy:f32 = q.y;
  let qz:f32 = q.z;
  let qw:f32 = q.w;

  let ix:f32 = qw * x + qy * z - qz * y;
  let iy:f32 = qw * y + qz * x - qx * z;
  let iz:f32 = qw * z + qx * y - qy * x;
  let iw:f32 = -qx * x - qy * y - qz * z;

  var ret: vec3<f32>;
  ret.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
  ret.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
  ret.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;

  return ret;
}

fn inverse( m:mat3x3<f32>) -> mat3x3<f32>{
  var a00 = m[0][0];
  var a01 = m[0][1];
  var a02 = m[0][2];
  var a10 = m[1][0];
  var a11 = m[1][1];
  var a12 = m[1][2];
  var a20 = m[2][0];
  var a21 = m[2][1];
  var a22 = m[2][2];

  var b01 = a22 * a11 - a12 * a21;
  var b11 = -a22 * a10 + a12 * a20;
  var b21 = a21 * a10 - a11 * a20;

  var det = a00 * b01 + a01 * b11 + a02 * b21 ;
  return mat3x3<f32>(
      vec3<f32>(b01/ det, (-a22 * a01 + a02 * a21)/ det, (a12 * a01 - a02 * a11)/ det),
      vec3<f32>(b11/ det, (a22 * a00 - a02 * a20)/ det, (-a12 * a00 + a02 * a10)/ det),
      vec3<f32>(b21/ det, (-a21 * a00 + a01 * a20)/ det, (a11 * a00 - a01 * a10)/ det)
  );
}

fn dir_to_faceId(pt:vec3<f32>) -> i32 {
    //**** nx px ny py nz pz
    var abs_x = abs(pt.x);
    var abs_y = abs(pt.y);
    var abs_z = abs(pt.z);
    var coord = max(max(abs_x, abs_y), abs_z);
    if(coord == -pt.x){  return 0;}
    if(coord == pt.x) { return 1;}

    if(coord == -pt.y){  return 2;}
    if(coord == pt.y) { return 3;}

    if(coord == -pt.z) { return 4;}
    return 5;
  }

  fn convert_xyz_to_cube_uv(x:f32, y:f32, z:f32 ) -> vec2<f32>
  {
    var dir = vec3<f32>(x, y, z);
    var absX = abs(dir.x);
    var absY = abs(dir.y);
    var absZ = abs(dir.z);

    var isXPositive = 0;
    if(dir.x > 0.0){isXPositive = 1;}
    var isYPositive = 0;
    if(dir.y > 0.0){isYPositive = 1;}
    var isZPositive = 0;
    if(dir.z > 0.0){isZPositive = 1;}

    var maxAxis:f32 = 0.0;
    var uc:f32 = 0.0;
    var vc:f32 = 0.0;

    // POSITIVE X
    if (isXPositive == 1 && absX >= absY && absX >= absZ) {
      // u (0 to 1) goes from +z to -z
      // v (0 to 1) goes from -y to +y
      maxAxis = absX;
      uc = -z;
      vc = y;
    }
    // NEGATIVE X
    if (isXPositive ==0 && absX >= absY && absX >= absZ) {
      // u (0 to 1) goes from -z to +z
      // v (0 to 1) goes from -y to +y
      maxAxis = absX;
      uc = z;
      vc = y;
    }
    // POSITIVE Y
    if (isYPositive==1 && absY >= absX && absY >= absZ) {
      // u (0 to 1) goes from -x to +x
      // v (0 to 1) goes from +z to -z
      maxAxis = absY;
      uc = x;
      vc = -z;
    }
    // NEGATIVE Y
    if (isYPositive ==0 && absY >= absX && absY >= absZ) {
      // u (0 to 1) goes from -x to +x
      // v (0 to 1) goes from -z to +z
      maxAxis = absY;
      uc = x;
      vc = z;
    }
    // POSITIVE Z
    if (isZPositive == 1&& absZ >= absX && absZ >= absY) {
      // u (0 to 1) goes from -x to +x
      // v (0 to 1) goes from -y to +y
      maxAxis = absZ;
      uc = x;
      vc = y;
    }
    // NEGATIVE Z
    if (isZPositive ==0 && absZ >= absX && absZ >= absY) {
      // u (0 to 1) goes from +x to -x
      // v (0 to 1) goes from -y to +y
      maxAxis = absZ;
      uc = -x;
      vc = y;
    }

    // Convert range from -1 to 1 to 0 to 1
    var u = 0.5f * (uc / maxAxis + 1.0f);
    var v = 0.5f * (vc / maxAxis + 1.0f);

    return vec2(u, v);
  }

    // Returns 1
    fn signNotZero( v1:vec2<f32>) -> vec2<f32> {
        var v:vec2<f32> = v1;
        if(v.x >= 0.0){
            v.x = 1.0;
        }else{
            v.x = -1.0;
        }
        if(v.y >= 0.0){
            v.y = 1.0;
        }else{
            v.y= -1.0;
        }
        return v;
    }

    fn octEncode( v:vec3<f32> ) -> vec2<f32> {
        var l1norm = abs(v.x) + abs(v.y) + abs(v.z);
        var result = v.xy * (1.0 / l1norm);
        if (v.z < 0.0) {
            result = (1.0 - abs(result.yx)) * signNotZero(result.xy);
        }
        return result;
    }

    // Returns a unit vector. Argument o is an octahedral vector packed via octEncode,on the [-1, +1] square*/
    fn octDecode( o:vec2<f32> ) -> vec3<f32> {
        var v = vec3<f32>(o.x, o.y, 1.0 - abs(o.x) - abs(o.y));
        if (v.z < 0.0) {
            var tmp = (1.0 - abs(v.yx)) * signNotZero(v.xy);
            v.x = tmp.x;
            v.y = tmp.y;
        }
        return normalize(v);
    }

    fn Linear01Depth(z:f32,near:f32,far:f32)-> f32{
        let ZBufferZ = (-1.0+(far/near)) / far;
        let ZBufferW = near /far ;
        return 1.0 / (ZBufferZ * z + ZBufferW) ;
    }

    
    fn LinearizeDepth( depth:f32 , nearPlane:f32 , farPlane:f32 )-> f32 {
      var z = depth * 2.0 - 1.0;
      return (2.0 * nearPlane * farPlane) / (farPlane + nearPlane - z * (farPlane - nearPlane));
    }

    fn logDepth(depth : f32, far:f32) -> f32 {
      return log2(depth + 1.0) * 2.0 / (log(far + 1.0) / 0.6931471805599453) * 0.5;
    }

    fn log2Depth(depth:f32, near:f32, far:f32) -> f32 {
      let Fcoef:f32 = 2.0 / log2(far + 1.0);
      var result:f32 = (log2(max(1e-6, 1.0 + depth)) * Fcoef - 1.0);
      result = (1.0 + result) / 2.0;
      return result * depth;
    }

    fn log2DepthFixPersp(depth:f32, near:f32, far:f32) -> f32 {
      let flogz:f32 = 1.0 + depth;
      let Fcoef_half:f32 = (2.0 / log2(far + 1.0)) * 0.5;
      var result:f32 = log2(flogz) * Fcoef_half;
      result = (1.0 + result) / 2.0;
      return result;
    }


    fn QuaternionToMatrix(q: vec4<f32>) -> mat4x4<f32> {
      // If q is guaranteed to be a unit quaternion, s will always
      // be 1.  In that case, this calculation can be optimized out.
      //float norm = GetNorm (q);
      //float s = (norm > 0.0) ? 2.0/norm : 0;

      var result: mat4x4<f32>;
  
      // Precalculate coordinate products
      let x = q.x * 2.0;
      let y = q.y * 2.0;
      let z = q.z * 2.0;
      let xx = q.x * x;
      let yy = q.y * y;
      let zz = q.z * z;
      let xy = q.x * y;
      let xz = q.x * z;
      let yz = q.y * z;
      let wx = q.w * x;
      let wy = q.w * y;
      let wz = q.w * z;
  
      // Calculate 3x3 matrix from orthonormal basis
      result[0][0] = 1.0 - (yy + zz);
      result[0][1] = xy + wz;
      result[0][2] = xz - wy;
      result[0][3] = 0.0;
  
      result[1][0] = xy - wz;
      result[1][1] = 1.0 - (xx + zz);
      result[1][2] = yz + wx;
      result[1][3] = 0.0;
  
      result[2][0] = xz + wy;
      result[2][1] = yz - wx;
      result[2][2] = 1.0 - (xx + yy);
      result[2][3] = 0.0;
  
      result[3][0] = 0.0;
      result[3][1] = 0.0;
      result[3][2] = 0.0;
      result[3][3] = 1.0;

      return result;
    }

    fn MakeScaleMatrix(scale: vec3<f32>) -> mat4x4<f32> {
        return mat4x4<f32>(
          scale.x, 0.0, 0.0, 0.0,
          0.0, scale.y, 0.0, 0.0,
          0.0, 0.0, scale.z, 0.0,
          0.0, 0.0, 0.0, 1.0,
        );
    }

    fn MakeRotationMatrix(rotationQuaternion: vec4<f32>) -> mat4x4<f32> {
        return QuaternionToMatrix(rotationQuaternion);
    }

    fn MakeTranslationMatrix(translation: vec3<f32>) -> mat4x4<f32> {
        return mat4x4<f32>(
          1.0, 0.0, 0.0, 0.0,
          0.0, 1.0, 0.0, 0.0,
          0.0, 0.0, 1.0, 0.0,
          translation.x, translation.y, translation.z, 1.0,
        );
    }

    fn MakeMatrix4x4(scale: vec3<f32>, rotationQuaternion: vec4<f32>, translation: vec3<f32>) -> mat4x4<f32> {
        var scaleMat: mat4x4<f32> = MakeScaleMatrix(scale);
        var rotationMat: mat4x4<f32> = MakeRotationMatrix(rotationQuaternion);
        var translationMat: mat4x4<f32> = MakeTranslationMatrix(translation);
        return translationMat * scaleMat * rotationMat;
    }

    fn mixMatrix4x4(a: mat4x4<f32>, b: mat4x4<f32>, t:f32) -> mat4x4<f32> {
      return a * (1.0 - t) + b * t;
      // return mat4x4<f32>(
      //   mix(a[0], b[0], t),
      //   mix(a[1], b[1], t),
      //   mix(a[2], b[2], t),
      //   mix(a[3], b[3], t)
      // );
    }

    fn decodeDepth( color:vec4<f32> ) -> f32{
      var depth = 0.0 ;
      const bitShifts = vec4<f32>(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0); 
      depth = dot(color, bitShifts);
      return depth;
    }

    fn encodeDepth( depth:f32 ) -> vec4<f32>{
      const bitSh  = vec4<f32>(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);
      const bitMsk = vec4<f32>(0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);
      var comp:vec4<f32>;
      comp  = depth * bitSh;
      comp  = fract(comp);
      comp -= comp.xxyz * bitMsk;
      return comp;
    }

    fn calculateBillboardMatrix2(eye:vec3f,pos:vec3f,up:vec3f) -> mat3x3<f32> {
      
      let zAxis: vec3f = -normalize(pos.xyz - eye);
      var xAxis: vec3f = cross(up,zAxis);
      xAxis = normalize(cross(zAxis,xAxis));
      let yAxis = normalize(cross(zAxis, xAxis));
      return mat3x3<f32>(xAxis, yAxis, zAxis);
    }

`,yw=`
          #if USE_CUSTOMUNIFORM
          #else
              struct MaterialUniform {
                  transformUV1:vec4<f32>,
                  transformUV2:vec4<f32>,

                  baseColor: vec4<f32>,
                  emissiveColor: vec4<f32>,
                  materialF0: vec4<f32>,
                  specularColor: vec4<f32>,
                  envIntensity: f32,
                  normalScale: f32,
                  roughness: f32,
                  metallic: f32,
                  ao: f32,

                  roughness_min: f32,
                  roughness_max: f32,
                  metallic_min: f32,
                  metallic_max: f32,
                  emissiveIntensity: f32,
                  alphaCutoff: f32,
                  ior: f32,
                  clearcoatColor: vec4<f32>,
                  clearcoatWeight: f32,
                  clearcoatFactor: f32,
                  clearcoatRoughnessFactor: f32,
              };
        #endif
      
        @group(2) @binding(0)
        var<uniform> materialUniform: MaterialUniform;
      `,Ew=`


#if USE_CUSTOMUNIFORM
#else
    struct MaterialUniform {
      transformUV1:vec4<f32>,
      transformUV2:vec4<f32>,
      baseColor: vec4<f32>,
      alphaCutoff: f32,
    };
#endif


@group(2) @binding(0)
var<uniform> materialUniform: MaterialUniform;
`,Cw=`
    #include "Common_frag"
    #include "GlobalUniform"

    fn UnLit(){
        let alpha = ORI_ShadingInput.BaseColor.a ;
        ORI_FragmentOutput.color = vec4<f32>(ORI_ShadingInput.BaseColor.rgb * alpha , alpha) ;

        #if USE_WORLDPOS
            ORI_FragmentOutput.worldPos = vec4<f32>(ORI_VertexVarying.vWorldPos.xyzw);
        #endif

        #if USEGBUFFER
            var normal_rgba8unorm = (ORI_VertexVarying.vWorldNormal + 1.0) * 0.5;
            normal_rgba8unorm = clamp(normal_rgba8unorm, vec3<f32>(0.0), vec3<f32>(1.0));
            ORI_FragmentOutput.worldNormal = vec4<f32>(normal_rgba8unorm,1.0);
            ORI_FragmentOutput.material = vec4<f32>(1.0,1.0,0.0,1.0);
        #endif
    }

    fn debugFragmentOut(){

    }
`;class ou{static groupBindingAndFunctions(A,e){return`
            struct JointsMatrix {
                matrix : array<mat4x4<f32>>
            };

            @group(${A}) @binding(${e})
            var<storage, read> jointsMatrixIndexTable: array<f32>;

            @group(${A}) @binding(${e+1})
            var<storage, read> jointsInverseMatrix: JointsMatrix;

            @group(${A}) @binding(${e+2})
            var<storage, read> jointsIndexMapingTable: array<f32>;

            const MAX_JOINT_NUM = 8;
            fn getSkeletonWorldMatrix(joints: array<f32, MAX_JOINT_NUM>, weights: array<f32, MAX_JOINT_NUM>, num: u32) -> mat4x4<f32> {
                var result: mat4x4<f32>;
                for(var i: u32 = 0; i < num; i = i + 1) {
                    let jointId = i32(joints[i]);
                    let jointIndex = u32(jointsIndexMapingTable[jointId]);
                    let jointMatrixIndex = u32(jointsMatrixIndexTable[jointIndex]);
                    let joint = models.matrix[jointMatrixIndex] * jointsInverseMatrix.matrix[jointId] * weights[i];
                    result += joint;
                }
                return result;
            }

            fn getSkeletonWorldMatrix_4(joints: vec4<f32>, weights: vec4<f32>) -> mat4x4<f32> {
                return getSkeletonWorldMatrix(array<f32, MAX_JOINT_NUM>(
                    joints.x, joints.y, joints.z, joints.w,
                    0, 0, 0, 0,
                ), array<f32, MAX_JOINT_NUM>(
                    weights.x, weights.y, weights.z, weights.w,
                    0, 0, 0, 0,
                ), 4);
            }
    
            fn getSkeletonWorldMatrix_8(joints0: vec4<f32>, weights0: vec4<f32>, joints1: vec4<f32>, weights1: vec4<f32>) -> mat4x4<f32> {
                return getSkeletonWorldMatrix(array<f32, MAX_JOINT_NUM>(
                    joints0.x, joints0.y, joints0.z, joints0.w,
                    joints1.x, joints1.y, joints1.z, joints1.w,
                ), array<f32, MAX_JOINT_NUM>(
                    weights0.x, weights0.y, weights0.z, weights0.w,
                    weights1.x, weights1.y, weights1.z, weights1.w,
                ), 8);
            }
        `}}let _w=`
    var<private> PI: f32 = 3.14159265359;
    #if USE_METAHUMAN
        ${nr.getMorphTargetShaderBinding(3,0)}
        ${ou.groupBindingAndFunctions(3,2)} 
    #else
        #if USE_MORPHTARGETS
            ${nr.getMorphTargetShaderBinding(3,0)}
        #endif

        #if USE_SKELETON
            ${ou.groupBindingAndFunctions(3,0)} 
        #endif
    #endif

    struct VertexAttributes{
        @builtin(instance_index) index : u32,
        @location(auto) position: vec3<f32>,
        @location(auto) normal: vec3<f32>,
        @location(auto) uv: vec2<f32>,
        @location(auto) TEXCOORD_1: vec2<f32>,

        #if USE_METAHUMAN
            #if USE_TANGENT
                @location(auto) TANGENT: vec4<f32>,
                @location(auto) joints0: vec4<f32>,
                @location(auto) weights0: vec4<f32>,
                #if USE_JOINT_VEC8
                    @location(auto) joints1: vec4<f32>,
                    @location(auto) weights1: vec4<f32>,
                    @location(auto) vIndex: f32,
                #else
                    @location(auto) vIndex: f32,
                #endif
            #else
                @location(auto) joints0: vec4<f32>,
                @location(auto) weights0: vec4<f32>,
                #if USE_JOINT_VEC8
                    @location(auto) joints1: vec4<f32>,
                    @location(auto) weights1: vec4<f32>,
                    @location(auto) vIndex: f32,
                #else
                    @location(auto) vIndex: f32,
                #endif
            #endif
        #else
            #if USE_TANGENT
                @location(auto) TANGENT: vec4<f32>,
            #endif

            #if USE_SKELETON
                #if USE_TANGENT
                    @location(auto) joints0: vec4<f32>,
                    @location(auto) weights0: vec4<f32>,
                    #if USE_JOINT_VEC8
                        @location(auto) joints1: vec4<f32>,
                        @location(auto) weights1: vec4<f32>,
                    #endif
                #else
                    @location(auto) joints0: vec4<f32>,
                    @location(auto) weights0: vec4<f32>,
                    #if USE_JOINT_VEC8
                        @location(auto) joints1: vec4<f32>,
                        @location(auto) weights1: vec4<f32>,
                    #endif
                #endif
            #endif

            #if USE_MORPHTARGETS
                #if USE_TANGENT
                    @location(auto) vIndex: f32,
                #else
                    @location(auto) vIndex: f32,
                #endif
            #endif

        #endif
    }

    struct VertexOutput {
    @location(auto) index: f32,
    @location(auto) varying_UV0: vec2<f32>,
    @location(auto) varying_UV1: vec2<f32>,
    @location(auto) varying_ViewPos: vec4<f32>,
    @location(auto) varying_Clip: vec4<f32>,
    @location(auto) varying_WPos: vec4<f32>,
    @location(auto) varying_WNormal: vec3<f32>,
    @location(auto) varying_Color: vec4<f32>,

    #if USE_SHADOWMAPING
        @location(auto) varying_ShadowPos: vec4<f32>,
    #endif

    #if USE_TANGENT
        @location(auto) varying_Tangent: vec4<f32>,
    #endif
   

    @builtin(position) member: vec4<f32>
    };

    var<private> ORI_VertexOut: VertexOutput ;

    fn ORI_Vert(vertex:VertexAttributes){
    var vertexPosition = vertex.position;
    var vertexNormal = vertex.normal;

    #if USE_METAHUMAN
        ${nr.getMorphTargetCalcVertex()}    
        #if USE_JOINT_VEC8
            let skeletonNormal = getSkeletonWorldMatrix_8(vertex.joints0, vertex.weights0, vertex.joints1, vertex.weights1);
            ORI_MATRIX_M *= skeletonNormal ;
        #else
            let skeletonNormal = getSkeletonWorldMatrix_4(vertex.joints0, vertex.weights0);
            ORI_MATRIX_M *= skeletonNormal ;
        #endif
    #else 
        #if USE_MORPHTARGETS
            ${nr.getMorphTargetCalcVertex()}    
        #endif

        #if USE_SKELETON
            #if USE_JOINT_VEC8
                let skeletonNormal = getSkeletonWorldMatrix_8(vertex.joints0, vertex.weights0, vertex.joints1, vertex.weights1);
                ORI_MATRIX_M *= skeletonNormal ;
            #else
                let skeletonNormal = getSkeletonWorldMatrix_4(vertex.joints0, vertex.weights0);
                ORI_MATRIX_M *= skeletonNormal ;
            #endif
        #endif
    #endif
    
    ORI_NORMALMATRIX = transpose(inverse( mat3x3<f32>(ORI_MATRIX_M[0].xyz,ORI_MATRIX_M[1].xyz,ORI_MATRIX_M[2].xyz) ));
   
    #if USE_TANGENT
        ORI_VertexOut.varying_Tangent = vec4f(normalize(ORI_NORMALMATRIX * vertex.TANGENT.xyz),vertex.TANGENT.w)  ;
    #endif

    var worldPos = (ORI_MATRIX_M * vec4<f32>(vertexPosition.xyz, 1.0));
    var viewPosition = ORI_MATRIX_V * worldPos;
    var clipPosition = ORI_MATRIX_P * viewPosition ;

    #if USE_LOGDEPTH
        clipPosition.z = log2Depth(clipPosition.w, globalUniform.near, globalUniform.far);
    #endif

    ORI_CameraWorldDir = normalize(ORI_CAMERAMATRIX[3].xyz - worldPos.xyz) ;

    ORI_VertexOut.index = f32(vertex.index) ;

    ORI_VertexOut.varying_UV0 = vertex.uv.xy ;

    ORI_VertexOut.varying_UV1 = vertex.TEXCOORD_1.xy;

    ORI_VertexOut.varying_ViewPos = viewPosition ;
    ORI_VertexOut.varying_Clip = clipPosition ;
    ORI_VertexOut.varying_WPos = worldPos ;
    ORI_VertexOut.varying_WPos.w = f32(vertex.index);
    ORI_VertexOut.varying_WNormal = normalize(ORI_NORMALMATRIX * vertexNormal.xyz) ;

    ORI_VertexOut.member = clipPosition ;
    }
`,Sw=`
struct MaterialUniform {
  transformUV1:vec4<f32>,
  transformUV2:vec4<f32>,
  baseColor: vec4<f32>,
  rectClip: vec4<f32>,
  alphaCutoff: f32,
};

@group(2) @binding(0)
var<uniform> materialUniform: MaterialUniform;
`,vw=`
    struct IrradianceVolumeData {
        //0
        orientationIndex:f32,
            hysteresis:f32,
            OctRTSideSize:f32,
            OctRTMaxSize:f32,

            //1
            startX:f32,
            startY:f32,
            startZ:f32,
            ProbeSpace:f32,

            //2
            gridXCount:f32,
            gridYCount:f32,
            gridZCount:f32,
            maxDistance:f32,

            //3
            depthSharpness:f32,
            ProbeSourceTextureSize:f32,
            ProbeSize:f32,
            bounceIntensity:f32,

            //4
            probeRoughness:f32,
            normalBias:f32,
            irradianceChebyshevBias:f32,
            rayNumber:f32,

            //5
            irradianceDistanceBias:f32,
            indirectIntensity:f32,
            ddgiGamma:f32,
            lerpHysteresis:f32,
            //6

            debugX:f32,
            debugY:f32,
            debugZ:f32,
            slot0:f32,

            //..
            v7:vec4<f32>,
    }
`,ww=`
    #include "MathShader"
    #include "FastMathShader"
    #include "InstanceUniform"

    var<private> ORI_MATRIX_P: mat4x4<f32>;
    var<private> ORI_MATRIX_V: mat4x4<f32>;
    var<private> ORI_MATRIX_M: mat4x4<f32>;
    var<private> ORI_MATRIX_PV: mat4x4<f32>;
    var<private> ORI_MATRIX_PVInv: mat4x4<f32>;
    var<private> ORI_MATRIX_World: mat4x4<f32>;
    var<private> ORI_CAMERAMATRIX: mat4x4<f32>;
    var<private> ORI_NORMALMATRIX: mat3x3<f32>;
    var<private> ORI_CameraWorldDir: vec3<f32>;
    var<private> ORI_ViewDir: vec3<f32>;

    var<private> TIME: vec4<f32>;
    var<private> MOUSE: vec4<f32>;
    var<private> SCREEN: vec4<f32>;

    var<private> ProjectionParams: vec4<f32>;

    fn vertex_inline(vertex:VertexAttributes){
        TIME.x = globalUniform.frame;
        TIME.y = globalUniform.time;
        TIME.z = globalUniform.delta;

        MOUSE.x = globalUniform.mouseX;
        MOUSE.y = globalUniform.mouseY;

        SCREEN.x = globalUniform.windowWidth;
        SCREEN.y = globalUniform.windowHeight;

        ProjectionParams.x = globalUniform.near;
        ProjectionParams.y = globalUniform.far;
        ProjectionParams.z = 1.0 + 1.0 / globalUniform.far;

        ORI_MATRIX_P = globalUniform.projMat ;
        ORI_MATRIX_V = globalUniform.viewMat ;
        ORI_MATRIX_PV = ORI_MATRIX_P * ORI_MATRIX_V ;
        ORI_MATRIX_PVInv = globalUniform.pvMatrixInv ;
        ORI_CAMERAMATRIX = globalUniform.cameraWorldMatrix ;

        ORI_MATRIX_M = models.matrix[u32(vertex.index)];
            
        #if USE_INSTANCEDRAW
            let modelID = instanceDrawID.matrixIDs[vertex.index];
            ORI_MATRIX_M = models.matrix[modelID];
        #endif
    }
`,bw=`
  #include "GlobalUniform"
  #include "FragmentVarying"
  #include "ColorPassFragmentOutput"
  #include "ShadingInput"

  var<private> ORI_FragmentOutput: FragmentOutput;
  var<private> ORI_VertexVarying: FragmentVarying;
  var<private> ORI_ShadingInput: ShadingInput;
  var<private> viewDir:vec3<f32>;
  var<private> modelIndex:u32;
  @fragment
  fn FragMain( vertex_varying:FragmentVarying ) -> FragmentOutput {
    modelIndex = u32(round(vertex_varying.index)) ; 

    ORI_VertexVarying = vertex_varying;
    ORI_FragmentOutput.color = vec4<f32>(1.0, 0.0, 0.0, 1.0);
    viewDir = normalize(globalUniform.CameraPos.xyz - ORI_VertexVarying.vWorldPos.xyz) ;
    #if USE_WORLDPOS
      ORI_FragmentOutput.worldPos = ORI_VertexVarying.vWorldPos;
    #endif
    #if USEGBUFFER
      ORI_FragmentOutput.worldNormal = vec4<f32>(ORI_ShadingInput.Normal.rgb ,1.0); 
      ORI_FragmentOutput.material = vec4<f32>(0.0,1.0,0.0,0.0);
    #endif
    frag();
    
    #if USE_DEBUG
      debugFragmentOut();
    #endif

    #if USE_OUTDEPTH
      #if USE_LOGDEPTH
        ORI_FragmentOutput.out_depth = log2DepthFixPersp(ORI_VertexVarying.fragPosition.w, globalUniform.near, globalUniform.far);
      #else
        ORI_FragmentOutput.out_depth = ORI_ShadingInput.FragDepth ;
      #endif
    #endif

    return ORI_FragmentOutput ;
  }


`,Iw=`
    #include "WorldMatrixUniform"
    #include "VertexAttributes_vert"
    #include "GlobalUniform"
    #include "Inline_vert"
    @vertex
    fn VertMain( vertex:VertexAttributes ) -> VertexOutput {
        vertex_inline(vertex);
        vert(vertex);
        return ORI_VertexOut ;
    }
`,Bw=`
    @group(1) @binding(auto)
    var brdflutMapSampler: sampler;
    @group(1) @binding(auto)
    var brdflutMap: texture_2d<f32>;
`,Tw=`
    @group(1) @binding(auto)
    var prefilterMapSampler: sampler;
    @group(1) @binding(auto)
    var prefilterMap: texture_cube<f32>;
    @group(1) @binding(auto)
    var envMapSampler: sampler;
    @group(1) @binding(auto)
    var envMap: texture_cube<f32>;
`;class bi{}a(bi,"Cascades",4);let $3=`

  struct GlobalUniform {
    projMat: mat4x4<f32>,
    viewMat: mat4x4<f32>,
    cameraWorldMatrix: mat4x4<f32>,
    pvMatrixInv : mat4x4<f32>,
    shadowMatrix: array<mat4x4<f32>, 8u>,
    csmShadowBias: vec4<f32>,
    csmMatrix: array<mat4x4<f32>,${bi.Cascades}>,
    
    shadowLights:mat4x4<f32>,

    CameraPos: vec3<f32>,
    frame: f32,

    time: f32,
    delta: f32,
    shadowBias: f32,
    skyExposure: f32,

    renderPassState:f32,
    quadScale: f32,
    hdrExposure: f32,
    renderState_left: i32,

    renderState_right: i32,
    renderState_split: f32,
    mouseX: f32,
    mouseY: f32,

    windowWidth: f32,
    windowHeight: f32,
    near: f32,
    far: f32,

    pointShadowBias: f32,
    shadowMapSize: f32,
    shadowSoft: f32,
    enableCSM:f32,

    csmMargin:f32,
    nDirShadowStart: i32,
    nDirShadowEnd: i32,
    nPointShadowStart: i32,

    nPointShadowEnd: i32,
    empty1: i32,
    empty2: i32,
    empty3: i32,

    frustumPlanes: array<vec4f, 6u>,
  };

  @group(0) @binding(0)
  var<uniform> globalUniform: GlobalUniform;
`,Dw=`
    #if USE_INSTANCEDRAW
        struct InstanceUniform {
            matrixIDs : array<i32>
        };
        @group(2) @binding(7)
        var<storage, read> instanceDrawID : InstanceUniform;
    #endif
`,K3=`
    struct Uniforms {
        matrix : array<mat4x4<f32>>
    };

    @group(0) @binding(1)
    var<storage, read> models : Uniforms;
`,xw=`
  fn pow2(  x : f32 ) -> f32
  {
      return x * x;
  }

  fn pow2v3(  x : vec3f ) -> vec3f
  {
      return x * x;
  }


  fn pow3(  x : f32 ) -> f32
  {
      var xx = x*x;
      return x * xx;
  }

  fn pow4(  x : f32 ) -> f32
  {
      var xx = x*x;
      return xx * xx;
  }

  fn pow5(x: f32) -> f32 {
      var x2 = x * x;
      return x2 * x2 * x;
  }

  fn rcp( x:f32 ) -> f32
  {
      return 1.0 / x;
  }

  fn rsqrt3( a : vec3<f32> ) -> vec3<f32>
  {
    return pow(a, vec3<f32>(-0.5));
  }

  fn rsqrt( a : f32 ) -> f32
  {
    return pow(a, -0.5);
  }

  fn squareF( a : f32 ) -> f32
  {
    return a * a;
  }

  fn squareV2( a : vec2f ) -> vec2f
  {
    return a * a;
  }

  fn squareV3( a : vec3f ) -> vec3f
  {
    return a * a;
  }

  fn sqrtFast(  x : f32  ) -> f32 
  {
    var i = i32(x);
    i = 0x1FBD1DF5 + (i / 2 );
    return f32(i);
  }

  fn lengthFast(  v :vec3<f32> ) -> f32
  {
    var LengthSqr = dot(v,v);
    return sqrtFast( LengthSqr );
  }

  fn asinFast( x:f32 )-> f32
  {
      return (0.5 * PI) - acosFast(x);
  }

  fn acosFast( inX: f32 ) -> f32
  {
      var x = abs(inX);
      var res = -0.156583 * x + (0.5 * PI);
      res *= sqrt(1.0 - x);

    if(inX >= 0.0){
      return res ;
    }else{
      return PI - res ;
    }
  }

  fn acosFast4( inX : f32 )-> f32
  {
    var x1 = abs(inX);
    var x2 = x1 * x1;
    var x3 = x2 * x1;
    var s = 0.0 ;

    s = -0.2121144 * x1 + 1.5707288;
    s = 0.0742610 * x2 + s;
    s = -0.0187293 * x3 + s;
    s = sqrt(1.0 - x1) * s;

    // acos function mirroring
    // check per platform if compiles to a selector - no branch neeeded
    if(inX >= 0.0){
      return s ;
    }else{
      return PI - s ;
    }
  }
`,Ow=`

    fn perturbNormal(  worldPos:vec3<f32>,  surf_norm:vec3<f32>,  mapN:vec3<f32> , normalScale:f32 , face:f32 ) -> vec3<f32> {
        var q0 = vec3<f32>( dpdx( worldPos.x ), dpdx( worldPos.y ), dpdx( worldPos.z ) );
        var q1 = vec3<f32>( dpdy( worldPos.x ), dpdy( worldPos.y ), dpdy( worldPos.z ) );
        var st0 = dpdx( ORI_VertexVarying.fragUV0.xy );
        var st1 = dpdy( ORI_VertexVarying.fragUV0.xy );
        var N = surf_norm;
        var q0perp = cross( N, q0 );
        var q1perp = cross( q1, N );

        // #if USE_TANGENT
        //     var T = ORI_VertexVarying.TANGENT.xyz ;
        // #else
            var T = q1perp * st0.x + q0perp * st1.x;
        // #endif
        
        var B = q1perp * st0.y + q0perp * st1.y;

        var det = max( dot( T, T ), dot( B, B ) );
        var scale = 1.0 ;
        if( det != 0.0 ){
            scale = inverseSqrt( det ) ;
        }

        // #if USE_TANGENT
        //     scale = scale * ORI_VertexVarying.TANGENT.w ;
        // #endif

        scale *= normalScale;
        return normalize( (T * ( -mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z ) * face ) ;
    }

    fn unpackNormalMap( normal : vec3<f32> ) -> vec3<f32>
    {
        var normalTex = vec3<f32>( normal.xyz * 2.0 - 1.0 ) ;
        return (normalTex);
    }

    fn unPackNormal(normal : vec3<f32> , height:f32 ) -> vec3<f32>{
        var face = 1.0 ;
        if(ORI_VertexVarying.face){
            face = 1.0 ;
        }else{
            face = -1.0 ;
        }

        #if USE_RGNORMAL
            return unPackRGNormal(normal,height,face);
        #else
            var n = normal ;
            #if USE_NORMALFILPY
            n.y = 1.0 - n.y ; 
            #endif
            
            var mapNormal: vec3<f32> = n ;//unpackNormalMap(n) ;
            return perturbNormal(ORI_VertexVarying.vWorldPos.xyz , ORI_VertexVarying.vWorldNormal.xyz , mapNormal , height , face  ) ;
        #endif
    }

    fn unPackRGNormal(normal : vec3<f32> , height:f32 , face:f32) -> vec3<f32> {
        var d = normal.rg * 2.0 - 1.0 ;
        var l = 1.0 - saturate(dot(d,d));
        var s = sqrt(l);
        var rg = d * height ; 
        var mapNormal = vec3<f32>(rg,s);
        var outN = perturbNormal(ORI_VertexVarying.vWorldPos.xyz,ORI_VertexVarying.vWorldNormal,mapNormal,1.0,face) ;
        return outN ;
    }
`,Mw=`
    struct FragmentVarying {
        @location(auto) index: f32,
        @location(auto) fragUV0: vec2<f32>,
        @location(auto) fragUV1: vec2<f32>,
        @location(auto) viewPosition: vec4<f32>,
        @location(auto) fragPosition: vec4<f32>,
        @location(auto) vWorldPos: vec4<f32>,
        @location(auto) vWorldNormal: vec3<f32>,
        @location(auto) vColor: vec4<f32>,

        #if USE_SHADOWMAPING
            @location(auto) vShadowPos: vec4<f32>,
        #endif

        #if USE_TANGENT
            @location(auto) TANGENT: vec4<f32>,
        #endif
        
        @builtin(front_facing) face: bool,
        @builtin(position) fragCoord : vec4<f32>
    };
`,q3=`
    struct FragmentOutput {
        @location(auto) color: vec4<f32>,
        #if USE_WORLDPOS
            @location(auto) worldPos: vec4<f32>,
        #endif
        #if USEGBUFFER
            @location(auto) worldNormal: vec4<f32>,
            @location(auto) material: vec4<f32>,
        #endif

        #if USE_OUTDEPTH
            @builtin(frag_depth) out_depth: f32
        #endif
    };
`,Rw=`
    struct ShadingInput{
        BaseColor:vec4<f32>,

        Roughness:f32,
        Metallic:f32,
        Specular:f32,

        EmissiveColor:vec4<f32>,
        SurfaceColor:vec4<f32>,

        Normal:vec3<f32>,
        HairNormal:vec3<f32>,
        Tangent:vec4<f32>,

        WorldPositionOffset:vec3<f32>,
        AmbientOcclusion:f32,

        PixelDepthOffset:f32,

        Opacity:f32,
        OpacityMask:f32,

        Refraction:f32,
        FragDepth:f32,

        SSS:vec3f,
    }
`,Pw=`
    #if USE_IES_PROFILE 
        @group(1) @binding(auto)
        var iesTextureArrayMapSampler : sampler;
        @group(1) @binding(auto)
        var iesTextureArrayMap: texture_2d_array<f32> ;
    #endif

    fn getLightIESProfileAtt( wPos : vec3<f32> , light:LightData ) -> f32
    {
        #if USE_IES_PROFILE 
            let tangent = vec3<f32>(1.0,0.0,0.0);
            let lightBitangent = normalize( cross( tangent, light.direction ) );
            let lightMatrix = mat4x4( vec4<f32>(light.direction.xyz, 0.0), vec4<f32>(lightBitangent.xyz, 0.0), vec4<f32>(tangent.xyz, 0.0), vec4<f32>(0.0, 0.0, 0.0, 1.0) );
            let lightMatrixInv = transpose(lightMatrix);
            let lightPos = light.position.xyz;
            let l = lightPos - wPos; 
            let toLight = normalize(l);
            let localToLight = (vec4<f32>(toLight.xyz, 0.0) * lightMatrixInv).xyz;
            let dotProd = dot(toLight, light.direction);
            let angle = asin(dotProd);
            let normAngle = (angle / PI) + 0.5 ;
            let tangentAngle = atan2( -localToLight.z, -localToLight.x ); 
            let normTangentAngle = tangentAngle / (PI * 2.0) + 0.5 ;
            if(light.ies >= 0.0){
                return textureSampleLevel(iesTextureArrayMap, iesTextureArrayMapSampler, vec2<f32>(normAngle , normTangentAngle) , i32(light.ies) , 0.0).r ;
            }else{
                return 1.0;
            }
        #else 
            return 1.0;
        #endif
    }

`,Fw=`
    @group(1) @binding(auto) var shadowMapSampler: sampler;
    @group(1) @binding(auto) var shadowMap: texture_depth_2d_array;
    @group(1) @binding(auto) var pointShadowMapSampler: sampler;
    @group(1) @binding(auto) var pointShadowMap: texture_depth_cube_array;

    struct ShadowStruct{
      directShadowVisibility: array<f32, 8>,
      pointShadows: array<f32, 8>,
    }
    var<private> shadowStrut: ShadowStruct ;

    fn useShadow(){
        shadowStrut.directShadowVisibility = array<f32, 8>( 1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0) ;
        shadowStrut.pointShadows = array<f32, 8>( 1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0) ;
        #if USE_SHADOWMAPING
          directShadowMaping(globalUniform.shadowBias);
          pointShadowMapCompare(globalUniform.pointShadowBias);
        #endif
    }

    fn calcBasicBias(shadowWorldSize:f32, shadowDepthTexSize:f32, near:f32, far:f32) -> f32{
      var bias = shadowWorldSize / shadowDepthTexSize;
      bias = bias / (far - near);
      return bias * 2.0;
    }

    const dirCount:i32 = 8 ;
    const pointCount:i32 = 8 ;
    const csmCount:i32 = ${bi.Cascades} ;
    var<private> csmLevel:i32 = -1;
    fn directShadowMaping(shadowBias: f32)  {

        let enableCSM:bool = globalUniform.enableCSM > 0.5;
        for (var i: i32 = 0; i < dirCount ; i = i + 1) {
          if( i >= globalUniform.nDirShadowStart && i < globalUniform.nDirShadowEnd ){
            let ldx = globalUniform.shadowLights[u32(i) / 4u][u32(i) % 4u];
            let light = lightBuffer[u32(ldx)] ;
            var shadowIndex = i32(light.castShadow);
            var visibility = 1.0;
            var shadowMatrix:mat4x4<f32>;
            #if USE_CSM
              if(enableCSM && shadowIndex == 0){
                var totalWeight = 0.0;
                visibility = 0.0;
                var validCount = 0;
                for(var csm:i32 = 0; csm < csmCount; csm ++){
                  var csmShadowBias = globalUniform.csmShadowBias[csm];
                  shadowMatrix = globalUniform.csmMatrix[csm];
                  let csmShadowResult = directShadowMapingIndex(light, shadowMatrix, csm, csmShadowBias);
                  if(csmShadowResult.y < 0.5){
                    validCount ++;

                    var uv = 2.0 * csmShadowResult.zw - vec2<f32>(1.0);
                    uv = saturate(vec2<f32>(1.0) - abs(uv));
                    uv /= clamp(globalUniform.csmMargin, 0.01, 0.5);
                    var weight:f32 = min(uv.x, 1.0);
                    weight = min(weight, uv.y);

                    if(validCount == 1 && csm == csmCount - 1){
                      visibility = 1.0 - weight + csmShadowResult.x * weight;
                      totalWeight = 1.0;
                    }else{
                      weight *= 1.0 - totalWeight;
                      visibility += csmShadowResult.x * weight;
                      totalWeight += weight;
                    }
                    // if(weight < 1.0){
                    //   visibility += 0.1;
                    // }
                    if(validCount >= 2 || totalWeight >= 0.99){
                      csmLevel = csm;
                      break;
                    }
                  }
                }
                totalWeight += 0.0001;
                if(validCount == 0){
                  visibility = 1.0;
                }else{
                  visibility = visibility / totalWeight ;
                }
              }else{
                shadowMatrix = globalUniform.shadowMatrix[shadowIndex];
                if(enableCSM) {
                  shadowIndex += csmCount - 1;
                }
                visibility = directShadowMapingIndex(light, shadowMatrix, shadowIndex, shadowBias).x;
              }
            #else
              shadowMatrix = globalUniform.shadowMatrix[shadowIndex];
              visibility = directShadowMapingIndex(light, shadowMatrix, shadowIndex, shadowBias).x;
            #endif 
            shadowStrut.directShadowVisibility[i] = visibility;
          }
        }

    }

    fn directShadowMapingIndex(light:LightData, matrix:mat4x4<f32>, depthTexIndex:i32, shadowBias:f32) -> vec4<f32>
    {
      var visibility = 1.0;
      var isOutSideArea:f32 = 1.0;
      var varying_shadowUV:vec2<f32> = vec2<f32>(0.0);
      var shadowPosTmp = matrix * vec4<f32>(ORI_VertexVarying.vWorldPos.xyz, 1.0);
      var shadowPos = shadowPosTmp.xyz / shadowPosTmp.w;
      varying_shadowUV = shadowPos.xy * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5, 0.5);
      if (varying_shadowUV.x <= 1.0
        && varying_shadowUV.x >= 0.0
        && varying_shadowUV.y <= 1.0
        && varying_shadowUV.y >= 0.0
        && shadowPosTmp.z <= 1.0
        && shadowPosTmp.z >= 0.0)
      {
        visibility = 0.0;
        isOutSideArea = 0.0;
        var uvOnePixel = 1.0 / vec2<f32>(globalUniform.shadowMapSize);
        var totalWeight = 0.0;
        var NoL = (dot(normalize(ORI_VertexVarying.vWorldNormal), normalize(-light.direction)));
        let v = max(NoL, 0.0) ;
        var bias = shadowBias / v;
        for (var y = -1; y <= 1; y++) {
          for (var x = -1; x <= 1; x++) {
            var offset = vec2<f32>(f32(x), f32(y)) * uvOnePixel;
            
            // visibility += textureSampleCompare(shadowMap, shadowMapSampler, varying_shadowUV + offset, depthTexIndex, shadowPos.z - bias);
            var depth = textureSampleLevel(shadowMap, shadowMapSampler, varying_shadowUV + offset, depthTexIndex, 0);
            if ((shadowPos.z - bias ) < depth) {
              visibility += 1.0 ;
            }
            totalWeight += 1.0;
          }
        }
        visibility /= totalWeight;
        visibility += 0.001;
      }
      return vec4<f32>(visibility, isOutSideArea, varying_shadowUV);
    }

    fn pointShadowMapCompare(shadowBias: f32){
      let worldPos = ORI_VertexVarying.vWorldPos.xyz;
      let offset = 0.1;

      for (var i: i32 = 0; i < pointCount ; i = i + 1) {
        if( i >= globalUniform.nPointShadowStart && i < globalUniform.nPointShadowEnd ){
          let ldx = globalUniform.shadowLights[u32(i) / 4u][u32(i) % 4u];
          let light = lightBuffer[u32(ldx)] ;

          #if USE_SHADOWMAPING
              let lightPos = light.position.xyz;
              var shadow = 0.0;
              let frgToLight = worldPos - lightPos.xyz;
              var dir: vec3<f32> = normalize(frgToLight);
              var len = length(frgToLight);
              var bias = max(shadowBias * globalUniform.far * (1.0 - dot(ORI_ShadingInput.Normal, dir)), 0.005);
  
          #if USE_PCF_SHADOW
              let samples = 4.0;
              let sampleOffset = offset / (samples * 0.5);
              for (var x: f32 = -offset; x < offset; x += sampleOffset) {
                for (var y: f32 = -offset; y < offset; y += sampleOffset) {
                  for (var z: f32 = -offset; z < offset; z += sampleOffset) {
                    let offsetDir = normalize(dir.xyz + vec3<f32>(x, y, z));
                    var depth = textureSampleLevel(pointShadowMap, pointShadowMapSampler, offsetDir, light.castShadow, 0);
                    depth *= globalUniform.far;
                    if ((len - bias) > depth) {
                      shadow += 1.0 * dot(offsetDir, dir.xyz);
                    }
                  }
                }
                shadow = min(max(shadow / (samples * samples * samples), 0.0), 1.0);
            #endif
  
          #if USE_SOFT_SHADOW
              let vDis = length(globalUniform.CameraPos.xyz - worldPos.xyz);
              let sampleRadies = globalUniform.shadowSoft;
              let samples = 20;
              for (var j: i32 = 0; j < samples; j += 1) {
                let offsetDir = normalize(dir.xyz + sampleOffsetDir[j] * sampleRadies);
                var depth = textureSampleLevel(pointShadowMap, pointShadowMapSampler, offsetDir, light.castShadow, 0);
                depth *= globalUniform.far;
                if ((len - bias) > depth) {
                  shadow += 1.0 * dot(offsetDir, dir.xyz);
                }
              }
              shadow = min(max(shadow / f32(samples), 0.0), 1.0);
          #endif
  
          #if USE_HARD_SHADOW
              var depth = textureSampleLevel(pointShadowMap, pointShadowMapSampler, dir.xyz, light.castShadow, 0);
              depth *= globalUniform.far;
              if ((len - bias) > depth) {
                shadow = 1.0;
              }
          #endif
              for (var j = 0; j < pointCount ; j+=1 ) {
                  if(i32(light.castShadow) == j){
                    shadowStrut.pointShadows[j] = 1.0 - shadow ;
                  }
              }
          #endif
        }
        }
    }

    #if USE_SOFT_SHADOW
      var<private>sampleOffsetDir : array<vec3<f32>, 20> = array<vec3<f32>, 20>(
        vec3<f32>(1.0, 1.0, 1.0), vec3<f32>(1.0, -1.0, 1.0), vec3<f32>(-1.0, -1.0, 1.0), vec3<f32>(-1.0, 1.0, 1.0),
        vec3<f32>(1.0, 1.0, -1.0), vec3<f32>(1.0, -1.0, -1.0), vec3<f32>(-1.0, -1.0, -1.0), vec3<f32>(-1.0, 1.0, -1.0),
        vec3<f32>(1.0, 1.0, 0.0), vec3<f32>(1.0, -1.0, 0.0), vec3<f32>(-1.0, -1.0, 0.0), vec3<f32>(-1.0, 1.0, 0.0),
        vec3<f32>(1.0, 0.0, 1.0), vec3<f32>(-1.0, 0.0, 1.0), vec3<f32>(1.0, 0.0, -1.0), vec3<f32>(-1.0, 0.0, -1.0),
        vec3<f32>(0.0, 1.0, 1.0), vec3<f32>(0.0, -1.0, 1.0), vec3<f32>(0.0, -1.0, -1.0), vec3<f32>(0.0, 1.0, -1.0),
      );
    #endif
`,Nw=`
#include "IrradianceVolumeData_frag"
    struct IrradianceField {
        probeStartPosition: vec4<f32>,
        probeCounts:vec4<f32>,
        probeStep:f32,
        irradianceTextureWidth:f32,
        irradianceTextureHeight:f32,
        irradianceProbeSideLength:f32,
    };

    @group(1) @binding(auto)
    var irradianceMapSampler: sampler;
    @group(1) @binding(auto)
    var irradianceMap: texture_2d<f32>;
    @group(1) @binding(auto)
    var irradianceDepthMapSampler: sampler;
    @group(1) @binding(auto)
    var irradianceDepthMap: texture_2d<f32>;
    @group(2) @binding(7)
    var<uniform> irradianceData : IrradianceVolumeData ;

    var<private> irradianceFieldSurface: IrradianceField;
    var<private> energyPreservation: f32 = 0.85;
    var<private> quaternion:vec4<f32> = vec4<f32>(0.0, -0.7071067811865475, 0.7071067811865475, 0.0);

    fn getIrradianceFieldSurface() -> IrradianceField{
        let data = irradianceData ;
        irradianceFieldSurface.probeStartPosition = vec4<f32>(data.startX, data.startY, data.startZ, 0.0);
        irradianceFieldSurface.probeCounts = vec4<f32>(data.gridXCount, data.gridYCount, data.gridZCount, 0.0);
        irradianceFieldSurface.probeStep = data.ProbeSpace;
        irradianceFieldSurface.irradianceTextureWidth = data.OctRTMaxSize;
        irradianceFieldSurface.irradianceTextureHeight = data.OctRTMaxSize;
        irradianceFieldSurface.irradianceProbeSideLength = data.OctRTSideSize;
        return irradianceFieldSurface;
    }

    fn rotateDir(n:vec3<f32>) -> vec3<f32>{
       return normalize(applyQuaternion(-n, quaternion));
    }

    fn square1f(v:f32) -> f32 {
        return v * v ;
     }

   fn square(v:vec3<f32>) -> vec3<f32>{
      return v*v;
   }

    fn getIrradiance() -> vec4<f32>{
        var irradiance = sampleIrradianceField();
        var outerVolumeFactor:f32 = getOuterVolume(irradianceFieldSurface, ORI_VertexVarying.vWorldPos.xyz);
        irradiance *= outerVolumeFactor;
       return irradiance ;
    }
    
    fn debugProbe(id:i32) -> vec4<f32>{
        getIrradianceFieldSurface();
        var direction = normalize(ORI_VertexVarying.vWorldNormal);
        direction = applyQuaternion(-direction, quaternion);
        var probeTextureUV : vec2<f32> = textureCoordFromDirection(normalize(direction),
            id,
            irradianceFieldSurface.irradianceTextureWidth,
            irradianceFieldSurface.irradianceTextureHeight,
            irradianceFieldSurface.irradianceProbeSideLength);

        var probeIrradiance: vec4<f32> = textureSampleLevel(irradianceMap, irradianceMapSampler, probeTextureUV ,0.0);
        return probeIrradiance;
    }
    
    fn debugProbeDepth(id:i32) -> vec4<f32>{
        getIrradianceFieldSurface();
        var direction = normalize(ORI_VertexVarying.vWorldNormal);
        direction = applyQuaternion(-direction, quaternion);
        var probeTextureUV : vec2<f32> = textureCoordFromDirection(normalize(direction),
            id,
            irradianceFieldSurface.irradianceTextureWidth,
            irradianceFieldSurface.irradianceTextureHeight,
            irradianceFieldSurface.irradianceProbeSideLength);
        
        var probeIrradiance: vec4<f32> = textureSampleLevel(irradianceDepthMap, irradianceDepthMapSampler, probeTextureUV ,0.0);
        probeIrradiance.x = probeIrradiance.x / irradianceData.maxDistance;
        probeIrradiance.y = 0.0;
        probeIrradiance.z = 0.0;
        probeIrradiance.w = 1.0;
        return probeIrradiance;
    }
    
    fn getOuterVolume(L:IrradianceField, position:vec3<f32>) -> f32{
        let halfWidth:vec3<f32> = 0.5 * (L.probeCounts.xyz - 1.0) * L.probeStep;
        let edgeWidth:vec3<f32> = halfWidth + L.probeStep;
        let centerPosition:vec3<f32> = halfWidth + L.probeStartPosition.xyz;
        let clampPos = min(edgeWidth, abs(position - centerPosition));
        
        let factorX = getOuterAxis(clampPos.x, edgeWidth.x, L.probeStep);
        let factorY = getOuterAxis(clampPos.y, edgeWidth.y, L.probeStep);
        let factorZ = getOuterAxis(clampPos.z, edgeWidth.z, L.probeStep);
        return factorX * factorY * factorZ;
    }
    
    fn getOuterAxis(current:f32, edge:f32, space:f32) -> f32{
        return clamp((edge - current) / space, 0.0, 1.0);
    }

    fn getBaseGridCoord(L:IrradianceField, X:vec3<f32>) -> vec3<i32> {
        var offsetIndex = (X - L.probeStartPosition.xyz) / irradianceFieldSurface.probeStep;
        return clamp(vec3<i32>(offsetIndex.xyz), vec3<i32>(0), vec3<i32>(L.probeCounts.xyz) - 1);
    }

    fn gridCoordToProbeIndex(L:IrradianceField, grid:vec3<i32>) -> i32
    {
        return grid.x + i32(L.probeCounts.x) * grid.z + grid.y * i32(L.probeCounts.z * L.probeCounts.x);
    }

    fn gridCoordToPosition(L:IrradianceField, grid:vec3<i32>) -> vec3<f32>
    {
        var pos:vec3<f32> = vec3<f32>(grid.xyz) * L.probeStep + L.probeStartPosition.xyz;
        return pos;
    }

    fn textureCoordFromDirection(dir:vec3<f32>, probeIndex:i32, width:f32, height:f32, sideLength:f32) -> vec2<f32>
    {
        var uv = getWriteOctUVByID(dir, u32(probeIndex), sideLength) ;
        uv.x = uv.x / irradianceFieldSurface.irradianceTextureWidth;
        uv.y = uv.y / irradianceFieldSurface.irradianceTextureHeight;
        return uv ;
    }

    fn getWriteOctUVByID(dir:vec3<f32> , probeID:u32, size: f32) -> vec2<f32>
    {
        var blockCount = u32(irradianceFieldSurface.probeCounts.x * irradianceFieldSurface.probeCounts.z) ;
        var offsetX = (probeID % blockCount) % u32(irradianceFieldSurface.probeCounts.x) ;
        var offsetY = u32(irradianceFieldSurface.probeCounts.z - 1.0) - (probeID % blockCount) / u32(irradianceFieldSurface.probeCounts.x) ;
        var offsetZ = probeID / blockCount ;

        var pixelCoord = (( octEncode(dir) + 1.0 ) * 0.5) * vec2<f32>(size,size) ;

        var blockOffset = vec2<f32>(0.0);
        blockOffset.x = f32(offsetX) * size;
        blockOffset.y = f32(offsetY) * size + f32(offsetZ) * irradianceFieldSurface.probeCounts.z * size;

        let mapHeight = u32(irradianceFieldSurface.irradianceTextureHeight);
        var probeCounts:vec3<f32> = irradianceFieldSurface.probeCounts.xyz;

        var gridOffsetFrom = vec2<i32>(blockOffset) + 1;
        var gridOffsetTo = offsetByCol(gridOffsetFrom, size, mapHeight, probeCounts);

        pixelCoord = pixelCoord + vec2<f32>(gridOffsetTo - 1) + vec2<f32>(vec2<i32>(vec2<f32>(gridOffsetTo) / size) * 2);

        return pixelCoord + 1.0 ;
    }

    fn offsetByCol(pixelCoord0:vec2<i32>, octSideSize:f32, mapHeight:u32, counts:vec3<f32>) -> vec2<i32>
    {
      var pixelCoord = pixelCoord0;
      let blockSize:vec2<i32> = vec2<i32>(i32(octSideSize * counts.x),  i32(octSideSize * counts.z));
      let blockSizeYBorder:i32 = i32((octSideSize + 2.0) * counts.z);
      let blockMaxRowBorder:i32 = i32(mapHeight) / blockSizeYBorder;
      let pixelCountYMax:i32 = blockMaxRowBorder * i32(octSideSize * counts.z);
      let col:i32 = pixelCoord.y / pixelCountYMax;
      pixelCoord.x = col * i32(octSideSize * counts.x) + pixelCoord.x;
      pixelCoord.y = pixelCoord.y % pixelCountYMax;
      return pixelCoord;
    }

    var<private> wpNormal:vec3<f32> ;
    fn sampleIrradianceField() -> vec4<f32>{
        wpNormal = ORI_ShadingInput.Normal.xyz ;
        var wo:vec3<f32> = ORI_CameraWorldDir ;
        var wsN:vec3<f32> = normalize(wpNormal);
        var direction:vec3<f32> = wpNormal;
        var worldPosition: vec3<f32> = ORI_VertexVarying.vWorldPos.xyz;
   
        getIrradianceFieldSurface();

        let surfaceBias = (wsN + 3.0 * wo) * irradianceData.normalBias ;

        var irradiance = vec3<f32>(0.0, 0.0, 0.0);
        var accumulatedWeights = 0.0;
        var biasedWorldPosition = (worldPosition + surfaceBias);

        var baseProbeCoords: vec3<i32> = getBaseGridCoord(irradianceFieldSurface, worldPosition);
        
        var baseProbeWorldPosition: vec3<f32> = gridCoordToPosition(irradianceFieldSurface, baseProbeCoords) ;
        
        var gridSpaceDistance = (biasedWorldPosition - baseProbeWorldPosition);

        // alpha is how far from the floor(currentVertex) position. on [0, 1] for each axis.
        var alpha: vec3<f32> = clamp(gridSpaceDistance / (irradianceFieldSurface.probeStep), vec3<f32>(0.0), vec3<f32>(1.0));
        // let irradianceDir = rotateDir(wsN.xyz);
        // Iterate over adjacent probe cage
        for (var i:i32 = 0; i < 8; i = i + 1) {
            var adjacentProbeOffset : vec3<i32> = vec3<i32>(i, i32(f32(i) * 0.5), i32(f32(i) * 0.25)) & vec3<i32>(1);
            var adjacentProbeCoords: vec3<i32> = clamp(baseProbeCoords + adjacentProbeOffset, vec3<i32>(0),  vec3<i32>(irradianceFieldSurface.probeCounts.xyz) - 1) ;
            
            var adjacentProbeIndex :i32 = gridCoordToProbeIndex(irradianceFieldSurface, adjacentProbeCoords);
            var adjacentProbeWorldPosition :vec3<f32> = gridCoordToPosition(irradianceFieldSurface, adjacentProbeCoords) ;//+ (wsN + 3.0 * w_o) * globalUniform.normalBias;
         
            var worldPosToAdjProbe = normalize(adjacentProbeWorldPosition - worldPosition);
            var biasedPosToAdjProbe = normalize(adjacentProbeWorldPosition - biasedWorldPosition);
            var biasedPosToAdjProbeDist = length(adjacentProbeWorldPosition - biasedWorldPosition);

            let trilinear = max(vec3<f32>(0.001), mix(1.0 - alpha, alpha, vec3<f32>(adjacentProbeOffset)));
            let trilinearWeight = (trilinear.x * trilinear.y * trilinear.z);
            var weight = 1.0;

            var wrapShading = (dot(worldPosToAdjProbe, direction) + 1.0) * 0.5;
            weight *= (wrapShading * wrapShading) + 0.2;

            var depthDir = -biasedPosToAdjProbe;//probe - world
            depthDir = applyQuaternion(depthDir, quaternion);
            var probeTextureUV : vec2<f32> = textureCoordFromDirection(depthDir.xyz,
                adjacentProbeIndex,
                irradianceFieldSurface.irradianceTextureWidth,
                irradianceFieldSurface.irradianceTextureHeight,
                irradianceFieldSurface.irradianceProbeSideLength);

            var filteredDistance : vec2<f32> = 2.0 * textureSampleLevel(irradianceDepthMap, irradianceDepthMapSampler, probeTextureUV,0.0).rg ;
           
            var variance = abs((filteredDistance.x * filteredDistance.x) - filteredDistance.y);

            var chebyshevWeight = 1.0;
            if(biasedPosToAdjProbeDist > filteredDistance.x ) // occluded
            {
                var v = biasedPosToAdjProbeDist - filteredDistance.x ;
                chebyshevWeight = variance / (variance + (v * v));
                // Increase the contrast in the weight
                chebyshevWeight = max((chebyshevWeight * chebyshevWeight * chebyshevWeight), 0.0);
            }

            weight *= max(0.05, chebyshevWeight);
            weight = max(0.000001, weight);

            let crushThreshold = 0.2;
            if (weight < crushThreshold)
            {
                weight *= (weight * weight) * (1.0 / (crushThreshold * crushThreshold));
            }

            weight *= trilinearWeight;
            
            //worldPosToAdjProbe
            let rotateDir = applyQuaternion(-direction, quaternion);
            probeTextureUV = textureCoordFromDirection((rotateDir),
            adjacentProbeIndex,
            irradianceFieldSurface.irradianceTextureWidth,
            irradianceFieldSurface.irradianceTextureHeight,
            irradianceFieldSurface.irradianceProbeSideLength);

            var probeIrradiance: vec3<f32> = textureSampleLevel(irradianceMap, irradianceMapSampler, probeTextureUV ,0.0).xyz;

            var exponent =  irradianceData.ddgiGamma * 0.5;
            probeIrradiance = pow(probeIrradiance, vec3<f32>(exponent));
            
            irradiance += (weight * probeIrradiance);
            accumulatedWeights += weight;
        }

        if(accumulatedWeights == 0.0){
            return vec4<f32>(0.0, 0.0, 0.0,1.0);
        }

        irradiance *= (1.0 / accumulatedWeights);   
        irradiance *= irradiance;                   

        irradiance *= 6.2831853071795864;
        irradiance *= irradianceData.indirectIntensity;
        return vec4<f32>(irradiance,1.0) ;
    }

`,Lw=`
#include "Clearcoat_frag"
    #include "EnvMap_frag"
    #include "BrdfLut_frag"
    #include "ColorUtil_frag"
    
    struct FragData {
        Ao: f32,
        Metallic: f32,
        Roughness: f32,

        Albedo: vec4<f32>,
        Emissive: vec3<f32>,
        Specular: vec3<f32>,

        N: vec3<f32>,
        V: vec3<f32>,
        R: vec3<f32>,
        T: vec3<f32>,

        F0: vec3<f32>,
        F: vec3<f32>,
        KS: vec3<f32>,
        KD: vec3<f32>,

        Alpha: f32,
        Shadow: f32,
        Indirect: f32,
        Reflectance: f32,

        NoV: f32,
        FaceDirection:f32,

        ClearcoatRoughness:f32,
        EnvColor: vec3<f32>,
        Irradiance: vec3<f32>,

        LightChannel: vec3<f32>
    };

    var<private> fragData: FragData;

    struct BxDFContext
    {
        NoV : f32 ,
        NoL : f32 ,
        VoL : f32 ,
        NoH : f32 ,
        HoL : f32 ,
        VoH : f32
    };

    fn getContext( N:vec3<f32>, V:vec3<f32>, H:vec3<f32>, L:vec3<f32> ) -> BxDFContext
    {
        var Context:BxDFContext ;
        Context.NoL = saturate(dot(N, L));
        Context.NoV = saturate(dot(N, V));
        Context.VoL = saturate(dot(V, L));
        Context.NoH = saturate(dot(N, H));
        Context.VoH = saturate(dot(V, H));
        Context.HoL = saturate(dot(H, L));
        return Context ;
    }

    // convert roughness to mipmapLevel
    fn roughnessToMipmapLevel( roughness: f32 , mipmapCount:i32 ) -> f32{
        let level = roughness * (1.7 - 0.7 * roughness );
        return level * f32(mipmapCount);
    }

    fn IORToF0(ior:f32)->f32{
        var dc = ior - 1.0 ;
        dc *= dc ;
        var dt = ior + 1.0 ;
        dt *= dt ;
        return dc / dt ;
    }

    fn Fd90( NoL:f32, roughness:f32) -> f32
    {
        return (2.0 * NoL * roughness) + 0.4;
    }

    fn KDisneyTerm( NoL:f32, NoV:f32 , roughness:f32) -> f32
    {
        return (1.0 + Fd90(NoL, roughness) * pow(1.0 - NoL, 5.0)) * (1.0 + Fd90(NoV, roughness) * pow(1.0 - NoV, 5.0));
    }

    fn FresnelSchlick( NoV:f32,  F0:vec3<f32>) -> vec3<f32>
    {
        return F0 + (1.0 - F0) * pow(1.0 - NoV, 5.0);
    }

    fn FresnelTerm( cosA:f32,  F0:vec3<f32>) -> vec3<f32>
    {
        let t = pow5( 1.0 - cosA );
        return F0 + (1.0 - F0) * t;
    }

    fn FresnelLerp( cosA:f32, F0:vec3<f32> , F90:vec3<f32>) -> vec3<f32>
    {
        let t = pow5( 1.0 - cosA );
        return mix( F0 ,F90,t ) ;
    }

    fn FresnelSchlickRoughness( NoV:f32,  F0:vec3<f32>,  roughness:f32) -> vec3<f32>
    {
        return F0 + (max(vec3(roughness), F0) - F0) * pow(1.0 - NoV, 5.0);
    }

    fn DistributionGGX( NdotH:f32 ,  roughness:f32 ) -> f32
    {
        let alpha = roughness * roughness;
        let alpha2 = roughness * roughness;

        let NdotH2 = NdotH * NdotH;

        let nom   = alpha2;
        var denom = (NdotH2 * (alpha2 - 1.0) + 1.0);
        denom = PI * denom * denom;

        return nom / denom;
    }

    // [Heitz 2014, "Understanding the Masking-Shadowing Function in Microfacet-Based BRDFs"]
    fn Vis_SmithJoint( NoV : f32 ,  NoL : f32 ,  a2 : f32) -> f32
    {
        var Vis_SmithV = NoL * sqrt(NoV * (NoV - NoV * a2) + a2);
        var Vis_SmithL = NoV * sqrt(NoL * (NoL - NoL * a2) + a2);
        return 0.5 * rcp(Vis_SmithV + Vis_SmithL);
    }

    fn GeometrySchlickGGX( NdotV : f32 , roughness : f32 ) -> f32
    {
        //roughness compute ks
        let r = (roughness + 1.0);
        let k = (r*r) / 8.0;

        let nom   = NdotV;
        let denom = NdotV * (1.0 - k) + k;
        
        return nom / denom;
    }
    
    fn GeometrySmith( NdotV:f32 , NdotL:f32 , roughness : f32) -> f32
    {
        // let NdotV = max(dot(N, V), 0.0);
        // let NdotL = max(dot(N, L), 0.0);
        let ggx1 = GeometrySchlickGGX(NdotV, roughness);
        let ggx2 = GeometrySchlickGGX(NdotL, roughness);
        return ggx1 * ggx2;
    }

    fn GeometryAttenuationGGXSmith( NdotL:f32,  NdotV:f32,  roughness:f32) -> f32
    {
        var NdotL2 = NdotL * NdotL;
        var NdotV2 = NdotV * NdotV;
        var kRough2 = roughness * roughness + 0.0001;

        var ggxL = (2.0 * NdotL) / (NdotL + sqrt(NdotL2 + kRough2 * (1.0 - NdotL2)));
        var ggxV = (2.0 * NdotV) / (NdotV + sqrt(NdotV2 + kRough2 * (1.0 - NdotV2)));

        return ggxL * ggxV;
    }

    fn colorLinear( colorVector:vec3<f32> ) -> vec3<f32>
    {
        var linearColor = pow(colorVector.rgb, vec3<f32>(2.2));
        return linearColor;
    }

    fn computeFresnelSchlick( NoV:f32 , F0:vec3<f32>) -> vec3<f32>
    {
        return F0 + (1.0 - F0) * pow(clamp(1.0 - NoV,0.0,1.0), 5.0);
    }

    fn computeFresnelSchlickRoughness(NoV:f32 , F0:vec3<f32>,  roughness:f32) -> vec3<f32>
    {
        return F0 + (max(vec3(1.0 - roughness), F0) - F0) * pow(clamp(1.0 - fragData.NoV,0.0,1.0), 5.0);
    }

    fn computeDistributionGGX( N:vec3<f32>,  H:vec3<f32>,  roughness:f32) -> f32
    {
        var alpha = roughness * roughness;
        var alpha2 = alpha * alpha; 

        var NdotH = saturate(dot(N, H));
        var NdotH2 = NdotH * NdotH;

        return (alpha2) / (PI * (NdotH2 * (alpha2 - 1.0) + 1.0) * (NdotH2 * (alpha2 - 1.0) + 1.0));
    }

    fn D_GGX( NoH:f32,  roughness:f32 ) -> f32
    {
        var d = ( NoH * roughness - NoH ) * NoH + 1.0;	// 2 mad
        return roughness / ( PI*d*d );					// 4 mul, 1 rcp
    }

    fn computeGeometryAttenuationGGXSmith( NdotL:f32 ,  NdotV:f32,  roughness:f32) -> f32
    {
        var NdotL2 = NdotL * NdotL;
        var NdotV2 = NdotV * NdotV;
        var kRough2 = roughness * roughness + 0.0001;

        var ggxL = (2.0 * NdotL) / (NdotL + sqrt(NdotL2 + kRough2 * (1.0 - NdotL2)));
        var ggxV = (2.0 * NdotV) / (NdotV + sqrt(NdotV2 + kRough2 * (1.0 - NdotV2)));

        return ggxL * ggxV;
    }

    fn Vis_Smith(  NoL:f32 ,  NoV:f32,  a2:f32 )-> f32
    {
        var Vis_SmithV = NoV + sqrt( NoV * (NoV - NoV * a2) + a2 );
        var Vis_SmithL = NoL + sqrt( NoL * (NoL - NoL * a2) + a2 );
        return rcp( Vis_SmithV * Vis_SmithL );
    }

    fn simpleBRDF( albedo:vec3<f32>, N:vec3<f32>, V:vec3<f32>,L:vec3<f32>,att:f32,lightColor:vec3<f32>,roughness:f32 ,metallic:f32)-> vec3<f32>{
        let H = normalize(V + L);
        let Context:BxDFContext = getContext(N,V,H,L);
        let alpha = roughness ;//pow(roughness,5.0) ;
        let F0 = mix(vec3<f32>(materialUniform.materialF0.rgb), albedo , metallic);
        let D = DistributionGGX( Context.NoH , alpha);
        let G = GeometrySmith(Context.NoV,Context.NoL, alpha );
        let F = FresnelSchlick(Context.VoH, vec3<f32>(F0));
        let specular = ( D * G * F ) / (4.0 * Context.NoV * Context.NoL + 0.001);
        
        // let kS = exp2( (-5.55473 * Context.HoL - 6.98316) * Context.HoL );
        let kS = F ;
        var kd = 1.0 - kS ;
        kd *= 1.0 - metallic ;

        #if USE_SRGB_ALBEDO
            var diffuse = kd ;
        #else 
            var diffuse = kd * (albedo.rgb / PI ) ;
        #endif

        let lightAtt = Context.NoL * lightColor * att ; 
        var diffuseColor = diffuse * lightAtt; 
        // diffuseColor = vec3f(0.0) ; 
        var specularColor = specular * lightAtt; 
        var col = (diffuseColor + specularColor ) ;
        return (col.rgb) ;
    }

    fn getSpecularDominantDir (  N : vec3<f32> , R : vec3<f32> , roughness : f32 ) -> vec3<f32>
    {
        var smoothness = saturate (1.0 - roughness );
        var lerpFactor = smoothness * ( sqrt ( smoothness ) + roughness );
        // The result is not normalized as we fetch in a cubemap
        return mix (N, R, lerpFactor );
    }

    fn approximateSpecularIBL( specularColor:vec3<f32> , roughness:f32 , R:vec3<f32> , NoV:f32 ) -> vec3<f32> {
       
        let MAX_REFLECTION_LOD  = i32(textureNumLevels(prefilterMap)) ;
        let mip = roughnessToMipmapLevel(roughness,MAX_REFLECTION_LOD);
        fragData.EnvColor = (textureSampleLevel(prefilterMap, prefilterMapSampler, getSpecularDominantDir(fragData.N,R,roughness) , mip ).rgb);
        // var prefilteredColor: vec3<f32> = (textureSampleLevel(prefilterMap, prefilterMapSampler, getSpecularDominantDir(fragData.N,R,roughness) , mip ).rgb);
        fragData.EnvColor = globalUniform.skyExposure * (fragData.EnvColor);
        var envBRDF = textureSampleLevel(brdflutMap, brdflutMapSampler, vec2<f32>(NoV, roughness) , 0.0 ) ;
        return fragData.EnvColor * (specularColor.rgb * envBRDF.x + saturate( 50.0 * specularColor.g ) * envBRDF.y) ;
    }

    fn fresnel_coat(n:vec3<f32>,v:vec3<f32>,ior:f32) -> f32 {
        var f0 = (1.0-ior)/(1.0+ior);
        f0 = f0 * f0  ;
        let fr = pow((f0 + (1.0 - f0)*(1.0 - abs( max(dot(n,v),0.0) ))) , 5.0 ) ;  
        return fr ;
    }

    fn reflectEnvMap(n:vec3<f32> , v:vec3<f32> , roughness:f32) -> vec3<f32> {
        let MAX_REFLECTION_LOD  = i32(textureNumLevels(envMap)) ;
        let mip = roughnessToMipmapLevel(roughness,MAX_REFLECTION_LOD);
        let R = 2.0 * dot( v , n ) * n - v ;
        var prefilteredColor: vec3<f32> = globalUniform.skyExposure * (textureSampleLevel(envMap, envMapSampler, R , mip ).rgb);
        prefilteredColor = LinearToGammaSpace(prefilteredColor);
        return prefilteredColor ;
    }

    fn Specular_D_GGX( NoH:f32,  roughness:f32 ) -> f32
    {
        let a2 = roughness * roughness ;
        let f = (NoH * a2 - NoH) * NoH + 1.0;
        return a2 / (PI * f * f) ;
    }

    fn V_Kelemen( LoH : f32 ) -> f32 {
        return 0.25 / (LoH * LoH);
    }

    fn F_Schlick( f0:vec3<f32> ,  f90 : f32 ,  VoH : f32 ) -> vec3<f32> {
        return f0 + (f90 - f0) * pow(1.0 - VoH,5.0);
    }

    fn F_Schlick2(  SpecularColor:vec3<f32>,  VoH :f32 )-> vec3<f32> {
        var Fc = pow5( 1.0 - VoH );
        let rt = clamp(50.0 * SpecularColor.g,0.0,1.0) ;
        return rt * Fc + (1.0 - Fc) * SpecularColor;
    }

    fn oneMinusReflectivity ( metallic : f32 , F0:f32 ) -> f32 {
        let range = 1.0 - F0;
        return range - metallic * range;
    }

    //https://google.github.io/filament/Filament.html materialsystem/clearcoatmodel/clearcoatparameterization
    fn CoatSpecular_brdf( f:vec3<f32>, s:vec3<f32>, n:vec3<f32> , v:vec3<f32> , l:vec3<f32> , att:f32 , layer :vec3<f32> , clearcoatRoughnessFactor:f32 ) -> vec3<f32> {
        let H = normalize(v + l); 
        let VdotNc = max(dot(v,n),0.0);
        let LdotNc = max(dot(l,n),0.0);
        let NoH = max(dot(n,H),0.0);
        let LoH = saturate(dot(l, H))  ;
        let NoL = max(dot(n,l),0.0);

        let Fd = f ; 
        let Fr = s ; 

        let factor = clamp(clearcoatRoughnessFactor,0.089,1.0);
        let clearCoatRoughness = factor * factor ;

        let Dc = D_GGX( NoH , factor ) ;
        let Vc = V_Kelemen( LoH ) * NoL ;
        let Fc = F_Schlick(vec3<f32>(0.04), 2.0 , LoH); 
        let Frc = (Dc * Vc) * Fc ;
        // return layer * vec3<f32>((Fd + Fr * (1.0 - Fc)) * (1.0 - Fc) + Frc) * ( 0.5 + NoL * 0.5 ) ;
        return vec3<f32>(Frc) ;
    }

    #if USE_CLEARCOAT
    fn approximate_coating(base:vec3<f32> , clearColor: vec3<f32>, n:vec3<f32> , v:vec3<f32> , light:LightData , clearcoatRoughnessFactor:f32 ) -> vec3<f32> {
        let factor = clamp(clearcoatRoughnessFactor,0.084,1.0);
        var clearcoatAlpha = factor * factor + fragData.ClearcoatRoughness;

        // var lightColor = getHDRColor( lightCC.rgb , light.linear )  ;
        var att = light.intensity / LUMEN ;
        let l = light.direction ;
   
        let NdotV = max(dot(n,v),0.0);
        let MAX_REFLECTION_LOD  = f32(textureNumLevels(prefilterMap)) ;
        // let mip = roughnessToMipmapLevel(clearcoatAlpha,MAX_REFLECTION_LOD);
        let R = 2.0 * dot( v , n ) * n - v ;
        var envIBL: vec3<f32> = globalUniform.skyExposure * (textureSampleLevel(prefilterMap, prefilterMapSampler, R , MAX_REFLECTION_LOD * clearcoatRoughnessFactor ).rgb) ;
        // envIBL = LinearToGammaSpace(envIBL);

        let clearCoat = materialUniform.clearcoatFactor ;
        // let f = FresnelSchlickRoughness( max(dot(n,v),0.0) , vec3<f32>(0.0) , clearcoatAlpha ) ;
        let clearcoat_brdf =  CoatSpecular_brdf( vec3<f32>(0.04) , vec3<f32>( 0.04 ) , n , v , -l , att , vec3<f32>( 0.04 ) , factor ) ;

        // return clearcoat_brdf;+ fragData.ClearcoatRoughness 
        return mix(base, clearcoat_brdf,materialUniform.clearcoatWeight ) ;
    }
    #endif
   

    fn EnvBRDF( SpecularColor : vec3f , Roughness : f32 , NoV : f32) -> vec3f
    {
        // brdflutMap, brdflutMapSampler
        var AB = textureSampleLevel( brdflutMap, brdflutMapSampler, vec2f( NoV, Roughness ), 0.0 ).rg;
        var GF = SpecularColor * AB.x + saturate( 50.0 * SpecularColor.g ) * AB.y;
        return GF;
    }

    fn IBLEnv( V:vec3f , N:vec3f , Roughness : f32) -> vec3f 
    {
        let NdotV = max(dot(N,V),0.0);
        let MAX_REFLECTION_LOD  = i32(textureNumLevels(prefilterMap));

        let mip = roughnessToMipmapLevel(Roughness,MAX_REFLECTION_LOD);

        let R = 2.0 * dot( V , N ) * N - V ;
        var envIBL: vec3<f32> = textureSampleLevel(prefilterMap, prefilterMapSampler, R , mip ).rgb ;
        return envIBL;
    }
`,Uw=`
  #include "Clearcoat_frag"
  #include "BRDF_frag"
  #include "MathShader"
  #include "FastMathShader"
  #include "Common_frag"
  #include "GlobalUniform"

  #include "PhysicMaterialUniform_frag"
  #include "NormalMap_frag"
  #include "LightingFunction_frag"
  #include "Irradiance_frag"
  #include "ColorUtil_frag"
  #include "BxdfDebug_frag"


 
  //ORI_ShadingInput
  fn initFragData() {
      fragData.Albedo = ORI_ShadingInput.BaseColor ;
      fragData.Ao = clamp( pow(ORI_ShadingInput.AmbientOcclusion,materialUniform.ao) , 0.0 , 1.0 ) ; 
      fragData.Roughness = clamp((ORI_ShadingInput.Roughness),0.003,1.0) ; 
      fragData.Metallic = ORI_ShadingInput.Metallic ; 
      fragData.Emissive = ORI_ShadingInput.EmissiveColor.rgb ; 
      fragData.N = ORI_ShadingInput.Normal;
      let viewDir = normalize(globalUniform.CameraPos.xyz - ORI_VertexVarying.vWorldPos.xyz) ;
      fragData.V = viewDir ;

      #if USE_TANGENT
        fragData.T = ORI_VertexVarying.TANGENT.xyz * ORI_VertexVarying.TANGENT.w ;
      #endif
 
      let R = 2.0 * dot( fragData.V , fragData.N ) * fragData.N - fragData.V ;
      fragData.R = R ;//reflect( fragData.V , fragData.N ) ;

      fragData.NoV = saturate(dot(fragData.N, fragData.V)) ;

      fragData.F0 = mix(vec3<f32>(materialUniform.specularColor.rgb), fragData.Albedo.rgb, fragData.Metallic);
      
      fragData.F = computeFresnelSchlick(fragData.NoV, fragData.F0);
      fragData.KD = vec3<f32>(fragData.F) ;
      fragData.KS = vec3<f32>(0.0) ;

      fragData.Indirect = 0.0 ;
      fragData.Reflectance = 1.0 ;

      fragData.ClearcoatRoughness = materialUniform.clearcoatRoughnessFactor ;
      #if USE_CLEARCOAT_ROUGHNESS
        fragData.ClearcoatRoughness = getClearcoatRoughness() * materialUniform.clearcoatRoughnessFactor;
      #endif
  }

  fn BxDFShading(){
      initFragData();

      var irradiance = vec3<f32>(0.0) ;
      #if USEGI
          irradiance += getIrradiance().rgb ;
      #else
          let MAX_REFLECTION_LOD  = f32(textureNumLevels(prefilterMap)) ;
          irradiance += (globalUniform.skyExposure * textureSampleLevel(prefilterMap, prefilterMapSampler, fragData.N.xyz, 0.8 * (MAX_REFLECTION_LOD) ).rgb);
      #endif
      irradiance = LinearToGammaSpace(irradiance.rgb);
      fragData.Irradiance = irradiance.rgb ;


      //***********lighting-PBR part********* 
      var specColor = vec3<f32>(0.0) ;
      let lightIndex = getCluster();
      let start = max(lightIndex.start, 0.0);
      let count = max(lightIndex.count, 0.0);
      let end = max(start + count , 0.0);
      for(var i:i32 = i32(start) ; i < i32(end); i += 1 )
      {
          let light = getLight(i32(i));
          switch (light.lightType) {
            case PointLightType: {
              specColor += pointLighting( fragData.Albedo.rgb,ORI_VertexVarying.vWorldPos.xyz,fragData.N,fragData.V,fragData.Roughness,fragData.Metallic,light) ;
              break;
            }
            case DirectLightType: {
              specColor += directLighting( fragData.Albedo.rgb ,fragData.N,fragData.V,fragData.Roughness ,fragData.Metallic, light , globalUniform.shadowBias) ;
              break;
            }
            case SpotLightType: {
              specColor += spotLighting( fragData.Albedo.rgb,ORI_VertexVarying.vWorldPos.xyz,fragData.N,fragData.V,fragData.Roughness,fragData.Metallic , light ) ;
              break;
            }
            default: {
              break;
            }
          }
      }

      fragData.LightChannel = specColor ;

      let sunLight = lightBuffer[0] ;
      //***********lighting-PBR part********* 
      var F = FresnelSchlickRoughness(fragData.NoV, fragData.F0, fragData.Roughness);
      var kS = F;
      var kD = vec3(1.0) - kS;
      kD = kD * (1.0 - fragData.Metallic);
      let envIBL =  materialUniform.envIntensity * approximateSpecularIBL( F , fragData.Roughness , fragData.R , fragData.NoV ) ;
      fragData.EnvColor = envIBL ;
      //***********indirect-specular part********* 
      
      var surfaceReduction = 1.0/(fragData.Roughness*fragData.Roughness+1.0);   
      var oneMinusReflectivity = oneMinusReflectivity(fragData.Metallic , materialUniform.materialF0.r );
      var grazingTerm = clamp((1.0 - fragData.Roughness ) + (1.0 - oneMinusReflectivity),0.0,1.0);
      var t = pow5(fragData.NoV);
      var fresnelLerp = FresnelLerp(fragData.NoV,fragData.F0.rgb,vec3<f32>(grazingTerm)) ;   
      var iblSpecularResult = surfaceReduction * fragData.EnvColor * fresnelLerp + envIBL;
      iblSpecularResult *= max(sunLight.quadratic,0.05) ;
      //***********indirect-specular part********* 
      
      //***********indirect-ambient part********* 
      var kdLast = (1.0 - 0.04) * (1.0 - fragData.Metallic);    
      //  Dim the edges, there should be more specular reflection at the edges
      var iblDiffuseResult = irradiance * vec3f(kdLast) * fragData.Albedo.rgb ;
      //irradiance
      //***********indirect-ambient part********* 
      var indirectResult = (iblSpecularResult + iblDiffuseResult) * fragData.Ao * max(sunLight.quadratic,0.05);
      // debugOut = vec4f(iblDiffuseResult,1.0);

      ORI_FragmentOutput.color = vec4<f32>(0.0);

      // Using stripped down, 'pure log', formula. Parameterized by grey points and dynamic range covered.
      #if USEGBUFFER
          var normal_rgba8unorm = (ORI_VertexVarying.vWorldNormal + 1.0) * 0.5;
          ORI_FragmentOutput.worldNormal = vec4<f32>(normal_rgba8unorm,1.0);
          ORI_FragmentOutput.material = vec4<f32>(1.0,fragData.Roughness,fragData.Metallic,1.0);
      #endif
      
      // ORI_FragmentOutput.color = vec4<f32>(ORI_FragmentOutput.color.xyz,fragData.Albedo.a) ;
      #if USE_WORLDPOS
          ORI_FragmentOutput.worldPos = vec4<f32>(ORI_VertexVarying.vWorldPos.xyzw);
          // ORI_FragmentOutput.worldPos = vec4<f32>(0.0,0.0,1.0,1.0);
      #endif
      
      var color = specColor + indirectResult ;

      var clearCoatColor = vec3<f32>(0.0);
      #if USE_CLEARCOAT
        let clearCoatBaseColor = vec3<f32>(1.0) * materialUniform.baseColor.rgb ;
        let clearNormal = fragData.N ;
        let clearcoatRoughness = fragData.ClearcoatRoughness ;
        let att = sunLight.intensity / LUMEN ;
        let clearCoatLayer = ClearCoat_BRDF( color , materialUniform.clearcoatColor.rgb , materialUniform.ior , clearNormal , -sunLight.direction ,-fragData.V , materialUniform.clearcoatWeight , clearcoatRoughness , att );
        color = vec3<f32>(clearCoatLayer.rgb/fragData.Albedo.a) ; 
      #endif
      
      var retColor = (LinearToGammaSpace(color.rgb));
      retColor += fragData.Emissive.xyz ;
      ORI_FragmentOutput.color = vec4<f32>( retColor.rgb * fragData.Albedo.a ,fragData.Albedo.a) ;
  }

  `,kw=`
    #if USE_CLEARCOAT_ROUGHNESS
    @group(1) @binding(auto)
    var clearCoatRoughnessMapSampler: sampler;
    @group(1) @binding(auto)
    var clearCoatRoughnessMap: texture_2d<f32>;

    fn getClearcoatRoughness() -> f32{
        let clearcoatRoughness = textureSample(clearCoatRoughnessMap, clearCoatRoughnessMapSampler, ORI_VertexVarying.fragUV0.xy).r;
        return clearcoatRoughness;
    }
    #else
    fn getClearcoatRoughness() -> f32{
        return 1.0;
    }
    #endif

    #if USE_CLEARCOAT
    fn ClearCoat_BRDF( baseColor:vec3<f32>, clearCoatColor:vec3<f32> , ior:f32 ,N:vec3<f32>, L:vec3<f32> ,  V:vec3<f32> , clearCoatStrength:f32, clearCoatPerceptualRoughness:f32 , att:f32) -> vec3<f32> {
        var factor = clamp(clearCoatPerceptualRoughness, 0.0001, 1.0);
        var clearCoatRoughness = factor * factor;

        let H = normalize(-V + L);
        let R = 2.0 * dot( -V , N ) * N + V ;
        let LoH = dot(L,H);
        let NoV = max(dot(N,-V),0.0);
        let NoL = max(dot(N,L),0.0);
        let NoH = max(dot(N,H),0.00001);

        let Fr = FresnelSchlickRoughness( NoV , vec3<f32>(0.0) , clearCoatRoughness ) ;
        var Fd = clearCoatColor / 3.1415926 ;
        let F0 = IORToF0(ior) ;
        // clear coat BRDF
        var Dc = D_GGX(NoH,clearCoatRoughness);
        var Vc = V_Kelemen(LoH) * NoL;
        var Fc = F_Schlick( vec3<f32>(F0) , 1.0, NoV) * materialUniform.clearcoatFactor;
        var Frc = (Dc * Vc) * Fc;
        // base layer attenuation for energy compensation
        let oneMinusFc  = 1.0 - Fc;
        let brdfSpecular = ((Fd + Fr * oneMinusFc) * oneMinusFc + Frc)  * att ; 
        var iblSpecular = vec3<f32>(brdfSpecular);
        iblSpecular += approximateSpecularIBL(vec3<f32>(1.0),clearCoatRoughness,R, NoV) * Fc ;
        return vec3<f32>(mix(baseColor,iblSpecular,materialUniform.clearcoatWeight));
    }
    #endif
`,zw=`
    #include "Common_vert"
    #include "Common_frag"
    #include "BxDF_frag"

    fn vert(inputData:VertexAttributes) -> VertexOutput {
        ORI_Vert(inputData) ;
        return ORI_VertexOut ;
    }

    fn frag(){
        ORI_ShadingInput.BaseColor = materialUniform.baseColor ;
        ORI_ShadingInput.Roughness = materialUniform.roughness  ;
        ORI_ShadingInput.Metallic = materialUniform.metallic ;
        ORI_ShadingInput.Specular = 0.5 ;
        ORI_ShadingInput.AmbientOcclusion = 1.0 ;
        ORI_ShadingInput.EmissiveColor = vec4<f32>(0.0);

        ORI_ShadingInput.Normal = ORI_VertexVarying.vWorldNormal.rgb ;

        BxDFShading();
    }
`,Gw=`
    #include "Common_vert"
    #include "Common_frag"
    #include "BxDF_frag"

    @group(1) @binding(auto)
    var baseMapSampler: sampler;
    @group(1) @binding(auto)
    var baseMap: texture_2d<f32>;

    @group(1) @binding(auto)
    var normalMapSampler: sampler;
    @group(1) @binding(auto)
    var normalMap: texture_2d<f32>;

    // #if USE_ARMC
        // @group(1) @binding(auto)
        // var maskMapSampler: sampler;
        // @group(1) @binding(auto)
        // var maskMap: texture_2d<f32>;
    // #endif

    // #if USE_MR
        @group(1) @binding(auto)
        var maskMapSampler: sampler;
        @group(1) @binding(auto)
        var maskMap: texture_2d<f32>;
    // #endif

    #if USE_AOTEX
        @group(1) @binding(auto)
        var aoMapSampler: sampler;
        @group(1) @binding(auto)
        var aoMap: texture_2d<f32>;
    #endif

    @group(1) @binding(auto)
    var emissiveMapSampler: sampler;
    @group(1) @binding(auto)
    var emissiveMap: texture_2d<f32>;

    var<private> debugOut : vec4f = vec4f(0.0) ;

    fn vert(inputData:VertexAttributes) -> VertexOutput {
        ORI_Vert(inputData) ;
        return ORI_VertexOut ;
    }

    fn frag(){
        var transformUV1 = materialUniform.transformUV1;
        var transformUV2 = materialUniform.transformUV2;

        var uv = transformUV1.zw * ORI_VertexVarying.fragUV0 + transformUV1.xy; 

        #if USE_SRGB_ALBEDO
            ORI_ShadingInput.BaseColor = textureSample(baseMap, baseMapSampler, uv )  ;
            ORI_ShadingInput.BaseColor = gammaToLiner(ORI_ShadingInput.BaseColor.rgb)  ;
            ORI_ShadingInput.BaseColor = vec4<f32>( ORI_ShadingInput.BaseColor * materialUniform.baseColor.rgb, ORI_ShadingInput.BaseColor.w * materialUniform.baseColor.a)  ;
        #else
            ORI_ShadingInput.BaseColor = textureSample(baseMap, baseMapSampler, uv )  ;
            ORI_ShadingInput.BaseColor = vec4f(gammaToLiner(ORI_ShadingInput.BaseColor.rgb) * materialUniform.baseColor.rgb,ORI_ShadingInput.BaseColor.a)  ;
        #endif

        var maskTex = textureSample(maskMap, maskMapSampler, uv ) ;
       
        #if USE_ALPHA_A
            ORI_ShadingInput.BaseColor.a =  ORI_ShadingInput.BaseColor.a * (maskTex.a) ;
        #endif

        #if USE_ALPHACUT 
            if( (ORI_ShadingInput.BaseColor.a - materialUniform.alphaCutoff) <= 0.0 ){
                ORI_FragmentOutput.color = vec4<f32>(0.0,0.0,0.0,1.0);
                
                #if USEGBUFFER
                    ORI_FragmentOutput.worldPos = vec4<f32>(0.0,0.0,0.0,1.0);
                    ORI_FragmentOutput.worldNormal = vec4<f32>(0.0,0.0,0.0,1.0);
                    ORI_FragmentOutput.material = vec4<f32>(0.0,0.0,0.0,1.0);
                #endif

                discard;
            }
        #endif

        useShadow();

        var roughnessChannel:f32 = 1.0 ;
        #if USE_ROUGHNESS_A
            roughnessChannel = maskTex.a ;
        #else if USE_ROUGHNESS_R
            roughnessChannel = maskTex.r ;
        #else if USE_ROUGHNESS_G
            roughnessChannel = maskTex.g ;
        #else if USE_ROUGHNESS_B
            roughnessChannel = maskTex.b ;
        #else if USE_ALBEDO_A
            roughnessChannel = ORI_ShadingInput.BaseColor.a ;
        #endif  

        #if USE_SMOOTH
            var roughness = ( 1.0 - roughnessChannel ) * materialUniform.roughness;
            ORI_ShadingInput.Roughness = clamp(roughness , 0.0001 , 1.0);
        #else
            ORI_ShadingInput.Roughness = clamp(roughnessChannel * materialUniform.roughness ,0.0001,1.0);
        #endif 

        var metallicChannel:f32 = 1.0 ;
        #if USE_METALLIC_A
            metallicChannel = maskTex.a ;
        #else if USE_METALLIC_R
            metallicChannel = maskTex.r ;
        #else if USE_METALLIC_G
            metallicChannel = maskTex.g ;
        #else if USE_METALLIC_B
            metallicChannel = maskTex.b ;
        #endif    

        ORI_ShadingInput.Metallic = metallicChannel * materialUniform.metallic ;
   
        var aoChannel:f32 = 1.0 ;
        #if USE_AOTEX
            var aoMap = textureSample(aoMap, aoMapSampler, uv );
            aoChannel = aoMap.g ;
        #else
            #if USE_AO_A
                aoChannel = maskTex.a ;
            #else if USE_AO_R
                aoChannel = maskTex.r ;
            #else if USE_AO_G
                aoChannel = maskTex.g ;
            #else if USE_AO_B
                aoChannel = maskTex.b ;
            #endif  
        #endif

        ORI_ShadingInput.AmbientOcclusion = aoChannel ;
        ORI_ShadingInput.Specular = 1.0 ;

        #if USE_EMISSIVEMAP
            var emissiveMapColor = textureSample(emissiveMap, emissiveMapSampler , ORI_VertexVarying.fragUV0.xy) ;
            let emissiveColor = materialUniform.emissiveColor.rgb * emissiveMapColor.rgb * materialUniform.emissiveIntensity ;
            ORI_ShadingInput.EmissiveColor = vec4<f32>(emissiveColor.rgb,1.0);
        #else
            let emissiveColor = materialUniform.emissiveColor.rgb * materialUniform.emissiveIntensity ;
            ORI_ShadingInput.EmissiveColor = vec4<f32>(emissiveColor,1.0);
        #endif


        var Normal = textureSample(normalMap,normalMapSampler,uv).rgb ;
        let normal = unPackRGNormal(Normal,1.0,1.0) ;  
        ORI_ShadingInput.Normal = normal ;

        BxDFShading();

        // ORI_FragmentOutput.color = vec4<f32>(vec3<f32>(normal.rgb),1.0) ;
    }
`,Vw=`
#include "ClusterDebug_frag" 

        fn debugPosition(){
            ORI_FragmentOutput.color = vec4<f32>(ORI_VertexVarying.vWorldPos.xyz,1.0);
        }

        fn debugMeshID(){
            let meshIDColor = u32(round(ORI_VertexVarying.vWorldPos.w) ) ;
            let color = colorSet[ meshIDColor % 9u] ;
            ORI_FragmentOutput.color = vec4<f32>(vec3<f32>(color.rgb),1.0);
        }

        fn debugNormal(){
            ORI_FragmentOutput.color = vec4<f32>(ORI_ShadingInput.Normal.xyz,1.0);
        }

        fn debugUV(){
            ORI_FragmentOutput.color = vec4<f32>(ORI_VertexVarying.fragUV0.xy,0.0,1.0);
        }

        fn debugColor(){
            ORI_FragmentOutput.color = vec4<f32>(fragData.Albedo.rgb,1.0);
        }

        fn debugDiffuse(){
            ORI_FragmentOutput.color = vec4<f32>( fragData.LightChannel.rgb,1.0);
            // ORI_FragmentOutput.color = vec4<f32>(0.2,0.2,0.2,1.0);
        }

        fn debugAmbient(){
            ORI_FragmentOutput.color = vec4<f32>(vec3f(fragData.Alpha) ,1.0);
        }
        
        fn debugEmissive(){
            ORI_FragmentOutput.color = vec4<f32>(fragData.Emissive.rgb,1.0);
        }

        fn debugEnvment(){
            ORI_FragmentOutput.color = vec4<f32>(fragData.EnvColor.rgb,1.0);
        }

        fn debugAo(){
            ORI_FragmentOutput.color = vec4<f32>(vec3<f32>(fragData.Ao),1.0);
        }

        fn debugRoughness(){
            ORI_FragmentOutput.color = vec4<f32>(vec3<f32>(fragData.Roughness),1.0);
        }

        fn debugMetallic(){
            ORI_FragmentOutput.color = vec4<f32>(vec3<f32>(fragData.Metallic),1.0);
        }

        fn debugIrradiance(){
            ORI_FragmentOutput.color = vec4<f32>(vec3<f32>(fragData.Irradiance),1.0);
        }

        fn debugTangent(){
            ORI_FragmentOutput.color = vec4<f32>(vec3<f32>(fragData.T),1.0);
        }

        fn debugFragmentOut(){
            if(ORI_VertexVarying.fragCoord.x > globalUniform.renderState_split) {
                switch (globalUniform.renderState_right)
                {
                  case 0: {
                    debugPosition();
                  }
                  case 1: {
                    debugColor();
                  }
                  case 2: {
                    debugNormal();
                  }
                  case 3: {
                    debugIrradiance();
                  }
                  case 4: {
                    debugTangent();
                  }
                  case 5: {
                    // debugTangent();
                  }
                  case 6: {
                    debugEmissive();
                  }
                  case 7: {
                    debugEnvment();
                  }
                  case 8: {
                    debugAo();
                  }
                  case 9: {
                    debugRoughness();
                  }
                  case 10: {
                    debugMetallic();
                  }
                  case 11: {
                    debugDiffuse();
                  }
                  case 12: {
                    debugAmbient();
                  }
                  case 13: {
                    debugMeshID();
                  }
                  case 14: {
                    #if DEBUG_CLUSTER
                      debugCluster( ORI_VertexVarying.fragCoord );
                    #endif
                  }
                  case 15: {
                    #if DEBUG_CLUSTER
                      debugClusterBox( ORI_VertexVarying.fragCoord );
                    #endif
                  }
                  case 16: {
                    #if DEBUG_CLUSTER
                      debugClusterLightCount( vec4<f32>(ORI_VertexVarying.fragCoord.xyz,0.0));
                      #endif
                  }
                  default: {
                  }
                }
              } else {
                switch (globalUniform.renderState_left)
                {
                  case 0: {
                    debugPosition();
                  }
                  case 1: {
                    debugColor();
                  }
                  case 2: {
                    debugNormal();
                  }
                  case 3: {
                    debugIrradiance();
                  }
                  case 4: {
                    debugTangent();
                  }
                  case 5: {
                    // debugTangent();
                  }
                  case 6: {
                    debugEmissive();
                  }
                  case 7: {
                    debugEnvment();
                  }
                  case 8: {
                    debugAo();
                  }
                  case 9: {
                    debugRoughness();
                  }
                  case 10: {
                    debugMetallic();
                  }
                  case 11: {
                    debugDiffuse();
                  }
                  case 12: {
                    debugAmbient();
                  }
                  case 13: {
                    debugMeshID();
                  }
                  case 14: {
                    #if DEBUG_CLUSTER
                      debugCluster( ORI_VertexVarying.fragCoord );
                    #endif
                  }
                  case 15: {
                    #if DEBUG_CLUSTER
                      debugClusterBox( ORI_VertexVarying.fragCoord );
                    #endif
                  }
                  case 16: {
                    #if DEBUG_CLUSTER
                      debugClusterLightCount( vec4<f32>(ORI_VertexVarying.fragCoord.xyz,0.0));
                      #endif
                  }
                  default: {
                  }
                }
              }
        }
`,Qw=`
    #include "WorldMatrixUniform"
    #include "GlobalUniform"

    struct MaterialUniform {
    x:f32,
    y:f32,
    width:f32,
    height:f32,
    };

    struct VertexOutput {
        @location(auto) fragUV: vec2<f32>,
        @builtin(position) position: vec4<f32>
    };

    @vertex
    fn main(@builtin(vertex_index) vertexIndex : u32, @builtin(instance_index) index : u32 ) -> VertexOutput {
        const pos = array(
        vec2(-1.0, -1.0), vec2(1.0, -1.0), vec2(-1.0, 1.0),
        vec2(-1.0, 1.0), vec2(1.0, -1.0), vec2(1.0, 1.0),
        );
        const uv = array(
        vec2(1.0, 0.0), vec2(1.0, 1.0), vec2(0.0, 1.0), 
        vec2(1.0, 0.0), vec2(0.0, 1.0), vec2(0.0, 0.0),
        );
        let id = u32(index) ;
        var output : VertexOutput;
        output.fragUV = uv[vertexIndex] ;
        output.position = vec4<f32>(pos[vertexIndex] , 0.0, 1.0) ;
        return output ;
    }
`,Hw=`
#include "WorldMatrixUniform"
      #include "GlobalUniform"
   
      struct MaterialUniform {
        x:f32,
        y:f32,
        width:f32,
        height:f32,
      };

      struct VertexOutput {
          @location(auto) fragUV: vec2<f32>,
          @builtin(position) member: vec4<f32>
      };

      @vertex
      fn main(@builtin(instance_index) index : u32,@location(auto) position: vec3<f32>, @location(auto) TEXCOORD_1: vec2<f32>) -> VertexOutput {
        //   let id = u32(index) ;
        //   let worldMatrix = models.matrix[id];
        //   let windowSize = vec2<f32>(globalUniform.windowWidth,globalUniform.windowHeight) ;
        //   let pos = worldMatrix[3].xy ;
        //   let size = vec2<f32>(worldMatrix[0].x,worldMatrix[1].y) / windowSize ;
          let uv = vec2(((TEXCOORD_1.xy * 2.0) - vec2<f32>(1.0))) ;// / windowSize * size - offset ;
          return VertexOutput(TEXCOORD_1, vec4<f32>(uv, 0.0, 1.0));
      }
`,jw=`
    struct FragmentOutput {
        @location(auto) o_Target: vec4<f32>
    };

    var<private> fragUV1: vec2<f32>;
    var<private> o_Target: vec4<f32>;
    @group(1) @binding(0)
    var baseMapSampler: sampler;
    @group(1) @binding(1)
    var baseMap: texture_2d<f32>;

    @fragment
    fn main(@location(auto) fragUV: vec2<f32>) -> FragmentOutput {
        var uv = fragUV ;
        uv.y = 1.0 - uv.y ;
        var color: vec4<f32> = textureSample(baseMap, baseMapSampler, uv );

        return FragmentOutput(color);
    }
`,Ww=`
    struct FragmentOutput {
        @location(auto) o_Target: vec4<f32>
    }; 

    var<private> fragUV1: vec2<f32>;
    var<private> o_Target: vec4<f32>;

    @group(1) @binding(0)
    var baseMapSampler: sampler;
    @group(1) @binding(1)
    var baseMap: texture_depth_2d ;

    fn Linear01Depth(  z : f32 ) -> f32
    {
        return 1.0 / (1.0 * z + 5000.0);
    }

    @fragment
    fn main(@location(auto) fragUV: vec2<f32>) -> FragmentOutput {
        var uv = fragUV ;
        uv.y = 1.0 - uv.y ;
        var depth = textureSample(baseMap, baseMapSampler, uv , vec2<i32>(0) ) ;
        return FragmentOutput(vec4<f32>(depth,0.0,0.0,1.0));
    }
`,Yw=`
    struct FragmentOutput {
        @location(auto) o_Target: vec4<f32>
    };

    var<private> fragUV1: vec2<f32>;
    var<private> o_Target: vec4<f32>;

    @group(1) @binding(0)
    var baseMapSampler: sampler;
    @group(1) @binding(1)
    var baseMap: texture_depth_cube ;

    fn uvToXYZ( face : i32 ,  uv : vec2<f32> ) -> vec3<f32>
    {
        var out : vec3<f32> ;
        if(face == 0){
            out = vec3<f32>( 1.0, uv.y, -uv.x);
        }else if(face == 1){
            out = vec3<f32>( -1.0, uv.y, uv.x);
        }else if(face == 2){
            out = vec3<f32>( uv.x, -1.0, uv.y);
        }else if(face == 3){
            out = vec3<f32>( uv.x,  1.0, -uv.y);
        }else if(face == 4){
            out = vec3<f32>( uv.x, uv.y, 1.0);
        }else{	
            out = vec3<f32>( -uv.x, uv.y, -1.0);
        }
        return out ;
    }

    @fragment
    fn main(@location(auto) fragUV: vec2<f32>) -> FragmentOutput {
        var uv = fragUV ;
        uv.y = 1.0 - uv.y ;
        var ii = 0.16 ;
        var ouv = vec3<f32>(0.0);
        if(uv.x < ii * 6.0){
            ouv = uvToXYZ(5,uv/ii);
        }
        if(uv.x < ii * 5.0){
            ouv = uvToXYZ(4,uv/ii);
        }
        if(uv.x < ii * 4.0){
            ouv = uvToXYZ(3,uv/ii);
        } 
        if(uv.x < ii * 3.0){
            ouv = uvToXYZ(2,uv/ii);
        }
        if(uv.x < ii * 2.0){
            ouv = uvToXYZ(1,uv/ii);
        }
        if(uv.x < ii * 1.0){
            ouv = uvToXYZ(0,uv/ii);
        }
        var depth = textureSample(baseMap, baseMapSampler, ouv ) ;
        depth = 1.0 - depth; 

        return FragmentOutput(vec4<f32>(depth,0.0,0.0,1.0));
    }
`,hg=`
    fn getHDRColor(color: vec3<f32>, exposure: f32) -> vec3 < f32 > {
        // var newColor = color * (  1.0 / 255.0 ) ;
        return color * pow(2.4, exposure) ;
    }

    fn lambda2rgb(lambda : f32) -> vec3 < f32 > {
        let ultraviolet = 400.0;
        let infrared = 700.0;

        var a = (lambda - ultraviolet) / (infrared - ultraviolet);
        let c = 10.0;
        var b = vec3<f32>(a) - vec3<f32>(0.75, 0.5, 0.25);
        return max((1.0 - c * b * b), vec3<f32>(0.0));
    }

    fn CEToneMapping(color: vec3<f32>, adapted_lum: f32) -> vec3<f32>
    {
        return 1.0 - exp(-adapted_lum * color);
    }

    fn ACESToneMapping(color: vec3<f32>, adapted_lum: f32) -> vec3<f32>
    {
        let A = 2.51;
        let B = 0.03;
        let C = 2.43;
        let D = 0.59;
        let E = 0.14;

        var color2 = color * adapted_lum;
        color2 = (color2 * (A * color2 + B)) / (color2 * (C * color2 + D) + E);
        return color2;
    }

    fn gammaToLiner(color: vec3<f32>) -> vec3 < f32 > {
        let gammaCorrect = 2.4;
        var color2 = pow(color, vec3<f32>(gammaCorrect));
        return color2 ;
    }

    fn linerToGamma4(color: vec4<f32>) -> vec4 < f32 > {
        let gammaCorrect = 0.416666667;
        var color2 = pow(color, vec4<f32>(gammaCorrect));
        return color2 ;
    }

    fn linerToGamma3(color: vec3<f32>) -> vec3 < f32 > {
        let gammaCorrect = 0.416666667;
        var color2 = pow(color, vec3<f32>(gammaCorrect));
        return color2 ;
    }

    fn LinearToGammaSpace(linRGB0: vec3<f32>) -> vec3 < f32 > {
        var linRGB = max(linRGB0, vec3(0.0, 0.0, 0.0));
        linRGB.r = pow(linRGB.r, 0.416666667);
        linRGB.g = pow(linRGB.g, 0.416666667);
        linRGB.b = pow(linRGB.b, 0.416666667);
        return max(1.055 * linRGB - 0.055, vec3(0.0, 0.0, 0.0));
    }

    var<private>sRGB_2_LMS_MAT: mat3x3<f32> = mat3x3<f32>(
        17.8824, 43.5161, 4.1193,
        3.4557, 27.1554, 3.8671,
        0.02996, 0.18431, 1.4670,
    );

    var<private>LMS_2_sRGB_MAT: mat3x3<f32> = mat3x3<f32>(
        0.0809, -0.1305, 0.1167,
        -0.0102, 0.0540, -0.1136,
        -0.0003, -0.0041, 0.6935,
    );

    fn sRGB_2_LMS(RGB: vec3<f32>) -> vec3<f32>
    {
        return sRGB_2_LMS_MAT * RGB;
    }

    fn LMS_2_sRGB(LMS: vec3<f32>) -> vec3<f32>
    {
        return LMS_2_sRGB_MAT * LMS;
    }

    fn LinearToSrgbBranchless(lin: vec3<f32>) -> vec3<f32>
    {
        var lin2 = max(vec3<f32>(6.10352e-5), lin);
        return min(lin2 * 12.92, pow(max(lin2, vec3<f32>(0.00313067)), vec3<f32>(0.416666667)) * vec3<f32>(1.055) - vec3<f32>(0.055));
    }

    fn sRGBToLinear(color : vec3<f32>) -> vec3<f32>
    {
        let color2 = max(vec3<f32>(6.10352e-5), color);
        let c = 0.04045;
        if (color2.r > c && color2.g > c && color2.b > c) {
            return pow(color2 * (1.0 / 1.055) + 0.0521327, vec3<f32>(2.4));
        } else {
            return color2 * (1.0 / 12.92);
        }
    }

    fn BlendNormalRNM( n1:vec3f,  n2:vec3f) -> vec3f
	{
		let t = n1.xyz + vec3f(0.0, 0.0, 1.0);
		let u = n2.xyz * vec3f(-1.0, -1.0, 1.0);
		let r = (t / t.z) * dot(t, u) - u;
		return r;
	}

//     fn ReorientedBlendNormal(){
//         vec3 t = texture(baseMap,   uv).xyz * vec3( 2.0,  2.0, 2.0) + vec3(-1.0, -1.0,  0.0);
// vec3 u = texture(detailMap, uv).xyz * vec3(-2.0, -2.0, 2.0) + vec3( 1.0,  1.0, -1.0);
// vec3 r = normalize(t * dot(t, u) - u * t.z);
// return r;
//     }

//     fn UDNBlendNormal(){
    // vec3 t = texture(baseMap,   uv).xyz * 2.0 - 1.0;
    // vec3 u = texture(detailMap, uv).xyz * 2.0 - 1.0;
    // vec3 r = normalize(t.xy + u.xy, t.z);
    // return r;
//     }
`,$w=`
    fn madfrac(A:f32, B:f32)-> f32 {
        return A*B-floor(A*B) ;
    }

    fn sampleRandomDir(count:u32,SAMPLE_COUNT:u32) -> vec3<f32>{
    var ray_dir = sphericalFibonacci(f32((count)), f32(SAMPLE_COUNT) );
    return normalize(ray_dir) ;
    }

    fn sphericalFibonacci( i : f32 ,  n : f32 ) -> vec3<f32>{
        const PHI = sqrt(5.0) * 0.5 + 0.5;
        let phi = 2.0 * PI * madfrac(i, PHI - 1);
        let cosTheta = 1.0 - (2.0 * i + 1.0) * (1.0 / n);
        let sinTheta = sqrt(saturate(1.0 - cosTheta*cosTheta));

        return vec3<f32>(
            cos(phi) * sinTheta,
            sin(phi) * sinTheta,
            cosTheta);

    }
`,Kw=`
    #include "MathShader"

    fn buildMatrix3x3() -> mat3x3<f32>{
        var mat3 = mat3x3<f32>(
            1.0,0.0,0.0,
            0.0,1.0,0.0,
            0.0,0.0,1.0,
        );
        return mat3 ;
    }

    fn buildMatrix4x4() -> mat4x4<f32>{
        var mat4 = mat4x4<f32>(
            1.0,0.0,0.0,0.0,
            0.0,1.0,0.0,0.0,
            0.0,0.0,1.0,0.0,
            0.0,0.0,0.0,1.0,
        );
        return mat4 ;
    }

    fn buildRotateXMat3(rad:f32) -> mat3x3<f32>{
        var xrot = mat3x3<f32>(
            1.0,0.0,0.0,
            0.0,cos(rad),-sin(rad),
            0.0,sin(rad),cos(rad)
        );
        return xrot;
    }

    fn buildRotateXMat4(rad:f32,x:f32,y:f32,z:f32) -> mat4x4<f32>{
        var xrot = mat4x4<f32>(
            1.0,0.0,0.0,0.0,
            0.0,cos(rad),-sin(rad),0.0,
            0.0,sin(rad),cos(rad),0.0,
            x,y,z,1.0,
        );
        return xrot;
    }

    fn buildYRotateXMat4(radY:f32,x:f32,y:f32,z:f32) -> mat4x4<f32>{
        var yRot = mat4x4<f32>(
            cos(radY),0.0,sin(radY),0.0,
            0.0,1.0,0.0,0.0,
            -sin(radY),0.0,cos(radY),0.0,
            x,y,z,1.0,
        );
        return yRot;
    }

    fn buildRotateXYZMat4(radX:f32,radY:f32,radZ:f32,x:f32,y:f32,z:f32) -> mat4x4<f32>{
        var xRot = mat4x4<f32>(
            1.0,0.0,0.0,0.0,
            0.0,cos(radX),-sin(radX),0.0,
            0.0,sin(radX),cos(radX),0.0,
            0.0,0.0,0.0,1.0,
        );
        var yRot = mat4x4<f32>(
            cos(radY),0.0,sin(radY),0.0,
            0.0,1.0,0.0,0.0,
            -sin(radY),0.0,cos(radY),0.0,
            0.0,0.0,0.0,1.0,
        );
        var zRot = mat4x4<f32>(
            cos(radZ),-sin(radZ),0.0,0.0,
            sin(radZ), cos(radZ),0.0,0.0,
            0.0,0.0,1.0,0.0,
            0.0,0.0,0.0,1.0,
        );
        var fMat = xRot * yRot * zRot ;
        fMat[3].x = x;
        fMat[3].y = y;
        fMat[3].z = z;
        return fMat;
    }

    fn buildRotateYMat3(rad:f32) -> mat3x3<f32>{
        var yrot = mat3x3<f32>(
            cos(rad),0.0,sin(rad),
            0.0,1.0,0.0,
            -sin(rad),0.0,cos(rad)
        );
        return yrot ;
    }

    fn buildRotateZ(rad:f32) -> mat3x3<f32>{
        var zrot = mat3x3<f32>(
            cos(rad),-sin(rad),0.0,
            sin(rad), cos(rad),0.0,
            0.0,0.0,1.0
        );
        return zrot;
    }

    // fn buildRotateXMat4(rad:f32) -> mat4x4<f32>{
    //     var xrot = mat4x4<f32>(
    //         1.0,0.0,0.0,0.0,
    //         0.0,cos(rad),-sin(rad),0.0,
    //         0.0,sin(rad),cos(rad),0.0,
    //         0.0,0.0,0.0,1.0);
    //     return xrot;
    // }

    fn bulidTranslateMat4(x:f32,y:f32,z:f32) -> mat4x4<f32>{
        var trans = mat4x4<f32>(
            1.0,0.0,0.0,0.0,
            0.0,1.0,0.0,0.0,
            0.0,0.0,1.0,0.0,
            x,y,z,1.0);
        return trans;
    }

`,qw=`
    struct LightData {
        index:f32,
        lightType:i32,
        radius:f32,
        linear:f32,
        
        position:vec3<f32>,
        lightMatrixIndex:f32,

        direction:vec3<f32>,
        quadratic:f32,

        lightColor:vec3<f32>,
        intensity:f32,

        innerCutOff :f32,
        outerCutOff:f32,
        range :f32,
        castShadow:i32,

        lightTangent:vec3<f32>,
        ies:f32,
    };

    const PointLightType = 1;
    const DirectLightType = 2;
    const SpotLightType = 3;

    struct ClusterBox {
        minPoint:vec4<f32>,
        maxPoint:vec4<f32>
    };

    struct LightIndex {
            count:f32,
            start:f32,
            empty0:f32,
            empty1:f32,
    };

    struct ClustersUniform {
        clusterTileX:f32,
        clusterTileY:f32,
        clusterTileZ:f32,
        numLights:f32,
        maxNumLightsPerCluster:f32,
        near:f32,
        far:f32,
        screenWidth:f32,
        screenHeight:f32,
        clusterPix:f32, 
    };

    @group(2) @binding(1)
    var<storage,read> lightBuffer: array<LightData>;
    @group(2) @binding(2)
    var<uniform> clustersUniform : ClustersUniform;
    @group(2) @binding(3)
    var<storage,read> lightAssignBuffer : array<f32>;
    @group(2) @binding(4)
    var<storage,read> assignTable : array<LightIndex>;
    #if DEBUG_CLUSTER
        @group(2) @binding(5)
        var<storage,read> clusterBuffer : array<ClusterBox>;
    #endif

    fn getLight( index:i32 ) -> LightData {
        let lightId = i32(lightAssignBuffer[index]);
        var lightData = lightBuffer[lightId];
        return lightData ;
    }

    fn linearTo01Depth(depth : f32) -> f32 {
        return (globalUniform.far ) * globalUniform.near / fma(depth, globalUniform.near-globalUniform.far, globalUniform.far);
    }

    fn getClusterId3() -> vec3<u32> {
        let z = linearTo01Depth(ORI_VertexVarying.fragCoord.z) ; 

        let sliceScale = f32(clustersUniform.clusterTileZ) / log2(globalUniform.far / globalUniform.near);
        let sliceBias = -(f32(clustersUniform.clusterTileZ) * log2(globalUniform.near) / log2(globalUniform.far / globalUniform.near));
        let zTile = u32(max(log2(z) * sliceScale + sliceBias, 0.0));

        var screenUV = ORI_VertexVarying.fragCoord.xy / vec2<f32>( globalUniform.windowWidth , globalUniform.windowHeight );
        let i = u32(floor(screenUV.x * clustersUniform.clusterTileX)) ;
        let j = u32(floor(screenUV.y * clustersUniform.clusterTileY) );

        return vec3<u32>(i,j,zTile);
    }

    fn getCluster() -> LightIndex {
        let tile = getClusterId3();
        let id = tile.x +
            tile.y * u32(clustersUniform.clusterTileX) +
            tile.z * u32(clustersUniform.clusterTileX) * u32(clustersUniform.clusterTileY);
        return assignTable[id];
    }

    fn getClusterIndex() -> u32 {
        let tile = getClusterId3();
        let id = tile.x +
            tile.y * u32(clustersUniform.clusterTileX) +
            tile.z * u32(clustersUniform.clusterTileX) * u32(clustersUniform.clusterTileY);
        return id;
    }
`,Xw=`
  #include "BRDF_frag"
  #include "MathShader"
  #include "FastMathShader"
  #include "Common_frag"
  #include "GlobalUniform"

  #include "PhysicMaterialUniform_frag"
  #include "NormalMap_frag"
  #include "LightingFunction_frag"
  #include "Irradiance_frag"
  #include "ColorUtil_frag"
  #include "BxdfDebug_frag"

  struct FHairTransmittanceData{
    bUseBacklit:bool,
    bUseSeparableR:bool,
    bUseLegacyAbsorption:bool
  };
 
  //ORI_ShadingInput
  fn initFragData() {
      fragData.Albedo = ORI_ShadingInput.BaseColor ;
      fragData.Ao = clamp( pow(ORI_ShadingInput.AmbientOcclusion,materialUniform.ao) , 0.0 , 1.0 ) ; 
      fragData.Roughness = ORI_ShadingInput.Roughness ; 
      fragData.Metallic = ORI_ShadingInput.Metallic ; 
      fragData.Emissive = ORI_ShadingInput.EmissiveColor.rgb ; 
      fragData.Specular = vec3f(materialUniform.specularColor.rgb) ; 
      fragData.N = ORI_ShadingInput.Normal;
      let viewDir = normalize(globalUniform.CameraPos.xyz - ORI_VertexVarying.vWorldPos.xyz ) ;
      fragData.V = viewDir ;
      fragData.Ao = materialUniform.ao ;
      #if USE_TANGENT
        fragData.T = ORI_VertexVarying.TANGENT.xyz * ORI_VertexVarying.TANGENT.w ;
      #endif
 
      let R = 2.0 * dot( fragData.V , fragData.N ) * fragData.N - fragData.V ;
      fragData.R = R ;//reflect( fragData.V , fragData.N ) ;

      fragData.NoV = saturate(dot(fragData.N, fragData.V)) ;

      fragData.F0 = mix(vec3<f32>(materialUniform.specularColor.rgb), fragData.Albedo.rgb, fragData.Metallic);
      
      fragData.F = computeFresnelSchlick(fragData.NoV, fragData.F0);
      fragData.KD = vec3<f32>(fragData.F) ;
      fragData.KS = vec3<f32>(0.0) ;

      fragData.Indirect = 0.0 ;
      fragData.Reflectance = 1.0 ;
  }

  

  fn transformHairNormal(normal : vec3<f32>) -> vec3<f32>{
      var face = 1.0 ;
      if(ORI_VertexVarying.face){
          face = 1.0 ;
      }else{
          face = -1.0 ;
      }
      #if USE_TANGENT
        let T = ORI_VertexVarying.TANGENT.xyz;
        let N = ORI_VertexVarying.vWorldNormal ;
        let B = cross(T,N) * ORI_VertexVarying.TANGENT.w * face;
        let mat3 = mat3x3<f32>(T,B,N);
        let n = mat3 * normal;
        return n ;
      #else
        return normal ;
      #endif
  }


  fn Hair_g( B:f32 ,  Theta:f32 ) -> f32
  {
      return exp(-0.5 * pow2(Theta) / (B * B)) / (sqrt(2 * PI) * B);
  }

  fn Hair_F( CosTheta:f32 )-> f32
  {
      let n = 1.55;
      let F0 = pow2((1.0 - n) / (1.0 + n));
      return F0 + (1.0 - F0) * pow5(1.0 - CosTheta);
  }

  fn HairColorToAbsorption( C:vec3f ,  B:f32 ) -> vec3f
  {
      let b2 = B * B;
      let b3 = B * b2;
      let b4 = b2 * b2;
      let b5 = B * b4;
      let D = (5.969 - 0.215 * B + 2.532 * b2 - 10.73 * b3 + 5.574 * b4 + 0.245 * b5);
      return pow2v3(log(C) / D);
  }

  fn Luminance(  LinearColor : vec3f ) -> f32
  {
    return dot( LinearColor, vec3f( 0.3, 0.59, 0.11 ) );
  }

  fn KajiyaKayDiffuseAttenuation( L:vec3f,  V:vec3f,  N:vec3f,  Shadow:f32 ) -> vec3f
  {
    // Use soft Kajiya Kay diffuse attenuation
    var KajiyaDiffuse = 1.0 - abs(dot(N, L));

    var FakeNormal = normalize(V - N * dot(V, N));
    //N = normalize( DiffuseN + FakeNormal * 2 );
    let nN = FakeNormal;

    let BaseColor = fragData.Albedo.rgb / PI ;
    // Hack approximation for multiple scattering.
    var Wrap = 1.0;
    var NoL = saturate((dot(nN, L) + Wrap) / squareF(1.0 + Wrap));
    var DiffuseScatter = (1.0 / PI) * mix(NoL, KajiyaDiffuse, 0.33) * fragData.Metallic;
    var Luma = Luminance(BaseColor);
    var ScatterTint = pow(BaseColor / Luma, vec3f(1.0 - Shadow));
    return sqrt(BaseColor) * DiffuseScatter * ScatterTint;
  }

  fn HairNormal( ID : f32 ) -> vec4f {
      let tangentA = vec4f(0.0,0.0,0.3,1.0);
      let tangentB = vec4f(0.0,0.0,-0.3,1.0);

      let iTangent = mix(tangentA,tangentB,vec4f(ID));
      var tangent = vec4f(0.0);
      #if USE_FLOWER

      #else 
        let tt = vec4f(0.0,-1.0,0.0,1.0);
        tangent = tt + iTangent;
      #endif

      return normalize(tangent) ;
  }

  fn hairShading( light:LightData , sV:vec3f, N:vec3f, Shadow:f32 , HairTransmittance : FHairTransmittanceData ,  InBacklit:f32 ,  Area:f32 ,  Random:vec2f ) -> vec3f{
      var ClampedRoughness = clamp(fragData.Roughness, 1/255.0, 1.0);
      let Backlit	= min(InBacklit, materialUniform.backlit);
      let HairColor = fragData.Albedo.rgb ;
      let lightCC = pow( light.lightColor.rgb,vec3<f32>(2.2));
      var lightColor = getHDRColor( lightCC.rgb , light.linear )  ;
      var lightAtt = light.intensity  ;

      let V = normalize(sV) ;
      let L = normalize(-light.direction) ;
      let H = normalize(N+L) ;
      var S : vec3f= vec3f(0.0) ;

      var KajiyaKayDiffuseFactor = 1.0;

      let VoL       = dot(V,L);                                                      
      let SinThetaL = clamp(dot(N,L), -1.0, 1.0);
      let SinThetaV = clamp(dot(N,V), -1.0, 1.0);

      var CosThetaD = cos( 0.5 * abs( asinFast( SinThetaV ) - asinFast( SinThetaL ) ) );
      // var CosThetaD = cos( 0.5 * abs( asin( SinThetaV ) - asin( SinThetaL ) ) );
      
      var Lp = L - SinThetaL * N;
      var Vp = V - SinThetaV * N;
      var CosPhi = dot(Lp,Vp) * rsqrt( dot(Lp,Lp) * dot(Vp,Vp) + 1e-4 );
      var CosHalfPhi = sqrt( saturate( 0.5 + 0.5 * CosPhi ) );

      let n = 1.55;
      let n_prime = 1.19 / CosThetaD + 0.36 * CosThetaD;

      let Shift = 0.035;
      var Alpha:array<f32,3> = array<f32,3>(
        -Shift * 2.0,
        Shift,
        Shift * 4.0,
      );

      var B:array<f32,3> =array<f32,3>(
        Area + pow2(ClampedRoughness),
        (Area + pow2(ClampedRoughness) / 2.0),
        Area + pow2(ClampedRoughness) * 2.0,
      );
     
      //S SR
      let sa = sin(Alpha[0]);
      let ca = cos(Alpha[0]);
      var ShiftA = 2.0 * sa * (ca * CosHalfPhi * sqrt(1.0 - SinThetaV * SinThetaV) + sa * SinThetaV);
      var BScale = 1.0;
      if(HairTransmittance.bUseSeparableR){
          BScale = sqrt(2.0) * CosHalfPhi ;
      }
      var Mp_R = Hair_g(B[0] * BScale, SinThetaL + SinThetaV - ShiftA);
      var Np_R = 0.25 * CosHalfPhi;
      var Fp_R = Hair_F(sqrt(saturate(0.5 + 0.5 * (VoL))));
      S += vec3f(Mp_R* Np_R * Fp_R * (fragData.F0 * 2.0)) * mix(1.0, 0.0, saturate(-VoL));
      KajiyaKayDiffuseFactor -= Fp_R;

      //S ST
      var Mp_ST = Hair_g( B[1], SinThetaL + SinThetaV - Alpha[1] );
      var a_ST = 1.0 / n_prime;
      var h_ST = CosHalfPhi * ( 1.0 + a_ST * ( 0.6 - 0.8 * CosPhi ) );
      var f_ST = Hair_F( CosThetaD * sqrt( saturate( 1.0 - h_ST * h_ST ) ) );
      var Fp_ST = pow2(1.0 - f_ST);
      var Tp_ST : vec3f = vec3f( 0.0 );
      if (HairTransmittance.bUseLegacyAbsorption)
      {
        Tp_ST = pow(HairColor.rgb, vec3f(0.5 * sqrt(1.0 - pow2(h_ST * a_ST)) / CosThetaD));
      }
      else
      {
        let AbsorptionColor = HairColorToAbsorption(HairColor.rgb,0.3);
        Tp_ST = exp(-AbsorptionColor * 2.0 * abs(1.0 - pow2(h_ST * a_ST) / CosThetaD));
      }
     
      var Np_ST = exp( -3.65 * CosPhi - 3.98 );
      
      S += Mp_ST * Np_ST * Fp_ST * Tp_ST * Backlit;
      KajiyaKayDiffuseFactor -= Fp_ST;

      //S TRT
      var Mp_TRT = Hair_g( B[2], SinThetaL + SinThetaV - Alpha[2] );
      
      //float h = 0.75;
      var f_TRT = Hair_F( CosThetaD * 0.5 );
      var Fp_TRT = pow2(1.0 - f_TRT) * f_TRT;
      var Tp_TRT = pow( HairColor.rgb , vec3f(0.8 / CosThetaD) );
      var Np_TRT = exp( 17.0 * CosPhi - 16.78 );
      
      S += Mp_TRT * Np_TRT * Fp_TRT * Tp_TRT;
      KajiyaKayDiffuseFactor -= Fp_TRT;
      // S = vec3f((KajiyaKayDiffuseFactor));
     
      S += KajiyaKayDiffuseAttenuation(L,V,N,Shadow) ;//* saturate(KajiyaKayDiffuseFactor);
      // S = vec3f((KajiyaKayDiffuseFactor));
      S = -min(-S, vec3f(0.0));
      return 2.0 * PI *vec3f(S) * (lightAtt / LUMEN) ;
  }

  fn BSSSRDFShading(){
    initFragData();

    var irradiance = vec3<f32>(0.0) ;
    #if USEGI
        irradiance += getIrradiance().rgb ;
    #else
        let MAX_REFLECTION_LOD  = f32(textureNumLevels(prefilterMap)) ;
        irradiance += (globalUniform.skyExposure * textureSampleLevel(prefilterMap, prefilterMapSampler, fragData.N.xyz, 0.8 * (MAX_REFLECTION_LOD) ).rgb);
    #endif
    irradiance = ORI_ShadingInput.SSS + (irradiance.rgb);
    fragData.Irradiance = irradiance.rgb ;

    //***********lighting-PBR part********* 
    var specColor = vec3<f32>(0.0) ;
    let lightIndex = getCluster();
    let start = max(lightIndex.start, 0.0);
    let count = max(lightIndex.count, 0.0);
    let end = max(start + count , 0.0);
    for(var i:i32 = i32(start) ; i < i32(end); i += 1 )
    {
        let light = getLight(i32(i));
        switch (light.lightType) {
          case PointLightType: {
            // specColor += pointLighting( fragData.Albedo.rgb,ORI_VertexVarying.vWorldPos.xyz,fragData.N,fragData.V,fragData.Roughness,fragData.Metallic,light) ;
          }
          case DirectLightType: {
              // specColor += directHairLighting( fragData.Albedo.rgb ,fragData.N,fragData.V,fragData.Roughness ,fragData.Metallic, light , globalUniform.shadowBias) ;
              var fHairTransmittanceData : FHairTransmittanceData ;
              fHairTransmittanceData.bUseBacklit = true ;
              fHairTransmittanceData.bUseSeparableR = true ;
              fHairTransmittanceData.bUseLegacyAbsorption = false ;

              //use shadow visible backlit
              // var shadow = 0.0 ;
              // if(light.castShadow>=0){
              //     #if USE_SHADOWMAPING
              //       shadow = shadowStrut.directShadowVisibility[i32(light.castShadow)] ; 
              //     #endif
              // }

              specColor = hairShading(light,fragData.V, ORI_ShadingInput.HairNormal , 1.0 ,fHairTransmittanceData,1.0,materialUniform.area,vec2f(0.0));
          }
          case SpotLightType: {
            // specColor += spotLighting( fragData.Albedo.rgb,ORI_VertexVarying.vWorldPos.xyz,fragData.N,fragData.V,fragData.Roughness,fragData.Metallic , light ) ;
          }
          default: {
          }
        }
    }


    let sunLight = lightBuffer[0] ;
    //***********lighting-PBR part********* 
    var F = FresnelSchlickRoughness(fragData.NoV, fragData.F0.rgb , fragData.Roughness);
    var kS = F;
    // var kD = vec3(1.0) - kS;
    // kD = kD * (1.0 - fragData.Metallic);
    let envIBL =  materialUniform.envIntensity * IBLEnv(fragData.V ,fragData.N ,fragData.Roughness ) ;
    fragData.EnvColor = envIBL ;
    // fragData.Specular = envIBL ;
    //***********indirect-specular part********* 
    
    var iblSpecularResult = fragData.Metallic * fragData.EnvColor * materialUniform.specularColor.rgb ;
    //***********indirect-specular part********* 
    
    //***********indirect-ambient part********* 
    var kdLast = (1.0 - fragData.F0.r) * (1.0 - fragData.Metallic);    
    var iblDiffuseResult = irradiance * kdLast * fragData.Albedo.rgb * (vec3(1.0) - kS) ;
    //irradiance
    //***********indirect-ambient part********* 
    var indirectResult = (iblSpecularResult + iblDiffuseResult * max(sunLight.quadratic,0.05) ) * fragData.Ao ;
    fragData.LightChannel = specColor ;

    // Using stripped down, 'pure log', formula. Parameterized by grey points and dynamic range covered.
    #if USEGBUFFER
        var normal_rgba8unorm = (ORI_VertexVarying.vWorldNormal + 1.0) * 0.5;
        normal_rgba8unorm = clamp(normal_rgba8unorm, vec3<f32>(0.0), vec3<f32>(1.0));
        ORI_FragmentOutput.worldNormal = vec4<f32>(normal_rgba8unorm,1.0);
        ORI_FragmentOutput.material = vec4<f32>(1.0,fragData.Roughness,fragData.Metallic,1.0);
    #endif
    
    #if USE_WORLDPOS
        ORI_FragmentOutput.worldPos = vec4<f32>(ORI_VertexVarying.vWorldPos.xyzw);
    #endif
  
    let finalColor =  LinearToGammaSpace(vec3f(specColor + indirectResult) ) ;
    ORI_FragmentOutput.color = vec4<f32>( finalColor ,fragData.Albedo.a) ;
    // ORI_FragmentOutput.color = vec4<f32>( vec3f(specColor) ,fragData.Albedo.a) ;
}

  `,Jw=`
  #include "Clearcoat_frag"
  #include "BRDF_frag"
  #include "MathShader"
  #include "FastMathShader"
  #include "Common_frag"
  #include "GlobalUniform"

  #include "PhysicMaterialUniform_frag"
  #include "NormalMap_frag"
  #include "LightingFunction_frag"
  #include "Irradiance_frag"
  #include "ColorUtil_frag"
  #include "BxdfDebug_frag"


 
  //ORI_ShadingInput
  fn initFragData() {
      fragData.Albedo = ORI_ShadingInput.BaseColor ;
      fragData.Ao = clamp( pow(ORI_ShadingInput.AmbientOcclusion,materialUniform.ao) , 0.0 , 1.0 ) ; 
      fragData.Roughness = clamp((ORI_ShadingInput.Roughness),0.003,1.0) ; 
      fragData.Metallic = ORI_ShadingInput.Metallic ; 
      fragData.Emissive = ORI_ShadingInput.EmissiveColor.rgb ; 
      fragData.N = ORI_ShadingInput.Normal;
      let viewDir = normalize(globalUniform.CameraPos.xyz - ORI_VertexVarying.vWorldPos.xyz) ;
      fragData.V = viewDir ;
      #if USE_TANGENT
        fragData.T = ORI_VertexVarying.TANGENT.xyz ;
      #endif
 
      let R = 2.0 * dot( fragData.V , fragData.N ) * fragData.N - fragData.V ;
      fragData.R = R ;//reflect( fragData.V , fragData.N ) ;

      fragData.NoV = saturate(dot(fragData.N, fragData.V)) ;

      fragData.F0 = mix(vec3<f32>(materialUniform.specularColor.rgb), fragData.Albedo.rgb, fragData.Metallic);
      
      fragData.F = computeFresnelSchlick(fragData.NoV, fragData.F0);
      fragData.KD = vec3<f32>(fragData.F) ;
      fragData.KS = vec3<f32>(0.0) ;

      fragData.Indirect = 0.0 ;
      fragData.Reflectance = 1.0 ;

      fragData.ClearcoatRoughness = materialUniform.clearcoatRoughnessFactor ;
      #if USE_CLEARCOAT_ROUGHNESS
        fragData.ClearcoatRoughness = getClearcoatRoughness() * materialUniform.clearcoatRoughnessFactor;
      #endif
  }

  fn BsDFShading(){
      initFragData();

      var irradiance = vec3<f32>(0.0) ;
      #if USEGI
          irradiance += getIrradiance().rgb ;
      #else
          let MAX_REFLECTION_LOD  = f32(textureNumLevels(prefilterMap)) ;
          irradiance += (globalUniform.skyExposure * textureSampleLevel(prefilterMap, prefilterMapSampler, fragData.N.xyz, 0.8 * (MAX_REFLECTION_LOD) ).rgb);
      #endif
      irradiance = ORI_ShadingInput.SSS + LinearToGammaSpace(irradiance.rgb);
      fragData.Irradiance = irradiance.rgb ;

   

      //***********lighting-PBR part********* 
      var specColor = vec3<f32>(0.0) ;
      let lightIndex = getCluster();
      let start = max(lightIndex.start, 0.0);
      let count = max(lightIndex.count, 0.0);
      let end = max(start + count , 0.0);
      for(var i:i32 = i32(start) ; i < i32(end); i += 1 )
      {
          let light = getLight(i32(i));
          switch (light.lightType) {
            case PointLightType: {
              specColor += pointLighting( fragData.Albedo.rgb,ORI_VertexVarying.vWorldPos.xyz,fragData.N,fragData.V,fragData.Roughness,fragData.Metallic,light) ;
            }
            case DirectLightType: {
              specColor += directDulLighting( fragData.Albedo.rgb ,fragData.N,fragData.V,fragData.Roughness ,fragData.Metallic, light , globalUniform.shadowBias) ;
            }
            case SpotLightType: {
              specColor += spotLighting( fragData.Albedo.rgb,ORI_VertexVarying.vWorldPos.xyz,fragData.N,fragData.V,fragData.Roughness,fragData.Metallic , light ) ;
            }
            default: {
            }
          }
      }


      fragData.LightChannel = specColor ;

      let sunLight = lightBuffer[0] ;
      //***********lighting-PBR part********* 
      var F = FresnelSchlickRoughness(fragData.NoV, fragData.F0, fragData.Roughness);
      var kS = F;
      var kD = vec3(1.0) - kS;
      kD = kD * (1.0 - fragData.Metallic);
      let envIBL =  materialUniform.envIntensity * approximateSpecularIBL( F , fragData.Roughness , fragData.R , fragData.NoV ) ;
      fragData.EnvColor = envIBL ;
      //***********indirect-specular part********* 
      
      var surfaceReduction = 1.0/(fragData.Roughness*fragData.Roughness+1.0);   
      var oneMinusReflectivity = oneMinusReflectivity(fragData.Metallic , materialUniform.materialF0.r );
      var grazingTerm = clamp((1.0 - fragData.Roughness ) + (1.0 - oneMinusReflectivity),0.0,1.0);
      var t = pow5(fragData.NoV);
      var fresnelLerp = FresnelLerp(fragData.NoV,fragData.F0.rgb,vec3<f32>(grazingTerm)) ;   
      var iblSpecularResult = surfaceReduction * fragData.EnvColor * fresnelLerp + envIBL;
      iblSpecularResult *= max(sunLight.quadratic,0.05) ;
      //***********indirect-specular part********* 
      
      //***********indirect-ambient part********* 
      var kdLast = (1.0 - fragData.F0.r) * (1.0 - fragData.Metallic);    
      //  Dim the edges, there should be more specular reflection at the edges
      var iblDiffuseResult = irradiance * 2.0 * kdLast * fragData.Albedo.rgb * (vec3(1.0) - kS) ;
      //irradiance
      //***********indirect-ambient part********* 
      var indirectResult = (iblSpecularResult + iblDiffuseResult) * fragData.Ao * max(sunLight.quadratic,0.05);
      // debugOut = vec4f(iblDiffuseResult,1.0);

      ORI_FragmentOutput.color = vec4<f32>(0.0);

      // Using stripped down, 'pure log', formula. Parameterized by grey points and dynamic range covered.
      #if USEGBUFFER
          var normal_rgba8unorm = (ORI_VertexVarying.vWorldNormal + 1.0) * 0.5;
          normal_rgba8unorm = clamp(normal_rgba8unorm, vec3<f32>(0.0), vec3<f32>(1.0));
          ORI_FragmentOutput.worldNormal = vec4<f32>(normal_rgba8unorm,1.0);
          ORI_FragmentOutput.material = vec4<f32>(1.0,fragData.Roughness,fragData.Metallic,1.0);
      #endif
      
      #if USE_WORLDPOS
          ORI_FragmentOutput.worldPos = vec4<f32>(ORI_VertexVarying.vWorldPos.xyzw);
      #endif
      
      var color = specColor + indirectResult ;
      color += fragData.Emissive.xyz ;

      var clearCoatColor = vec3<f32>(0.0);
      #if USE_CLEARCOAT
        let clearCoatBaseColor = vec3<f32>(1.0) * materialUniform.baseColor.rgb ;
        let clearNormal = fragData.N ;
        let clearcoatRoughness = fragData.ClearcoatRoughness ;
        let att = sunLight.intensity / LUMEN ;
        let clearCoatLayer = ClearCoat_BRDF( color , materialUniform.clearcoatColor.rgb , materialUniform.ior , clearNormal , -sunLight.direction ,-fragData.V , materialUniform.clearcoatWeight , clearcoatRoughness , att );
        color = vec3<f32>(clearCoatLayer.rgb/fragData.Albedo.a) ; 
      #endif
      
      let retColor = (LinearToGammaSpace(color.rgb));
      ORI_FragmentOutput.color = vec4<f32>( retColor ,fragData.Albedo.a) ;
  }

  `,Zw=`
    #include "Common_vert"
    #include "Common_frag"
    #include "UnLit_frag"
    #include "UnLitMaterialUniform_frag"

    #if USE_CUSTOMUNIFORM
        struct MaterialUniform {
            transformUV1:vec4<f32>,
            transformUV2:vec4<f32>,
            baseColor: vec4<f32>,
            alphaCutoff: f32,
        };
    #endif

    @group(1) @binding(0)
    var baseMapSampler: sampler;
    @group(1) @binding(1)
    var baseMap: texture_2d<f32>;

    fn vert(inputData:VertexAttributes) -> VertexOutput {
        ORI_Vert(inputData) ;
        return ORI_VertexOut ;
    }

    fn frag(){
        var transformUV1 = materialUniform.transformUV1;
        var transformUV2 = materialUniform.transformUV2;

        var uv = transformUV1.zw * ORI_VertexVarying.fragUV0 + transformUV1.xy; 
        let color = textureSample(baseMap,baseMapSampler,uv) ;
        if(color.w < 0.5){
            discard ;
        }
        
        ORI_ShadingInput.BaseColor = color * materialUniform.baseColor ;
        
        UnLit();

        // ORI_FragmentOutput.color = vec4<f32>( 1.0,0.0,0.0,1.0) ;
    }
`,A4=`
    #include "Common_vert"
    #include "Common_frag"
    #include "ClusterLight"
    #include "UnLit_frag"
    #include "UnLitMaterialUniform_frag"

    @group(1) @binding(0)
    var baseMapSampler: sampler;
    @group(1) @binding(1)
    var baseMap: texture_2d<f32>;

    fn vert(inputData:VertexAttributes) -> VertexOutput {
        ORI_Vert(inputData) ;
        return ORI_VertexOut ;
    }

    fn frag(){
        var transformUV1 = materialUniform.transformUV1;
        var transformUV2 = materialUniform.transformUV2;

        var uv = transformUV1.zw * ORI_VertexVarying.fragUV0 + transformUV1.xy; 
        let baseColor = textureSample(baseMap,baseMapSampler,uv) ;
        if(baseColor.w < 0.5){
            discard ;
        }

        var lightColor = vec4<f32>(0.0);
        let lightIndex = getCluster();
        let start = max(lightIndex.start, 0.0);
        let count = max(lightIndex.count, 0.0);
        let end = max(start + count , 0.0);
        for(var i:i32 = i32(start) ; i < i32(end); i += 1 )
        {
          let light = getLight(i32(i));
  
          switch (light.lightType) {
            case PointLightType: {
            }
            case DirectLightType: {
                var normal = ORI_VertexVarying.vWorldNormal ;
                let intensity = (light.intensity/10.0);
                let att = max(dot(normal,-light.direction),0.0) * intensity ;
                lightColor += baseColor * att * 0.5 + baseColor * 0.5 ; 
                // lightColor = baseColor * 0.5; 
            }
            case SpotLightType: {
            }
            default: {
            }
          }
        }
        
        ORI_ShadingInput.BaseColor = lightColor * materialUniform.baseColor ;
        ORI_ShadingInput.BaseColor.w = 1.0 ;
        UnLit();

        // let n = globalUniform.near ;
        // let f = globalUniform.far ;
        // let z = ORI_VertexVarying.fragCoord.z ;
        // ORI_FragmentOutput.out_depth = z * (n/(f-n)) ;
    }
`,e4=`
    #include "WorldMatrixUniform"
    #include "GlobalUniform"

    struct VertexOutput {
        @location(auto) fragUV: vec2<f32>,
        @builtin(position) member: vec4<f32>
    };

    @vertex
    fn main(@builtin(instance_index) index : u32, @location(auto) position: vec3<f32>, @location(auto) TEXCOORD_1: vec2<f32>) -> VertexOutput {
        let id = u32(index);
        let worldMatrix = models.matrix[id];

        let screenPos = vec2(((TEXCOORD_1 * 2.0) - vec2<f32>(1.0))) * 0.5 ; 
        return VertexOutput(TEXCOORD_1, vec4<f32>(screenPos, 0.0, 1.0));
    }
`,t4=`
#version 450

layout(location = 0) in vec2 fragUV;

layout(location = 0) out vec4 o_Target;

layout(set = 0, binding = 0) uniform ConstUniform {
    mat4 projMat;
    mat4 viewMat;
    mat4 shadowMatrix;
    mat4 cameraWorldMatrix;
    mat4 pvMatrixInv;
    float frame;
    float time;
    float delta;
    float shadowBias;
    float skyExposure;
    float renderPassState;
    float quadScale;

};

layout(set = 2, binding = 0) uniform sampler baseMapSampler;
layout(set = 2, binding = 1) uniform texture2D baseMap;
layout(set = 3, binding = 0) uniform MaterialDataUniform {
    vec4 color;
};

void main() {
        vec2 uv = fragUV.xy;
    uv.y = 1.0 - uv.y;
        vec4 colorTexture = texture(sampler2D(baseMap, baseMapSampler), uv * quadScale) * color;
    o_Target = vec4(colorTexture.rgb, colorTexture.a);

    if (o_Target.r <= 0.5 && o_Target.g <= 0.5 && o_Target.b <= 0.5) {
        discard;
    }
    // float gamma     = 2.2;
    // float exposure  = 1.0;
    // float pureWhite = 1.0;

    // float luminance = dot(colorTexture.rgb, vec3(0.2126, 0.7152, 0.0722));
    // float mappedLuminance = (luminance * (1.0 + luminance/(pureWhite*pureWhite))) / (1.0 + luminance);

    // // Scale color by ratio of average luminances.
    // vec3 mappedColor = (mappedLuminance / luminance) * colorTexture.rgb;

    // // Gamma correction.
    // o_Target = vec4(pow(o_Target.rgb, vec3(1.0/gamma)), 1.0);
};
`,r4=`
#include "GlobalUniform"

struct uniformData {
    eyesPos: vec3<f32>,
    exposure: f32,
    roughness: f32,
};

struct FragmentOutput {
    @location(auto) o_Position: vec4<f32>,
    @location(auto) o_Normal: vec4<f32>,
    @location(auto) o_Color: vec4<f32>
};

@group(1) @binding(4)
var baseMapSampler: sampler;
@group(1) @binding(5)
var baseMap: texture_cube<f32>;

@group(2) @binding(0)
var<uniform> global: uniformData;

fn LinearToGammaSpace(linRGB: vec3<f32>) -> vec3<f32> {
    var linRGB1 = max(linRGB, vec3<f32>(0.0));
    linRGB1 = pow(linRGB1, vec3<f32>(0.4166666567325592));
    return max(((1.0549999475479126 * linRGB1) - vec3<f32>(0.054999999701976776)), vec3<f32>(0.0));
  }

@fragment
fn main(@location(auto) fragUV: vec2<f32>, @location(auto) vWorldPos: vec4<f32>, @location(auto) vWorldNormal: vec3<f32>) -> FragmentOutput {
    let maxLevel: u32 = textureNumLevels(baseMap);
    let textureColor:vec3<f32> = textureSampleLevel(baseMap, baseMapSampler, normalize(vWorldPos.xyz), global.roughness * f32(maxLevel) ).xyz;
    let o_Color = 0.618 * vec4<f32>(LinearToGammaSpace(textureColor) * globalUniform.skyExposure , 1.0);
    let o_Normal = vec4(vWorldNormal,1.0) ;
    let o_Position = vec4<f32>(vWorldPos.xyz,100000.0) ;
    return FragmentOutput(o_Position,o_Normal,o_Color);
}
`,dg=`
#include "Common_vert"
#include "FragmentVarying"
#include "GlobalUniform"

struct FragmentOutput {
    @location(auto) o_Position: vec4<f32>,
    @location(auto) o_Normal: vec4<f32>,
    @location(auto) o_Color: vec4<f32>
};

struct MaterialUniform {
    baseColor: vec4<f32>,
    emissiveColor: vec4<f32>,
    emissiveIntensity: f32,
    normalScale: f32,
    alphaCutoff: f32
};

@group(2) @binding(0)
var<uniform> materialUniform: MaterialUniform;

@group(1) @binding(auto)
var baseMapSampler: sampler;
@group(1) @binding(auto)
var baseMap: texture_2d<f32>;

@group(1) @binding(auto)
var normalMapSampler: sampler;
@group(1) @binding(auto)
var normalMap: texture_2d<f32>;

@group(1) @binding(auto)
var emissiveMapSampler: sampler;
@group(1) @binding(auto)
var emissiveMap: texture_2d<f32>;

fn vert(inputData:VertexAttributes) -> VertexOutput {
    ORI_Vert(inputData) ;
    return ORI_VertexOut ;
}

var<private> ORI_FragmentOutput: FragmentOutput;
var<private> ORI_VertexVarying: FragmentVarying;

@fragment
fn FragMain(vertex_varying:FragmentVarying) -> FragmentOutput {
    ORI_VertexVarying = vertex_varying;
    var texColor = textureSample(baseMap, baseMapSampler, ORI_VertexVarying.fragUV0.xy );

    var emissive = textureSample(emissiveMap, emissiveMapSampler, ORI_VertexVarying.fragUV0.xy ).rgb ;
    let intensity = materialUniform.emissiveIntensity * materialUniform.emissiveColor.a ;
    emissive = emissive.rgb * materialUniform.emissiveColor.rgb ;
    emissive = convertToHDRRGB(emissive,intensity);

    if (materialUniform.alphaCutoff-texColor.w > 0.0) {
        discard ;
    }

    var o_Position = vec4<f32>(ORI_VertexVarying.vWorldPos.xyz,emissive.r) ;
    var o_Normal = vec4<f32>((ORI_VertexVarying.vWorldNormal.xyz * 0.5 + 0.5 ),emissive.g) ;
    var o_Color = vec4<f32>((texColor * materialUniform.baseColor).rgb , emissive.b )  ;
    return FragmentOutput(o_Position,o_Normal,vec4<f32>(o_Color));
}

fn convertToHDRRGB( color : vec3<f32> , ins:f32 ) -> vec3<f32> {
    var hdrColor = vec3<f32>(0.0,0.0,0.0);
    hdrColor.r = color.r * pow(2.4, ins);
    hdrColor.g = color.g * pow(2.4, ins);
    hdrColor.b = color.b * pow(2.4, ins);
    return hdrColor;
}
`,i4=`
#include "WorldMatrixUniform"
#include "GlobalUniform"

struct VertexOutput {
    @location(auto) fragUV: vec2<f32>,
    @builtin(position) member: vec4<f32>
};

#if USE_MORPHTARGETS
    ${nr.getMorphTargetShaderBinding(2,1)}
#endif

#if USE_SKELETON
    ${ou.groupBindingAndFunctions(2,1)} 
#endif

var<private> worldMatrix: mat4x4<f32>;

struct VertexAttributes{
    @builtin(instance_index) index : u32,
    @location(auto) position: vec3<f32>,
    @location(auto) normal: vec3<f32>,
    @location(auto) uv: vec2<f32>,
    @location(auto) TEXCOORD_1: vec2<f32>,

    #if USE_METAHUMAN
        #if USE_TANGENT
            @location(auto) TANGENT: vec4<f32>,
            @location(auto) joints0: vec4<f32>,
            @location(auto) weights0: vec4<f32>,
            #if USE_JOINT_VEC8
                @location(auto) joints1: vec4<f32>,
                @location(auto) weights1: vec4<f32>,
                @location(auto) vIndex: f32,
            #else
                @location(auto) vIndex: f32,
            #endif
        #else
            @location(auto) joints0: vec4<f32>,
            @location(auto) weights0: vec4<f32>,
            #if USE_JOINT_VEC8
                @location(auto) joints1: vec4<f32>,
                @location(auto) weights1: vec4<f32>,
                @location(auto) vIndex: f32,
            #else
                @location(auto) vIndex: f32,
            #endif
        #endif
    #else
        #if USE_TANGENT
            @location(auto) TANGENT: vec4<f32>,
        #endif

        #if USE_SKELETON
            #if USE_TANGENT
                @location(auto) joints0: vec4<f32>,
                @location(auto) weights0: vec4<f32>,
                #if USE_JOINT_VEC8
                    @location(auto) joints1: vec4<f32>,
                    @location(auto) weights1: vec4<f32>,
                #endif
            #else
                @location(auto) joints0: vec4<f32>,
                @location(auto) weights0: vec4<f32>,
                #if USE_JOINT_VEC8
                    @location(auto) joints1: vec4<f32>,
                    @location(auto) weights1: vec4<f32>,
                #endif
            #endif
        #endif

        #if USE_MORPHTARGETS
            #if USE_TANGENT
                @location(auto) vIndex: f32,
            #else
                @location(auto) vIndex: f32,
            #endif
        #endif

    #endif
}

@vertex
fn main(vertex:VertexAttributes) -> VertexOutput {
    worldMatrix = models.matrix[vertex.index];
    let shadowMatrix: mat4x4<f32> = globalUniform.projMat * globalUniform.viewMat ;
    var vertexPosition = vertex.position.xyz;
    var vertexNormal = vertex.normal.xyz;

    #if USE_MORPHTARGETS
     ${nr.getMorphTargetCalcVertex()}    
    #endif

    #if USE_SKELETON
        #if USE_JOINT_VEC8
          worldMatrix *= getSkeletonWorldMatrix_8(vertex.joints0, vertex.weights0, vertex.joints1, vertex.weights1);
        #else
          worldMatrix *= getSkeletonWorldMatrix_4(vertex.joints0, vertex.weights0);
        #endif
    #endif

    var worldPos = worldMatrix * vec4<f32>(vertexPosition, 1.0) ;
    var vPos = shadowMatrix * worldPos;

    return VertexOutput(vertex.uv, vPos );  
}
`,n4=`
#include "WorldMatrixUniform"
#include "GlobalUniform"

struct VertexOutput {
    @location(auto) fragUV: vec2<f32>,
    @location(auto) worldPos: vec3<f32>,
    @builtin(position) member: vec4<f32>
};

#if USE_MORPHTARGETS
    ${nr.getMorphTargetShaderBinding(2,1)}
##endif
 
#if USE_SKELETON
    ${ou.groupBindingAndFunctions(2,1)} 
#endif

var<private> worldMatrix: mat4x4<f32>;

struct VertexAttributes{
  @builtin(instance_index) index : u32,
  @location(auto) position: vec3<f32>,
  @location(auto) normal: vec3<f32>,
  @location(auto) uv: vec2<f32>,
  @location(auto) TEXCOORD_1: vec2<f32>,

  
  #if USE_METAHUMAN
    #if USE_TANGENT
        @location(auto) TANGENT: vec4<f32>,
        @location(auto) joints0: vec4<f32>,
        @location(auto) weights0: vec4<f32>,
        @location(auto) joints1: vec4<f32>,
        @location(auto) weights1: vec4<f32>,
        @location(auto) vIndex: f32,
    #else
        @location(auto) joints0: vec4<f32>,
        @location(auto) weights0: vec4<f32>,
        @location(auto) joints1: vec4<f32>,
        @location(auto) weights1: vec4<f32>,
        @location(auto) vIndex: f32,
    #endif
    #else
    #if USE_TANGENT
        @location(auto) TANGENT: vec4<f32>,
    #endif

    #if USE_SKELETON
        #if USE_TANGENT
            @location(auto) joints0: vec4<f32>,
            @location(auto) weights0: vec4<f32>,
            #if USE_JOINT_VEC8
                @location(auto) joints1: vec4<f32>,
                @location(auto) weights1: vec4<f32>,
            #endif
        #else
            @location(auto) joints0: vec4<f32>,
            @location(auto) weights0: vec4<f32>,
            #if USE_JOINT_VEC8
                @location(auto) joints1: vec4<f32>,
                @location(auto) weights1: vec4<f32>,
            #endif
        #endif
    #endif

    #if USE_MORPHTARGETS
        #if USE_TANGENT
            @location(auto) vIndex: f32,
        #else
            @location(auto) vIndex: f32,
        #endif
    #endif

    #endif
}

@vertex
fn main(vertex:VertexAttributes) -> VertexOutput {
    worldMatrix = models.matrix[vertex.index];
    let shadowMatrix: mat4x4<f32> = globalUniform.projMat * globalUniform.viewMat ;
    var vertexPosition = vertex.position.xyz;

    #if USE_METAHUMAN
        ${nr.getMorphTargetCalcVertex()}
        #if USE_JOINT_VEC8
            worldMatrix *= getSkeletonWorldMatrix_8(vertex.joints0, vertex.weights0, vertex.joints1, vertex.weights1);
        #else
            worldMatrix *= getSkeletonWorldMatrix_4(vertex.joints0, vertex.weights0);
        #endif
    #endif

    #if USE_MORPHTARGETS
        ${nr.getMorphTargetCalcVertex()}
    #endif

    #if USE_SKELETON
        #if USE_JOINT_VEC8
          worldMatrix *= getSkeletonWorldMatrix_8(vertex.joints0, vertex.weights0, vertex.joints1, vertex.weights1);
        #else
          worldMatrix *= getSkeletonWorldMatrix_4(vertex.joints0, vertex.weights0);
        #endif
    #endif

    var worldPos = worldMatrix * vec4<f32>(vertexPosition, 1.0) ;
    var vPos = shadowMatrix * worldPos;
    return VertexOutput(vertex.uv, worldPos.xyz , vPos ); 
}
`,s4=`
    #if USE_ALPHACUT
      @group(1) @binding(0)
      var baseMapSampler: sampler;
      @group(1) @binding(1)
      var baseMap: texture_2d<f32>;
    #endif

    struct FragmentOutput {
      @location(auto) o_Target: vec4<f32>,
      @builtin(frag_depth) out_depth: f32
    };

    struct MaterialUniform {
      lightWorldPos: vec3<f32>,
      cameraFar: f32,
    };

    @group(2) @binding(0)
    var<uniform> materialUniform: MaterialUniform;

    @fragment
    fn main(@location(auto) fragUV: vec2<f32> , @location(auto) worldPos:vec3<f32> ) -> FragmentOutput {
        var distance = length(worldPos.xyz - materialUniform.lightWorldPos ) ;
        distance = distance / materialUniform.cameraFar ;
        var fragOut:FragmentOutput; 

      #if USE_ALPHACUT
        let Albedo = textureSample(baseMap,baseMapSampler,fragUV);
        if(Albedo.w > 0.5){
          fragOut = FragmentOutput(vec4<f32>(0.0),distance);
        }
      #else
        fragOut = FragmentOutput(vec4<f32>(0.0),distance);
      #endif
      
        return fragOut ;
    }
`,o4=`
    #if USE_ALPHACUT
      @group(1) @binding(0)
      var baseMapSampler: sampler;
      @group(1) @binding(1)
      var baseMap: texture_2d<f32>;
    #endif

    struct FragmentOutput {
      @location(auto) o_Target: vec4<f32>,
      @builtin(frag_depth) out_depth: f32
    };

    struct MaterialUniform {
      lightWorldPos: vec3<f32>,
      cameraFar: f32,
    };

    @group(2) @binding(0)
    var<uniform> materialUniform: MaterialUniform;

    @fragment
    fn main(@location(auto) fragUV: vec2<f32> , @location(auto) clipPos:vec3<f32> ) -> FragmentOutput {
        // var distance = length(worldPos.xyz - materialUniform.lightWorldPos ) ;
        // distance = distance / materialUniform.cameraFar ;
        var fragOut:FragmentOutput; 

      // #if USE_ALPHACUT
      //   let Albedo = textureSample(baseMap,baseMapSampler,fragUV);
      //   if(Albedo.w > 0.5){
      //     fragOut = FragmentOutput(vec4<f32>(0.0),distance);
      //   }
      // #else
      //   fragOut = FragmentOutput(vec4<f32>(0.0),distance);
      // #endif
      
        return fragOut ;
    }
`,a4=`
    #include "GlobalUniform"
    #include "MathShader"
    struct VertexOutput {
        @location(auto) vID: f32 ,
        @location(auto) vPos: vec3<f32> ,
        @location(auto) vClipPos: vec4<f32> ,
        @builtin(position) member: vec4<f32>
    };

    struct Uniforms {
        matrix : array<mat4x4<f32>>
    };

    @group(0) @binding(1)
    var<storage, read> models : Uniforms;

    var<private> worldMatrix: mat4x4<f32>;

    #if USE_MORPHTARGETS
        ${nr.getMorphTargetShaderBinding(1,0)}
    #endif

    #if USE_SKELETON
        ${ou.groupBindingAndFunctions(1,0)}
    #endif

    @vertex
    fn main(
        @builtin(instance_index) index : u32,
        @location(auto) position: vec3<f32>,
        @location(auto) normal: vec3<f32>,
        @location(auto) uv: vec2<f32>,
        @location(auto) TEXCOORD_1: vec2<f32>,

    #if USE_TANGENT
        @location(auto) TANGENT: vec4<f32>,
        #if USE_SKELETON
            @location(auto) joints0: vec4<f32>,
            @location(auto) weights0: vec4<f32>,
            #if USE_JOINT_VEC8
                @location(auto) joints1: vec4<f32>,
                @location(auto) weights1: vec4<f32>,
            #endif
        #elseif USE_MORPHTARGETS
            @location(auto) vIndex: f32,
        #endif
    #elseif USE_SKELETON
        @location(auto) joints0: vec4<f32>,
        @location(auto) weights0: vec4<f32>,
        #if USE_JOINT_VEC8
            @location(auto) joints1: vec4<f32>,
            @location(auto) weights1: vec4<f32>,
        #endif
    #elseif USE_MORPHTARGETS
        @location(auto) vIndex: f32,
    #endif
    ) -> VertexOutput {
    worldMatrix = models.matrix[index];

    var vertexPosition = position;
    var vertexNormal = normal;
    #if USE_MORPHTARGETS
        ${nr.getMorphTargetCalcVertex()}
    #endif

    #if USE_SKELETON
        #if USE_JOINT_VEC8
            worldMatrix *= getSkeletonWorldMatrix_8(joints0, weights0, joints1, weights1);
        #else
            worldMatrix *= getSkeletonWorldMatrix_4(joints0, weights0);
        #endif
    #endif

        
        let wPos = worldMatrix * vec4<f32>(vertexPosition.xyz, 1.0);
        var fixProjMat = globalUniform.projMat ;
        var rzMatrix : mat4x4<f32> ;
        rzMatrix[0] = vec4<f32>(1.0,0.0,0.0,0.0) ; 
        rzMatrix[1] = vec4<f32>(0.0,1.0,0.0,0.0) ; 
        rzMatrix[2] = vec4<f32>(0.0,0.0,1.0,0.0) ; 
        rzMatrix[3] = vec4<f32>(0.0,0.0,0.0,1.0) ; 
        var clipPos:vec4<f32> = fixProjMat * globalUniform.viewMat * (wPos) ;

        // let d = log2Depth(clipPos.z * (globalUniform.far - globalUniform.near),globalUniform.near,globalUniform.far) ;
        return VertexOutput(f32(index) , wPos.xyz,clipPos, clipPos);
    }

    fn depthToLinear01(depth:f32) -> f32 {
        let a = 1.0 / (globalUniform.near - globalUniform.far);
        return (globalUniform.near*globalUniform.far*a) / (depth + globalUniform.far * a) ;
    }
`,u4=`
    #include "GlobalUniform"
    #include "MathShader"
    struct FragmentOutput {
        @location(auto) o_Target: vec4<f32>,
        @builtin(frag_depth) out_depth: f32
    };
   

    @fragment
    fn main(@location(auto) vID: f32, @location(auto) vPos:vec3<f32> ,  @location(auto) vClipPos: vec4<f32> ,  @builtin(position) fragCoord : vec4<f32>) -> FragmentOutput {
        var op = vec4<f32>( vPos, vID);
        let d = log2Depth(fragCoord.z+0.00001,globalUniform.near,globalUniform.far);
        return FragmentOutput(op,d);
    }
`;class CA{static init(){CA.register("MathShader",mw),CA.register("FastMathShader",xw),CA.register("MatrixShader",Kw),CA.register("GlobalUniform",$3),CA.register("WorldMatrixUniform",K3),CA.register("NormalMap_frag",Ow),CA.register("LightingFunction_frag",gw),CA.register("PhysicMaterialUniform_frag",yw),CA.register("UnLitMaterialUniform_frag",Ew),CA.register("VideoUniform_frag",Sw),CA.register("InstanceUniform",Dw),CA.register("Inline_vert",ww),CA.register("VertexAttributes_vert",_w),CA.register("Common_vert",Iw),CA.register("Common_frag",bw),CA.register("FragmentVarying",Mw),CA.register("ColorPassFragmentOutput",q3),CA.register("ClusterLight",qw),CA.register("ShadingInput",Rw),CA.register("IESProfiles_frag",Pw),CA.register("ShadowMapping_frag",Fw),CA.register("Irradiance_frag",Nw),CA.register("IrradianceVolumeData_frag",vw),CA.register("BrdfLut_frag",Bw),CA.register("EnvMap_frag",Tw),CA.register("ColorUtil_frag",hg),CA.register("ColorUtil",hg),CA.register("BRDF_frag",Lw),CA.register("Hair_frag",Xw),CA.register("BxDF_frag",Uw),CA.register("BsDF_frag",Jw),CA.register("UnLit_frag",Cw),CA.register("UnLit",Zw),CA.register("Clearcoat_frag",kw),CA.register("LitShader",zw),CA.register("PBRLItShader",Gw),CA.register("ClusterDebug_frag",pw),CA.register("BxdfDebug_frag",Vw),CA.register("GenerayRandomDir",$w),CA.register("Quad_vert_wgsl",Hw),CA.register("Quad_frag_wgsl",jw),CA.register("Quad_depth2d_frag_wgsl",Ww),CA.register("Quad_depthCube_frag_wgsl",Yw),CA.register("sky_vs_frag_wgsl",Jl.sky_vs_frag_wgsl),CA.register("sky_fs_frag_wgsl",Jl.sky_fs_frag_wgsl),CA.register("LambertShader",A4),CA.register("QuadGlsl_vs",e4),CA.register("QuadGlsl_fs",t4),CA.register("SkyGBuffer_fs",r4),CA.register("gbuffer_vs",dg),CA.register("gbuffer_fs",dg),CA.register("castPointShadowMap_vert",n4),CA.register("shadowCastMap_frag",s4),CA.register("shadowCastMap_vert",i4),CA.register("directionShadowCastMap_frag",o4),CA.register("ZPass_shader_vs",a4),CA.register("ZPass_shader_fs",u4)}static register(A,e){CA[A.toLowerCase()]||(CA[A.toLowerCase()]=e)}static getShader(A){return CA[A.toLowerCase()],CA[A.toLowerCase()]}}class ps{static parse(A,e){return A=this.filterComment(A),A=this.parsePreprocess(new fg,A,e),A=this.parseAutoBindingForAllGroup(A),A=this.parseAutoLocationBlock(A),A}static parseComputeShader(A,e){return A=this.filterComment(A),A=this.parsePreprocess(new fg,A,e),A=this.parseAutoBindingForAllGroup(A),A}static parsePreprocess(A,e,t){let i=e.indexOf("#");if(i==-1)return e;let n=e.substring(0,i),s=e.indexOf(`
`,e.lastIndexOf("#")),o=e.substring(i,s),u=e.substring(s);return n+this.parsePreprocessCommand(A,o,t)+u}static parseAutoBindingForAllGroup(A){let e=0,t="",i=new Map;for(;e<A.length;){let n=A.indexOf("@group(",e);if(n==-1){t+=A.substring(e);break}let s=A.indexOf(")",n),o=Number.parseInt(A.substring(n+7,s));n=A.indexOf("@binding(",s),s=A.indexOf(")",n);let u=A.substring(n+9,s);if(t+=A.substring(e,n),u.includes("auto"))if(i.has(o)){let l=i.get(o)+1;t+=`@binding(${l})`,i.set(o,l)}else t+="@binding(0)",i.set(o,0);else{let l=Number.parseInt(u);(!i.has(o)||i.get(o)<l)&&i.set(o,l),t+=`@binding(${u})`}e=s+1}return t}static parseAutoBindingForGroupX(A,e){let t=0,i="",n=new Map;for(;t<A.length;){let s=A.indexOf("@group(",t);if(s==-1){i+=A.substring(t);break}let o=A.indexOf(")",s),u=Number.parseInt(A.substring(s+7,o));if(s=A.indexOf("@binding(",o),o=A.indexOf(")",s),i+=A.substring(t,s),u==e)if(n.has(u)){let l=n.get(u)+1;i+=`@binding(${l})`,n.set(u,l)}else i+="@binding(0)",n.set(u,0);else i+=A.substring(s,o+1);t=o+1}return i}static parseAutoLocation(A){let e=0,t="",i=0;for(;e<A.length;){let n=A.indexOf("@location(",e);if(n==-1){t+=A.substring(e);break}let s=A.indexOf(")",n),o=A.substring(n+10,s);t+=A.substring(e,n),o==="auto"?(t+=`@location(${i})`,i++):t+=A.substring(n,s+1),e=s+1}return t}static parseAutoLocationBlock(A){let e=0,t="";for(;e<A.length;){let i=A.indexOf("@location(",e);if(i==-1){t+=A.substring(e);break}let n=A.indexOf("}",i),s=A.indexOf("->",i);s!=-1&&s<n&&(n=s);let o=A.substring(i,n+1);o=this.parseAutoLocation(o),t+=A.substring(e,i),t+=o,e=n+1}return t}static parsePreprocessCommand(A,e,t){let i="",n=e.split(`
`),s=[!1],o=[!1];for(let u=0;u<n.length;u++){let l=n[u],c=s[s.length-1];if(l.trim().indexOf("#")!=0){c||(i+=l+`
`);continue}let h=l.trim();if(h.indexOf("#if")!=-1){if(c&&s.length>1){s.push(c);continue}let d=h.substring(3).trim();c=!this.parseCondition(d,t),s.push(c),o.push(!c);continue}else if(h.indexOf("#elseif")!=-1||h.indexOf("#else")!=-1&&h.indexOf(" if")!=-1){if(o[o.length-1]){s.pop(),c=!0,s.push(c);continue}if(s.pop(),c=s[s.length-1],c&&s.length>1){s.push(c);continue}let d=h.substring(h.indexOf("if")+2).trim();d==""&&console.error(`preprocess command error, conditions missing: ${h}`),c=!this.parseCondition(d,t),s.push(c),o.push(!c);continue}else if(h.indexOf("#else")!=-1){s.pop(),c&&s.length>1&&s[s.length-1]?s.push(c):s.push(!c);continue}else if(h.indexOf("#endif")!=-1){s.pop(),o.pop();continue}else if(h.indexOf("#include")!=-1){let d="",f=h.charAt(h.length-1);if(f==">"?d=this.extract(h,"<",">"):d=this.extract(h,f,f),!A.includeMap.has(d)){A.includeMap.set(d,!0);let p=CA.getShader(d);if(!p)throw`${h} error: '${d}' not found`;p=this.filterComment(p),p=this.parsePreprocess(A,p,t),i+=p+`\r
`}continue}else if(h.indexOf("#define ")!=-1){let d=h.substring(h.indexOf("#define ")+8).trim(),f=d.indexOf(" "),p=d,y="";f!=-1&&(p=d.substring(0,f).trim(),y=d.substring(f+1).trim()),t[p]=y;continue}else throw"nonsupport: "+h}return i}static parseCondition(A,e){let t=e[A];return t==null?!1:t==!0||t!=0}static filterComment(A){let e="",t=!0,i=!0;for(let n=0;n<A.length;){let s=t?A.indexOf("//",n):-1,o=i?A.indexOf("/*",n):-1;if(s==-1&&o==-1){e+=A.substring(n);break}t=s!=-1,i=o!=-1,s!=-1&&o!=-1&&(s<o?o=-1:s=-1),s!=-1?(o=A.indexOf(`
`,s),e+=A.substring(n,s),n=o!=-1?o:A.length):o!=-1&&(s=A.indexOf("*/",o),e+=A.substring(n,o),n=s+2)}return e}static extract(A,e,t){let i=A.indexOf(e)+e.length,n=A.indexOf(t,i);return A.substring(i,n).trim()}}class fg{constructor(){a(this,"includeMap",new Map)}}const So=class So{constructor(){a(this,"attributes",[]);a(this,"vs_variables",[]);a(this,"fs_variables",[]);a(this,"cs_variables",[]);a(this,"groups",[]);a(this,"variables",{});a(this,"useSplit",!1)}static parser(A,e){e.shaderReflection||(e.shaderReflection=new So),A.indexOf("@vertex")!=-1?(e.shaderReflection.attributes=this.parserVertexOld(A),e.shaderReflection.vs_variables=this.parserVariables(A)):A.indexOf("@fragment")!=-1?e.shaderReflection.fs_variables=this.parserVariables(A):A.indexOf("@compute")!=-1&&(e.shaderReflection.cs_variables=this.parserVariables(A))}static parser2(A,e){e.shaderReflection||(e.shaderReflection=new So);let t=e.shaderReflection;A.indexOf("@vertex")!=-1?(t.attributes=this.parserVertex(e.vsEntryPoint,A),t.vs_variables=this.parserVariables(A)):A.indexOf("@fragment")!=-1?t.fs_variables=this.parserVariables(A):A.indexOf("@compute")!=-1&&(t.cs_variables=this.parserVariables(A)),A.indexOf("splitTexture")!=-1&&(t.useSplit=!0)}static combineShaderReflectionVarInfo(A,e){for(const t of e){A.groups[t.group]||(A.groups[t.group]=[]);let i=t;if(A.groups[t.group][t.binding]){let n=A.groups[t.group][t.binding],s=t;if(n.dataFields)for(let o=0;o<n.dataFields.length;o++)n.dataFields[o];if(s.dataFields)for(let o=0;o<s.dataFields.length;o++)s.dataFields[o]}A.groups[t.group][t.binding]=i,A.variables[t.varName]=i}}static final(A){let e=A.shaderReflection;this._shaderReflectionMap.set(A.shaderVariant,e),this.combineShaderReflectionVarInfo(e,e.vs_variables),this.combineShaderReflectionVarInfo(e,e.fs_variables)}static getShaderReflection2(A,e){let t=ps.parse(A,e.defineValue);So.parser2(t,e)}static poolGetReflection(A){return this._shaderReflectionMap.get(A)}static genShaderVar(A){let e=`${A.vs}${A.fs}${A.compute}`;e+="|";for(const t in A.uniforms)e+=t+":";e+="|";for(const t in A.constValues)e+=t+":",e+=A.constValues[t];e+="|";for(const t in A.defines)e+=t+":",e+=A.defines[t];e+="|";for(const t in A.shaderState)e+=t+":",e+=A.shaderState[t]+";";return e}static genShaderVariant(A){let e="";for(const t in A.uniforms)e+=t+":";e+="|";for(const t in A.constValues)e+=t+":",e+=A.constValues[t];e+="|";for(const t in A.defineValue)e+=t+":",e+=A.defineValue[t];return e}static genRenderShaderVariant(A){let e=`RenderShader(${A.vsName},${A.fsName})`;e+="|",e+=this.genShaderVariant(A),e+="|";for(const t in A.shaderState)e+=t+":",e+=A.shaderState[t]+";";return e}static genComputeShaderVariant(A){let e=`ComputeShader(${A.instanceID})`;return e+="|",e+=this.genShaderVariant(A),e}combine(A){let e=A.shaderReflection,t=A.defines,i={};for(let s=0;s<this.attributes.length;s++){let o=this.attributes[s];t[o.name]&&(i[o.name]=o)}let n=e.attributes.length;for(let s=0;s<n;s++){const o=e.attributes[s];if(!i[o.name])this.attributes.push(o);else{let u=i[o.name];u.location==o.location&&u.name!=o.name&&console.log("location must same!")}}}static parserVariables(A){let e=0,t=[];for(;e<A.length;){let i=A.indexOf("@group(",e);if(i<0)break;let n=A.indexOf(";",i);e=n;let s=A.substring(i,n),o=this.extract(s,"@group(",")"),u=this.extract(s,"@binding(",")"),l="",c="var";s.indexOf("var<")!=-1?(l=this.extract(s,">",":"),c=this.extract(s,"var<",">").replace(",","-").replaceAll(" ","")):l=this.extract(s,"var",":");let h=s.substring(s.lastIndexOf(":")+1).trim(),d={group:0,binding:0,varType:"",varName:"",dataType:"",dataIsBuiltinType:!0,dataFields:null};d.group=Number.parseInt(o),d.binding=Number.parseInt(u),d.varType=c,d.varName=l,d.dataType=h,d.dataIsBuiltinType=this.isBuiltinTypes(d.dataType),d.dataIsBuiltinType||(d.dataFields=this.parserStructFields(A,d.dataType)),t.push(d)}return t}static extract(A,e,t){let i=A.indexOf(e)+e.length,n=A.indexOf(t,i);return A.substring(i,n).trim()}static isBuiltinTypes(A){switch(A){case"i32":return!0;case"u32":return!0;case"f32":return!0;default:let e=A.indexOf("<");if(e!=-1)switch(A.substring(0,e)){case"vec2":return!0;case"vec3":return!0;case"vec4":return!0;case"mat3":return!0;case"mat4":return!0;case"array":return this.isBuiltinTypes(A.substring(e+1,A.lastIndexOf(">")))}break}return!1}static parserStructFields(A,e){let t=[],i=0;for(;i<A.length;){let n=A.indexOf("struct ",i);if(n<0)break;let s=A.indexOf("{",n);if(i=s,A.substring(n+6,s).trim()===e){n=A.indexOf("{",n),s=A.indexOf("}",n);let o=A.substring(n+1,s).split(",");for(let u of o){let l=u.indexOf(":");if(l!=-1){let c={name:u.substring(0,l).trim(),type:u.substring(l+1).trim()};t.push(c)}}break}}return t}static parserVertexOld(A){let e=[],t=A.split("fn main(")[1].split("->")[0],i=t.split("@");if(i&&i.length>1)for(let s=1;s<i.length;s++){let o=i[s].replace(/\s*$/g,"");o=o.replaceAll(",",""),o=o.replaceAll(`
`,""),o=o.replaceAll("  "," "),this.parserAttribute(o,e)}else{var n=t.split(":")[1];n=n.replaceAll("  ",""),n=n.replaceAll(" ",""),n=n.replaceAll(")",""),n=A.split(`struct ${n}`)[1];let s=n.indexOf("{"),o=n.indexOf("}");n=n.slice(s,o),i=n.split("@");for(let u=1;u<i.length;u++){let l=i[u].replace(/\s*$/g,"");l=l.replaceAll(`
`,""),l=l.split(",")[0],l=l.replaceAll("  "," "),this.parserAttribute(l,e)}}return e}static parserVertex(A,e){let t=[],i=e.split(`fn ${A}(`)[1].split("->")[0],n=i.split("@");if(n&&n.length>1)for(let o=1;o<n.length;o++){let u=n[o].replace(/\s*$/g,"");u=u.replaceAll(",",""),u=u.replaceAll(`
`,""),u=u.replaceAll("  "," "),this.parserAttribute(u,t)}else{var s=i.split(":")[1];s=s.replaceAll("  ",""),s=s.replaceAll(" ",""),s=s.replaceAll(")",""),s=e.split(`struct ${s}`)[1];let o=s.indexOf("{"),u=s.indexOf("}");s=s.slice(o,u),n=s.split("@");for(let l=1;l<n.length;l++){let c=n[l].replace(/\s*$/g,"");c=c.replaceAll(`
`,""),c=c.split(",")[0],c=c.replaceAll("  "," "),this.parserAttribute(c,t)}}return t}static parserAttribute(A,e){let t={name:"",group:0,location:0,type:"",valueType:"",value:0,size:0,format:"float32"};if(A.indexOf("builtin")!=-1){t.type="builtin";var i=A.match(/\((.+?)\)/g)[0];i=A.match(/\((.+?)\)/g)[0],i=i.replace("(",""),i=i.replaceAll(")",""),t.location=parseInt(i);let n=A.split(":");t.name=n[0].split(" ")[1],t.name=t.name.replaceAll("  "," "),t.name=t.name.replaceAll(" ",""),t.valueType=n[1],t.valueType=t.valueType.replaceAll("  "," "),t.valueType=t.valueType.replaceAll(" ",""),t.valueType=t.valueType.replaceAll("\r",""),t.valueType=t.valueType.replaceAll(")",""),t.valueType=t.valueType.replaceAll(")",""),t.size=xs[t.valueType],e.push(t)}else if(A.indexOf("location")!=-1){t.type="location";var i=A.match(/\((.+?)\)/g)[0];i=A.match(/\((.+?)\)/g)[0],i=i.replace("(",""),i=i.replaceAll(")",""),t.location=parseInt(i);let s=A.split(":");t.name=s[0].split(" ")[1],t.name=t.name.replaceAll("  "," "),t.name=t.name.replaceAll(" ",""),t.valueType=s[1],t.valueType=t.valueType.replaceAll("  "," "),t.valueType=t.valueType.replaceAll(" ",""),t.valueType=t.valueType.replaceAll("\r",""),t.valueType=t.valueType.replaceAll(")",""),t.valueType=t.valueType.replaceAll(")",""),t.size=xs[t.valueType],e.push(t)}t.format=fw[xs[t.valueType]]}};a(So,"_shaderReflectionMap",new Map);let tr=So;class Ii extends Y3{constructor(e){super();a(this,"entryPoint","CsMain");a(this,"workerSizeX",1);a(this,"workerSizeY",0);a(this,"workerSizeZ",0);a(this,"_computePipeline");a(this,"_csShaderModule");a(this,"_destCS");a(this,"_sourceCS");a(this,"_storageTextureDic");a(this,"_sampleTextureDic");a(this,"_groupsShaderReflectionVarInfos");a(this,"_groupCache",{});this._sourceCS=e,tr.getShaderReflection2(e,this),this._storageTextureDic=new Map,this._sampleTextureDic=new Map}setStorageTexture(e,t){this._storageTextureDic.has(e)||this._storageTextureDic.set(e,t)}setSamplerTexture(e,t){this._sampleTextureDic.set(e,t)}compute(e){this._computePipeline||this.genComputePipeline(),e.setPipeline(this._computePipeline);for(let t=0;t<this.bindGroups.length;++t)e.setBindGroup(t,this.bindGroups[t]);this.workerSizeX&&this.workerSizeY&&this.workerSizeZ?e.dispatchWorkgroups(this.workerSizeX,this.workerSizeY,this.workerSizeZ):this.workerSizeX&&this.workerSizeY?e.dispatchWorkgroups(this.workerSizeX,this.workerSizeY):e.dispatchWorkgroups(this.workerSizeX)}createBufferBindGroup(e,t,i,n){let s=this._bufferDic.get(t);if(s){let o={binding:i,resource:{buffer:s.buffer,offset:0,size:s.memory.shareDataBuffer.byteLength}};n.push(o)}else console.error(`ComputeShader(${this.instanceID})`,`buffer ${t} is missing!`)}noticeBufferChange(e){let t=this._groupCache[e];t&&this.genGroups(t.groupIndex,t.infos,!0)}genGroups(e,t,i=!1){if(!this.bindGroups[e]||i){const n=t[e];let s=[];for(let u=0;u<n.length;++u){const l=n[u];if(l)switch(l.varType){case"uniform":case"storage-read":case"storage-read_write":this.createBufferBindGroup(e,l.varName,l.binding,s),this._groupCache[l.varName]={groupIndex:e,infos:t};break;case"var":if(l.dataType=="sampler"){let c=l.varName.replace("Sampler",""),h=this._sampleTextureDic.get(c);if(h){let d={binding:l.binding,resource:h.gpuSampler};s.push(d)}else console.error(`ComputeShader(${this.instanceID})`,`texture ${l.varName} is missing! `)}else if(l.dataType=="sampler_comparison"){let c=l.varName.replace("Sampler",""),h=this._sampleTextureDic.get(c);if(h){let d={binding:l.binding,resource:h.gpuSampler_comparison};s.push(d)}else console.error(`ComputeShader(${this.instanceID})`,`texture ${l.varName} is missing! `)}else if(l.dataType.indexOf("texture_storage")!=-1){let c=this._storageTextureDic.get(l.varName);if(c){let h={binding:l.binding,resource:c.getGPUView()};s.push(h),te.getInstance().attached(c,this)}else console.error(`ComputeShader(${this.instanceID})`,`texture ${l.varName} is missing! `)}else if(l.dataType.indexOf("texture")!=-1){let c=this._sampleTextureDic.get(l.varName);if(c){let h={binding:l.binding,resource:c.getGPUView()};s.push(h),te.getInstance().attached(c,this)}else console.error(`ComputeShader(${this.instanceID})`,`texture ${l.varName} is missing! `)}break;default:console.error("unprocessed type:",l.varType);break}}let o=iA.device.createBindGroup({layout:this._computePipeline.getBindGroupLayout(e),entries:s});this.bindGroups[e]=o}}genComputePipeline(){this.preCompileShader(this._sourceCS),this.genReflection(),this._computePipeline=iA.device.createComputePipeline({layout:"auto",compute:{module:this.compileShader(),entryPoint:this.entryPoint}}),this._groupsShaderReflectionVarInfos=[];let e=this.shaderReflection;this.bindGroups=[];for(let t=0;t<e.groups.length;++t){let i=e.groups[t];this._groupsShaderReflectionVarInfos[t]=i,this.genGroups(t,this._groupsShaderReflectionVarInfos)}iA.addEventListener(Ls.RESIZE,t=>{for(let i=0;i<e.groups.length;++i){let n=e.groups[i];this._groupsShaderReflectionVarInfos[i]=n,this.genGroups(i,this._groupsShaderReflectionVarInfos,!0)}},this)}preCompileShader(e){for(const t in this.constValues)if(Object.prototype.hasOwnProperty.call(this.constValues,t)){const i=this.constValues[t];e=e.replaceAll(`&${t}`,i.toString())}this._destCS=ps.parseComputeShader(e,this.defineValue)}compileShader(){let e=iA.device.createShaderModule({label:`ComputeShader(${this.instanceID})`,code:this._destCS});return e.getCompilationInfo().then(t=>{t.messages.length>0&&console.log(this._destCS)}),this._csShaderModule=e,e}genReflection(){this.shaderVariant+=tr.genComputeShaderVariant(this);let e=tr.poolGetReflection(this.shaderVariant);e?this.shaderReflection=e:(tr.getShaderReflection2(this._destCS,this),tr.combineShaderReflectionVarInfo(this.shaderReflection,this.shaderReflection.cs_variables))}}class Er{static start(A){let e=this.profilerLabelMap.get(A);e||(e={lable:A,start:0,end:0,total:0,count:0,child:new Map},this.profilerLabelMap.set(A,e)),e.start=performance.now(),e.end=performance.now(),e.count=0,e.child.clear()}static end(A){let e=this.profilerLabelMap.get(A);e&&(e.end=performance.now(),e.total=e.end-e.start)}static countStart(A,e=""){let t=this.profilerLabelMap.get(A);if(t&&(t.count++,e!="")){let i=t.child.get(e);i||(i={lable:e,start:0,end:0,total:0,count:0}),i.start=performance.now(),i.end=performance.now(),i.count=0,t.child.set(e,i)}}static countEnd(A,e){let t=this.profilerLabelMap.get(A);if(t&&e!=""){let i=t.child.get(e);i||(i={lable:e,start:0,end:0,total:0,count:0}),i.end=performance.now(),i.total=i.end-i.start,i.count++}}static print(A){let e=this.profilerLabelMap.get(A);e&&console.log("performance",A,e.total+" ms")}}a(Er,"profilerLabelMap",new Map);const l4=`var Module=typeof Module!="undefined"?Module:{};var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=(status,toThrow)=>{throw toThrow};var ENVIRONMENT_IS_WEB=typeof window=="object";var ENVIRONMENT_IS_WORKER=typeof importScripts=="function";var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_NODE){var fs=require("fs");var nodePath=require("path");if(ENVIRONMENT_IS_WORKER){scriptDirectory=nodePath.dirname(scriptDirectory)+"/"}else{scriptDirectory=__dirname+"/"}read_=(filename,binary)=>{filename=isFileURI(filename)?new URL(filename):nodePath.normalize(filename);return fs.readFileSync(filename,binary?undefined:"utf8")};readBinary=filename=>{var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}return ret};readAsync=(filename,onload,onerror,binary=true)=>{filename=isFileURI(filename)?new URL(filename):nodePath.normalize(filename);fs.readFile(filename,binary?undefined:"utf8",((err,data)=>{if(err)onerror(err);else onload(binary?data.buffer:data)}))};if(!Module["thisProgram"]&&process.argv.length>1){thisProgram=process.argv[1].replace(/\\\\/g,"/")}arguments_=process.argv.slice(2);if(typeof module!="undefined"){module["exports"]=Module}process.on("uncaughtException",(ex=>{if(ex!=="unwind"&&!(ex instanceof ExitStatus)&&!(ex.context instanceof ExitStatus)){throw ex}}));quit_=(status,toThrow)=>{process.exitCode=status;throw toThrow};Module["inspect"]=()=>"[Emscripten Module object]"}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=(url,onload,onerror)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=title=>document.title=title}else{}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(Module["quit"])quit_=Module["quit"];var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];var noExitRuntime=Module["noExitRuntime"]||true;if(typeof WebAssembly!="object"){abort("no native wasm support detected")}var wasmMemory;var ABORT=false;var EXITSTATUS;var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b)}var wasmTable;var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function keepRuntimeAlive(){return noExitRuntime||runtimeKeepaliveCounter>0}function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;what+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(what);throw e}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix)}function isFileURI(filename){return filename.startsWith("file://")}var wasmBinaryFile;wasmBinaryFile="data:application/octet-stream;base64,AGFzbQEAAAABfBRgAX8Bf2ABfwBgA39/fwF/YAN/f38AYAAAYAV/f39/fwBgBH9/f38AYAZ/f39/f38AYAABf2ACf38Bf2AEf39/fwF/YAF8AX1gAnx/AXxgAn9/AGABfQF9YAN/f30AYAJ+fwF/YAZ/fH9/f38Bf2ACfX8Bf2ADf35/AX4CHwUBYQFhAAoBYQFiAAMBYQFjAAABYQFkAAQBYQFlAAMDSEcDBQsLAgEAEAEADAEDDQ4CAA4PBAQABAABAAYDCQAAAAkRAwAKDAACARINAQAAAQAAAAAHBwUFAQYGAgEBEwACCQ8BCAgICAQFAXABICAFBwEBgAKAgAIGCAF/AUHgtwQLBzUNAWYCAAFnABsBaAEAAWkAMAFqAEsBawBKAWwASQFtAEgBbgBHAW8ARgFwAEUBcQAxAXIANwklAQBBAQsfIh5BQDwzQ0RCJiINLS0/ODo+DTk7PQ01DTQNNh0yHQryvgFHFwAgAC0AAEEgcUUEQCABIAIgABAUGgsLbgEBfyMAQYACayIFJAACQCACIANMDQAgBEGAwARxDQAgBSABQf8BcSACIANrIgNBgAIgA0GAAkkiARsQESABRQRAA0AgACAFQYACEAUgA0GAAmsiA0H/AUsNAAsLIAAgBSADEAULIAVBgAJqJAALSwECfCAAIACiIgEgAKIiAiABIAGioiABRKdGO4yHzcY+okR058ri+QAqv6CiIAIgAUSy+26JEBGBP6JEd6zLVFVVxb+goiAAoKC2C08BAXwgACAAoiIAIAAgAKIiAaIgAERpUO7gQpP5PqJEJx4P6IfAVr+goiABREI6BeFTVaU/oiAARIFeDP3//9+/okQAAAAAAADwP6CgoLYLdAEBfyACRQRAIAAoAgQgASgCBEYPCyAAIAFGBEBBAQ8LIAEoAgQiAi0AACEBAkAgACgCBCIDLQAAIgBFDQAgACABRw0AA0AgAi0AASEBIAMtAAEiAEUNASACQQFqIQIgA0EBaiEDIAAgAUYNAAsLIAAgAUYL0gsBB38CQCAARQ0AIABBCGsiAiAAQQRrKAIAIgFBeHEiAGohBQJAIAFBAXENACABQQNxRQ0BIAIgAigCACIBayICQfgzKAIASQ0BIAAgAWohAAJAAkBB/DMoAgAgAkcEQCABQf8BTQRAIAFBA3YhBCACKAIMIgEgAigCCCIDRgRAQegzQegzKAIAQX4gBHdxNgIADAULIAMgATYCDCABIAM2AggMBAsgAigCGCEGIAIgAigCDCIBRwRAIAIoAggiAyABNgIMIAEgAzYCCAwDCyACQRRqIgQoAgAiA0UEQCACKAIQIgNFDQIgAkEQaiEECwNAIAQhByADIgFBFGoiBCgCACIDDQAgAUEQaiEEIAEoAhAiAw0ACyAHQQA2AgAMAgsgBSgCBCIBQQNxQQNHDQJB8DMgADYCACAFIAFBfnE2AgQgAiAAQQFyNgIEIAUgADYCAA8LQQAhAQsgBkUNAAJAIAIoAhwiA0ECdEGYNmoiBCgCACACRgRAIAQgATYCACABDQFB7DNB7DMoAgBBfiADd3E2AgAMAgsgBkEQQRQgBigCECACRhtqIAE2AgAgAUUNAQsgASAGNgIYIAIoAhAiAwRAIAEgAzYCECADIAE2AhgLIAIoAhQiA0UNACABIAM2AhQgAyABNgIYCyACIAVPDQAgBSgCBCIBQQFxRQ0AAkACQAJAAkAgAUECcUUEQEGANCgCACAFRgRAQYA0IAI2AgBB9DNB9DMoAgAgAGoiADYCACACIABBAXI2AgQgAkH8MygCAEcNBkHwM0EANgIAQfwzQQA2AgAPC0H8MygCACAFRgRAQfwzIAI2AgBB8DNB8DMoAgAgAGoiADYCACACIABBAXI2AgQgACACaiAANgIADwsgAUF4cSAAaiEAIAFB/wFNBEAgAUEDdiEEIAUoAgwiASAFKAIIIgNGBEBB6DNB6DMoAgBBfiAEd3E2AgAMBQsgAyABNgIMIAEgAzYCCAwECyAFKAIYIQYgBSAFKAIMIgFHBEBB+DMoAgAaIAUoAggiAyABNgIMIAEgAzYCCAwDCyAFQRRqIgQoAgAiA0UEQCAFKAIQIgNFDQIgBUEQaiEECwNAIAQhByADIgFBFGoiBCgCACIDDQAgAUEQaiEEIAEoAhAiAw0ACyAHQQA2AgAMAgsgBSABQX5xNgIEIAIgAEEBcjYCBCAAIAJqIAA2AgAMAwtBACEBCyAGRQ0AAkAgBSgCHCIDQQJ0QZg2aiIEKAIAIAVGBEAgBCABNgIAIAENAUHsM0HsMygCAEF+IAN3cTYCAAwCCyAGQRBBFCAGKAIQIAVGG2ogATYCACABRQ0BCyABIAY2AhggBSgCECIDBEAgASADNgIQIAMgATYCGAsgBSgCFCIDRQ0AIAEgAzYCFCADIAE2AhgLIAIgAEEBcjYCBCAAIAJqIAA2AgAgAkH8MygCAEcNAEHwMyAANgIADwsgAEH/AU0EQCAAQXhxQZA0aiEBAn9B6DMoAgAiA0EBIABBA3Z0IgBxRQRAQegzIAAgA3I2AgAgAQwBCyABKAIICyEAIAEgAjYCCCAAIAI2AgwgAiABNgIMIAIgADYCCA8LQR8hAyAAQf///wdNBEAgAEEmIABBCHZnIgFrdkEBcSABQQF0a0E+aiEDCyACIAM2AhwgAkIANwIQIANBAnRBmDZqIQECQAJAAkBB7DMoAgAiBEEBIAN0IgdxRQRAQewzIAQgB3I2AgAgASACNgIAIAIgATYCGAwBCyAAQRkgA0EBdmtBACADQR9HG3QhAyABKAIAIQEDQCABIgQoAgRBeHEgAEYNAiADQR12IQEgA0EBdCEDIAQgAUEEcWoiB0EQaigCACIBDQALIAcgAjYCECACIAQ2AhgLIAIgAjYCDCACIAI2AggMAQsgBCgCCCIAIAI2AgwgBCACNgIIIAJBADYCGCACIAQ2AgwgAiAANgIIC0GINEGINCgCAEEBayIAQX8gABs2AgALC08BAn9B2CkoAgAiASAAQQdqQXhxIgJqIQACQCACQQAgACABTRsNACAAPwBBEHRLBEAgABACRQ0BC0HYKSAANgIAIAEPC0GoMkEwNgIAQX8LgwECA38BfgJAIABCgICAgBBUBEAgACEFDAELA0AgAUEBayIBIAAgAEIKgCIFQgp+fadBMHI6AAAgAEL/////nwFWIQIgBSEAIAINAAsLIAWnIgIEQANAIAFBAWsiASACIAJBCm4iA0EKbGtBMHI6AAAgAkEJSyEEIAMhAiAEDQALCyABCwYAIAAQCgs1AQF/QQEgACAAQQFNGyEAAkADQCAAECQiAQ0BQdg3KAIAIgEEQCABEQQADAELCxADAAsgAQuoAQACQCABQYAITgRAIABEAAAAAAAA4H+iIQAgAUH/D0kEQCABQf8HayEBDAILIABEAAAAAAAA4H+iIQBB/RcgASABQf0XThtB/g9rIQEMAQsgAUGBeEoNACAARAAAAAAAAGADoiEAIAFBuHBLBEAgAUHJB2ohAQwBCyAARAAAAAAAAGADoiEAQfBoIAEgAUHwaEwbQZIPaiEBCyAAIAFB/wdqrUI0hr+iCwYAIAAQCgvwAgICfwF+AkAgAkUNACAAIAE6AAAgACACaiIDQQFrIAE6AAAgAkEDSQ0AIAAgAToAAiAAIAE6AAEgA0EDayABOgAAIANBAmsgAToAACACQQdJDQAgACABOgADIANBBGsgAToAACACQQlJDQAgAEEAIABrQQNxIgRqIgMgAUH/AXFBgYKECGwiADYCACADIAIgBGtBfHEiAmoiAUEEayAANgIAIAJBCUkNACADIAA2AgggAyAANgIEIAFBCGsgADYCACABQQxrIAA2AgAgAkEZSQ0AIAMgADYCGCADIAA2AhQgAyAANgIQIAMgADYCDCABQRBrIAA2AgAgAUEUayAANgIAIAFBGGsgADYCACABQRxrIAA2AgAgAiADQQRxQRhyIgFrIgJBIEkNACAArUKBgICAEH4hBSABIANqIQEDQCABIAU3AxggASAFNwMQIAEgBTcDCCABIAU3AwAgAUEgaiEBIAJBIGsiAkEfSw0ACwsLMgAgACABKgIAIAAqAgCSOAIAIAAgASoCBCAAKgIEkjgCBCAAIAEqAgggACoCCJI4AggL/gICA38BfCMAQRBrIgEkAAJAIAC8IgNB/////wdxIgJB2p+k+gNNBEAgAkGAgIDMA0kNASAAuxAHIQAMAQsgAkHRp+2DBE0EQCAAuyEEIAJB45fbgARNBEAgA0EASARAIAREGC1EVPsh+T+gEAiMIQAMAwsgBEQYLURU+yH5v6AQCCEADAILRBgtRFT7IQnARBgtRFT7IQlAIANBAE4bIASgmhAHIQAMAQsgAkHV44iHBE0EQCACQd/bv4UETQRAIAC7IQQgA0EASARAIARE0iEzf3zZEkCgEAghAAwDCyAERNIhM3982RLAoBAIjCEADAILRBgtRFT7IRlARBgtRFT7IRnAIANBAEgbIAC7oBAHIQAMAQsgAkGAgID8B08EQCAAIACTIQAMAQsCQAJAAkACQCAAIAFBCGoQLkEDcQ4DAAECAwsgASsDCBAHIQAMAwsgASsDCBAIIQAMAgsgASsDCJoQByEADAELIAErAwgQCIwhAAsgAUEQaiQAIAALwAEBA38CQCABIAIoAhAiAwR/IAMFIAIQFQ0BIAIoAhALIAIoAhQiBWtLBEAgAiAAIAEgAigCJBECAA8LAkAgAigCUEEASARAQQAhAwwBCyABIQQDQCAEIgNFBEBBACEDDAILIAAgA0EBayIEai0AAEEKRw0ACyACIAAgAyACKAIkEQIAIgQgA0kNASAAIANqIQAgASADayEBIAIoAhQhBQsgBSAAIAEQLBogAiACKAIUIAFqNgIUIAEgA2ohBAsgBAtZAQF/IAAgACgCSCIBQQFrIAFyNgJIIAAoAgAiAUEIcQRAIAAgAUEgcjYCAEF/DwsgAEIANwIEIAAgACgCLCIBNgIcIAAgATYCFCAAIAEgACgCMGo2AhBBAAvoAgIDfwF8IwBBEGsiASQAAn0gALwiA0H/////B3EiAkHan6T6A00EQEMAAIA/IAJBgICAzANJDQEaIAC7EAgMAQsgAkHRp+2DBE0EQCACQeSX24AETwRARBgtRFT7IQlARBgtRFT7IQnAIANBAEgbIAC7oBAIjAwCCyAAuyEEIANBAEgEQCAERBgtRFT7Ifk/oBAHDAILRBgtRFT7Ifk/IAShEAcMAQsgAkHV44iHBE0EQCACQeDbv4UETwRARBgtRFT7IRlARBgtRFT7IRnAIANBAEgbIAC7oBAIDAILIANBAEgEQETSITN/fNkSwCAAu6EQBwwCCyAAu0TSITN/fNkSwKAQBwwBCyAAIACTIAJBgICA/AdPDQAaAkACQAJAAkAgACABQQhqEC5BA3EOAwABAgMLIAErAwgQCAwDCyABKwMImhAHDAILIAErAwgQCIwMAQsgASsDCBAHCyEAIAFBEGokACAACzMBAn0gASoCACAClCEDIAEqAgQgApQhBCAAIAEqAgggApQ4AgggACAEOAIEIAAgAzgCAAsqAQF/QQQQIyIAQeQmNgIAIABBvCY2AgAgAEHQJjYCACAAQcAnQQEQAQALXwEDf0EIECMiAEHkJjYCACAAQdQnNgIAQZ0IECsiAUENahAOIgJBADYCCCACIAE2AgQgAiABNgIAIAAgAkEMakGdCCABQQFqECw2AgQgAEGEKDYCACAAQaQoQQIQAQALfwAgAP0MAAAAAAAAAAAAAAAAAAAAAP0LAiQgAP0MAAAAAAAAAAAAAAAAAAAAAP0LAhQgAP0MAAAAAAAAAAAAAAAAAAAAAP0LAgQgAEGAgID8AzYCPCAAQYCAgPwDNgIAIABCADcCNCAAQYCAgPwDNgIoIABBgICA/AM2AhQgAAtTAEHsKUEANgIAQeQpQgA3AgBB+ClBADYCAEHwKUIANwIAQYQqQQA2AgBB/ClCADcCAEGQKkEANgIAQYgqQgA3AgBBxDNBzDI2AgBB/DJBKjYCAAv8BwMIfw59EHsjAEFAaiICJABB5CkoAgAgAEEGdGohAUH8KSgCACAAQQR0aiIFKAIABEAgBSgCBCEDIwBBEGsiBiQAIABBJGwiBEHwKSgCAGoiAEEYaiEHIABBDGohCCADBEAgBkEEaiIDQYgqKAIAIARqIgRB4CkqAgAQFyAAIAMQEiADIARBDGpB4CkqAgAQFyAIIAMQEiADIARBGGpB4CkqAgAQFyAHIAMQEgsgACoCFCEJIAAqAhAhCiAAKgIAIRIgACoCBCETIAAqAgghECAIKgIAIQwgAUEANgIsIAFBADYCHCABQQA2AgwgDEM1+o48lEMAAAA/lCIMEBMhDiAKQzX6jjyUQwAAAD+UIgoQEyERIAlDNfqOPJRDAAAAP5QiDRATIQkgDBAWIQsgChAWIQ8gASAQIAsgEZQiFCANEBYiCpQgCSAOIA+UIg2UkiIMIAkgCyAPlCILlCAKIA4gEZQiD5STIhEgEZIiDpQiFSALIAqUIA8gCZSSIgsgDSAKlCAJIBSUkyIJIAmSIg+UIg2TlDgCJCABIBAgCSAOlCIUIAsgDCAMkiIKlCIWkpQ4AiAgASATIBUgDZKUOAIYIAEgEyAJIAqUIg0gCyAOlCILk5Q4AhAgASASIBQgFpOUOAIIIAEgEiANIAuSlDgCBCABIBBDAACAPyAJIA+UIgkgDCAKlCIQkpOUOAIoIAEgE0MAAIA/IAkgESAOlCIJkpOUOAIUIAEgEkMAAIA/IBAgCZKTlDgCACABIAcqAgA4AjAgASAAKgIcOAI0IAAqAiAhCSABQYCAgPwDNgI8IAEgCTgCOCAGQRBqJAAgBSgCCCIAQX9HBEAgABAcIQAgAhAaGiAB/QkCDCEbIAH9CQIIIRwgAf0JAgAhHSAB/QkCBCEeIAH9CQIcIR8gAf0JAhghICAB/QkCECEhIAH9CQIUISIgAf0JAiwhIyAB/QkCKCEkIAH9CQIgISUgAf0JAiQhJiACIAD9AAIwIhcgAf0JAjz95gEgAP0AAiAiGCAB/QkCOP3mASAA/QACACIZIAH9CQIw/eYBIAD9AAIQIhogAf0JAjT95gH95AH95AH95AH9CwIwIAIgFyAj/eYBIBggJP3mASAZICX95gEgGiAm/eYB/eQB/eQB/eQB/QsCICACIBcgH/3mASAYICD95gEgGSAh/eYBIBogIv3mAf3kAf3kAf3kAf0LAhAgAiAXIBv95gEgGCAc/eYBIBkgHf3mASAeIBr95gH95AH95AH95AH9CwIAIAEgAv0AAjD9CwIwIAEgAv0AAiD9CwIgIAEgAv0AAhD9CwIQIAEgAv0AAgD9CwIACyAFQQA2AgALIAJBQGskACABCwsAIAAQHhogABAKCzEBAn8gAEHUJzYCACAAKAIEQQxrIgEgASgCCEEBayICNgIIIAJBAEgEQCABEBALIAALmgEAIABBAToANQJAIAAoAgQgAkcNACAAQQE6ADQCQCAAKAIQIgJFBEAgAEEBNgIkIAAgAzYCGCAAIAE2AhAgA0EBRw0CIAAoAjBBAUYNAQwCCyABIAJGBEAgACgCGCICQQJGBEAgACADNgIYIAMhAgsgACgCMEEBRw0CIAJBAUYNAQwCCyAAIAAoAiRBAWo2AiQLIABBAToANgsLXQEBfyAAKAIQIgNFBEAgAEEBNgIkIAAgAjYCGCAAIAE2AhAPCwJAIAEgA0YEQCAAKAIYQQJHDQEgACACNgIYDwsgAEEBOgA2IABBAjYCGCAAIAAoAiRBAWo2AiQLC7kCAQN/IwBBQGoiAiQAIAAoAgAiA0EEaygCACEEIANBCGsoAgAhAyACQgA3AiAgAkIANwIoIAJCADcCMCACQgA3ADcgAkIANwIYIAJBADYCFCACQZQkNgIQIAIgADYCDCACIAE2AgggACADaiEAQQAhAwJAIAQgAUEAEAkEQCACQQE2AjggBCACQQhqIAAgAEEBQQAgBCgCACgCFBEHACAAQQAgAigCIEEBRhshAwwBCyAEIAJBCGogAEEBQQAgBCgCACgCGBEFAAJAAkAgAigCLA4CAAECCyACKAIcQQAgAigCKEEBRhtBACACKAIkQQFGG0EAIAIoAjBBAUYbIQMMAQsgAigCIEEBRwRAIAIoAjANASACKAIkQQFHDQEgAigCKEEBRw0BCyACKAIYIQMLIAJBQGskACADCwQAIAALDgAgAEHQAGoQJEHQAGoLnCgBC38jAEEQayILJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBB6DMoAgAiBkEQIABBC2pBeHEgAEELSRsiBUEDdiIAdiIBQQNxBEACQCABQX9zQQFxIABqIgJBA3QiAUGQNGoiACABQZg0aigCACIBKAIIIgRGBEBB6DMgBkF+IAJ3cTYCAAwBCyAEIAA2AgwgACAENgIICyABQQhqIQAgASACQQN0IgJBA3I2AgQgASACaiIBIAEoAgRBAXI2AgQMDwsgBUHwMygCACIHTQ0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cSIAQQAgAGtxaCIBQQN0IgBBkDRqIgIgAEGYNGooAgAiACgCCCIERgRAQegzIAZBfiABd3EiBjYCAAwBCyAEIAI2AgwgAiAENgIICyAAIAVBA3I2AgQgACAFaiIIIAFBA3QiASAFayIEQQFyNgIEIAAgAWogBDYCACAHBEAgB0F4cUGQNGohAUH8MygCACECAn8gBkEBIAdBA3Z0IgNxRQRAQegzIAMgBnI2AgAgAQwBCyABKAIICyEDIAEgAjYCCCADIAI2AgwgAiABNgIMIAIgAzYCCAsgAEEIaiEAQfwzIAg2AgBB8DMgBDYCAAwPC0HsMygCACIKRQ0BIApBACAKa3FoQQJ0QZg2aigCACICKAIEQXhxIAVrIQMgAiEBA0ACQCABKAIQIgBFBEAgASgCFCIARQ0BCyAAKAIEQXhxIAVrIgEgAyABIANJIgEbIQMgACACIAEbIQIgACEBDAELCyACKAIYIQkgAiACKAIMIgRHBEBB+DMoAgAaIAIoAggiACAENgIMIAQgADYCCAwOCyACQRRqIgEoAgAiAEUEQCACKAIQIgBFDQMgAkEQaiEBCwNAIAEhCCAAIgRBFGoiASgCACIADQAgBEEQaiEBIAQoAhAiAA0ACyAIQQA2AgAMDQtBfyEFIABBv39LDQAgAEELaiIAQXhxIQVB7DMoAgAiCEUNAEEAIAVrIQMCQAJAAkACf0EAIAVBgAJJDQAaQR8gBUH///8HSw0AGiAFQSYgAEEIdmciAGt2QQFxIABBAXRrQT5qCyIHQQJ0QZg2aigCACIBRQRAQQAhAAwBC0EAIQAgBUEZIAdBAXZrQQAgB0EfRxt0IQIDQAJAIAEoAgRBeHEgBWsiBiADTw0AIAEhBCAGIgMNAEEAIQMgASEADAMLIAAgASgCFCIGIAYgASACQR12QQRxaigCECIBRhsgACAGGyEAIAJBAXQhAiABDQALCyAAIARyRQRAQQAhBEECIAd0IgBBACAAa3IgCHEiAEUNAyAAQQAgAGtxaEECdEGYNmooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIAVrIgIgA0khASACIAMgARshAyAAIAQgARshBCAAKAIQIgEEfyABBSAAKAIUCyIADQALCyAERQ0AIANB8DMoAgAgBWtPDQAgBCgCGCEHIAQgBCgCDCICRwRAQfgzKAIAGiAEKAIIIgAgAjYCDCACIAA2AggMDAsgBEEUaiIBKAIAIgBFBEAgBCgCECIARQ0DIARBEGohAQsDQCABIQYgACICQRRqIgEoAgAiAA0AIAJBEGohASACKAIQIgANAAsgBkEANgIADAsLIAVB8DMoAgAiBE0EQEH8MygCACEAAkAgBCAFayIBQRBPBEAgACAFaiICIAFBAXI2AgQgACAEaiABNgIAIAAgBUEDcjYCBAwBCyAAIARBA3I2AgQgACAEaiIBIAEoAgRBAXI2AgRBACECQQAhAQtB8DMgATYCAEH8MyACNgIAIABBCGohAAwNCyAFQfQzKAIAIgJJBEBB9DMgAiAFayIBNgIAQYA0QYA0KAIAIgAgBWoiAjYCACACIAFBAXI2AgQgACAFQQNyNgIEIABBCGohAAwNC0EAIQAgBUEvaiIDAn9BwDcoAgAEQEHINygCAAwBC0HMN0J/NwIAQcQ3QoCggICAgAQ3AgBBwDcgC0EMakFwcUHYqtWqBXM2AgBB1DdBADYCAEGkN0EANgIAQYAgCyIBaiIGQQAgAWsiCHEiASAFTQ0MQaA3KAIAIgQEQEGYNygCACIHIAFqIgkgB00NDSAEIAlJDQ0LAkBBpDctAABBBHFFBEACQAJAAkACQEGANCgCACIEBEBBqDchAANAIAQgACgCACIHTwRAIAcgACgCBGogBEsNAwsgACgCCCIADQALC0EAEAsiAkF/Rg0DIAEhBkHENygCACIAQQFrIgQgAnEEQCABIAJrIAIgBGpBACAAa3FqIQYLIAUgBk8NA0GgNygCACIABEBBmDcoAgAiBCAGaiIIIARNDQQgACAISQ0ECyAGEAsiACACRw0BDAULIAYgAmsgCHEiBhALIgIgACgCACAAKAIEakYNASACIQALIABBf0YNASAFQTBqIAZNBEAgACECDAQLQcg3KAIAIgIgAyAGa2pBACACa3EiAhALQX9GDQEgAiAGaiEGIAAhAgwDCyACQX9HDQILQaQ3QaQ3KAIAQQRyNgIACyABEAshAkEAEAshACACQX9GDQUgAEF/Rg0FIAAgAk0NBSAAIAJrIgYgBUEoak0NBQtBmDdBmDcoAgAgBmoiADYCAEGcNygCACAASQRAQZw3IAA2AgALAkBBgDQoAgAiAwRAQag3IQADQCACIAAoAgAiASAAKAIEIgRqRg0CIAAoAggiAA0ACwwEC0H4MygCACIAQQAgACACTRtFBEBB+DMgAjYCAAtBACEAQaw3IAY2AgBBqDcgAjYCAEGINEF/NgIAQYw0QcA3KAIANgIAQbQ3QQA2AgADQCAAQQN0IgFBmDRqIAFBkDRqIgQ2AgAgAUGcNGogBDYCACAAQQFqIgBBIEcNAAtB9DMgBkEoayIAQXggAmtBB3FBACACQQhqQQdxGyIBayIENgIAQYA0IAEgAmoiATYCACABIARBAXI2AgQgACACakEoNgIEQYQ0QdA3KAIANgIADAQLIAIgA00NAiABIANLDQIgACgCDEEIcQ0CIAAgBCAGajYCBEGANCADQXggA2tBB3FBACADQQhqQQdxGyIAaiIBNgIAQfQzQfQzKAIAIAZqIgIgAGsiADYCACABIABBAXI2AgQgAiADakEoNgIEQYQ0QdA3KAIANgIADAMLQQAhBAwKC0EAIQIMCAtB+DMoAgAgAksEQEH4MyACNgIACyACIAZqIQFBqDchAAJAAkACQANAIAEgACgCAEcEQCAAKAIIIgANAQwCCwsgAC0ADEEIcUUNAQtBqDchAANAIAMgACgCACIBTwRAIAEgACgCBGoiBCADSw0DCyAAKAIIIQAMAAsACyAAIAI2AgAgACAAKAIEIAZqNgIEIAJBeCACa0EHcUEAIAJBCGpBB3EbaiIHIAVBA3I2AgQgAUF4IAFrQQdxQQAgAUEIakEHcRtqIgYgBSAHaiIFayEAIAMgBkYEQEGANCAFNgIAQfQzQfQzKAIAIABqIgA2AgAgBSAAQQFyNgIEDAgLQfwzKAIAIAZGBEBB/DMgBTYCAEHwM0HwMygCACAAaiIANgIAIAUgAEEBcjYCBCAAIAVqIAA2AgAMCAsgBigCBCIDQQNxQQFHDQYgA0F4cSEJIANB/wFNBEAgBigCDCIBIAYoAggiAkYEQEHoM0HoMygCAEF+IANBA3Z3cTYCAAwHCyACIAE2AgwgASACNgIIDAYLIAYoAhghCCAGIAYoAgwiAkcEQCAGKAIIIgEgAjYCDCACIAE2AggMBQsgBkEUaiIBKAIAIgNFBEAgBigCECIDRQ0EIAZBEGohAQsDQCABIQQgAyICQRRqIgEoAgAiAw0AIAJBEGohASACKAIQIgMNAAsgBEEANgIADAQLQfQzIAZBKGsiAEF4IAJrQQdxQQAgAkEIakEHcRsiAWsiCDYCAEGANCABIAJqIgE2AgAgASAIQQFyNgIEIAAgAmpBKDYCBEGENEHQNygCADYCACADIARBJyAEa0EHcUEAIARBJ2tBB3EbakEvayIAIAAgA0EQakkbIgFBGzYCBCABQbA3KQIANwIQIAFBqDcpAgA3AghBsDcgAUEIajYCAEGsNyAGNgIAQag3IAI2AgBBtDdBADYCACABQRhqIQADQCAAQQc2AgQgAEEIaiECIABBBGohACACIARJDQALIAEgA0YNACABIAEoAgRBfnE2AgQgAyABIANrIgJBAXI2AgQgASACNgIAIAJB/wFNBEAgAkF4cUGQNGohAAJ/QegzKAIAIgFBASACQQN2dCICcUUEQEHoMyABIAJyNgIAIAAMAQsgACgCCAshASAAIAM2AgggASADNgIMIAMgADYCDCADIAE2AggMAQtBHyEAIAJB////B00EQCACQSYgAkEIdmciAGt2QQFxIABBAXRrQT5qIQALIAMgADYCHCADQgA3AhAgAEECdEGYNmohAQJAAkBB7DMoAgAiBEEBIAB0IgZxRQRAQewzIAQgBnI2AgAgASADNgIADAELIAJBGSAAQQF2a0EAIABBH0cbdCEAIAEoAgAhBANAIAQiASgCBEF4cSACRg0CIABBHXYhBCAAQQF0IQAgASAEQQRxaiIGKAIQIgQNAAsgBiADNgIQCyADIAE2AhggAyADNgIMIAMgAzYCCAwBCyABKAIIIgAgAzYCDCABIAM2AgggA0EANgIYIAMgATYCDCADIAA2AggLQfQzKAIAIgAgBU0NAEH0MyAAIAVrIgE2AgBBgDRBgDQoAgAiACAFaiICNgIAIAIgAUEBcjYCBCAAIAVBA3I2AgQgAEEIaiEADAgLQagyQTA2AgBBACEADAcLQQAhAgsgCEUNAAJAIAYoAhwiAUECdEGYNmoiBCgCACAGRgRAIAQgAjYCACACDQFB7DNB7DMoAgBBfiABd3E2AgAMAgsgCEEQQRQgCCgCECAGRhtqIAI2AgAgAkUNAQsgAiAINgIYIAYoAhAiAQRAIAIgATYCECABIAI2AhgLIAYoAhQiAUUNACACIAE2AhQgASACNgIYCyAAIAlqIQAgBiAJaiIGKAIEIQMLIAYgA0F+cTYCBCAFIABBAXI2AgQgACAFaiAANgIAIABB/wFNBEAgAEF4cUGQNGohAQJ/QegzKAIAIgJBASAAQQN2dCIAcUUEQEHoMyAAIAJyNgIAIAEMAQsgASgCCAshACABIAU2AgggACAFNgIMIAUgATYCDCAFIAA2AggMAQtBHyEDIABB////B00EQCAAQSYgAEEIdmciAWt2QQFxIAFBAXRrQT5qIQMLIAUgAzYCHCAFQgA3AhAgA0ECdEGYNmohAQJAAkBB7DMoAgAiAkEBIAN0IgRxRQRAQewzIAIgBHI2AgAgASAFNgIADAELIABBGSADQQF2a0EAIANBH0cbdCEDIAEoAgAhAgNAIAIiASgCBEF4cSAARg0CIANBHXYhAiADQQF0IQMgASACQQRxaiIEKAIQIgINAAsgBCAFNgIQCyAFIAE2AhggBSAFNgIMIAUgBTYCCAwBCyABKAIIIgAgBTYCDCABIAU2AgggBUEANgIYIAUgATYCDCAFIAA2AggLIAdBCGohAAwCCwJAIAdFDQACQCAEKAIcIgBBAnRBmDZqIgEoAgAgBEYEQCABIAI2AgAgAg0BQewzIAhBfiAAd3EiCDYCAAwCCyAHQRBBFCAHKAIQIARGG2ogAjYCACACRQ0BCyACIAc2AhggBCgCECIABEAgAiAANgIQIAAgAjYCGAsgBCgCFCIARQ0AIAIgADYCFCAAIAI2AhgLAkAgA0EPTQRAIAQgAyAFaiIAQQNyNgIEIAAgBGoiACAAKAIEQQFyNgIEDAELIAQgBUEDcjYCBCAEIAVqIgIgA0EBcjYCBCACIANqIAM2AgAgA0H/AU0EQCADQXhxQZA0aiEAAn9B6DMoAgAiAUEBIANBA3Z0IgNxRQRAQegzIAEgA3I2AgAgAAwBCyAAKAIICyEBIAAgAjYCCCABIAI2AgwgAiAANgIMIAIgATYCCAwBC0EfIQAgA0H///8HTQRAIANBJiADQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAAsgAiAANgIcIAJCADcCECAAQQJ0QZg2aiEBAkACQCAIQQEgAHQiBnFFBEBB7DMgBiAIcjYCACABIAI2AgAMAQsgA0EZIABBAXZrQQAgAEEfRxt0IQAgASgCACEFA0AgBSIBKAIEQXhxIANGDQIgAEEddiEGIABBAXQhACABIAZBBHFqIgYoAhAiBQ0ACyAGIAI2AhALIAIgATYCGCACIAI2AgwgAiACNgIIDAELIAEoAggiACACNgIMIAEgAjYCCCACQQA2AhggAiABNgIMIAIgADYCCAsgBEEIaiEADAELAkAgCUUNAAJAIAIoAhwiAEECdEGYNmoiASgCACACRgRAIAEgBDYCACAEDQFB7DMgCkF+IAB3cTYCAAwCCyAJQRBBFCAJKAIQIAJGG2ogBDYCACAERQ0BCyAEIAk2AhggAigCECIABEAgBCAANgIQIAAgBDYCGAsgAigCFCIARQ0AIAQgADYCFCAAIAQ2AhgLAkAgA0EPTQRAIAIgAyAFaiIAQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDAELIAIgBUEDcjYCBCACIAVqIgQgA0EBcjYCBCADIARqIAM2AgAgBwRAIAdBeHFBkDRqIQBB/DMoAgAhAQJ/QQEgB0EDdnQiBSAGcUUEQEHoMyAFIAZyNgIAIAAMAQsgACgCCAshBiAAIAE2AgggBiABNgIMIAEgADYCDCABIAY2AggLQfwzIAQ2AgBB8DMgAzYCAAsgAkEIaiEACyALQRBqJAAgAAuXAgAgAEUEQEEADwsCfwJAIAAEfyABQf8ATQ0BAkBBxDMoAgAoAgBFBEAgAUGAf3FBgL8DRg0DDAELIAFB/w9NBEAgACABQT9xQYABcjoAASAAIAFBBnZBwAFyOgAAQQIMBAsgAUGAQHFBgMADRyABQYCwA09xRQRAIAAgAUE/cUGAAXI6AAIgACABQQx2QeABcjoAACAAIAFBBnZBP3FBgAFyOgABQQMMBAsgAUGAgARrQf//P00EQCAAIAFBP3FBgAFyOgADIAAgAUESdkHwAXI6AAAgACABQQZ2QT9xQYABcjoAAiAAIAFBDHZBP3FBgAFyOgABQQQMBAsLQagyQRk2AgBBfwVBAQsMAQsgACABOgAAQQELC5YYAxJ/AXwCfiMAQbAEayIMJAAgDEEANgIsAkAgAb0iGUIAUwRAQQEhEEGKCCETIAGaIgG9IRkMAQsgBEGAEHEEQEEBIRBBjQghEwwBC0GQCEGLCCAEQQFxIhAbIRMgEEUhFQsCQCAZQoCAgICAgID4/wCDQoCAgICAgID4/wBRBEAgAEEgIAIgEEEDaiIDIARB//97cRAGIAAgEyAQEAUgAEGzCEH2CCAFQSBxIgUbQcwIQfoIIAUbIAEgAWIbQQMQBSAAQSAgAiADIARBgMAAcxAGIAMgAiACIANIGyEJDAELIAxBEGohEQJAAn8CQCABIAxBLGoQKiIBIAGgIgFEAAAAAAAAAABiBEAgDCAMKAIsIgZBAWs2AiwgBUEgciIOQeEARw0BDAMLIAVBIHIiDkHhAEYNAiAMKAIsIQpBBiADIANBAEgbDAELIAwgBkEdayIKNgIsIAFEAAAAAAAAsEGiIQFBBiADIANBAEgbCyELIAxBMGpBoAJBACAKQQBOG2oiDSEHA0AgBwJ/IAFEAAAAAAAA8EFjIAFEAAAAAAAAAABmcQRAIAGrDAELQQALIgM2AgAgB0EEaiEHIAEgA7ihRAAAAABlzc1BoiIBRAAAAAAAAAAAYg0ACwJAIApBAEwEQCAKIQMgByEGIA0hCAwBCyANIQggCiEDA0BBHSADIANBHU4bIQMCQCAHQQRrIgYgCEkNACADrSEaQgAhGQNAIAYgGUL/////D4MgBjUCACAahnwiGSAZQoCU69wDgCIZQoCU69wDfn0+AgAgBkEEayIGIAhPDQALIBmnIgZFDQAgCEEEayIIIAY2AgALA0AgCCAHIgZJBEAgBkEEayIHKAIARQ0BCwsgDCAMKAIsIANrIgM2AiwgBiEHIANBAEoNAAsLIANBAEgEQCALQRlqQQluQQFqIQ8gDkHmAEYhEgNAQQlBACADayIDIANBCU4bIQkCQCAGIAhNBEAgCCgCACEHDAELQYCU69wDIAl2IRRBfyAJdEF/cyEWQQAhAyAIIQcDQCAHIAMgBygCACIXIAl2ajYCACAWIBdxIBRsIQMgB0EEaiIHIAZJDQALIAgoAgAhByADRQ0AIAYgAzYCACAGQQRqIQYLIAwgDCgCLCAJaiIDNgIsIA0gCCAHRUECdGoiCCASGyIHIA9BAnRqIAYgBiAHa0ECdSAPShshBiADQQBIDQALC0EAIQMCQCAGIAhNDQAgDSAIa0ECdUEJbCEDQQohByAIKAIAIglBCkkNAANAIANBAWohAyAJIAdBCmwiB08NAAsLIAsgA0EAIA5B5gBHG2sgDkHnAEYgC0EAR3FrIgcgBiANa0ECdUEJbEEJa0gEQEEEQaQCIApBAEgbIAxqIAdBgMgAaiIJQQltIg9BAnRqQdAfayEKQQohByAJIA9BCWxrIglBB0wEQANAIAdBCmwhByAJQQFqIglBCEcNAAsLAkAgCigCACISIBIgB24iDyAHbGsiCUUgCkEEaiIUIAZGcQ0AAkAgD0EBcUUEQEQAAAAAAABAQyEBIAdBgJTr3ANHDQEgCCAKTw0BIApBBGstAABBAXFFDQELRAEAAAAAAEBDIQELRAAAAAAAAOA/RAAAAAAAAPA/RAAAAAAAAPg/IAYgFEYbRAAAAAAAAPg/IAkgB0EBdiIURhsgCSAUSRshGAJAIBUNACATLQAAQS1HDQAgGJohGCABmiEBCyAKIBIgCWsiCTYCACABIBigIAFhDQAgCiAHIAlqIgM2AgAgA0GAlOvcA08EQANAIApBADYCACAIIApBBGsiCksEQCAIQQRrIghBADYCAAsgCiAKKAIAQQFqIgM2AgAgA0H/k+vcA0sNAAsLIA0gCGtBAnVBCWwhA0EKIQcgCCgCACIJQQpJDQADQCADQQFqIQMgCSAHQQpsIgdPDQALCyAKQQRqIgcgBiAGIAdLGyEGCwNAIAYiByAITSIJRQRAIAdBBGsiBigCAEUNAQsLAkAgDkHnAEcEQCAEQQhxIQoMAQsgA0F/c0F/IAtBASALGyIGIANKIANBe0pxIgobIAZqIQtBf0F+IAobIAVqIQUgBEEIcSIKDQBBdyEGAkAgCQ0AIAdBBGsoAgAiDkUNAEEKIQlBACEGIA5BCnANAANAIAYiCkEBaiEGIA4gCUEKbCIJcEUNAAsgCkF/cyEGCyAHIA1rQQJ1QQlsIQkgBUFfcUHGAEYEQEEAIQogCyAGIAlqQQlrIgZBACAGQQBKGyIGIAYgC0obIQsMAQtBACEKIAsgAyAJaiAGakEJayIGQQAgBkEAShsiBiAGIAtKGyELC0F/IQkgC0H9////B0H+////ByAKIAtyIhIbSg0BIAsgEkEAR2pBAWohDgJAIAVBX3EiFUHGAEYEQCADIA5B/////wdzSg0DIANBACADQQBKGyEGDAELIBEgAyADQR91IgZzIAZrrSAREAwiBmtBAUwEQANAIAZBAWsiBkEwOgAAIBEgBmtBAkgNAAsLIAZBAmsiDyAFOgAAIAZBAWtBLUErIANBAEgbOgAAIBEgD2siBiAOQf////8Hc0oNAgsgBiAOaiIDIBBB/////wdzSg0BIABBICACIAMgEGoiBSAEEAYgACATIBAQBSAAQTAgAiAFIARBgIAEcxAGAkACQAJAIBVBxgBGBEAgDEEQaiIGQQhyIQMgBkEJciEKIA0gCCAIIA1LGyIJIQgDQCAINQIAIAoQDCEGAkAgCCAJRwRAIAYgDEEQak0NAQNAIAZBAWsiBkEwOgAAIAYgDEEQaksNAAsMAQsgBiAKRw0AIAxBMDoAGCADIQYLIAAgBiAKIAZrEAUgCEEEaiIIIA1NDQALIBIEQCAAQf4IQQEQBQsgByAITQ0BIAtBAEwNAQNAIAg1AgAgChAMIgYgDEEQaksEQANAIAZBAWsiBkEwOgAAIAYgDEEQaksNAAsLIAAgBkEJIAsgC0EJThsQBSALQQlrIQYgCEEEaiIIIAdPDQMgC0EJSiEDIAYhCyADDQALDAILAkAgC0EASA0AIAcgCEEEaiAHIAhLGyEJIAxBEGoiBkEIciEDIAZBCXIhDSAIIQcDQCANIAc1AgAgDRAMIgZGBEAgDEEwOgAYIAMhBgsCQCAHIAhHBEAgBiAMQRBqTQ0BA0AgBkEBayIGQTA6AAAgBiAMQRBqSw0ACwwBCyAAIAZBARAFIAZBAWohBiAKIAtyRQ0AIABB/ghBARAFCyAAIAYgDSAGayIGIAsgBiALSBsQBSALIAZrIQsgB0EEaiIHIAlPDQEgC0EATg0ACwsgAEEwIAtBEmpBEkEAEAYgACAPIBEgD2sQBQwCCyALIQYLIABBMCAGQQlqQQlBABAGCyAAQSAgAiAFIARBgMAAcxAGIAUgAiACIAVIGyEJDAELIBMgBUEadEEfdUEJcWohCAJAIANBC0sNAEEMIANrIQZEAAAAAAAAMEAhGANAIBhEAAAAAAAAMECiIRggBkEBayIGDQALIAgtAABBLUYEQCAYIAGaIBihoJohAQwBCyABIBigIBihIQELIBEgDCgCLCIGIAZBH3UiBnMgBmutIBEQDCIGRgRAIAxBMDoADyAMQQ9qIQYLIBBBAnIhCyAFQSBxIQ0gDCgCLCEHIAZBAmsiCiAFQQ9qOgAAIAZBAWtBLUErIAdBAEgbOgAAIARBCHEhBiAMQRBqIQcDQCAHIgUCfyABmUQAAAAAAADgQWMEQCABqgwBC0GAgICAeAsiB0HgI2otAAAgDXI6AAAgASAHt6FEAAAAAAAAMECiIQECQCAFQQFqIgcgDEEQamtBAUcNAAJAIAYNACADQQBKDQAgAUQAAAAAAAAAAGENAQsgBUEuOgABIAVBAmohBwsgAUQAAAAAAAAAAGINAAtBfyEJQf3///8HIAsgESAKayIGaiINayADSA0AIABBICACIA0gA0ECaiAHIAxBEGoiB2siBSAFQQJrIANIGyAFIAMbIglqIgMgBBAGIAAgCCALEAUgAEEwIAIgAyAEQYCABHMQBiAAIAcgBRAFIABBMCAJIAVrQQBBABAGIAAgCiAGEAUgAEEgIAIgAyAEQYDAAHMQBiADIAIgAiADSBshCQsgDEGwBGokACAJC7QCAAJAAkACQAJAAkACQAJAAkACQAJAAkAgAUEJaw4SAAgJCggJAQIDBAoJCgoICQUGBwsgAiACKAIAIgFBBGo2AgAgACABKAIANgIADwsgAiACKAIAIgFBBGo2AgAgACABMgEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMwEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMAAANwMADwsgAiACKAIAIgFBBGo2AgAgACABMQAANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsACw8LIAIgAigCACIBQQRqNgIAIAAgATQCADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATUCADcDAA8LIAIgAigCAEEHakF4cSIBQQhqNgIAIAAgASkDADcDAAtyAQN/IAAoAgAsAABBMGtBCk8EQEEADwsDQCAAKAIAIQNBfyEBIAJBzJmz5gBNBEBBfyADLAAAQTBrIgEgAkEKbCICaiABIAJB/////wdzShshAQsgACADQQFqNgIAIAEhAiADLAABQTBrQQpJDQALIAILkRQCE38BfkGHCSELIwBB0ABrIgUkACAFQYcJNgJMIAVBN2ohFSAFQThqIRACQAJAAkACQANAIAshCiAEIAxB/////wdzSg0BIAQgDGohDAJAAkACQCAKIgQtAAAiBgRAA0ACQAJAIAZB/wFxIgtFBEAgBCELDAELIAtBJUcNASAEIQYDQCAGLQABQSVHBEAgBiELDAILIARBAWohBCAGLQACIQcgBkECaiILIQYgB0ElRg0ACwsgBCAKayIEIAxB/////wdzIhZKDQcgAARAIAAgCiAEEAULIAQNBiAFIAs2AkwgC0EBaiEEQX8hDQJAIAssAAFBMGtBCk8NACALLQACQSRHDQAgC0EDaiEEIAssAAFBMGshDUEBIRELIAUgBDYCTEEAIQgCQCAELAAAIgZBIGsiC0EfSwRAIAQhBwwBCyAEIQdBASALdCILQYnRBHFFDQADQCAFIARBAWoiBzYCTCAIIAtyIQggBCwAASIGQSBrIgtBIE8NASAHIQRBASALdCILQYnRBHENAAsLAkAgBkEqRgRAAn8CQCAHLAABQTBrQQpPDQAgBy0AAkEkRw0AIAcsAAFBAnQgA2pBwAFrQQo2AgAgB0EDaiEGQQEhESAHLAABQQN0IAJqQYADaygCAAwBCyARDQYgB0EBaiEGIABFBEAgBSAGNgJMQQAhEUEAIQ4MAwsgASABKAIAIgRBBGo2AgBBACERIAQoAgALIQ4gBSAGNgJMIA5BAE4NAUEAIA5rIQ4gCEGAwAByIQgMAQsgBUHMAGoQKCIOQQBIDQggBSgCTCEGC0EAIQRBfyEJAn8gBi0AAEEuRwRAIAYhC0EADAELIAYtAAFBKkYEQAJ/AkAgBiwAAkEwa0EKTw0AIAYtAANBJEcNACAGLAACQQJ0IANqQcABa0EKNgIAIAZBBGohCyAGLAACQQN0IAJqQYADaygCAAwBCyARDQYgBkECaiELQQAgAEUNABogASABKAIAIgdBBGo2AgAgBygCAAshCSAFIAs2AkwgCUF/c0EfdgwBCyAFIAZBAWo2AkwgBUHMAGoQKCEJIAUoAkwhC0EBCyESA0AgBCEPQRwhByALIhQsAAAiBEH7AGtBRkkNCSAUQQFqIQsgBCAPQTpsakHPH2otAAAiBEEBa0EISQ0ACyAFIAs2AkwCQAJAIARBG0cEQCAERQ0LIA1BAE4EQCADIA1BAnRqIAQ2AgAgBSACIA1BA3RqKQMANwNADAILIABFDQggBUFAayAEIAEQJwwCCyANQQBODQoLQQAhBCAARQ0HCyAIQf//e3EiBiAIIAhBgMAAcRshCEEAIQ1BgAghEyAQIQcCQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQCAULAAAIgRBX3EgBCAEQQ9xQQNGGyAEIA8bIgRB2ABrDiEEFBQUFBQUFBQOFA8GDg4OFAYUFBQUAgUDFBQJFAEUFAQACwJAIARBwQBrDgcOFAsUDg4OAAsgBEHTAEYNCQwTCyAFKQNAIRdBgAgMBQtBACEEAkACQAJAAkACQAJAAkAgD0H/AXEOCAABAgMEGgUGGgsgBSgCQCAMNgIADBkLIAUoAkAgDDYCAAwYCyAFKAJAIAysNwMADBcLIAUoAkAgDDsBAAwWCyAFKAJAIAw6AAAMFQsgBSgCQCAMNgIADBQLIAUoAkAgDKw3AwAMEwtBCCAJIAlBCE0bIQkgCEEIciEIQfgAIQQLIBAhCiAFKQNAIhdCAFIEQCAEQSBxIQYDQCAKQQFrIgogF6dBD3FB4CNqLQAAIAZyOgAAIBdCD1YhDyAXQgSIIRcgDw0ACwsgBSkDQFANAyAIQQhxRQ0DIARBBHZBgAhqIRNBAiENDAMLIBAhBCAFKQNAIhdCAFIEQANAIARBAWsiBCAXp0EHcUEwcjoAACAXQgdWIQogF0IDiCEXIAoNAAsLIAQhCiAIQQhxRQ0CIAkgECAKayIEQQFqIAQgCUgbIQkMAgsgBSkDQCIXQgBTBEAgBUIAIBd9Ihc3A0BBASENQYAIDAELIAhBgBBxBEBBASENQYEIDAELQYIIQYAIIAhBAXEiDRsLIRMgFyAQEAwhCgsgEkEAIAlBAEgbDQ4gCEH//3txIAggEhshCAJAIAUpA0AiF0IAUg0AIAkNACAQIQpBACEJDAwLIAkgF1AgECAKa2oiBCAEIAlIGyEJDAsLAn9B/////wcgCSAJQf////8HTxsiDyIHQQBHIQgCQAJAAkAgBSgCQCIEQYAJIAQbIgoiBEEDcUUNACAHRQ0AA0AgBC0AAEUNAiAHQQFrIgdBAEchCCAEQQFqIgRBA3FFDQEgBw0ACwsgCEUNAQJAIAQtAABFDQAgB0EESQ0AA0AgBCgCACIIQX9zIAhBgYKECGtxQYCBgoR4cQ0CIARBBGohBCAHQQRrIgdBA0sNAAsLIAdFDQELA0AgBCAELQAARQ0CGiAEQQFqIQQgB0EBayIHDQALC0EACyIEIAprIA8gBBsiBCAKaiEHIAlBAE4EQCAGIQggBCEJDAsLIAYhCCAEIQkgBy0AAA0NDAoLIAkEQCAFKAJADAILQQAhBCAAQSAgDkEAIAgQBgwCCyAFQQA2AgwgBSAFKQNAPgIIIAUgBUEIaiIENgJAQX8hCSAECyEGQQAhBAJAA0AgBigCACIKRQ0BAkAgBUEEaiAKECUiCkEASCIHDQAgCiAJIARrSw0AIAZBBGohBiAEIApqIgQgCUkNAQwCCwsgBw0NC0E9IQcgBEEASA0LIABBICAOIAQgCBAGIARFBEBBACEEDAELQQAhByAFKAJAIQYDQCAGKAIAIgpFDQEgBUEEaiAKECUiCiAHaiIHIARLDQEgACAFQQRqIAoQBSAGQQRqIQYgBCAHSw0ACwsgAEEgIA4gBCAIQYDAAHMQBiAOIAQgBCAOSBshBAwICyASQQAgCUEASBsNCEE9IQcgACAFKwNAIA4gCSAIIAQQJiIEQQBODQcMCQsgBSAFKQNAPAA3QQEhCSAVIQogBiEIDAQLIAQtAAEhBiAEQQFqIQQMAAsACyAADQcgEUUNAkEBIQQDQCADIARBAnRqKAIAIgAEQCACIARBA3RqIAAgARAnQQEhDCAEQQFqIgRBCkcNAQwJCwtBASEMIARBCk8NBwNAIAMgBEECdGooAgANASAEQQFqIgRBCkcNAAsMBwtBHCEHDAQLIAkgByAKayIPIAkgD0obIgkgDUH/////B3NKDQJBPSEHIA4gCSANaiIGIAYgDkgbIgQgFkoNAyAAQSAgBCAGIAgQBiAAIBMgDRAFIABBMCAEIAYgCEGAgARzEAYgAEEwIAkgD0EAEAYgACAKIA8QBSAAQSAgBCAGIAhBgMAAcxAGDAELC0EAIQwMAwtBPSEHC0GoMiAHNgIAC0F/IQwLIAVB0ABqJAAgDAt+AgF/AX4gAL0iA0I0iKdB/w9xIgJB/w9HBHwgAkUEQCABIABEAAAAAAAAAABhBH9BAAUgAEQAAAAAAADwQ6IgARAqIQAgASgCAEFAags2AgAgAA8LIAEgAkH+B2s2AgAgA0L/////////h4B/g0KAgICAgICA8D+EvwUgAAsLegEDfwJAAkAgACIBQQNxRQ0AIAAtAABFBEBBAA8LA0AgAUEBaiIBQQNxRQ0BIAEtAAANAAsMAQsDQCABIgJBBGohASACKAIAIgNBf3MgA0GBgoQIa3FBgIGChHhxRQ0ACwNAIAIiAUEBaiECIAEtAAANAAsLIAEgAGsLgAQBA38gAkGABE8EQCAAIAEgAhAEIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAEEDcUUEQCAAIQIMAQsgAkUEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAFBAWohASACQQFqIgJBA3FFDQEgAiADSQ0ACwsCQCADQXxxIgRBwABJDQAgAiAEQUBqIgVLDQADQCACIAEoAgA2AgAgAiABKAIENgIEIAIgASgCCDYCCCACIAEoAgw2AgwgAiABKAIQNgIQIAIgASgCFDYCFCACIAEoAhg2AhggAiABKAIcNgIcIAIgASgCIDYCICACIAEoAiQ2AiQgAiABKAIoNgIoIAIgASgCLDYCLCACIAEoAjA2AjAgAiABKAI0NgI0IAIgASgCODYCOCACIAEoAjw2AjwgAUFAayEBIAJBQGsiAiAFTQ0ACwsgAiAETw0BA0AgAiABKAIANgIAIAFBBGohASACQQRqIgIgBEkNAAsMAQsgA0EESQRAIAAhAgwBCyAAIANBBGsiBEsEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAIgAS0AAToAASACIAEtAAI6AAIgAiABLQADOgADIAFBBGohASACQQRqIgIgBE0NAAsLIAIgA0kEQANAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANHDQALCyAACwMAAQv4DwIUfwN8IwBBEGsiCyQAAkAgALwiEUH/////B3EiA0Han6TuBE0EQCABIAC7IhcgF0SDyMltMF/kP6JEAAAAAAAAOEOgRAAAAAAAADjDoCIWRAAAAFD7Ifm/oqAgFkRjYhphtBBRvqKgIhg5AwAgGEQAAABg+yHpv2MhAgJ/IBaZRAAAAAAAAOBBYwRAIBaqDAELQYCAgIB4CyEDIAIEQCABIBcgFkQAAAAAAADwv6AiFkQAAABQ+yH5v6KgIBZEY2IaYbQQUb6ioDkDACADQQFrIQMMAgsgGEQAAABg+yHpP2RFDQEgASAXIBZEAAAAAAAA8D+gIhZEAAAAUPsh+b+ioCAWRGNiGmG0EFG+oqA5AwAgA0EBaiEDDAELIANBgICA/AdPBEAgASAAIACTuzkDAEEAIQMMAQsgCyADIANBF3ZBlgFrIgNBF3Rrvrs5AwggC0EIaiEOIwBBsARrIgUkACADIANBA2tBGG0iAkEAIAJBAEobIg1BaGxqIQZB8AkoAgAiB0EATgRAIAdBAWohAyANIQIDQCAFQcACaiAEQQN0aiACQQBIBHxEAAAAAAAAAAAFIAJBAnRBgApqKAIAtws5AwAgAkEBaiECIARBAWoiBCADRw0ACwsgBkEYayEIQQAhAyAHQQAgB0EAShshBANAQQAhAkQAAAAAAAAAACEWA0AgDiACQQN0aisDACAFQcACaiADIAJrQQN0aisDAKIgFqAhFiACQQFqIgJBAUcNAAsgBSADQQN0aiAWOQMAIAMgBEYhAiADQQFqIQMgAkUNAAtBLyAGayESQTAgBmshDyAGQRlrIRMgByEDAkADQCAFIANBA3RqKwMAIRZBACECIAMhBCADQQBMIglFBEADQCAFQeADaiACQQJ0agJ/An8gFkQAAAAAAABwPqIiF5lEAAAAAAAA4EFjBEAgF6oMAQtBgICAgHgLtyIXRAAAAAAAAHDBoiAWoCIWmUQAAAAAAADgQWMEQCAWqgwBC0GAgICAeAs2AgAgBSAEQQFrIgRBA3RqKwMAIBegIRYgAkEBaiICIANHDQALCwJ/IBYgCBAPIhYgFkQAAAAAAADAP6KcRAAAAAAAACDAoqAiFplEAAAAAAAA4EFjBEAgFqoMAQtBgICAgHgLIQogFiAKt6EhFgJAAkACQAJ/IAhBAEwiFEUEQCADQQJ0IAVqIgIgAigC3AMiAiACIA91IgIgD3RrIgQ2AtwDIAIgCmohCiAEIBJ1DAELIAgNASADQQJ0IAVqKALcA0EXdQsiDEEATA0CDAELQQIhDCAWRAAAAAAAAOA/Zg0AQQAhDAwBC0EAIQJBACEEIAlFBEADQCAFQeADaiACQQJ0aiIVKAIAIQlB////ByEQAn8CQCAEDQBBgICACCEQIAkNAEEADAELIBUgECAJazYCAEEBCyEEIAJBAWoiAiADRw0ACwsCQCAUDQBB////AyECAkACQCATDgIBAAILQf///wEhAgsgA0ECdCAFaiIJIAkoAtwDIAJxNgLcAwsgCkEBaiEKIAxBAkcNAEQAAAAAAADwPyAWoSEWQQIhDCAERQ0AIBZEAAAAAAAA8D8gCBAPoSEWCyAWRAAAAAAAAAAAYQRAQQAhBAJAIAcgAyICTg0AA0AgBUHgA2ogAkEBayICQQJ0aigCACAEciEEIAIgB0oNAAsgBEUNACAIIQYDQCAGQRhrIQYgBUHgA2ogA0EBayIDQQJ0aigCAEUNAAsMAwtBASECA0AgAiIEQQFqIQIgBUHgA2ogByAEa0ECdGooAgBFDQALIAMgBGohBANAIAVBwAJqIANBAWoiA0EDdGogAyANakECdEGACmooAgC3OQMAQQAhAkQAAAAAAAAAACEWA0AgDiACQQN0aisDACAFQcACaiADIAJrQQN0aisDAKIgFqAhFiACQQFqIgJBAUcNAAsgBSADQQN0aiAWOQMAIAMgBEgNAAsgBCEDDAELCwJAIBZBGCAGaxAPIhZEAAAAAAAAcEFmBEAgBUHgA2ogA0ECdGoCfwJ/IBZEAAAAAAAAcD6iIheZRAAAAAAAAOBBYwRAIBeqDAELQYCAgIB4CyICt0QAAAAAAABwwaIgFqAiFplEAAAAAAAA4EFjBEAgFqoMAQtBgICAgHgLNgIAIANBAWohAwwBCwJ/IBaZRAAAAAAAAOBBYwRAIBaqDAELQYCAgIB4CyECIAghBgsgBUHgA2ogA0ECdGogAjYCAAtEAAAAAAAA8D8gBhAPIRYCQCADQQBIDQAgAyECA0AgBSACIgRBA3RqIBYgBUHgA2ogAkECdGooAgC3ojkDACACQQFrIQIgFkQAAAAAAABwPqIhFiAEDQALIANBAEgNACADIQQDQEQAAAAAAAAAACEWQQAhAiAHIAMgBGsiBiAGIAdKGyIIQQBOBEADQCACQQN0QdAfaisDACAFIAIgBGpBA3RqKwMAoiAWoCEWIAIgCEchDSACQQFqIQIgDQ0ACwsgBUGgAWogBkEDdGogFjkDACAEQQBKIQIgBEEBayEEIAINAAsLRAAAAAAAAAAAIRYgA0EATgRAA0AgAyICQQFrIQMgFiAFQaABaiACQQN0aisDAKAhFiACDQALCyALIBaaIBYgDBs5AwAgBUGwBGokACAKQQdxIQMgCysDACEWIBFBAEgEQCABIBaaOQMAQQAgA2shAwwBCyABIBY5AwALIAtBEGokACADC/YEAQh/IAEgACgCCCIEIAAoAgQiAmtBJG1NBEAgACABBH8gAiABQSRsaiEAA0AgAv0MAAAAAAAAAAAAAAAAAAAAAP0LAgAgAkEANgIgIAL9DAAAAAAAAAAAAAAAAAAAAAD9CwIQIAJBADYCCCACQgA3AgAgAkEMaiIBQQA2AgggAUIANwIAIAJBGGoiAUEANgIIIAFCADcCACACQSRqIgIgAEcNAAsgAAUgAgs2AgQPCwJAIAIgACgCACICa0EkbSIGIAFqIgNByOPxOEkEQEHH4/E4IAQgAmtBJG0iAkEBdCIEIAMgAyAESRsgAkHj8bgcTxsiBARAIARByOPxOE8NAiAEQSRsEA4hBQsgBSAGQSRsaiIDIAFBJGxqIQYgAyECA0AgAv0MAAAAAAAAAAAAAAAAAAAAAP0LAgAgAkEANgIgIAL9DAAAAAAAAAAAAAAAAAAAAAD9CwIQIAJBADYCCCACQgA3AgAgAkEMaiIBQQA2AgggAUIANwIAIAJBGGoiAUEANgIIIAFCADcCACACQSRqIgIgBkcNAAsgBSAEQSRsaiEIAkAgACgCBCICIAAoAgAiCUYEQCADIQUMAQsDQCADQSRrIgUgAkEkayIBKgIAOAIAIAUgASoCBDgCBCAFIAEqAgg4AgggA0EYayIEIAJBGGsiByoCADgCACAEIAcqAgQ4AgQgBCAHKgIIOAIIIANBDGsiAyACQQxrIgIqAgA4AgAgAyACKgIEOAIEIAMgAioCCDgCCCAFIQMgASICIAlHDQALIAAoAgAhAgsgACAINgIIIAAgBjYCBCAAIAU2AgAgAgRAIAIQCgsPCxAZAAsQGAALrgoBCH8CQEHoKSgCAEHkKSgCACICa0EGdSIBIABJBEAgACABayIDQewpKAIAIgRB6CkoAgAiAWtBBnVNBEBB6CkgAwR/IAEgA0EGdGohAgNAIAEQGkFAayIBIAJHDQALIAIFIAELNgIADAILAkAgAUHkKSgCACICa0EGdSIGIANqIgVBgICAIEkEQEH///8fIAQgAmsiAUEFdSICIAUgAiAFSxsgAUHA////B08bIgcEfyAHQYCAgCBPDQIgB0EGdBAOBUEACyIEIAZBBnRqIgIgA0EGdGohBSACIQEDQCABEBpBQGsiASAFRw0AC0HoKSgCACIBQeQpKAIAIgZHBEADQCACQUBqIgMgAUFAaiIBIgL9AAIA/QsCACADIAL9AAIw/QsCMCADIAL9AAIg/QsCICADIAL9AAIQ/QsCECADIQIgASAGRw0AC0HkKSgCACEBC0HsKSAEIAdBBnRqNgIAQegpIAU2AgBB5CkgAjYCACABBEAgARAQCwwDCxAZAAsQGAALIAAgAU8NAEHoKSACIABBBnRqNgIACwJAQfQpKAIAQfApKAIAIgJrQSRtIgEgAEkEQEHwKSAAIAFrEC8MAQsgACABTw0AQfQpIAIgAEEkbGo2AgALAkBBgCooAgBB/CkoAgAiAmtBBHUiASAASQRAQQAhBEEAIQcgACABayIDQYQqKAIAIgZBgCooAgAiAmtBBHVNBEACQCADRQ0AIAIhASADQQdxIggEQANAIAFC/////w83AgggAUIANwIAIAFBEGohASAEQQFqIgQgCEcNAAsLIANBBHQgAmohAiADQQFrQf////8AcUEHSQ0AA0AgAUIANwJwIAFCADcCYCABQgA3AlAgAUIANwJAIAFCADcCMCABQgA3AiAgAUIANwIQIAFC/////w83AgggAUIANwIAIAFC/////w83AnggAUL/////DzcCaCABQv////8PNwJYIAFC/////w83AkggAUL/////DzcCOCABQv////8PNwIoIAFC/////w83AhggAUGAAWoiASACRw0ACwtBgCogAjYCAAwCCwJAIAJB/CkoAgAiAWtBBHUiBCADaiIFQYCAgIABSQRAQf////8AIAYgAWsiBkEDdSIBIAUgASAFSxsgBkHw////B08bIgUEQCAFQYCAgIABTw0CIAVBBHQQDiEHCyAHIARBBHRqIgQhASADQQdxIgYEQANAIAFC/////w83AgggAUIANwIAIAFBEGohASAIQQFqIgggBkcNAAsLIANBBHQgBGohCCADQQFrQf////8AcUEHTwRAA0AgAUIANwJwIAFCADcCYCABQgA3AlAgAUIANwJAIAFCADcCMCABQgA3AiAgAUIANwIQIAFC/////w83AgggAUIANwIAIAFC/////w83AnggAUL/////DzcCaCABQv////8PNwJYIAFC/////w83AkggAUL/////DzcCOCABQv////8PNwIoIAFC/////w83AhggAUGAAWoiASAIRw0ACwtB/CkoAgAiASACRwRAA0AgBEEQayIEIAJBEGsiAv0AAgD9CwIAIAEgAkcNAAtB/CkoAgAhAgtBhCogByAFQQR0ajYCAEGAKiAINgIAQfwpIAQ2AgAgAgRAIAIQEAsMAwsQGQALEBgACyAAIAFPDQBBgCogAiAAQQR0ajYCAAtBjCooAgBBiCooAgAiAmtBJG0iASAASQRAQYgqIAAgAWsQLw8LIAAgAUkEQEGMKiACIABBJGxqNgIACwsQACMAIABrQXBxIgAkACAACwcAIAAoAgQLGQBBiCooAgAiAARAQYwqIAA2AgAgABAKCwsFAEG3CAsFAEHnCAsFAEGkCAsVACAARQRAQQAPCyAAQaQlECFBAEcLGgAgACABKAIIIAUQCQRAIAEgAiADIAQQHwsLNwAgACABKAIIIAUQCQRAIAEgAiADIAQQHw8LIAAoAggiACABIAIgAyAEIAUgACgCACgCFBEHAAunAQAgACABKAIIIAQQCQRAAkAgASgCBCACRw0AIAEoAhxBAUYNACABIAM2AhwLDwsCQCAAIAEoAgAgBBAJRQ0AAkAgAiABKAIQRwRAIAEoAhQgAkcNAQsgA0EBRw0BIAFBATYCIA8LIAEgAjYCFCABIAM2AiAgASABKAIoQQFqNgIoAkAgASgCJEEBRw0AIAEoAhhBAkcNACABQQE6ADYLIAFBBDYCLAsLiAIAIAAgASgCCCAEEAkEQAJAIAEoAgQgAkcNACABKAIcQQFGDQAgASADNgIcCw8LAkAgACABKAIAIAQQCQRAAkAgAiABKAIQRwRAIAEoAhQgAkcNAQsgA0EBRw0CIAFBATYCIA8LIAEgAzYCIAJAIAEoAixBBEYNACABQQA7ATQgACgCCCIAIAEgAiACQQEgBCAAKAIAKAIUEQcAIAEtADUEQCABQQM2AiwgAS0ANEUNAQwDCyABQQQ2AiwLIAEgAjYCFCABIAEoAihBAWo2AiggASgCJEEBRw0BIAEoAhhBAkcNASABQQE6ADYPCyAAKAIIIgAgASACIAMgBCAAKAIAKAIYEQUACwsZAEH8KSgCACIABEBBgCogADYCACAAEAoLCzEAIAAgASgCCEEAEAkEQCABIAIgAxAgDwsgACgCCCIAIAEgAiADIAAoAgAoAhwRBgALGAAgACABKAIIQQAQCQRAIAEgAiADECALC5sBAQF/IwBBQGoiAyQAAn9BASAAIAFBABAJDQAaQQAgAUUNABpBACABQcQkECEiAUUNABogA0EMakEAQTQQESADQQE2AjggA0F/NgIUIAMgADYCECADIAE2AgggASADQQhqIAIoAgBBASABKAIAKAIcEQYAIAMoAiAiAEEBRgRAIAIgAygCGDYCAAsgAEEBRgshACADQUBrJAAgAAsZAEHwKSgCACIABEBB9CkgADYCACAAEAoLCxkAQeQpKAIAIgAEQEHoKSAANgIAIAAQCgsLBABCAAsEAEEAC/QCAQd/IwBBIGsiAyQAIAMgACgCHCIENgIQIAAoAhQhBSADIAI2AhwgAyABNgIYIAMgBSAEayIBNgIUIAEgAmohBUECIQcCfwJAAkACQCAAKAI8IANBEGoiAUECIANBDGoQACIEBH9BqDIgBDYCAEF/BUEACwRAIAEhBAwBCwNAIAUgAygCDCIGRg0CIAZBAEgEQCABIQQMBAsgASAGIAEoAgQiCEsiCUEDdGoiBCAGIAhBACAJG2siCCAEKAIAajYCACABQQxBBCAJG2oiASABKAIAIAhrNgIAIAUgBmshBSAAKAI8IAQiASAHIAlrIgcgA0EMahAAIgYEf0GoMiAGNgIAQX8FQQALRQ0ACwsgBUF/Rw0BCyAAIAAoAiwiATYCHCAAIAE2AhQgACABIAAoAjBqNgIQIAIMAQsgAEEANgIcIABCADcDECAAIAAoAgBBIHI2AgBBACAHQQJGDQAaIAIgBCgCBGsLIQAgA0EgaiQAIAALhwIAQZQpKAIAGgJAQX9BAAJ/QdAIECsiAAJ/QZQpKAIAQQBIBEBB0AggAEHIKBAUDAELQdAIIABByCgQFAsiASAARg0AGiABCyAARxtBAEgNAAJAQZgpKAIAQQpGDQBB3CgoAgAiAEHYKCgCAEYNAEHcKCAAQQFqNgIAIABBCjoAAAwBCyMAQRBrIgAkACAAQQo6AA8CQAJAQdgoKAIAIgEEfyABBUHIKBAVDQJB2CgoAgALQdwoKAIAIgFGDQBBmCkoAgBBCkYNAEHcKCABQQFqNgIAIAFBCjoAAAwBC0HIKCAAQQ9qQQFB7CgoAgARAgBBAUcNACAALQAPGgsgAEEQaiQAC0EACyYAQeApIAI4AgAgACABSARAA0AgABAcGiAAQQFqIgAgAUcNAAsLC+UEAgZ/D30jAEGAAWsiASQAQeQpKAIAIABBBnRqIgAqAgAhByAAKgIEIQggACoCCCEJIAAqAgwhCiAAKgIQIQsgACoCFCEMIAAqAhghDSAAKgIcIQ4gACoCICEPIAAqAiQhECAAKgIoIREgACoCLCESIAAqAjAhEyAAKgI0IRQgACoCOCEVIAEgACoCPLs5A3ggASAVuzkDcCABIBS7OQNoIAEgE7s5A2AgASASuzkDWCABIBG7OQNQIAEgELs5A0ggAUFAayAPuzkDACABIA67OQM4IAEgDbs5AzAgASAMuzkDKCABIAu7OQMgIAEgCrs5AxggASAJuzkDECABIAi7OQMIIAEgB7s5AwAjAEEQayIEJAAgBCABNgIMIwBB0AFrIgAkACAAIAE2AswBIABBoAFqIgJBAEEoEBEgACAAKALMATYCyAECQEEAIABByAFqIABB0ABqIAIQKUEASA0AQZQpKAIAQQBOIQVByCgoAgAhAkGQKSgCAEEATARAQcgoIAJBX3E2AgALAn8CQAJAQfgoKAIARQRAQfgoQdAANgIAQeQoQQA2AgBB2ChCADcDAEH0KCgCACEDQfQoIAA2AgAMAQtB2CgoAgANAQtBf0HIKBAVDQEaC0HIKCAAQcgBaiAAQdAAaiAAQaABahApCyEGIAMEf0HIKEEAQQBB7CgoAgARAgAaQfgoQQA2AgBB9CggAzYCAEHkKEEANgIAQdwoKAIAGkHYKEIANwMAQQAFIAYLGkHIKEHIKCgCACACQSBxcjYCACAFRQ0ACyAAQdABaiQAIARBEGokACABQYABaiQACwgAQYgqKAIACwgAQfwpKAIACwgAQfApKAIACwgAQeQpKAIACwvnHxQAQYAIC8cXLSsgICAwWDB4AC0wWCswWCAwWC0weCsweCAweAB2ZWN0b3IAc3RkOjpleGNlcHRpb24AbmFuAGJhZF9hcnJheV9uZXdfbGVuZ3RoAGluZgBlbXNjcmlwdGVuIGhhdmUgbG9hZGVkAHN0ZDo6YmFkX2FsbG9jAE5BTgBJTkYALgAobnVsbCkAWyUuMmYsICUuMmYsICUuMmYsICUuMmZdDQpbJS4yZiwgJS4yZiwgJS4yZiwgJS4yZl0NClslLjJmLCAlLjJmLCAlLjJmLCAlLjJmXQ0KWyUuMmYsICUuMmYsICUuMmYsICUuMmZdDQoAAwAAAAQAAAAEAAAABgAAAIP5ogBETm4A/CkVANFXJwDdNPUAYtvAADyZlQBBkEMAY1H+ALveqwC3YcUAOm4kANJNQgBJBuAACeouAByS0QDrHf4AKbEcAOg+pwD1NYIARLsuAJzphAC0JnAAQX5fANaROQBTgzkAnPQ5AItfhAAo+b0A+B87AN7/lwAPmAUAES/vAApaiwBtH20Az342AAnLJwBGT7cAnmY/AC3qXwC6J3UA5evHAD178QD3OQcAklKKAPtr6gAfsV8ACF2NADADVgB7/EYA8KtrACC8zwA29JoA46kdAF5hkQAIG+YAhZllAKAUXwCNQGgAgNj/ACdzTQAGBjEAylYVAMmocwB74mAAa4zAABnERwDNZ8MACejcAFmDKgCLdsQAphyWAESv3QAZV9EApT4FAAUH/wAzfj8AwjLoAJhP3gC7fTIAJj3DAB5r7wCf+F4ANR86AH/yygDxhx0AfJAhAGokfADVbvoAMC13ABU7QwC1FMYAwxmdAK3EwgAsTUEADABdAIZ9RgDjcS0Am8aaADNiAAC00nwAtKeXADdV1QDXPvYAoxAYAE12/ABknSoAcNerAGN8+AB6sFcAFxXnAMBJVgA71tkAp4Q4ACQjywDWincAWlQjAAAfuQDxChsAGc7fAJ8x/wBmHmoAmVdhAKz7RwB+f9gAImW3ADLoiQDmv2AA78TNAGw2CQBdP9QAFt7XAFg73gDem5IA0iIoACiG6ADiWE0AxsoyAAjjFgDgfcsAF8BQAPMdpwAY4FsALhM0AIMSYgCDSAEA9Y5bAK2wfwAe6fIASEpDABBn0wCq3dgArl9CAGphzgAKKKQA05m0AAam8gBcd38Ao8KDAGE8iACKc3gAr4xaAG/XvQAtpmMA9L/LAI2B7wAmwWcAVcpFAMrZNgAoqNIAwmGNABLJdwAEJhQAEkabAMRZxADIxUQATbKRAAAX8wDUQ60AKUnlAP3VEAAAvvwAHpTMAHDO7gATPvUA7PGAALPnwwDH+CgAkwWUAMFxPgAuCbMAC0XzAIgSnACrIHsALrWfAEeSwgB7Mi8ADFVtAHKnkABr5x8AMcuWAHkWSgBBeeIA9N+JAOiUlwDi5oQAmTGXAIjtawBfXzYAu/0OAEiatABnpGwAcXJCAI1dMgCfFbgAvOUJAI0xJQD3dDkAMAUcAA0MAQBLCGgALO5YAEeqkAB05wIAvdYkAPd9pgBuSHIAnxbvAI6UpgC0kfYA0VNRAM8K8gAgmDMA9Ut+ALJjaADdPl8AQF0DAIWJfwBVUikAN2TAAG3YEAAySDIAW0x1AE5x1ABFVG4ACwnBACr1aQAUZtUAJwedAF0EUAC0O9sA6nbFAIf5FwBJa30AHSe6AJZpKQDGzKwArRRUAJDiagCI2YkALHJQAASkvgB3B5QA8zBwAAD8JwDqcagAZsJJAGTgPQCX3YMAoz+XAEOU/QANhowAMUHeAJI5nQDdcIwAF7fnAAjfOwAVNysAXICgAFqAkwAQEZIAD+jYAGyArwDb/0sAOJAPAFkYdgBipRUAYcu7AMeJuQAQQL0A0vIEAEl1JwDrtvYA2yK7AAoUqgCJJi8AZIN2AAk7MwAOlBoAUTqqAB2jwgCv7a4AXCYSAG3CTQAtepwAwFaXAAM/gwAJ8PYAK0CMAG0xmQA5tAcADCAVANjDWwD1ksQAxq1LAE7KpQCnN80A5qk2AKuSlADdQmgAGWPeAHaM7wBoi1IA/Ns3AK6hqwDfFTEAAK6hAAz72gBkTWYA7QW3ACllMABXVr8AR/86AGr5uQB1vvMAKJPfAKuAMABmjPYABMsVAPoiBgDZ5B0APbOkAFcbjwA2zQkATkLpABO+pAAzI7UA8KoaAE9lqADSwaUACz8PAFt4zQAj+XYAe4sEAIkXcgDGplMAb27iAO/rAACbSlgAxNq3AKpmugB2z88A0QIdALHxLQCMmcEAw613AIZI2gD3XaAAxoD0AKzwLwDd7JoAP1y8ANDebQCQxx8AKtu2AKMlOgAAr5oArVOTALZXBAApLbQAS4B+ANoHpwB2qg4Ae1mhABYSKgDcty0A+uX9AInb/gCJvv0A5HZsAAap/AA+gHAAhW4VAP2H/wAoPgcAYWczACoYhgBNveoAs+evAI9tbgCVZzkAMb9bAITXSAAw3xYAxy1DACVhNQDJcM4AMMu4AL9s/QCkAKIABWzkAFrdoAAhb0cAYhLSALlchABwYUkAa1bgAJlSAQBQVTcAHtW3ADPxxAATbl8AXTDkAIUuqQAdssMAoTI2AAi3pADqsdQAFvchAI9p5AAn/3cADAOAAI1ALQBPzaAAIKWZALOi0wAvXQoAtPlCABHaywB9vtAAm9vBAKsXvQDKooEACGpcAC5VFwAnAFUAfxTwAOEHhgAUC2QAlkGNAIe+3gDa/SoAayW2AHuJNAAF8/4Aub+eAGhqTwBKKqgAT8RaAC34vADXWpgA9MeVAA1NjQAgOqYApFdfABQ/sQCAOJUAzCABAHHdhgDJ3rYAv2D1AE1lEQABB2sAjLCsALLA0ABRVUgAHvsOAJVywwCjBjsAwEA1AAbcewDgRcwATin6ANbKyADo80EAfGTeAJtk2ADZvjEApJfDAHdY1ABp48UA8NoTALo6PABGGEYAVXVfANK99QBuksYArC5dAA5E7QAcPkIAYcSHACn96QDn1vMAInzKAG+RNQAI4MUA/9eNAG5q4gCw/cYAkwjBAHxddABrrbIAzW6dAD5yewDGEWoA98+pAClz3wC1yboAtwBRAOKyDQB0uiQA5X1gAHTYigANFSwAgRgMAH5mlAABKRYAn3p2AP39vgBWRe8A2X42AOzZEwCLurkAxJf8ADGoJwDxbsMAlMU2ANioVgC0qLUAz8wOABKJLQBvVzQALFaJAJnO4wDWILkAa16qAD4qnAARX8wA/QtKAOH0+wCOO20A4oYsAOnUhAD8tKkA7+7RAC41yQAvOWEAOCFEABvZyACB/AoA+0pqAC8c2ABTtIQATpmMAFQizAAqVdwAwMbWAAsZlgAacLgAaZVkACZaYAA/Uu4AfxEPAPS1EQD8y/UANLwtADS87gDoXcwA3V5gAGeOmwCSM+8AyRe4AGFYmwDhV7wAUYPGANg+EADdcUgALRzdAK8YoQAhLEYAWfPXANl6mACeVMAAT4b6AFYG/ADlea4AiSI2ADitIgBnk9wAVeiqAIImOADK55sAUQ2kAJkzsQCp1w4AaQVIAGWy8AB/iKcAiEyXAPnRNgAhkrMAe4JKAJjPIQBAn9wA3EdVAOF0OgBn60IA/p3fAF7UXwB7Z6QAuqx6AFX2ogAriCMAQbpVAFluCAAhKoYAOUeDAInj5gDlntQASftAAP9W6QAcD8oAxVmKAJT6KwDTwcUAD8XPANtargBHxYYAhUNiACGGOwAseZQAEGGHACpMewCALBoAQ78SAIgmkAB4PIkAqMTkAOXbewDEOsIAJvTqAPdnigANkr8AZaMrAD2TsQC9fAsApFHcACfdYwBp4d0AmpQZAKgplQBozigACe20AESfIABOmMoAcIJjAH58IwAPuTIAp/WOABRW5wAh8QgAtZ0qAG9+TQClGVEAtfmrAILf1gCW3WEAFjYCAMQ6nwCDoqEAcu1tADmNegCCuKkAazJcAEYnWwAANO0A0gB3APz0VQABWU0A4HGAAEHTHwt+QPsh+T8AAAAALUR0PgAAAICYRvg8AAAAYFHMeDsAAACAgxvwOQAAAEAgJXo4AAAAgCKC4zYAAAAAHfNpNRkACgAZGRkAAAAABQAAAAAAAAkAAAAACwAAAAAAAAAAGQARChkZGQMKBwABAAkLGAAACQYLAAALAAYZAAAAGRkZAEHhIAshDgAAAAAAAAAAGQAKDRkZGQANAAACAAkOAAAACQAOAAAOAEGbIQsBDABBpyELFRMAAAAAEwAAAAAJDAAAAAAADAAADABB1SELARAAQeEhCxUPAAAABA8AAAAACRAAAAAAABAAABAAQY8iCwESAEGbIgseEQAAAAARAAAAAAkSAAAAAAASAAASAAAaAAAAGhoaAEHSIgsOGgAAABoaGgAAAAAAAAkAQYMjCwEUAEGPIwsVFwAAAAAXAAAAAAkUAAAAAAAUAAAUAEG9IwsBFgBBySML/QQVAAAAABUAAAAACRYAAAAAABYAABYAADAxMjM0NTY3ODlBQkNERUZOMTBfX2N4eGFiaXYxMTZfX3NoaW1fdHlwZV9pbmZvRQAAAADgEgAA8BEAAEAUAABOMTBfX2N4eGFiaXYxMTdfX2NsYXNzX3R5cGVfaW5mb0UAAADgEgAAIBIAABQSAABOMTBfX2N4eGFiaXYxMTdfX3BiYXNlX3R5cGVfaW5mb0UAAADgEgAAUBIAABQSAABOMTBfX2N4eGFiaXYxMTlfX3BvaW50ZXJfdHlwZV9pbmZvRQDgEgAAgBIAAHQSAAAAAAAARBIAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAAAAAACgTAAALAAAAEwAAAA0AAAAOAAAADwAAABQAAAAVAAAAFgAAAE4xMF9fY3h4YWJpdjEyMF9fc2lfY2xhc3NfdHlwZV9pbmZvRQAAAADgEgAAABMAAEQSAAAAAAAAmBMAAAEAAAAXAAAAGAAAAAAAAADAEwAAAQAAABkAAAAaAAAAAAAAAIATAAABAAAAGwAAABwAAABTdDlleGNlcHRpb24AAAAAuBIAAHATAABTdDliYWRfYWxsb2MAAAAA4BIAAIgTAACAEwAAU3QyMGJhZF9hcnJheV9uZXdfbGVuZ3RoAAAAAOASAACkEwAAmBMAAAAAAADwEwAAAgAAAB0AAAAeAAAAU3QxMWxvZ2ljX2Vycm9yAOASAADgEwAAgBMAAAAAAAAkFAAAAgAAAB8AAAAeAAAAU3QxMmxlbmd0aF9lcnJvcgAAAADgEgAAEBQAAPATAABTdDl0eXBlX2luZm8AAAAAuBIAADAUAEHIKAsBBQBB1CgLAQcAQewoCw4IAAAACQAAACgVAAAABABBhCkLAQEAQZQpCwX/////CgBB2CkLA+AbAQ==";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}throw"both async and sync fetching of the wasm failed"}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(binaryFile)){return fetch(binaryFile,{credentials:"same-origin"}).then((response=>{if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'"}return response["arrayBuffer"]()})).catch((()=>getBinarySync(binaryFile)))}else if(readAsync){return new Promise(((resolve,reject)=>{readAsync(binaryFile,(response=>resolve(new Uint8Array(response))),reject)}))}}return Promise.resolve().then((()=>getBinarySync(binaryFile)))}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then((binary=>WebAssembly.instantiate(binary,imports))).then((instance=>instance)).then(receiver,(reason=>{err("failed to asynchronously prepare wasm: "+reason);abort(reason)}))}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&!isFileURI(binaryFile)&&!ENVIRONMENT_IS_NODE&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then((response=>{var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,(function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback)}))}))}return instantiateArrayBuffer(binaryFile,imports,callback)}function createWasm(){var info={"a":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;Module["asm"]=exports;wasmMemory=Module["asm"]["f"];updateMemoryViews();wasmTable=Module["asm"]["h"];addOnInit(Module["asm"]["g"]);removeRunDependency("wasm-instantiate");return exports}addRunDependency("wasm-instantiate");function receiveInstantiationResult(result){receiveInstance(result["instance"])}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance)}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult);return{}}function ExitStatus(status){this.name="ExitStatus";this.message=\`Program terminated with exit(\${status})\`;this.status=status}var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type};this.get_type=function(){return HEAPU32[this.ptr+4>>2]};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2]};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor)};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2]};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2]}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr}}var exceptionLast=0;var uncaughtExceptionCount=0;function ___cxa_throw(ptr,type,destructor){var info=new ExceptionInfo(ptr);info.init(type,destructor);exceptionLast=ptr;uncaughtExceptionCount++;throw exceptionLast}var _abort=()=>{abort("")};var _emscripten_memcpy_big=(dest,src,num)=>HEAPU8.copyWithin(dest,src,src+num);var getHeapMax=()=>2147483648;var growMemory=size=>{var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};var _emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length;requestedSize>>>=0;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}var alignUp=(x,multiple)=>x+(multiple-x%multiple)%multiple;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false};var printCharBuffers=[null,[],[]];var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=(heapOrArray,idx,maxBytesToRead)=>{var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var printChar=(stream,curr)=>{var buffer=printCharBuffers[stream];if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}};var UTF8ToString=(ptr,maxBytesToRead)=>ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";var SYSCALLS={varargs:undefined,get(){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr(ptr){var ret=UTF8ToString(ptr);return ret}};var _fd_write=(fd,iov,iovcnt,pnum)=>{var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j])}num+=len}HEAPU32[pnum>>2]=num;return 0};var _proc_exit=code=>{EXITSTATUS=code;if(!keepRuntimeAlive()){if(Module["onExit"])Module["onExit"](code);ABORT=true}quit_(code,new ExitStatus(code))};var exitJS=(status,implicit)=>{EXITSTATUS=status;_proc_exit(status)};var handleException=e=>{if(e instanceof ExitStatus||e=="unwind"){return EXITSTATUS}quit_(1,e)};var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx};var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);var stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8(str,ret,size);return ret};var wasmImports={b:___cxa_throw,d:_abort,e:_emscripten_memcpy_big,c:_emscripten_resize_heap,a:_fd_write};var asm=createWasm();var ___wasm_call_ctors=function(){return(___wasm_call_ctors=Module["asm"]["g"]).apply(null,arguments)};var _allocation=Module["_allocation"]=function(){return(_allocation=Module["_allocation"]=Module["asm"]["i"]).apply(null,arguments)};var _getMatrixBufferPtr=Module["_getMatrixBufferPtr"]=function(){return(_getMatrixBufferPtr=Module["_getMatrixBufferPtr"]=Module["asm"]["j"]).apply(null,arguments)};var _getSRTPtr=Module["_getSRTPtr"]=function(){return(_getSRTPtr=Module["_getSRTPtr"]=Module["asm"]["k"]).apply(null,arguments)};var _getInfoPtr=Module["_getInfoPtr"]=function(){return(_getInfoPtr=Module["_getInfoPtr"]=Module["asm"]["l"]).apply(null,arguments)};var _getContinuedSRTPtr=Module["_getContinuedSRTPtr"]=function(){return(_getContinuedSRTPtr=Module["_getContinuedSRTPtr"]=Module["asm"]["m"]).apply(null,arguments)};var _printMatrix=Module["_printMatrix"]=function(){return(_printMatrix=Module["_printMatrix"]=Module["asm"]["n"]).apply(null,arguments)};var _updateAllMatrixContinueTransform=Module["_updateAllMatrixContinueTransform"]=function(){return(_updateAllMatrixContinueTransform=Module["_updateAllMatrixContinueTransform"]=Module["asm"]["o"]).apply(null,arguments)};var _main=Module["_main"]=function(){return(_main=Module["_main"]=Module["asm"]["p"]).apply(null,arguments)};var ___errno_location=function(){return(___errno_location=Module["asm"]["__errno_location"]).apply(null,arguments)};var stackAlloc=function(){return(stackAlloc=Module["asm"]["q"]).apply(null,arguments)};var ___cxa_is_pointer_type=function(){return(___cxa_is_pointer_type=Module["asm"]["r"]).apply(null,arguments)};var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function callMain(args=[]){var entryFunction=_main;args.unshift(thisProgram);var argc=args.length;var argv=stackAlloc((argc+1)*4);var argv_ptr=argv>>2;args.forEach((arg=>{HEAP32[argv_ptr++]=stringToUTF8OnStack(arg)}));HEAP32[argv_ptr]=0;try{var ret=entryFunction(argc,argv);exitJS(ret,true);return ret}catch(e){return handleException(e)}}function run(args=arguments_){if(runDependencies>0){return}preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();if(shouldRunNow)callMain(args);postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout((function(){setTimeout((function(){Module["setStatus"]("")}),1);doRun()}),1)}else{doRun()}}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}var shouldRunNow=true;if(Module["noInitialRun"])shouldRunNow=false;run();

if (!Module['ENVIRONMENT_IS_PTHREAD']) {
    // console.log("is main");
    window['wasmMatrix'] = Module;
}
        `,Xe=class Xe{static async init(A){await new Promise(e=>{const t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src=URL.createObjectURL(new Blob([l4])),document.head.appendChild(t),t.onload=()=>{let i=()=>{this.wasm=window.wasmMatrix,this.wasm&&this.wasm.calledRun?e(!0):setTimeout(i,20)};i()}}),this.allocMatrix(A)}static allocMatrix(A){A>NA.maxCount&&console.error(`The maximum allocation size is exceeded! current:${A}, limit:${NA.maxCount}`),this.wasm._allocation(A),this.matrixBufferPtr=this.wasm._getMatrixBufferPtr(),this.matrixSRTBufferPtr=this.wasm._getSRTPtr(),this.matrixStateBufferPtr=this.wasm._getInfoPtr(),this.matrixContinuedSRTBufferPtr=this.wasm._getContinuedSRTPtr(),this.matrixBuffer=new Float32Array(this.wasm.HEAPF32.buffer,this.matrixBufferPtr,16*A),this.matrixSRTBuffer=new Float32Array(this.wasm.HEAPF32.buffer,this.matrixSRTBufferPtr,3*3*A),this.matrixContinuedSRTBuffer=new Float32Array(this.wasm.HEAPF32.buffer,this.matrixContinuedSRTBufferPtr,3*3*A),this.matrixStateBuffer=new Int32Array(this.wasm.HEAP32.buffer,this.matrixStateBufferPtr,Xe.stateStruct*A),NA.allocMatrix(A)}static updateAllContinueTransform(A,e,t){this.wasm._updateAllMatrixContinueTransform(A,e,t)}static setParent(A,e,t){this.matrixStateBuffer[A*Xe.stateStruct+2]=e>=0?e:-1,this.matrixStateBuffer[A*Xe.stateStruct+3]=t}static setTranslate(A,e,t,i){this.matrixSRTBuffer[A*9+6]=e,this.matrixSRTBuffer[A*9+7]=t,this.matrixSRTBuffer[A*9+8]=i}static setRotation(A,e,t,i){this.matrixSRTBuffer[A*9+3]=e%360,this.matrixSRTBuffer[A*9+4]=t%360,this.matrixSRTBuffer[A*9+5]=i%360}static setScale(A,e,t,i){this.matrixSRTBuffer[A*9+0]=e,this.matrixSRTBuffer[A*9+1]=t,this.matrixSRTBuffer[A*9+2]=i}static setContinueTranslate(A,e,t,i){(e!=0||t!=0||i!=0)&&(this.matrixContinuedSRTBuffer[A*9+6]=e,this.matrixContinuedSRTBuffer[A*9+7]=t,this.matrixContinuedSRTBuffer[A*9+8]=i,this.matrixStateBuffer[A*Xe.stateStruct+1]=1)}static setContinueRotation(A,e,t,i){(e!=0||t!=0||i!=0)&&(this.matrixContinuedSRTBuffer[A*9+3]=e,this.matrixContinuedSRTBuffer[A*9+4]=t,this.matrixContinuedSRTBuffer[A*9+5]=i,this.matrixStateBuffer[A*Xe.stateStruct+1]=1)}static setContinueScale(A,e,t,i){(e!=0||t!=0||i!=0)&&(this.matrixContinuedSRTBuffer[A*9+0]=e,this.matrixContinuedSRTBuffer[A*9+1]=t,this.matrixContinuedSRTBuffer[A*9+2]=i,this.matrixStateBuffer[A*Xe.stateStruct+1]=1)}};a(Xe,"matrixBuffer"),a(Xe,"matrixSRTBuffer"),a(Xe,"matrixContinuedSRTBuffer"),a(Xe,"matrixStateBuffer"),a(Xe,"matrixBufferPtr"),a(Xe,"matrixSRTBufferPtr"),a(Xe,"matrixContinuedSRTBufferPtr"),a(Xe,"matrixStateBufferPtr"),a(Xe,"wasm"),a(Xe,"stateStruct",4);let ce=Xe;class _i{}a(_i,"AXIS_ANGLE","axisAngle"),a(_i,"EULER_ANGLES","eulerAngles"),a(_i,"QUATERNION","quaternion");var Oe;let oe=(Oe=class{constructor(A=0,e=0,t=0,i=1){a(this,"x",0);a(this,"y",0);a(this,"z",0);a(this,"w",1);this.x=A,this.y=e,this.z=t,this.w=i}static identity(){return Oe._zero}static quaternionToMatrix(A,e){let t=A.x*2,i=A.y*2,n=A.z*2,s=A.x*t,o=A.y*i,u=A.z*n,l=A.x*i,c=A.x*n,h=A.y*n,d=A.w*t,f=A.w*i,p=A.w*n;e.rawData[0]=1-(o+u),e.rawData[1]=l+p,e.rawData[2]=c-f,e.rawData[3]=0,e.rawData[4]=l-p,e.rawData[5]=1-(s+u),e.rawData[6]=h+d,e.rawData[7]=0,e.rawData[8]=c+f,e.rawData[9]=h-d,e.rawData[10]=1-(s+o),e.rawData[11]=0,e.rawData[12]=0,e.rawData[13]=0,e.rawData[14]=0,e.rawData[15]=1}get magnitude(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)}set(A=0,e=0,t=0,i=1){this.x=A,this.y=e,this.z=t,this.w=i}divide(A){return A instanceof Oe?new Oe(this.x/A.x,this.y/A.y,this.z/A.z):(this.x=this.x/A,this.y=this.y/A,this.z=this.z/A,this)}setFromArray(A){return this.x=A[0],this.y=A[1],this.z=A[2],this.w=A[3],this}multiply(A,e){var t=A.w,i=A.x,n=A.y,s=A.z,o=e.w,u=e.x,l=e.y,c=e.z;this.w=t*o-i*u-n*l-s*c,this.x=t*u+i*o+n*c-s*l,this.y=t*l-i*c+n*o+s*u,this.z=t*c+i*l-n*u+s*o}multiplyVector(A,e=null){e||(e=new Oe);var t=A.x,i=A.y,n=A.z;return e.w=-this.x*t-this.y*i-this.z*n,e.x=this.w*t+this.y*n-this.z*i,e.y=this.w*i-this.x*n+this.z*t,e.z=this.w*n+this.x*i-this.y*t,e}fromAxisAngle(A,e){e*=Math.PI/180;var t=e*.5,i=Math.sin(t);this.w=Math.cos(t),this.x=A.x*i,this.y=A.y*i,this.z=A.z*i,this.normalize()}toAxisAngle(A){var e=this.x*this.x+this.y*this.y+this.z*this.z,t=0;return e>0?(t=2*Math.acos(this.w),e=1/Math.sqrt(e),A.x=this.x*e,A.y=this.y*e,A.z=this.z*e):(t=0,A.x=1,A.y=0,A.z=0),t}slerp(A,e,t){var i=A.w,n=A.x,s=A.y,o=A.z,u=e.w,l=e.x,c=e.y,h=e.z,d=i*u+n*l+s*c+o*h;if(d<0&&(d=-d,u=-u,l=-l,c=-c,h=-h),d<.95){var f=Math.acos(d),p=1/Math.sin(f),y=Math.sin(f*(1-t))*p,_=Math.sin(f*t)*p;this.w=i*y+u*_,this.x=n*y+l*_,this.y=s*y+c*_,this.z=o*y+h*_}else{this.w=i+t*(u-i),this.x=n+t*(l-n),this.y=s+t*(c-s),this.z=o+t*(h-o);var g=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z);this.w*=g,this.x*=g,this.y*=g,this.z*=g}}lerp(A,e,t){var i=A.w,n=A.x,s=A.y,o=A.z,u=e.w,l=e.x,c=e.y,h=e.z,d;i*u+n*l+s*c+o*h<0&&(u=-u,l=-l,c=-c,h=-h),this.w=i+t*(u-i),this.x=n+t*(l-n),this.y=s+t*(c-s),this.z=o+t*(h-o),d=1/Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z),this.w*=d,this.x*=d,this.y*=d,this.z*=d}fromEulerAngles(A,e,t){A*=Ie,e*=Ie,t*=Ie;var i=A*.5,n=e*.5,s=t*.5,o=Math.cos(i),u=Math.sin(i),l=Math.cos(n),c=Math.sin(n),h=Math.cos(s),d=Math.sin(s);return this.w=o*l*h+u*c*d,this.x=u*l*h-o*c*d,this.y=o*c*h+u*l*d,this.z=o*l*d-u*c*h,this}setFromRotationMatrix(A){const e=A.rawData,t=e[0],i=e[4],n=e[8],s=e[1],o=e[5],u=e[9],l=e[2],c=e[6],h=e[10],d=t+o+h;if(d>0){const f=.5/Math.sqrt(d+1);this.w=.25/f,this.x=(c-u)*f,this.y=(n-l)*f,this.z=(s-i)*f}else if(t>o&&t>h){const f=2*Math.sqrt(1+t-o-h);this.w=(c-u)/f,this.x=.25*f,this.y=(i+s)/f,this.z=(n+l)/f}else if(o>h){const f=2*Math.sqrt(1+o-t-h);this.w=(n-l)/f,this.x=(i+s)/f,this.y=.25*f,this.z=(u+c)/f}else{const f=2*Math.sqrt(1+h-t-o);this.w=(s-i)/f,this.x=(n+l)/f,this.y=(u+c)/f,this.z=.25*f}return this}getEulerAngles(A){var e,t,i,n,s,o,u,l;return A||(A=new I),n=this.x,s=this.y,o=this.z,u=this.w,l=2*(u*s-n*o),l<=-.99999?(e=2*Math.atan2(n,u),t=-Math.PI/2,i=0):l>=.99999?(e=2*Math.atan2(n,u),t=Math.PI/2,i=0):(e=Math.atan2(2*(u*n+s*o),1-2*(n*n+s*s)),t=Math.asin(l),i=Math.atan2(2*(u*o+n*s),1-2*(s*s+o*o))),A.set(e,t,i).scaleBy(yu)}normalize(A=1){var e=A/Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);this.x*=e,this.y*=e,this.z*=e,this.w*=e}toString(){return"{x:"+this.x+" y:"+this.y+" z:"+this.z+" w:"+this.w+"}"}fromMatrix(A){var e=A.decompose(_i.QUATERNION)[1];this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w}inverse(A=null){A||(A=new Oe);var e=this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z;if(e>0){var t=1/e;A.w=this.w*t,A.x=-this.x*t,A.y=-this.y*t,A.z=-this.z*t}return A}clone(){return new Oe(this.x,this.y,this.z,this.w)}transformVector(A,e=null){var t,i,n,s,o=A.x,u=A.y,l=A.z;return e||(e=new I),s=-this.x*o-this.y*u-this.z*l,t=this.w*o+this.y*l-this.z*u,i=this.w*u-this.x*l+this.z*o,n=this.w*l+this.x*u-this.y*o,e.x=-s*this.x+t*this.w-i*this.z+n*this.y,e.y=-s*this.y+t*this.z+i*this.w-n*this.x,e.z=-s*this.z-t*this.y+i*this.x+n*this.w,e}copyFrom(A){var e=this;return e.x=A.x,e.y=A.y,e.z=A.z,e.w=A.w,this}mul(A,e,t){let i=t||new Oe;return i.x=A.w*e.x+A.x*e.w+A.y*e.z-A.z*e.y,i.y=A.w*e.y+A.y*e.w+A.z*e.x-A.x*e.z,i.z=A.w*e.z+A.z*e.w+A.x*e.y-A.y*e.x,i.w=A.w*e.w-A.x*e.x-A.y*e.y-A.z*e.z,i}clampf(A,e,t){if(e>t){var i=e;e=t,t=i}return A<e?e:A<t?A:t}static serialize(A){return new Oe(A.x,A.y,A.z,A.w)}},a(Oe,"HELP_0",new Oe(0,0,0,1)),a(Oe,"HELP_1",new Oe(0,0,0,1)),a(Oe,"HELP_2",new Oe(0,0,0,1)),a(Oe,"_zero",new Oe(0,0,0,1)),a(Oe,"CALCULATION_QUATERNION",new Oe),Oe),yu=180/Math.PI,Ie=Math.PI/180;function vt(r,A,e){return Math.max(A,Math.min(e,r))}class Cr{static gaussFunction(A,e,t,i){let n=Math.pow(A-t,2),s=2*Math.pow(i,2),o=-1*(n/s),u=Math.pow(Math.E,o);return Math.round(u*e)}static computeGaussian(A,e){return 1/Math.sqrt(2*Math.PI*e)*Math.exp(-(A*A)/(2*e*e))}static gaussCoef(A){A<.5&&(A=.5);let e=Math.exp(.726*.726)/A,t=Math.exp(-e),i=Math.exp(-2*e),n=(1-t)*(1-t)/(1+2*e*t-i),s=n,o=n*(e-1)*t,u=n*(e+1)*t,l=-n*i,c=2*t,h=-i,d=(s+o)/(1-c-h),f=(u+l)/(1-c-h);return new Float32Array([s,o,u,l,c,h,d,f])}static clampf(A,e,t){if(e>t){let i=e;e=t,t=i}return A<e?e:A<t?A:t}static normalizeAngle(A){for(;A>180;)A-=360;for(;A<-180;)A+=360;return A}static fract(A){return A-Math.floor(A)}static getRandDirXZ(A){let e=A*Math.random(),t=360*Math.random()*Ie,i=Math.cos(t)*e,n=Math.sin(t)*e;return{x:i,z:n}}static getRandDirXYZ(A){let e=A*Math.random(),t=360*Math.random()*Ie,i=Math.cos(t)*e,n=Math.tan(t)*e,s=Math.sin(t)*e;return new I(i,n,s)}static getCycleXYZ(A){let e=A*Math.random(),t=360*Math.random()*Ie,i=Math.cos(t)*e,n=A*Math.random()-A*.5,s=Math.sin(t)*e;return new I(i,n,s)}static angle(A,e){let t=Ge.HELP_0,i=Ge.HELP_1;return t.set(A.x,A.z),i.set(e.x,e.z),Math.acos((t.x*i.x+t.y*i.y)/(t.abs()*i.abs()))}static angle_360(A,e){let t=I.HELP_0;return A.crossProduct(e,t),t.z>0?Cr.angle(A,e):360-Cr.angle(A,e)}getRotationY(A){return Cr.normalizeAngle(Math.atan2(A.z,A.x)*yu)}static fromToRotation(A,e,t=null){t||(t=new oe);let i=NA.help_matrix_2;return NA.fromToRotation(A,e,i),t.fromMatrix(i),t}static getEularDir_yUp(A){let e=oe.HELP_0;return e.fromEulerAngles(0,A,0),e.transformVector(I.Z_AXIS,I.HELP_5),I.HELP_5}static transformVector(A,e,t=null){t||(t=new I);let i=A.rawData,n=i[0],s=i[1],o=i[2],u=i[3],l=i[4],c=i[5],h=i[6],d=i[7],f=i[8],p=i[9],y=i[10],_=i[11],g=i[12],m=i[13],E=i[14],w=i[15],L=e.x,T=e.y,R=e.z;return t.x=n*L+l*T+f*R+g,t.y=s*L+c*T+p*R+m,t.z=o*L+h*T+y*R+E,t.w=u*L+d*T+_*R+w,t}}let pg=function(r,A,e){let t=e-A;return Math.floor(r/t)%2==0?r%t+A:e-r%t+A},gg=function(r,A,e){let t=e-A;return r%t+A};function Wd(r,A){return r instanceof I&&A instanceof I||r instanceof oe&&A instanceof oe?r.x*A.x+r.y*A.y+r.z*A.z:r.x*A.x+r.y*A.y}function c4(r){return Wd(r,r)}function h4(r,A){return r-Math.floor(r/A)*A}const hA=class hA{constructor(A=!1){a(this,"index",0);a(this,"offset",0);a(this,"rawData");a(this,"_position");if(hA.useCount>=hA.allocCount){let e=hA.allocCount+hA.allocOnceCount;ce.allocMatrix(e)}this.index=hA.useCount,this.offset=hA.wasmMatrixPtr+this.index*hA.blockBytes,hA.dynamicGlobalMatrixRef[this.index]=this,hA.useCount++,this.rawData=new Float32Array(hA.dynamicMatrixBytes.buffer,this.offset,16),this._position=new I,this.identity()}static allocMatrix(A){this.allocCount=A,hA.dynamicMatrixBytes=ce.matrixBuffer,hA.buffer=hA.dynamicMatrixBytes.buffer,hA.wasmMatrixPtr=ce.matrixBufferPtr,this.dynamicGlobalMatrixRef||(this.dynamicGlobalMatrixRef=[]),this.dynamicGlobalMatrixRef.forEach(e=>{e.offset=hA.wasmMatrixPtr+e.index*hA.blockBytes,e.rawData=new Float32Array(hA.dynamicMatrixBytes.buffer,e.offset,16)}),hA.help_matrix_0||(hA.help_matrix_0=new hA),hA.help_matrix_1||(hA.help_matrix_1=new hA),hA.help_matrix_2||(hA.help_matrix_2=new hA),hA.helpMatrix||(hA.helpMatrix=new hA),hA.helpMatrix2||(hA.helpMatrix2=new hA),hA._getEulerMatrix||(hA._getEulerMatrix=new hA),hA._getEulerMatrix.identity()}static fromToRotation(A,e,t){return t||(t=new hA),t.transformDir(A,e),t}static getAxisRotation(A,e,t,i){let n=new hA,s=i*(Math.PI/180),o=Math.cos(s),u=Math.sin(s),l=1-o,c,h;return n.rawData[0]=o+A*A*l,n.rawData[5]=o+e*e*l,n.rawData[10]=o+t*t*l,c=A*e*l,h=t*u,n.rawData[1]=c+h,n.rawData[4]=c-h,c=A*t*l,h=e*u,n.rawData[8]=c+h,n.rawData[2]=c-h,c=e*t*l,h=A*u,n.rawData[9]=c-h,n.rawData[6]=c+h,n}static sanitizeEuler(A){hA.makePositive(A)}static makePositive(A){let e=-1e-4,t=Math.PI*2-1e-4;A.x<e?A.x+=2*Math.PI:A.x>t&&(A.x-=2*Math.PI),A.y<e?A.y+=2*Math.PI:A.y>t&&(A.y-=2*Math.PI),A.z<e?A.z+=2*Math.PI:A.z>t&&(A.z-=2*Math.PI)}static matrixToEuler(A,e){return A.get(1,2)<.999?A.get(1,2)>-.999?(e.x=Math.asin(-A.get(1,2)),e.y=Math.atan2(A.get(0,2),A.get(2,2)),e.z=Math.atan2(A.get(1,0),A.get(1,1)),hA.sanitizeEuler(e),!0):(e.x=Math.PI*.5,e.y=Math.atan2(A.get(0,1),A.get(0,0)),e.z=0,hA.sanitizeEuler(e),!1):(e.x=-Math.PI*.5,e.y=Math.atan2(-A.get(0,1),A.get(0,0)),e.z=0,hA.sanitizeEuler(e),!1)}static matrixMultiply(A,e,t){hA.wasm.Matrix_Multiply(A.index,e.index,t.index)}static matrixAppend(A,e,t){hA.wasm.Matrix_Append(A.index,e.index,t.index)}static matrixRotateY(A,e){hA.wasm.Matrix_Append(A,e.index)}static matrixRotate(A,e,t){hA.wasm.Matrix_Rotate(A,e,t.index)}lookAt(A,e,t=I.Y_AXIS){let i=this.rawData,n=e.subtract(A,I.HELP_0);n.length<1e-4&&(n.z=1),n.normalize();let s=t.crossProduct(n,I.HELP_1);s.length<1e-4&&(Math.abs(t.z)>.9999?n.x+=1e-4:n.z+=1e-4,n.normalize()),s=t.crossProduct(n,s).normalize();let o=n.crossProduct(s,I.HELP_2).normalize();i[0]=s.x,i[1]=o.x,i[2]=n.x,i[3]=0,i[4]=s.y,i[5]=o.y,i[6]=n.y,i[7]=0,i[8]=s.z,i[9]=o.z,i[10]=n.z,i[11]=0,i[12]=-s.dotProduct(A),i[13]=-o.dotProduct(A),i[14]=-n.dotProduct(A),i[15]=1}multiply(A){let e=this.rawData,t=A.rawData,i=hA.float32Array;i[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],i[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],i[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],i[3]=e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15],i[4]=e[4]*t[0]+e[5]*t[4]+e[6]*t[8]+e[7]*t[12],i[5]=e[4]*t[1]+e[5]*t[5]+e[6]*t[9]+e[7]*t[13],i[6]=e[4]*t[2]+e[5]*t[6]+e[6]*t[10]+e[7]*t[14],i[7]=e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7]*t[15],i[8]=e[8]*t[0]+e[9]*t[4]+e[10]*t[8]+e[11]*t[12],i[9]=e[8]*t[1]+e[9]*t[5]+e[10]*t[9]+e[11]*t[13],i[10]=e[8]*t[2]+e[9]*t[6]+e[10]*t[10]+e[11]*t[14],i[11]=e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]*t[15],i[12]=e[12]*t[0]+e[13]*t[4]+e[14]*t[8]+e[15]*t[12],i[13]=e[12]*t[1]+e[13]*t[5]+e[14]*t[9]+e[15]*t[13],i[14]=e[12]*t[2]+e[13]*t[6]+e[14]*t[10]+e[15]*t[14],i[15]=e[12]*t[3]+e[13]*t[7]+e[14]*t[11]+e[15]*t[15],e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15]}multiplyMatrices(A,e){const t=A.rawData,i=e.rawData,n=this.rawData,s=t[0],o=t[4],u=t[8],l=t[12],c=t[1],h=t[5],d=t[9],f=t[13],p=t[2],y=t[6],_=t[10],g=t[14],m=t[3],E=t[7],w=t[11],L=t[15],T=i[0],R=i[4],P=i[8],F=i[12],H=i[1],M=i[5],b=i[9],v=i[13],C=i[2],x=i[6],S=i[10],B=i[14],D=i[3],Q=i[7],Z=i[11],AA=i[15];return n[0]=s*T+o*H+u*C+l*D,n[4]=s*R+o*M+u*x+l*Q,n[8]=s*P+o*b+u*S+l*Z,n[12]=s*F+o*v+u*B+l*AA,n[1]=c*T+h*H+d*C+f*D,n[5]=c*R+h*M+d*x+f*Q,n[9]=c*P+h*b+d*S+f*Z,n[13]=c*F+h*v+d*B+f*AA,n[2]=p*T+y*H+_*C+g*D,n[6]=p*R+y*M+_*x+g*Q,n[10]=p*P+y*b+_*S+g*Z,n[14]=p*F+y*v+_*B+g*AA,n[3]=m*T+E*H+w*C+L*D,n[7]=m*R+E*M+w*x+L*Q,n[11]=m*P+E*b+w*S+L*Z,n[15]=m*F+E*v+w*B+L*AA,this}multiplyPoint3(A,e){e||(e=new I);let t=this.rawData;return e.x=t[0]*A.x+t[4]*A.y+t[8]*A.z+t[12],e.y=t[1]*A.x+t[5]*A.y+t[9]*A.z+t[13],e.z=t[2]*A.x+t[6]*A.y+t[10]*A.z+t[14],e}multiplyVector4(A,e){e||(e=new I);let t=this.rawData,i=A.x,n=A.y,s=A.z,o=t[3]*i+t[7]*n+t[11]*s+t[15];return o=o||1,e.x=(t[0]*i+t[4]*n+t[8]*s+t[12])/o,e.y=(t[1]*i+t[5]*n+t[9]*s+t[13])/o,e.z=(t[2]*i+t[6]*n+t[10]*s+t[14])/o,e.w=1,e}transformVector4(A,e){let t=this.rawData;e||(e=new I);let i=A.x,n=A.y,s=A.z,o=A.w;return e.x=i*t[0]+n*t[4]+s*t[8]+o*t[12],e.y=i*t[1]+n*t[5]+s*t[9]+o*t[13],e.z=i*t[2]+n*t[6]+s*t[10]+o*t[14],e.w=i*t[3]+n*t[7]+s*t[11]+o*t[15],e}perspectiveMultiplyPoint3(A,e){let t=I.HELP_2,i,n=this.rawData;if(t.x=n[0]*A.x+n[4]*A.y+n[8]*A.z+n[12],t.y=n[1]*A.x+n[5]*A.y+n[9]*A.z+n[13],t.z=n[2]*A.x+n[6]*A.y+n[10]*A.z+n[14],i=n[3]*A.x+n[7]*A.y+n[11]*A.z+n[15],Math.abs(i)>1e-7){let s=1/i;return e.x=t.x*s,e.y=t.y*s,e.z=t.z*s,!0}else return e.x=0,e.y=0,e.z=0,!1}perspective(A,e,t,i){let n=this.rawData,s=A*Ie/2,o=Math.cos(s)/Math.sin(s);n[0]=-o/e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=i/(i-t),n[11]=1,n[12]=0,n[13]=0,n[14]=-t*i/(i-t),n[15]=0}perspective3(A,e,t,i){var n=Math.tan(A*Math.PI/360)*t,s=n*e;this.frustum(-s,s,-n,n,t,i)}frustum(A,e,t,i,n,s){var o=this.rawData;o[0]=-2*n/(e-A),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*n/(i-t),o[6]=0,o[7]=0,o[8]=(e+A)/(e-A),o[9]=(i+t)/(i-t),o[10]=s/(s-n),o[11]=1,o[12]=0,o[13]=0,o[14]=-s*n/(s-n),o[15]=0}ortho(A,e,t,i){let n=this.rawData;return n[0]=2/A,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2/e,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1/(i-t),n[11]=0,n[12]=0,n[13]=0,n[14]=t/(t-i),n[15]=1,this}orthoZO(A,e,t,i,n,s){let o=this.rawData,u=1/(A-e),l=1/(t-i),c=1/(n-s);return o[0]=-2*u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*l,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=c,o[11]=0,o[12]=(A+e)*u,o[13]=(i+t)*l,o[14]=n*c,o[15]=1,this}orthoOffCenter(A,e,t,i,n,s){let o=this.rawData;o[0]=2/(e-A),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(i-t),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1/(s-n),o[11]=0,o[12]=(A+e)/(A-e),o[13]=(i+t)/(t-i),o[14]=n/(n-s),o[15]=1}transformDir(A,e){let t=this.rawData,i=1e-6,n=I.ZERO;e.crossProduct(A,n);let s=e.dotProduct(A);if(s>1-i)this.identity();else{let o,u,l,c,h,d=n.dotProduct(n),f=(1-s)/d;o=f*n.x,u=f*n.z,l=o*n.y,c=o*n.z,h=u*n.y,t[0]=s+o*n.x,t[1]=l-n.z,t[2]=c+n.y,t[4]=l+n.z,t[5]=s+f*n.y*n.y,t[6]=h-n.x,t[8]=c-n.y,t[9]=h+n.x,t[10]=s+u*n.z,t[3]=0,t[7]=0,t[11]=0,t[15]=1}}append(A){let e=this.rawData,t=e[0],i=e[4],n=e[8],s=e[12],o=e[1],u=e[5],l=e[9],c=e[13],h=e[2],d=e[6],f=e[10],p=e[14],y=e[3],_=e[7],g=e[11],m=e[15];e[0]=t*A.rawData[0]+o*A.rawData[4]+h*A.rawData[8]+y*A.rawData[12],e[1]=t*A.rawData[1]+o*A.rawData[5]+h*A.rawData[9]+y*A.rawData[13],e[2]=t*A.rawData[2]+o*A.rawData[6]+h*A.rawData[10]+y*A.rawData[14],e[3]=t*A.rawData[3]+o*A.rawData[7]+h*A.rawData[11]+y*A.rawData[15],e[4]=i*A.rawData[0]+u*A.rawData[4]+d*A.rawData[8]+_*A.rawData[12],e[5]=i*A.rawData[1]+u*A.rawData[5]+d*A.rawData[9]+_*A.rawData[13],e[6]=i*A.rawData[2]+u*A.rawData[6]+d*A.rawData[10]+_*A.rawData[14],e[7]=i*A.rawData[3]+u*A.rawData[7]+d*A.rawData[11]+_*A.rawData[15],e[8]=n*A.rawData[0]+l*A.rawData[4]+f*A.rawData[8]+g*A.rawData[12],e[9]=n*A.rawData[1]+l*A.rawData[5]+f*A.rawData[9]+g*A.rawData[13],e[10]=n*A.rawData[2]+l*A.rawData[6]+f*A.rawData[10]+g*A.rawData[14],e[11]=n*A.rawData[3]+l*A.rawData[7]+f*A.rawData[11]+g*A.rawData[15],e[12]=s*A.rawData[0]+c*A.rawData[4]+p*A.rawData[8]+m*A.rawData[12],e[13]=s*A.rawData[1]+c*A.rawData[5]+p*A.rawData[9]+m*A.rawData[13],e[14]=s*A.rawData[2]+c*A.rawData[6]+p*A.rawData[10]+m*A.rawData[14],e[15]=s*A.rawData[3]+c*A.rawData[7]+p*A.rawData[11]+m*A.rawData[15]}add(A){let e=this.rawData,t=e[0],i=e[4],n=e[8],s=e[12],o=e[1],u=e[5],l=e[9],c=e[13],h=e[2],d=e[6],f=e[10],p=e[14],y=e[3],_=e[7],g=e[11],m=e[15],E=A.rawData[0],w=A.rawData[4],L=A.rawData[8],T=A.rawData[12],R=A.rawData[1],P=A.rawData[5],F=A.rawData[9],H=A.rawData[13],M=A.rawData[2],b=A.rawData[6],v=A.rawData[10],C=A.rawData[14],x=A.rawData[3],S=A.rawData[7],B=A.rawData[11],D=A.rawData[15];return e[0]=t+E,e[1]=o+R,e[2]=h+M,e[3]=y+x,e[4]=i+w,e[5]=u+P,e[6]=d+b,e[7]=_+S,e[8]=n+L,e[9]=l+F,e[10]=f+v,e[11]=g+B,e[12]=s+T,e[13]=c+H,e[14]=p+C,e[15]=m+D,this}sub(A){let e=this.rawData,t=e[0],i=e[4],n=e[8],s=e[12],o=e[1],u=e[5],l=e[9],c=e[13],h=e[2],d=e[6],f=e[10],p=e[14],y=e[3],_=e[7],g=e[11],m=e[15],E=A.rawData[0],w=A.rawData[4],L=A.rawData[8],T=A.rawData[12],R=A.rawData[1],P=A.rawData[5],F=A.rawData[9],H=A.rawData[13],M=A.rawData[2],b=A.rawData[6],v=A.rawData[10],C=A.rawData[14],x=A.rawData[3],S=A.rawData[7],B=A.rawData[11],D=A.rawData[15];return e[0]=t-E,e[1]=o-R,e[2]=h-M,e[3]=y-x,e[4]=i-w,e[5]=u-P,e[6]=d-b,e[7]=_-S,e[8]=n-L,e[9]=l-F,e[10]=f-v,e[11]=g-B,e[12]=s-T,e[13]=c-H,e[14]=p-C,e[15]=m-D,this}mult(A){let e=this.rawData;return e[0]*=A,e[1]*=A,e[2]*=A,e[3]*=A,e[4]*=A,e[5]*=A,e[6]*=A,e[7]*=A,e[8]*=A,e[9]*=A,e[10]*=A,e[11]*=A,e[12]*=A,e[13]*=A,e[14]*=A,e[15]*=A,this}appendRotation(A,e){let t=hA.getAxisRotation(e.x,e.y,e.z,A);this.append(t)}createByRotation(A,e){let t=hA.helpMatrix,i,n,s=A*Ie;return i=Math.sin(s),n=Math.cos(s),e.x==1&&(t.rawData[0]=1,t.rawData[1]=0,t.rawData[2]=0,t.rawData[3]=0,t.rawData[4]=0,t.rawData[5]=n,t.rawData[6]=i,t.rawData[7]=0,t.rawData[8]=0,t.rawData[9]=-i,t.rawData[10]=n,t.rawData[11]=0,t.rawData[12]=0,t.rawData[13]=0,t.rawData[14]=0,t.rawData[15]=1),e.y==1&&(t.rawData[0]=n,t.rawData[1]=0,t.rawData[2]=-i,t.rawData[3]=0,t.rawData[4]=0,t.rawData[5]=1,t.rawData[6]=0,t.rawData[7]=0,t.rawData[8]=i,t.rawData[9]=0,t.rawData[10]=n,t.rawData[11]=0,t.rawData[12]=0,t.rawData[13]=0,t.rawData[14]=0,t.rawData[15]=1),e.z==1&&(t.rawData[0]=n,t.rawData[1]=i,t.rawData[2]=0,t.rawData[3]=0,t.rawData[4]=-i,t.rawData[5]=n,t.rawData[6]=0,t.rawData[7]=0,t.rawData[8]=0,t.rawData[9]=0,t.rawData[10]=1,t.rawData[11]=0,t.rawData[12]=0,t.rawData[13]=0,t.rawData[14]=0,t.rawData[15]=1),this.append(t),this}appendScale(A,e,t){hA.helpMatrix.createByScale(A,e,t),this.append(hA.helpMatrix)}createByScale(A,e,t){let i=this.rawData;i[0]=A,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=e,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=t,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1}appendTranslation(A,e,t){let i=this.rawData;i[12]+=A,i[13]+=e,i[14]+=t}clone(){let A=new hA;return A.copyFrom(this),A}copyRowFrom(A,e){let t=this.rawData;switch(A){case 0:t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w;break;case 1:t[4]=e.x,t[5]=e.y,t[6]=e.z,t[7]=e.w;break;case 2:t[8]=e.x,t[9]=e.y,t[10]=e.z,t[11]=e.w;break;case 3:t[12]=e.x,t[13]=e.y,t[14]=e.z,t[15]=e.w;break}}copyRowTo(A,e){let t=this.rawData;switch(A){case 0:e.x=t[0],e.y=t[1],e.z=t[2],e.w=t[3];break;case 1:e.x=t[4],e.y=t[5],e.z=t[6],e.w=t[7];break;case 2:e.x=t[8],e.y=t[9],e.z=t[10],e.w=t[11];break;case 3:e.x=t[12],e.y=t[13],e.z=t[14],e.w=t[15];break}}copyFrom(A){let e=this.rawData;return e[0]=A.rawData[0],e[1]=A.rawData[1],e[2]=A.rawData[2],e[3]=A.rawData[3],e[4]=A.rawData[4],e[5]=A.rawData[5],e[6]=A.rawData[6],e[7]=A.rawData[7],e[8]=A.rawData[8],e[9]=A.rawData[9],e[10]=A.rawData[10],e[11]=A.rawData[11],e[12]=A.rawData[12],e[13]=A.rawData[13],e[14]=A.rawData[14],e[15]=A.rawData[15],this}copyRawDataTo(A,e=0,t=!1){let i=this.rawData;A[0+e]=i[0],A[1+e]=i[1],A[2+e]=i[2],A[3+e]=i[3],A[4+e]=i[4],A[5+e]=i[5],A[6+e]=i[6],A[7+e]=i[7],A[8+e]=i[8],A[9+e]=i[9],A[10+e]=i[10],A[11+e]=i[11],A[12+e]=i[12],A[13+e]=i[13],A[14+e]=i[14],A[15+e]=i[15]}copyColFrom(A,e){let t=this.rawData;switch(A){case 0:t[0]=e.x,t[4]=e.y,t[8]=e.z,t[12]=e.w;break;case 1:t[1]=e.x,t[5]=e.y,t[9]=e.z,t[13]=e.w;break;case 2:t[2]=e.x,t[6]=e.y,t[10]=e.z,t[14]=e.w;break;case 3:t[3]=e.x,t[7]=e.y,t[11]=e.z,t[15]=e.w;break}}copyColTo(A,e){let t=this.rawData;switch(A){case 0:e.x=t[0],e.y=t[4],e.z=t[8],e.w=t[12];break;case 1:e.x=t[1],e.y=t[5],e.z=t[9],e.w=t[13];break;case 2:e.x=t[2],e.y=t[6],e.z=t[10],e.w=t[14];break;case 3:e.x=t[3],e.y=t[7],e.z=t[11],e.w=t[15];break}}copyToMatrix3D(A){A.rawData=this.rawData.slice(0)}makeRotationFromQuaternion(A){return this.compose(hA._zero,A,hA._one),this}decompose(A="eulerAngles",e){let t=oe.CALCULATION_QUATERNION,i=e||hA._prs;this.copyRawDataTo(hA.decomposeRawData);let n=hA.decomposeRawData,s=i[0];s.x=n[12],s.y=n[13],s.z=n[14],n[12]=0,n[13]=0,n[14]=0;let o=i[2];o.x=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]),o.y=Math.sqrt(n[4]*n[4]+n[5]*n[5]+n[6]*n[6]),o.z=Math.sqrt(n[8]*n[8]+n[9]*n[9]+n[10]*n[10]),n[0]*(n[5]*n[10]-n[6]*n[9])-n[1]*(n[4]*n[10]-n[6]*n[8])+n[2]*(n[4]*n[9]-n[5]*n[8])<0&&(o.z=-o.z),n[0]/=o.x,n[1]/=o.x,n[2]/=o.x,n[4]/=o.y,n[5]/=o.y,n[6]/=o.y,n[8]/=o.z,n[9]/=o.z,n[10]/=o.z;let u=i[1],l;switch(A){case _i.AXIS_ANGLE:u.w=Math.acos((n[0]+n[5]+n[10]-1)/2);let c=Math.sqrt((n[6]-n[9])*(n[6]-n[9])+(n[8]-n[2])*(n[8]-n[2])+(n[1]-n[4])*(n[1]-n[4]));u.x=(n[6]-n[9])/c,u.y=(n[8]-n[2])/c,u.z=(n[1]-n[4])/c;break;case _i.QUATERNION:l=n[0]+n[5]+n[10],l>0?(u.w=Math.sqrt(1+l)/2,u.x=(n[6]-n[9])/(4*u.w),u.y=(n[8]-n[2])/(4*u.w),u.z=(n[1]-n[4])/(4*u.w)):n[0]>n[5]&&n[0]>n[10]?(u.x=Math.sqrt(1+n[0]-n[5]-n[10])/2,u.w=(n[6]-n[9])/(4*u.x),u.y=(n[1]+n[4])/(4*u.x),u.z=(n[8]+n[2])/(4*u.x)):n[5]>n[10]?(u.y=Math.sqrt(1+n[5]-n[0]-n[10])/2,u.x=(n[1]+n[4])/(4*u.y),u.w=(n[8]-n[2])/(4*u.y),u.z=(n[6]+n[9])/(4*u.y)):(u.z=Math.sqrt(1+n[10]-n[0]-n[5])/2,u.x=(n[8]+n[2])/(4*u.z),u.y=(n[6]+n[9])/(4*u.z),u.w=(n[1]-n[4])/(4*u.z));break;case _i.EULER_ANGLES:l=n[0]+n[5]+n[10],l>0?(t.w=Math.sqrt(1+l)/2,t.x=(n[6]-n[9])/(4*t.w),t.y=(n[8]-n[2])/(4*t.w),t.z=(n[1]-n[4])/(4*t.w)):n[0]>n[5]&&n[0]>n[10]?(t.x=Math.sqrt(1+n[0]-n[5]-n[10])/2,t.w=(n[6]-n[9])/(4*t.x),t.y=(n[1]+n[4])/(4*t.x),t.z=(n[8]+n[2])/(4*t.x)):n[5]>n[10]?(u.y=Math.sqrt(1+n[5]-n[0]-n[10])/2,t.x=(n[1]+n[4])/(4*t.y),t.w=(n[8]-n[2])/(4*t.y),t.z=(n[6]+n[9])/(4*t.y)):(t.z=Math.sqrt(1+n[10]-n[0]-n[5])/2,t.x=(n[8]+n[2])/(4*t.z),t.y=(n[6]+n[9])/(4*t.z),t.w=(n[1]-n[4])/(4*t.z)),t.getEulerAngles(u);break}return i[0]=s,i[1]=u,i[2]=o,i}static getEuler(A,e,t=!0,i){return A||(A=new I),hA._getEulerMatrix.makeRotationFromQuaternion(e).makeEuler(A,t,i),A}compose(A,e,t){const i=this.rawData,n=e.x,s=e.y,o=e.z,u=e.w,l=n+n,c=s+s,h=o+o,d=n*l,f=n*c,p=n*h,y=s*c,_=s*h,g=o*h,m=u*l,E=u*c,w=u*h,L=t.x,T=t.y,R=t.z;return i[0]=(1-(y+g))*L,i[1]=(f+w)*L,i[2]=(p-E)*L,i[3]=0,i[4]=(f-w)*T,i[5]=(1-(d+g))*T,i[6]=(_+m)*T,i[7]=0,i[8]=(p+E)*R,i[9]=(_-m)*R,i[10]=(1-(d+y))*R,i[11]=0,i[12]=A.x,i[13]=A.y,i[14]=A.z,i[15]=1,this}deltaTransformVector(A,e){e||(e=new I);let t=this.rawData,i=A.x,n=A.y,s=A.z;return e.x=i*t[0]+n*t[4]+s*t[8],e.y=i*t[1]+n*t[5]+s*t[9],e.z=i*t[2]+n*t[6]+s*t[10],e.w=i*t[3]+n*t[7]+s*t[11],e}identity(){let A=this.rawData;return A[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,this}fill(A){let e=this.rawData;e[1]=A,e[2]=A,e[3]=A,e[4]=A,e[6]=A,e[7]=A,e[8]=A,e[9]=A,e[11]=A,e[12]=A,e[13]=A,e[14]=A,e[0]=A,e[5]=A,e[10]=A,e[15]=A}invers33(){let A=this.rawData,e=A[5]*A[10]-A[9]*A[6],t=A[8]*A[6]-A[4]*A[10],i=A[4]*A[9]-A[8]*A[5],n=A[9]*A[2]-A[1]*A[10],s=A[0]*A[10]-A[8]*A[2],o=A[8]*A[1]-A[0]*A[9],u=A[1]*A[6]-A[5]*A[2],l=A[4]*A[2]-A[0]*A[6],c=A[0]*A[5]-A[4]*A[1],h=A[0]*e+A[4]*n+A[8]*u;if(Math.abs(h)>1e-11){let d=1/h;A[0]=d*e,A[4]=d*t,A[8]=d*i,A[1]=d*n,A[5]=d*s,A[9]=d*o,A[2]=d*u,A[6]=d*l,A[10]=d*c}}invert(){let A=this.determinant,e=Math.abs(A)>1e-11,t=this.rawData;if(e){A=1/A;let i=t[0],n=t[4],s=t[8],o=t[12],u=t[1],l=t[5],c=t[9],h=t[13],d=t[2],f=t[6],p=t[10],y=t[14],_=t[3],g=t[7],m=t[11],E=t[15];t[0]=A*(l*(p*E-y*m)-c*(f*E-y*g)+h*(f*m-p*g)),t[1]=-A*(u*(p*E-y*m)-c*(d*E-y*_)+h*(d*m-p*_)),t[2]=A*(u*(f*E-y*g)-l*(d*E-y*_)+h*(d*g-f*_)),t[3]=-A*(u*(f*m-p*g)-l*(d*m-p*_)+c*(d*g-f*_)),t[4]=-A*(n*(p*E-y*m)-s*(f*E-y*g)+o*(f*m-p*g)),t[5]=A*(i*(p*E-y*m)-s*(d*E-y*_)+o*(d*m-p*_)),t[6]=-A*(i*(f*E-y*g)-n*(d*E-y*_)+o*(d*g-f*_)),t[7]=A*(i*(f*m-p*g)-n*(d*m-p*_)+s*(d*g-f*_)),t[8]=A*(n*(c*E-h*m)-s*(l*E-h*g)+o*(l*m-c*g)),t[9]=-A*(i*(c*E-h*m)-s*(u*E-h*_)+o*(u*m-c*_)),t[10]=A*(i*(l*E-h*g)-n*(u*E-h*_)+o*(u*g-l*_)),t[11]=-A*(i*(l*m-c*g)-n*(u*m-c*_)+s*(u*g-l*_)),t[12]=-A*(n*(c*y-h*p)-s*(l*y-h*f)+o*(l*p-c*f)),t[13]=A*(i*(c*y-h*p)-s*(u*y-h*d)+o*(u*p-c*d)),t[14]=-A*(i*(l*y-h*f)-n*(u*y-h*d)+o*(u*f-l*d)),t[15]=A*(i*(l*p-c*f)-n*(u*p-c*d)+s*(u*f-l*d))}return e}transformPoint(A,e){let t=this.rawData;e||(e=new I);let i=A.x,n=A.y,s=A.z;return e.x=i*t[0]+n*t[4]+s*t[8]+t[12],e.y=i*t[1]+n*t[5]+s*t[9]+t[13],e.z=i*t[2]+n*t[6]+s*t[10]+t[14],e}transformVector(A,e){let t=this.rawData;e||(e=new I);let i=A.x,n=A.y,s=A.z;return e.x=i*t[0]+n*t[4]+s*t[8],e.y=i*t[1]+n*t[5]+s*t[9],e.z=i*t[2]+n*t[6]+s*t[10],e}transpose(){let A=this.rawData;for(let e=0;e<hA.helpMatrix.rawData.length;e++)hA.helpMatrix.rawData[e]=A[e];A[1]=hA.helpMatrix.rawData[4],A[2]=hA.helpMatrix.rawData[8],A[3]=hA.helpMatrix.rawData[12],A[4]=hA.helpMatrix.rawData[1],A[6]=hA.helpMatrix.rawData[9],A[7]=hA.helpMatrix.rawData[13],A[8]=hA.helpMatrix.rawData[2],A[9]=hA.helpMatrix.rawData[6],A[11]=hA.helpMatrix.rawData[14],A[12]=hA.helpMatrix.rawData[3],A[13]=hA.helpMatrix.rawData[7],A[14]=hA.helpMatrix.rawData[11]}get determinant(){let A=this.rawData;return(A[0]*A[5]-A[4]*A[1])*(A[10]*A[15]-A[14]*A[11])-(A[0]*A[9]-A[8]*A[1])*(A[6]*A[15]-A[14]*A[7])+(A[0]*A[13]-A[12]*A[1])*(A[6]*A[11]-A[10]*A[7])+(A[4]*A[9]-A[8]*A[5])*(A[2]*A[15]-A[14]*A[3])-(A[4]*A[13]-A[12]*A[5])*(A[2]*A[11]-A[10]*A[3])+(A[8]*A[13]-A[12]*A[9])*(A[2]*A[7]-A[6]*A[3])}getPosition(A){A||(A=new I);let e=this.rawData;return A.x=e[12],A.y=e[13],A.z=e[14],A}get position(){return this._position.set(this.rawData[12],this.rawData[13],this.rawData[14]),this._position}set position(A){let e=this.rawData;e[12]=A.x,e[13]=A.y,e[14]=A.z}get scale(){let A=this.rawData;return new I(A[0],A[5],A[10])}set scale(A){let e=this.rawData;e[0]=A.x,e[5]=A.y,e[10]=A.z}toString(){let A=this.rawData;return"matrix3d("+Math.round(A[0]*1e3)/1e3+","+Math.round(A[1]*1e3)/1e3+","+Math.round(A[2]*1e3)/1e3+","+Math.round(A[3]*1e3)/1e3+","+Math.round(A[4]*1e3)/1e3+","+Math.round(A[5]*1e3)/1e3+","+Math.round(A[6]*1e3)/1e3+","+Math.round(A[7]*1e3)/1e3+","+Math.round(A[8]*1e3)/1e3+","+Math.round(A[9]*1e3)/1e3+","+Math.round(A[10]*1e3)/1e3+","+Math.round(A[11]*1e3)/1e3+","+Math.round(A[12]*1e3)/1e3+","+Math.round(A[13]*1e3)/1e3+","+Math.round(A[14]*1e3)/1e3+","+Math.round(A[15]*1e3)/1e3+")"}lerp(A,e,t){this.copyFrom(e).sub(A).mult(t).add(A)}get(A,e){return this.rawData[A+e*4]}set(A,e,t){this.rawData[A+e*4]=t}getMaxScaleOnAxis(){let A=this.rawData,e=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],t=A[4]*A[4]+A[5]*A[5]+A[6]*A[6],i=A[8]*A[8]+A[9]*A[9]+A[10]*A[10];return Math.sqrt(Math.max(e,t,i))}translate(A){let e=this.get(0,0)*A.x+this.get(0,1)*A.y+this.get(0,2)*A.z+this.get(0,3),t=this.get(1,0)*A.x+this.get(1,1)*A.y+this.get(1,2)*A.z+this.get(1,3),i=this.get(2,0)*A.x+this.get(2,1)*A.y+this.get(2,2)*A.z+this.get(2,3),n=this.get(3,0)*A.x+this.get(3,1)*A.y+this.get(3,2)*A.z+this.get(3,3);return this.set(0,3,e),this.set(1,3,t),this.set(2,3,i),this.set(3,3,n),this}setTRInverse(A,e){e=e.inverse(),oe.quaternionToMatrix(e,this),this.translate(new I(-A.x,-A.y,-A.z))}setScale(A){return this.set(0,0,A.x),this.set(0,1,0),this.set(0,2,0),this.set(0,3,0),this.set(1,0,0),this.set(1,1,A.y),this.set(1,2,0),this.set(1,3,0),this.set(2,0,0),this.set(2,1,0),this.set(2,2,A.z),this.set(2,3,0),this.set(3,0,0),this.set(3,1,0),this.set(3,2,0),this.set(3,3,1),this}makeBasis(A,e,t){return this.setElements(A.x,e.x,t.x,0,A.y,e.y,t.y,0,A.z,e.z,t.z,0,0,0,0,1),this}makeRotationAxis(A,e){const t=Math.cos(e),i=Math.sin(e),n=1-t,s=A.x,o=A.y,u=A.z,l=n*s,c=n*o;return this.setElements(l*s+t,l*o-i*u,l*u+i*o,0,l*o+i*u,c*o+t,c*u-i*s,0,l*u-i*o,c*u+i*s,n*u*u+t,0,0,0,0,1),this}static transpose(A,e){e||(e=new hA);let t=A.rawData,i=e.rawData;return i[0]=t[0],i[1]=t[4],i[2]=t[8],i[3]=t[12],i[4]=t[1],i[5]=t[5],i[6]=t[9],i[7]=t[13],i[8]=t[2],i[9]=t[6],i[10]=t[10],i[11]=t[14],i[12]=t[3],i[13]=t[7],i[14]=t[11],i[15]=t[15],e}static inverse(A,e){e||(e=new hA);let t=A.rawData,i=e.rawData;i[0]=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],i[1]=-t[1]*t[10]*t[15]+t[1]*t[14]*t[11]+t[2]*t[9]*t[15]-t[2]*t[13]*t[11]-t[3]*t[9]*t[14]+t[3]*t[13]*t[10],i[2]=t[1]*t[6]*t[15]-t[1]*t[14]*t[7]-t[2]*t[5]*t[15]+t[2]*t[13]*t[7]+t[3]*t[5]*t[14]-t[3]*t[13]*t[6],i[3]=-t[1]*t[6]*t[11]+t[1]*t[10]*t[7]+t[2]*t[5]*t[11]-t[2]*t[9]*t[7]-t[3]*t[5]*t[10]+t[3]*t[9]*t[6],i[4]=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],i[5]=t[0]*t[10]*t[15]-t[0]*t[14]*t[11]-t[2]*t[8]*t[15]+t[2]*t[12]*t[11]+t[3]*t[8]*t[14]-t[3]*t[12]*t[10],i[6]=-t[0]*t[6]*t[15]+t[0]*t[14]*t[7]+t[2]*t[4]*t[15]-t[2]*t[12]*t[7]-t[3]*t[4]*t[14]+t[3]*t[12]*t[6],i[7]=t[0]*t[6]*t[11]-t[0]*t[10]*t[7]-t[2]*t[4]*t[11]+t[2]*t[8]*t[7]+t[3]*t[4]*t[10]-t[3]*t[8]*t[6],i[8]=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],i[9]=-t[0]*t[9]*t[15]+t[0]*t[13]*t[11]+t[1]*t[8]*t[15]-t[1]*t[12]*t[11]-t[3]*t[8]*t[13]+t[3]*t[12]*t[9],i[10]=t[0]*t[5]*t[15]-t[0]*t[13]*t[7]-t[1]*t[4]*t[15]+t[1]*t[12]*t[7]+t[3]*t[4]*t[13]-t[3]*t[12]*t[5],i[11]=-t[0]*t[5]*t[11]+t[0]*t[9]*t[7]+t[1]*t[4]*t[11]-t[1]*t[8]*t[7]-t[3]*t[4]*t[9]+t[3]*t[8]*t[5],i[12]=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9],i[13]=t[0]*t[9]*t[14]-t[0]*t[13]*t[10]-t[1]*t[8]*t[14]+t[1]*t[12]*t[10]+t[2]*t[8]*t[13]-t[2]*t[12]*t[9],i[14]=-t[0]*t[5]*t[14]+t[0]*t[13]*t[6]+t[1]*t[4]*t[14]-t[1]*t[12]*t[6]-t[2]*t[4]*t[13]+t[2]*t[12]*t[5],i[15]=t[0]*t[5]*t[10]-t[0]*t[9]*t[6]-t[1]*t[4]*t[10]+t[1]*t[8]*t[6]+t[2]*t[4]*t[9]-t[2]*t[8]*t[5];let n=t[0]*i[0]+t[1]*i[4]+t[2]*i[8]+t[3]*i[12];for(let s=0;s<16;s++)i[s]/=n;return e}makeEuler(A,e,t="XYZ"){const i=this.rawData,n=i[0],s=i[4],o=i[8],u=i[1],l=i[5],c=i[9],h=i[2],d=i[6],f=i[10];switch(t){case"XYZ":A.y=Math.asin(vt(o,-1,1)),Math.abs(o)<.9999999?(A.x=Math.atan2(-c,f),A.z=Math.atan2(-s,n)):(A.x=Math.atan2(d,l),A.z=0);break;case"YXZ":A.x=Math.asin(-vt(c,-1,1)),Math.abs(c)<.9999999?(A.y=Math.atan2(o,f),A.z=Math.atan2(u,l)):(A.y=Math.atan2(-h,n),A.z=0);break;case"ZXY":A.x=Math.asin(vt(d,-1,1)),Math.abs(d)<.9999999?(A.y=Math.atan2(-h,f),A.z=Math.atan2(-s,l)):(A.y=0,A.z=Math.atan2(u,n));break;case"ZYX":A.y=Math.asin(-vt(h,-1,1)),Math.abs(h)<.9999999?(A.x=Math.atan2(d,f),A.z=Math.atan2(u,n)):(A.x=0,A.z=Math.atan2(-s,l));break;case"YZX":A.z=Math.asin(vt(u,-1,1)),Math.abs(u)<.9999999?(A.x=Math.atan2(-c,l),A.y=Math.atan2(-h,n)):(A.x=0,A.y=Math.atan2(o,f));break;case"XZY":A.z=Math.asin(-vt(s,-1,1)),Math.abs(s)<.9999999?(A.x=Math.atan2(d,l),A.y=Math.atan2(o,n)):(A.x=Math.atan2(-c,f),A.y=0);break}return e&&A.multiplyScalar(yu),A}setElements(A,e,t,i,n,s,o,u,l,c,h,d,f,p,y,_){const g=this.rawData;return g[0]=A,g[4]=e,g[8]=t,g[12]=i,g[1]=n,g[5]=s,g[9]=o,g[13]=u,g[2]=l,g[6]=c,g[10]=h,g[14]=d,g[3]=f,g[7]=p,g[11]=y,g[15]=_,this}makeMatrix44ByQuaternion(A,e,t){this.identity(),oe.quaternionToMatrix(t,this),this.appendTranslation(A.x,A.y,A.z),this.appendScale(e.x,e.y,e.z)}};a(hA,"blockBytes",16*4),a(hA,"block",16),a(hA,"allocCount",1e3),a(hA,"allocOnceCount",1e3),a(hA,"maxCount",50*1e4),a(hA,"useCount",0),a(hA,"buffer"),a(hA,"wasmMatrixPtr",0),a(hA,"dynamicMatrixBytes"),a(hA,"dynamicGlobalMatrixRef"),a(hA,"wasm"),a(hA,"help_matrix_0"),a(hA,"help_matrix_1"),a(hA,"help_matrix_2"),a(hA,"helpMatrix"),a(hA,"helpMatrix2"),a(hA,"_getEulerMatrix"),a(hA,"_zero",new I(0,0,0)),a(hA,"_one",new I(1,1,1)),a(hA,"_prs",[new I,new I,new I]),a(hA,"float32Array",new Float32Array(16).fill(0)),a(hA,"decomposeRawData",new Float32Array(16).fill(0));let NA=hA;function d4(r,A,e){for(let t=0;t<4;t++)e.rawData[t]=r.rawData[t]*A.rawData[0]+r.rawData[t+4]*A.rawData[1]+r.rawData[t+8]*A.rawData[2]+r.rawData[t+12]*A.rawData[3],e.rawData[t+4]=r.rawData[t]*A.rawData[4]+r.rawData[t+4]*A.rawData[5]+r.rawData[t+8]*A.rawData[6]+r.rawData[t+12]*A.rawData[7],e.rawData[t+8]=r.rawData[t]*A.rawData[8]+r.rawData[t+4]*A.rawData[9]+r.rawData[t+8]*A.rawData[10]+r.rawData[t+12]*A.rawData[11],e.rawData[t+12]=r.rawData[t]*A.rawData[12]+r.rawData[t+4]*A.rawData[13]+r.rawData[t+8]*A.rawData[14]+r.rawData[t+12]*A.rawData[15]}function Yd(r,A,e,t){let i=t.rawData,n=r.x*Ie,s=r.y*Ie,o=r.z*Ie,u=0,l=n*.5,c=s*.5,h=o*.5,d=Math.cos(l),f=Math.sin(l),p=Math.cos(c),y=Math.sin(c),_=Math.cos(h),g=Math.sin(h);u=d*p*_+f*y*g,n=f*p*_-d*y*g,s=d*y*_+f*p*g,o=d*p*g-f*y*_;let m=n+n,E=s+s,w=o+o,L=n*m,T=n*E,R=n*w,P=s*E,F=s*w,H=o*w,M=u*m,b=u*E,v=u*w,C=e.x,x=e.y,S=e.z;i[0]=(1-(P+H))*C,i[1]=(T+v)*C,i[2]=(R-b)*C,i[3]=0,i[4]=(T-v)*x,i[5]=(1-(L+H))*x,i[6]=(F+M)*x,i[7]=0,i[8]=(R+b)*S,i[9]=(F-M)*S,i[10]=(1-(L+P))*S,i[11]=0,i[12]=A.x,i[13]=A.y,i[14]=A.z,i[15]=1}function f4(r,A,e){let t=r.rawData,i=e.rawData,n=t[0],s=t[4],o=t[8],u=t[12],l=t[1],c=t[5],h=t[9],d=t[13],f=t[2],p=t[6],y=t[10],_=t[14],g=t[3],m=t[7],E=t[11],w=t[15];i[0]=n*A.rawData[0]+l*A.rawData[4]+f*A.rawData[8]+g*A.rawData[12],i[1]=n*A.rawData[1]+l*A.rawData[5]+f*A.rawData[9]+g*A.rawData[13],i[2]=n*A.rawData[2]+l*A.rawData[6]+f*A.rawData[10]+g*A.rawData[14],i[3]=n*A.rawData[3]+l*A.rawData[7]+f*A.rawData[11]+g*A.rawData[15],i[4]=s*A.rawData[0]+c*A.rawData[4]+p*A.rawData[8]+m*A.rawData[12],i[5]=s*A.rawData[1]+c*A.rawData[5]+p*A.rawData[9]+m*A.rawData[13],i[6]=s*A.rawData[2]+c*A.rawData[6]+p*A.rawData[10]+m*A.rawData[14],i[7]=s*A.rawData[3]+c*A.rawData[7]+p*A.rawData[11]+m*A.rawData[15],i[8]=o*A.rawData[0]+h*A.rawData[4]+y*A.rawData[8]+E*A.rawData[12],i[9]=o*A.rawData[1]+h*A.rawData[5]+y*A.rawData[9]+E*A.rawData[13],i[10]=o*A.rawData[2]+h*A.rawData[6]+y*A.rawData[10]+E*A.rawData[14],i[11]=o*A.rawData[3]+h*A.rawData[7]+y*A.rawData[11]+E*A.rawData[15],i[12]=u*A.rawData[0]+d*A.rawData[4]+_*A.rawData[8]+w*A.rawData[12],i[13]=u*A.rawData[1]+d*A.rawData[5]+_*A.rawData[9]+w*A.rawData[13],i[14]=u*A.rawData[2]+d*A.rawData[6]+_*A.rawData[10]+w*A.rawData[14],i[15]=u*A.rawData[3]+d*A.rawData[7]+_*A.rawData[11]+w*A.rawData[15]}function mg(r,A,e){let t=r.rawData,i=t[0],n=t[1],s=t[2],o=t[3],u=t[4],l=t[5],c=t[6],h=t[7],d=t[8],f=t[9],p=t[10],y=t[11],_=t[12],g=t[13],m=t[14],E=t[15],w=A.rawData,L=e.rawData,T=w[0],R=w[1],P=w[2],F=w[3];return L[0]=T*i+R*u+P*d+F*_,L[1]=T*n+R*l+P*f+F*g,L[2]=T*s+R*c+P*p+F*m,L[3]=T*o+R*h+P*y+F*E,T=w[4],R=w[5],P=w[6],F=w[7],L[4]=T*i+R*u+P*d+F*_,L[5]=T*n+R*l+P*f+F*g,L[6]=T*s+R*c+P*p+F*m,L[7]=T*o+R*h+P*y+F*E,T=w[8],R=w[9],P=w[10],F=w[11],L[8]=T*i+R*u+P*d+F*_,L[9]=T*n+R*l+P*f+F*g,L[10]=T*s+R*c+P*p+F*m,L[11]=T*o+R*h+P*y+F*E,T=w[12],R=w[13],P=w[14],F=w[15],L[12]=T*i+R*u+P*d+F*_,L[13]=T*n+R*l+P*f+F*g,L[14]=T*s+R*c+P*p+F*m,L[15]=T*o+R*h+P*y+F*E,L}var At=(r=>(r[r.None=0]="None",r[r.PointLight=1]="PointLight",r[r.DirectionLight=2]="DirectionLight",r[r.SpotLight=3]="SpotLight",r[r.SkyLight=4]="SkyLight",r))(At||{});class Zl extends Mo{constructor(){super(...arguments);a(this,"index",-1);a(this,"lightType",-1);a(this,"radius",.5);a(this,"linear",1);a(this,"lightPosition",new I);a(this,"lightMatrixIndex",-1);a(this,"direction",new I);a(this,"quadratic",.032);a(this,"lightColor",new fA(1,1,1,1));a(this,"intensity",1);a(this,"innerAngle",0);a(this,"outerAngle",1);a(this,"range",100);a(this,"castShadowIndex",-1);a(this,"lightTangent",I.FORWARD);a(this,"iesIndex",-1)}}a(Zl,"lightSize",24);const Gr=class Gr{static init(){this._init||(this._init=!0,this.componentsUpdateList=new Map,this.componentsLateUpdateList=new Map,this.componentsBeforeUpdateList=new Map,this.componentsComputeList=new Map,this.componentsEnablePickerList=new Map,this.graphicComponent=new Map,this.waitStartComponent=new Map)}static bindUpdate(A,e,t){this.init();let i=this.componentsUpdateList.get(A);i||(i=new Map,this.componentsUpdateList.set(A,i)),i.set(e,t)}static unBindUpdate(A,e){this.init();let t=this.componentsUpdateList.get(A);t&&t.delete(e)}static bindLateUpdate(A,e,t){this.init();let i=this.componentsLateUpdateList.get(A);i||(i=new Map,this.componentsLateUpdateList.set(A,i)),i.set(e,t)}static unBindLateUpdate(A,e){this.init();let t=this.componentsLateUpdateList.get(A);t&&t.delete(e)}static bindBeforeUpdate(A,e,t){this.init();let i=this.componentsBeforeUpdateList.get(A);i||(i=new Map,this.componentsBeforeUpdateList.set(A,i)),i.set(e,t)}static unBindBeforeUpdate(A,e){this.init();let t=this.componentsBeforeUpdateList.get(A);t&&t.delete(e)}static bindCompute(A,e,t){this.init();let i=this.componentsComputeList.get(A);i||(i=new Map,this.componentsComputeList.set(A,i)),i.set(e,t)}static unBindCompute(A,e){this.init();let t=this.componentsComputeList.get(A);t&&t.delete(e)}static bindGraphic(A,e,t){this.init();let i=this.graphicComponent.get(A);i||(i=new Map,this.graphicComponent.set(A,i)),i.set(e,t)}static unBindGraphic(A,e){this.init();let t=this.graphicComponent.get(A);t&&t.delete(e)}static appendWaitStart(A){this.init();let e=this.waitStartComponent.get(A.object3D);e?e.indexOf(A)==-1&&e.push(A):this.waitStartComponent.set(A.object3D,[A])}static removeWaitStart(A,e){this.init();let t=Gr.waitStartComponent.get(A);if(t){let i=t.indexOf(e);i!=-1&&t.splice(i)}}static bindEnablePick(A,e,t){this.init();let i=this.componentsEnablePickerList.get(A);i||(i=new Map,this.componentsEnablePickerList.set(A,i)),i.set(e,t)}static unBindEnablePick(A,e){this.init();let t=this.componentsEnablePickerList.get(A);t&&t.delete(e)}};a(Gr,"componentsUpdateList"),a(Gr,"componentsLateUpdateList"),a(Gr,"componentsBeforeUpdateList"),a(Gr,"componentsComputeList"),a(Gr,"componentsEnablePickerList"),a(Gr,"graphicComponent"),a(Gr,"waitStartComponent"),a(Gr,"_init",!1);let Ee=Gr;class Jt{constructor(){a(this,"object3D",null);a(this,"_eventDispatcher");a(this,"_enable",!0);a(this,"__isStart",!1);a(this,"isDestroyed")}get eventDispatcher(){return this._eventDispatcher||(this._eventDispatcher=new oa),this._eventDispatcher}set eventDispatcher(A){console.error("The eventDispatcher should not be set externally!")}get isStart(){return this.__isStart}get transform(){return this.object3D.transform}set enable(A){var e,t;this._enable!=A&&(this._enable=A,this._enable?(e=this.onEnable)==null||e.call(this,this.transform.view3D):(t=this.onDisable)==null||t.call(this,this.transform.view3D))}get enable(){return this._enable}__init(A){this.init(A)}__start(){var A,e;this.transform&&this.transform.scene3D&&this._enable&&((A=this.onEnable)==null||A.call(this,this.transform.view3D)),this.transform&&this.transform.scene3D&&this.__isStart==!1&&((e=this.start)==null||e.call(this),this.__isStart=!0),this.onUpdate&&this._onUpdate(this.onUpdate.bind(this)),this.onLateUpdate&&this._onLateUpdate(this.onLateUpdate.bind(this)),this.onBeforeUpdate&&this._onBeforeUpdate(this.onBeforeUpdate.bind(this)),this.onCompute&&this._onCompute(this.onCompute.bind(this)),this.onGraphic&&this._onGraphic(this.onGraphic.bind(this))}__stop(){var A;this.transform&&this.transform.scene3D&&((A=this.onDisable)==null||A.call(this,this.transform.view3D)),this._onUpdate(null),this._onLateUpdate(null),this._onBeforeUpdate(null),this._onCompute(null),this._onGraphic(null)}init(A){}start(){}stop(){}cloneTo(A){}copyComponent(A){return this}_onUpdate(A){A!=null?Ee.bindUpdate(this.transform.view3D,this,A):Ee.unBindUpdate(this.transform.view3D,this)}_onLateUpdate(A){A!=null?Ee.bindLateUpdate(this.transform.view3D,this,A):Ee.unBindLateUpdate(this.transform.view3D,this)}_onBeforeUpdate(A){A!=null?Ee.bindBeforeUpdate(this.transform.view3D,this,A):Ee.unBindBeforeUpdate(this.transform.view3D,this)}_onCompute(A){A!=null?Ee.bindCompute(this.transform.view3D,this,A):Ee.unBindCompute(this.transform.view3D,this)}_onGraphic(A){A!=null?Ee.bindGraphic(this.transform.view3D,this,A):Ee.unBindGraphic(this.transform.view3D,this)}beforeDestroy(A){Ee.removeWaitStart(this.object3D,this)}destroy(A){this.isDestroyed||(this.isDestroyed=!0,this.enable=!1,this.stop(),this._onBeforeUpdate(null),this._onUpdate(null),this._onLateUpdate(null),this.onEnable=null,this.onDisable=null,this.onUpdate=null,this.onLateUpdate=null,this.onBeforeUpdate=null,this.onCompute=null,this.onGraphic=null)}}class _h{constructor(){a(this,"value",0);a(this,"inv_base",0)}static get(A,e){let t=0,i=1/e;for(;A>0;)t+=A%e*i,A/=e,i/=e;return t}getBase(A,e){let t=this.inv_base=1/e;for(;A>0;)this.value+=t*(A%e),A/=e,t*=this.inv_base}next(){let A=1-this.value-1e-7;if(this.inv_base<A)this.value+=this.inv_base;else{let e=this.inv_base,t;do t=e,e*=this.inv_base;while(e>=A);this.value+=t+e-1}}get(){return this.value}}const Ni=class Ni{constructor(A,e){a(this,"origin",new I);a(this,"length",Number.MAX_VALUE);a(this,"_vector",new I);a(this,"_dir",new I);a(this,"_v0",new I);a(this,"_v1",new I);a(this,"_v2",new I);a(this,"_E1",new I);a(this,"_E2",new I);a(this,"_P",new I);a(this,"_T",new I);a(this,"_Q",new I);this.origin.copyFrom(A||new I),this._dir.copyFrom(e||new I),this._dir.normalize()}get direction(){return this._dir}set direction(A){this._dir.copyFrom(A),this._dir.normalize()}clone(){return new Ni(this.origin,this.direction)}intersectBox(A,e){let t=this.direction,i=this.origin,n,s,o,u,l,c;const h=1/t.x,d=1/t.y,f=1/t.z,p=A.min,y=A.max;return n=((h>=0?p.x:y.x)-i.x)*h,s=((h>=0?y.x:p.x)-i.x)*h,o=((d>=0?p.y:y.y)-i.y)*d,u=((d>=0?y.y:p.y)-i.y)*d,n>u||o>s||(o>n&&(n=o),u<s&&(s=u),l=((f>=0?p.z:y.z)-i.z)*f,c=((f>=0?y.z:p.z)-i.z)*f,n>c||l>s)||(l>n&&(n=l),c<s&&(s=c),s<0)?null:(e||(e=new I),this.pointAt(n>=0?n:s,e))}pointAt(A,e){return e||(e=new I),e.copy(this.direction),e.multiplyScalar(A),e.add(this.origin,e),e}copy(A){return this.origin.copy(A.origin),this.direction.copy(A.direction),this._dir.copy(A._dir),this.length=A.length,this}setApproxDirection(A){this._dir=A.normalize()}setOrigin(A){this.origin.copyFrom(A)}getOrigin(){return this.origin}getPoint(A){return this._dir.scaleBy(A),this.origin.add(this._dir)}sqrDistToPoint(A){let e=this._dir,t=A.subtract(this.origin),i=Wd(t,e),n=Wd(e,e),s=i/n,o=this.getPoint(s);return c4(A.subtract(o))}applyMatrix(A){this.origin=A.transformPoint(this.origin),this._dir=A.transformVector(this._dir)}pointInTriangle(A,e,t,i){let n=this._v0,s=this._v1,o=this._v2;i.subtract(e,n),t.subtract(e,s),A.subtract(e,o);let u=I.dot(n,n),l=I.dot(n,s),c=I.dot(n,o),h=I.dot(s,s),d=I.dot(s,o),f=1/(u*h-l*l),p=(h*c-l*d)*f,y=(u*d-l*c)*f;return p>=0&&y>=0&&p+y<1}intersectTriangle(A,e,t){let i=t.v1,n=t.v2,s=t.v3;n.subtract(i,this._E1),s.subtract(i,this._E2),e.crossProduct(this._E2,this._P);let o=this._E1.dotProduct(this._P);if(o>0?A.subtract(i,this._T):(i.subtract(A,this._T),o=-o),o<1e-4||(t.u=this._T.dotProduct(this._P),t.u<0||t.u>o)||(this._T.crossProduct(this._E1,this._Q),t.v=e.dotProduct(this._Q),t.v<0||t.u+t.v>o))return null;let u=new I;t.t0=t.t=this._E2.dotProduct(this._Q);let l=1/o;return t.t*=l,t.u*=l,t.v*=l,u.x=A.x+t.t*e.x,u.y=A.y+t.t*e.y,u.z=A.z+t.t*e.z,u}intersectSphere(A,e,t,i){let n=A.subtract(t),s=I.dot(e,e),o=2*I.dot(n,e),u=I.dot(n,n)-i*i,l=o*o-4*s*u,c=I.HELP_3;if(l<0)return null;{let h=(-o-Math.sqrt(l))/(s*2);return h<0?null:(c.x=A.x+h*e.x,c.y=A.y+h*e.y,c.z=A.z+h*e.z,c)}}intersectionSegment(A,e,t){const i=this.origin,n=I.HELP_0,s=I.HELP_1,o=I.HELP_2,u=I.HELP_3;e.subtract(A,n),this._dir.scaleToRef(Ni._rayl,o),i.add(o,s),A.subtract(i,u);var l=I.dot(n,n),c=I.dot(n,o),h=I.dot(o,o),d=I.dot(n,u),f=I.dot(o,u),p=l*h-c*c,y,_,g=p,m,E,w=p;p<Ni._smallnum?(_=0,g=1,E=f,w=h):(_=c*f-h*d,E=l*f-c*d,_<0?(_=0,E=f,w=h):_>g&&(_=g,E=f+c,w=h)),E<0?(E=0,-d<0?_=0:-d>l?_=g:(_=-d,g=l)):E>w&&(E=w,-d+c<0?_=0:-d+c>l?_=g:(_=-d+c,g=l)),y=Math.abs(_)<Ni._smallnum?0:_/g,m=Math.abs(E)<Ni._smallnum?0:E/w;const L=I.HELP_4;o.scaleToRef(m,L);const T=I.HELP_5;n.scaleToRef(y,T),T.add(u,T);const R=I.HELP_6;T.subtract(L,R);var P=m>0&&m<=this._dir.length&&R.lengthSquared<t*t;if(P){let F=new I;return F.copyFrom(e.subtract(A)),F.scaleBy(y),F.add(A,F),{out:F,length:T.length}}return{out:null,length:-1}}get_vec(A,e){let t=I.HELP_1;return t.x=A.x-e.x,t.y=A.y-e.y,t.z=A.z-e.z,t}};a(Ni,"_rayl",1e9),a(Ni,"_smallnum",1e-8);let $o=Ni;class Ac{constructor(A=0,e=0,t=0,i=0){a(this,"x");a(this,"y");a(this,"w");a(this,"h");this.x=A,this.y=e,this.w=t,this.h=i}get width(){return this.w}set width(A){this.w=A}get height(){return this.h}set height(A){this.h=A}static pointInRect(A,e,t,i,n,s){return!(A<t||A>n||e<i||e>s)}clone(){return new Ac(this.x,this.y,this.w,this.h)}copyFrom(A){this.x=A.x,this.y=A.y,this.w=A.w,this.h=A.h}copyTo(A){A.copyFrom(this)}inner(A,e){return!(A<this.x||A>this.x+this.width||e<this.y||e>this.y+this.height)}equal(A){return!(this.x!=A.x||this.y!=A.y||this.width!=A.width||this.height!=A.height)}equalArea(A,e,t,i){return!(this.x!=A||this.y!=e||this.width!=t||this.height!=i)}equalInnerArea(A){var e=this.x,t=this.y,i=this.x+this.width,n=this.y+this.height,s=A.x,o=A.y,u=A.x+A.width,l=A.y+A.height;return Math.max(e,s)<=Math.min(i,u)&&Math.max(t,o)<=Math.min(n,l)}innerArea(A,e){e=e||new Ac;var t=this.x,i=this.y,n=this.x+this.width,s=this.y+this.height,o=A.x,u=A.y,l=A.x+A.width,c=A.y+A.height,h=Math.max(i,u),d=Math.min(s,c),f=Math.max(t,o),p=Math.min(l,n);return h>=0&&d>=0&&d-h>=0&&p-f>0?(e.x=f,e.y=h,e.width=p-f,e.height=d-h):(e.x=0,e.y=0,e.width=0,e.height=0),e}setTo(A,e,t,i){this.x=A,this.y=e,this.width=t,this.height=i}}const wn=class wn{constructor(A,e){a(this,"center");a(this,"extents");a(this,"max");a(this,"min");a(this,"size");A||(A=I.ZERO.clone()),e||(e=I.ZERO.clone()),this.setFromCenterAndSize(A,e)}makeEmpty(){return this.setFromMinMax(wn.maxVector3,wn.minVector3),this}setFromMinMax(A,e){return this.init(),e.subtract(A,this.size),A.add(e,this.center).multiplyScalar(.5),this.extents.copyFrom(this.size).multiplyScalar(.5),this.min.copyFrom(A),this.max.copyFrom(e),this}init(){return this.min||(this.min=new I),this.max||(this.max=new I),this.size||(this.size=new I),this.center||(this.center=new I),this.extents||(this.extents=new I),this}setFromCenterAndSize(A,e){return this.size=e,this.center=A,this.init(),this.extents.copy(e).multiplyScalar(.5),this.center.subtract(this.extents,this.min),this.center.add(this.extents,this.max),this}inFrustum(A,e){return e.containsBox(A.bound)}merge(A){A.min.x<this.min.x&&(this.min.x=A.min.x),A.min.y<this.min.y&&(this.min.y=A.min.y),A.min.z<this.min.z&&(this.min.z=A.min.z),A.max.x>this.max.x&&(this.max.x=A.max.x),A.max.y>this.max.y&&(this.max.y=A.max.y),A.max.z>this.max.z&&(this.max.z=A.max.z),this.size.x=A.max.x-A.min.x,this.size.y=A.max.y-A.min.y,this.size.z=A.max.z-A.min.z,this.extents.x=this.size.x*.5,this.extents.y=this.size.y*.5,this.extents.z=this.size.z*.5,this.center.x=this.extents.x+A.min.x,this.center.y=this.extents.y+A.min.y,this.center.z=this.extents.z+A.min.z}intersects(A){return this.min.x<=A.max.x&&this.max.x>=A.min.x&&this.min.y<=A.max.y&&this.max.y>=A.min.y&&this.min.z<=A.max.z&&this.max.z>=A.min.z}intersectsSphere(A){return this.min.x<=A.max.x&&this.max.x>=A.min.x&&this.min.y<=A.max.y&&this.max.y>=A.min.y&&this.min.z<=A.max.z&&this.max.z>=A.min.z}intersectsBox(A){return this.min.x<=A.max.x&&this.max.x>=A.min.x&&this.min.y<=A.max.y&&this.max.y>=A.min.y&&this.min.z<=A.max.z&&this.max.z>=A.min.z}equals(A){return this.center.equals(A.center)&&this.extents.equals(A.extents)}expandByPoint(A){A.x<this.min.x&&(this.min.x=A.x),A.x>this.max.x&&(this.max.x=A.x),A.y<this.min.y&&(this.min.y=A.y),A.y>this.max.y&&(this.max.y=A.y),A.z<this.min.z&&(this.min.z=A.z),A.z>this.max.z&&(this.max.z=A.z)}static fromPoints(A){for(var e=new wn(new I,new I),t=0;t<A.length;t++)e.expandByPoint(A[t]);return e}calculateTransform(A){}clone(){var A=new wn(this.center.clone(),this.size.clone());return A}intersectsRay(A,e){throw new Error("Method not implemented.")}containsPoint(A){return this.min.x<=A.x&&this.max.x>=A.x&&this.min.y<=A.y&&this.max.y>=A.y&&this.min.z<=A.z&&this.max.z>=A.z}containsBox(A){let e=this.min,t=this.max;return e.x<=A.min.x&&e.y<=A.min.y&&e.z<=A.min.z&&t.x>=A.max.x&&t.y>=A.max.y&&t.z>=A.max.z}updateBound(){}destroy(A){this.center=null,this.extents=null,this.min=null,this.max=null,this.size=null}};a(wn,"maxVector3",new I(1,1,1).multiplyScalar(Number.MAX_VALUE*.1)),a(wn,"minVector3",new I(1,1,1).multiplyScalar(-Number.MAX_VALUE*.1));let Qe=wn;class p4{constructor(){a(this,"planes");a(this,"corners");a(this,"boundingBox",new Qe);this.planes=[],this.corners=[];for(var A=0;A<6;A++)this.planes[A]=new I;for(var A=0;A<2*2*2;A++)this.corners[A]=new I}updateBoundBox(A){this.boundingBox.makeEmpty();let e=this.boundingBox.min,t=this.boundingBox.max,i=0;for(let n=0;n<2;++n)for(let s=0;s<2;++s)for(let o=0;o<2;++o){let u=this.corners[i];i++,u.set(2*n-1,2*s-1,o,1),A.transformVector4(u,u),u.div(u.w,u),e.x=Math.min(u.x,e.x),e.y=Math.min(u.y,e.y),e.z=Math.min(u.z,e.z),t.x=Math.max(u.x,t.x),t.y=Math.max(u.y,t.y),t.z=Math.max(u.z,t.z)}return this.boundingBox.setFromMinMax(e,t),this}setFrustumCorners(A){let e=0;for(let t=0;t<2;++t)for(let i=0;i<2;++i)for(let n=0;n<2;++n){let s=this.corners[e];s.set(2*t-1,2*i-1,n,1),A.transformVector4(s,s),s.div(s.w,s),e++}}update(A){var e=A.rawData;this.planes[0].x=e[3]-e[0],this.planes[0].y=e[7]-e[4],this.planes[0].z=e[11]-e[8],this.planes[0].w=e[15]-e[12];var t=Math.sqrt(this.planes[0].x*this.planes[0].x+this.planes[0].y*this.planes[0].y+this.planes[0].z*this.planes[0].z);this.planes[0].x/=t,this.planes[0].y/=t,this.planes[0].z/=t,this.planes[0].w/=t,this.planes[1].x=e[3]+e[0],this.planes[1].y=e[7]+e[4],this.planes[1].z=e[11]+e[8],this.planes[1].w=e[15]+e[12],t=Math.sqrt(this.planes[1].x*this.planes[1].x+this.planes[1].y*this.planes[1].y+this.planes[1].z*this.planes[1].z),this.planes[1].x/=t,this.planes[1].y/=t,this.planes[1].z/=t,this.planes[1].w/=t,this.planes[2].x=e[3]+e[1],this.planes[2].y=e[7]+e[5],this.planes[2].z=e[11]+e[9],this.planes[2].w=e[15]+e[13],t=Math.sqrt(this.planes[2].x*this.planes[2].x+this.planes[2].y*this.planes[2].y+this.planes[2].z*this.planes[2].z),this.planes[2].x/=t,this.planes[2].y/=t,this.planes[2].z/=t,this.planes[2].w/=t,this.planes[3].x=e[3]-e[1],this.planes[3].y=e[7]-e[5],this.planes[3].z=e[11]-e[9],this.planes[3].w=e[15]-e[13],t=Math.sqrt(this.planes[3].x*this.planes[3].x+this.planes[3].y*this.planes[3].y+this.planes[3].z*this.planes[3].z),this.planes[3].x/=t,this.planes[3].y/=t,this.planes[3].z/=t,this.planes[3].w/=t,this.planes[4].x=e[3]-e[2],this.planes[4].y=e[7]-e[6],this.planes[4].z=e[11]-e[10],this.planes[4].w=e[15]-e[14],t=Math.sqrt(this.planes[4].x*this.planes[4].x+this.planes[4].y*this.planes[4].y+this.planes[4].z*this.planes[4].z),this.planes[4].x/=t,this.planes[4].y/=t,this.planes[4].z/=t,this.planes[4].w/=t,this.planes[5].x=e[3]+e[2],this.planes[5].y=e[7]+e[6],this.planes[5].z=e[11]+e[10],this.planes[5].w=e[15]+e[14],t=Math.sqrt(this.planes[5].x*this.planes[5].x+this.planes[5].y*this.planes[5].y+this.planes[5].z*this.planes[5].z),this.planes[5].x/=t,this.planes[5].y/=t,this.planes[5].z/=t,this.planes[5].w/=t}containsPoint(A){for(var e=0;e<6;e++)if(this.planes[e].x*A.x+this.planes[e].y*A.y+this.planes[e].z*A.z+this.planes[e].w<=0)return!1;return!0}containsSphere(A){let e=A.bound,t=0,i,n=A.transform.worldPosition,s=e.radius,o=e.center.x+n.x,u=e.center.y+n.y,l=e.center.z+n.z;for(let c of this.planes){if(i=c.x*o+c.y*u+c.z*l+c.w,i<=-s)return 0;i>s&&t++}return t===6?2:1}containsBox(A){let e=0,t,i=Math.max(A.size.x,A.size.y,A.size.z)*2,n=A.center.x,s=A.center.y,o=A.center.z;for(let u of this.planes){if(t=u.x*n+u.y*s+u.z*o+u.w,t<=-i)return 0;t>i&&e++}return e===6?2:1}containsBox2(A){let e=0,t,i=1.74*Math.max(A.extents.x,A.extents.y,A.extents.z);for(let n of this.planes){if(t=n.x*A.center.x+n.y*A.center.y+n.z*A.center.z+n.w,t<=-i)return 0;t>i&&e++}return e===6?2:1}}var Re=(r=>(r[r.ortho=0]="ortho",r[r.perspective=1]="perspective",r[r.shadow=2]="shadow",r))(Re||{});class g4{constructor(A){a(this,"corners");a(this,"index");this.index=A,this.corners=[];for(let e=0;e<4;e++)this.corners.push(new I)}}class m4{constructor(A,e,t){a(this,"bound");a(this,"twoSections");a(this,"name");a(this,"color");a(this,"shadowCamera");a(this,"index");this.bound=new Qe,this.shadowCamera=it.createCamera3DObject(null,"csmShadowCamera_"+t),this.shadowCamera.isShadowCamera=!0,this.shadowCamera.orthoOffCenter(100,-100,100,-100,1,1e4),this.twoSections=[A,e],this.index=t,t==0?this.color=new fA(1,0,0,1):t==1?this.color=new fA(0,1,0,1):t==2?this.color=new fA(0,0,1,1):t==3&&(this.color=new fA(0,1,1,1)),this.name="child_"+t}updateBound(){this.bound.makeEmpty();let A=this.bound.min,e=this.bound.max;for(let t of this.twoSections)for(let i of t.corners)A.x=Math.min(i.x,A.x),A.y=Math.min(i.y,A.y),A.z=Math.min(i.z,A.z),e.x=Math.max(i.x,e.x),e.y=Math.max(i.y,e.y),e.z=Math.max(i.z,e.z);return this.bound.setFromMinMax(A,e),this}}class y4{constructor(A){a(this,"sections");a(this,"children");a(this,"name");this.sections=[];let e=A+1;for(let t=0;t<e;t++)this.sections.push(new g4(t));this.children=[];for(let t=0;t<A;t++)this.children.push(new m4(this.sections[t],this.sections[t+1],t))}update(A,e,t,i,n){let s=this.sections.length-1;for(let o=0;o<=s;++o){let u=this.sections[o],l=0,c=this.logSplit(t,i,o,this.sections.length);{let d=(c-t)/i;d=d**n.csmScatteringExp,c=(i-t)*d+t}c*=n.csmAreaScale;let h=(A.rawData[10]*c+A.rawData[14])/c;for(let d=0;d<2;++d)for(let f=0;f<2;++f){let p=u.corners[l];l++,p.set(2*d-1,2*f-1,h,1),e.transformVector4(p,p),p.div(p.w,p)}}for(let o of this.children)o.updateBound();return this}squareSplit(A,e,t,i){return(t/(i-1))**4*(e-A)+A}uniformSplit(A,e,t,i){return t/(i-1)*(e-A)+A}logSplit(A,e,t,i){return A*(e/A)**(t/(i-1))}}class n0 extends Jt{constructor(){super();a(this,"fov",1);a(this,"name");a(this,"aspect",1);a(this,"near",1);a(this,"far",5e3);a(this,"viewPort",new Ac);a(this,"frustum");a(this,"isShadowCamera",!1);a(this,"_projectionMatrixInv",new NA);a(this,"_projectionMatrix",new NA);a(this,"_viewMatrix",new NA);a(this,"_unprojection",new NA);a(this,"_pvMatrixInv",new NA);a(this,"_pvMatrix",new NA);a(this,"_halfw");a(this,"_halfh");a(this,"_ray");a(this,"_enableCSM",!1);a(this,"lookTarget");a(this,"type",Re.perspective);a(this,"csm");a(this,"cubeShadowCameras",[]);a(this,"_haltonSeq");a(this,"_jitterOffsetList");a(this,"_useJitterProjection",!1);a(this,"_jitterFrameIndex",0);a(this,"_sampleIndex",0);a(this,"_jitterX",0);a(this,"_jitterY",0)}get projectionMatrix(){return this._projectionMatrix}get enableCSM(){return this._enableCSM}set enableCSM(e){e&&!this.csm&&(this.csm=new y4(bi.Cascades)),this._enableCSM=e}init(){super.init(),this._ray=new $o,this.frustum=new p4,this.viewPort.x=0,this.viewPort.y=0,this.viewPort.w=iA.presentationSize[0],this.viewPort.h=iA.presentationSize[1],this.lookTarget=new I(0,0,0)}getShadowBias(e){let t=2*this.getShadowWorldExtents()/e,i=this.far-this.near;return t/i-K.setting.shadow.shadowBias*.01}getShadowWorldExtents(){let e=K.setting.shadow.shadowBound;return e?e*=.5:e=Math.round(.05*this.frustum.boundingBox.extents.length),e}getCSMShadowBias(e,t){let i=2*this.getCSMShadowWorldExtents(e)/t,n=this.far-this.near;return i/n}getCSMShadowWorldExtents(e){return Math.round(this.csm.children[e].bound.extents.length)}perspective(e,t,i,n){this.fov=e,this.aspect=t,this.near=i,this.far=n,this._projectionMatrix.perspective(e,t,i,n),this.type=Re.perspective}resetPerspective(e){this.type==Re.perspective&&this._projectionMatrix.perspective(this.fov,e,this.near,this.far)}ortho(e,t,i,n){this.near=Math.max(i,.1),this.far=n,this._projectionMatrix.ortho(e,t,i,n),this.type=Re.ortho}orthoOffCenter(e,t,i,n,s,o){this.near=Math.max(s,.01),this.far=o,this._projectionMatrix.orthoOffCenter(e,t,i,n,s,o),this.type=Re.ortho}orthoZo(e,t,i,n,s,o){this.near=Math.max(s,.01),this.far=o,this._projectionMatrix.orthoZO(e,t,i,n,s,o),this.type=Re.ortho}get viewMatrix(){return this._viewMatrix.copyFrom(this.transform.worldMatrix),this._viewMatrix.invert(),this._viewMatrix}get shadowViewMatrix(){return this._viewMatrix.copyFrom(this.transform.worldMatrix),this._viewMatrix.appendScale(1,1,1),this._viewMatrix.invert(),this._viewMatrix}object3DToScreenRay(e,t=null){return t||(t=new I(0,0,0,1)),this._halfw=this.viewPort.width*.5,this._halfh=this.viewPort.height*.5,Cr.transformVector(this.viewMatrix,e,t),this.project(t,t),t.x=this._halfw+t.x*this._halfw,t.y=this.viewPort.height-(this._halfh-t.y*this._halfh),t}screenRayToObject3D(e,t=null){t||(t=new I),this._halfw=this.viewPort.width*.5,this._halfh=this.viewPort.height*.5;let i=e.x,n=e.y;return t.x=i/this.viewPort.width-.25,t.y=n/this.viewPort.height-.25,this.unProject(t.x,t.y,e.z,t),t}get pvMatrix(){return mg(this._projectionMatrix,this.viewMatrix,this._pvMatrix),this._pvMatrix}get pvMatrix2(){mg(this._projectionMatrix,this.transform.worldMatrix,this._pvMatrix);let e=this._pvMatrixInv.copyFrom(this.pvMatrix);return e.invert(),e}get pvMatrixInv(){let e=this._pvMatrixInv.copyFrom(this.pvMatrix);return e.invert(),e}get projectionMatrixInv(){return this._projectionMatrixInv.copyFrom(this._projectionMatrix),this._projectionMatrixInv.invert(),this._projectionMatrixInv}unProject(e,t,i,n){return n||(n=new I),n.x=e,n.y=-t,n.z=i,n.w=1,n.x*=i,n.y*=i,this._unprojection.copyFrom(this._projectionMatrix),this._unprojection.invert(),Cr.transformVector(this._unprojection,n,n),n.z=i,n}project(e,t){return this._projectionMatrix.perspectiveMultiplyPoint3(e,t),t.x=t.x/t.w,t.y=-t.y/t.w,t.z=e.z,t}screenPointToRay(e,t){let i=this._ray,n=it.UnProjection(e,t,.01,this),s=it.UnProjection(e,t,1,this);return s=s.subtract(n).normalize(),i.origin.copyFrom(n),i.direction=s,i}screenPointToWorld(e,t,i){return it.UnProjection(e,t,i,this)}worldToScreenPoint(e,t){return it.Projection(e,this,t)}lookAt(e,t,i=I.Y_AXIS){this.transform.lookAt(e,t,i),t&&this.lookTarget.copyFrom(t)}resetProjectMatrix(){this.perspective(this.fov,this.aspect,this.near,this.far)}onUpdate(){var t;this.type==Re.perspective&&(this.aspect=iA.aspect,this.resetProjectMatrix()),this._useJitterProjection&&this.getJitteredProjectionMatrix(),this.frustum.update(this.pvMatrix),this.frustum.updateBoundBox(this.pvMatrixInv);let e=K.setting.shadow;this.enableCSM&&((t=this.csm)==null||t.update(this._projectionMatrix,this._pvMatrixInv,this.near,this.far,e))}get jitterFrameIndex(){return this._jitterFrameIndex}get jitterX(){return this._jitterX}get jitterY(){return this._jitterY}enableJitterProjection(e){this._jitterFrameIndex=0,this._useJitterProjection=e,this._haltonSeq||(this._haltonSeq=new _h),this._jitterOffsetList=[];for(let t=0;t<8;t++){let i=this.generateRandomOffset();this._jitterOffsetList.push(i)}this._jitterOffsetList.reverse()}generateRandomOffset(){let e=new Ge(_h.get((this._sampleIndex&1023)+1,2)-.5,_h.get((this._sampleIndex&1023)+1,3)-.5);return++this._sampleIndex>=8&&(this._sampleIndex=0),e}getJitteredProjectionMatrix(){let e=K.setting.render.postProcessing.taa,t=this._projectionMatrix,i=e.temporalJitterScale,n=this._jitterFrameIndex%e.jitterSeedCount,s=this._jitterOffsetList[n].x*i,o=this._jitterOffsetList[n].y*i,u=t.get(0,2),l=t.get(1,2);this._jitterX=s/this.viewPort.width,this._jitterY=o/this.viewPort.height,u+=this._jitterX,l+=this._jitterY,t.set(0,2,u),t.set(1,2,l),this._jitterFrameIndex++}getWorldDirection(e){e||(e=new I);const t=this.transform._worldMatrix.rawData;return e.set(-t[8],-t[9],-t[10]).normalize()}}const mt=class mt extends Jt{constructor(){super();a(this,"eventPositionChange",new qr(mt.POSITION_ONCHANGE));a(this,"eventRotationChange",new qr(mt.ROTATION_ONCHANGE));a(this,"eventScaleChange",new qr(mt.SCALE_ONCHANGE));a(this,"eventLocalChange",new qr(mt.LOCAL_ONCHANGE));a(this,"onPositionChange");a(this,"onRotationChange");a(this,"onScaleChange");a(this,"_scene3d");a(this,"_parent");a(this,"_localPos");a(this,"_localRot");a(this,"_localRotQuat");a(this,"_localScale");a(this,"_localDetailPos");a(this,"_localDetailRot");a(this,"_localDetailScale");a(this,"index");a(this,"index2");a(this,"_forward",new I);a(this,"_back",new I);a(this,"_right",new I);a(this,"_left",new I);a(this,"_up",new I);a(this,"_down",new I);a(this,"_worldMatrix");a(this,"_targetPos");a(this,"static",!1);a(this,"depthOrder",0);this._worldMatrix=new NA(!0),this.index=this._worldMatrix.index,this.index2=this._worldMatrix.index*ce.stateStruct,this._localPos=new I,this._localRot=new I,this._localRotQuat=new oe,this._localScale=new I(1,1,1),ce.setScale(this.index,this._localScale.x,this._localScale.y,this._localScale.z),ce.setRotation(this.index,this._localRot.x,this._localRot.y,this._localRot.z),ce.setTranslate(this.index,this._localPos.x,this._localPos.y,this._localPos.z)}get localChange(){return ce.matrixStateBuffer[this.index2]!=0}set localChange(e){ce.matrixStateBuffer[this.index2]=e?1:0}get targetPos(){return this._targetPos}set targetPos(e){this._targetPos=e}get parent(){return this._parent}set parent(e){var i;let t=(i=this._parent)==null?void 0:i.object3D;if(this._parent=e,this.depthOrder=e?e.depthOrder+1:0,ce.setParent(this.index,e?e.worldMatrix.index:-1,this.depthOrder),this.localChange=!0,this.object3D){let n=e?e.scene3D:null;n?(this._scene3d=n,this.object3D.components.forEach(s=>{Ee.appendWaitStart(s)})):this.object3D.components.forEach(s=>{s.__stop()});for(let s of this.object3D.entityChildren)s.transform.parent=e?this:null;this.object3D.components.forEach(s=>{var o,u;(u=s.onParentChange)==null||u.call(s,t,(o=this._parent)==null?void 0:o.object3D)})}this.notifyLocalChange()}set enable(e){this.transform._scene3d&&e?super.enable=!0:super.enable=!1;for(let t of this.object3D.entityChildren)t.transform.enable=e}get enable(){return this._enable}get scene3D(){return this._scene3d}set scene3D(e){this._scene3d=e}get view3D(){return this._scene3d&&this._scene3d.view?this._scene3d.view:null}awake(){}start(){}stop(){}notifyLocalChange(){if(this.localChange=!0,this.object3D){let e=this.object3D.entityChildren,t=0,i=e.length;for(t=0;t<i;t++)e[t].transform.notifyLocalChange()}this.eventDispatcher.dispatchEvent(this.eventLocalChange)}get up(){return this.worldMatrix.transformVector(I.UP,this._up),this._up}set up(e){this._up.copyFrom(e),Cr.fromToRotation(I.UP,this._up,oe.HELP_0),this.transform.localRotQuat=oe.HELP_0}get down(){return this.worldMatrix.transformVector(I.DOWN,this._down),this._down}set down(e){var t;this._down.copyFrom(e),Cr.fromToRotation(I.DOWN,this._down,oe.HELP_0),this.transform.localRotQuat=oe.HELP_0,this.notifyLocalChange(),(t=this.onRotationChange)==null||t.call(this),this.eventRotationChange&&this.eventDispatcher.dispatchEvent(this.eventRotationChange)}get forward(){return this.worldMatrix.transformVector(I.FORWARD,this._forward),this._forward}set forward(e){var t;this._forward.copyFrom(e),Cr.fromToRotation(I.FORWARD,this._forward,oe.HELP_0),this.transform.localRotQuat=oe.HELP_0,this.notifyLocalChange(),(t=this.onRotationChange)==null||t.call(this),this.eventRotationChange&&this.eventDispatcher.dispatchEvent(this.eventRotationChange)}get back(){return this.worldMatrix.transformVector(I.BACK,this._back),this._back}set back(e){this._back.copyFrom(e),Cr.fromToRotation(I.BACK,this._back,oe.HELP_0),this.transform.localRotQuat=oe.HELP_0}get left(){return this.worldMatrix.transformVector(I.neg_X_AXIS,this._left),this._left}set left(e){this._left.copyFrom(e),Cr.fromToRotation(I.LEFT,this._left,oe.HELP_0),this.transform.localRotQuat=oe.HELP_0}get right(){return this.worldMatrix.transformVector(I.X_AXIS,this._right),this._right}set right(e){var t;this._right.copyFrom(e),Cr.fromToRotation(I.RIGHT,this._right,oe.HELP_0),this.transform.localRotQuat=oe.HELP_0,this.notifyLocalChange(),(t=this.onRotationChange)==null||t.call(this),this.eventRotationChange&&this.eventDispatcher.dispatchEvent(this.eventRotationChange)}get localRotQuat(){return this._localRotQuat}set localRotQuat(e){var t;(e.x!=this._localRotQuat.x||e.y!=this._localRotQuat.y||e.z!=this._localRotQuat.z||e.w!=this._localRotQuat.w)&&(this._localRotQuat.copyFrom(e),this._localRotQuat.getEulerAngles(this._localRot),ce.setRotation(this.index,this._localRot.x,this._localRot.y,this._localRot.z),this.notifyLocalChange(),(t=this.onRotationChange)==null||t.call(this),this.eventRotationChange&&this.eventDispatcher.dispatchEvent(this.eventRotationChange))}notifyChange(){var e,t,i;this.notifyLocalChange(),(e=this.onRotationChange)==null||e.call(this),(t=this.onScaleChange)==null||t.call(this),(i=this.onPositionChange)==null||i.call(this),this.eventRotationChange&&this.eventDispatcher.dispatchEvent(this.eventRotationChange),this.eventPositionChange&&this.eventDispatcher.dispatchEvent(this.eventPositionChange),this.eventScaleChange&&this.eventDispatcher.dispatchEvent(this.eventScaleChange)}get worldMatrix(){return this.updateWorldMatrix(),this._worldMatrix}updateWorldMatrix(e=!1){(this.localChange||e)&&(this.parent?(Yd(this._localRot,this._localPos,this._localScale,this._worldMatrix),f4(this._worldMatrix,this.parent.worldMatrix,this._worldMatrix)):Yd(this._localRot,this._localPos,this._localScale,this._worldMatrix),this.localChange=!1)}updateChildTransform(){let e=this;if(e.localChange&&e.updateWorldMatrix(),e.object3D.numChildren>0)for(const t of e.object3D.entityChildren)t.transform.updateChildTransform()}lookTarget(e,t=I.UP){this.lookAt(this.transform.worldPosition,e,t)}lookAt(e,t,i=I.UP){this._targetPos||(this._targetPos=new I),this._targetPos.copyFrom(t),this.localPosition=e,NA.helpMatrix.lookAt(e,t,i),NA.helpMatrix.invert();var n=NA.helpMatrix.decompose(_i.QUATERNION);this.localRotQuat=oe.CALCULATION_QUATERNION.copyFrom(n[1])}decomposeFromMatrix(e,t="eulerAngles"){let i=e.decompose(t),n=this.transform;return n.localRotQuat.copyFrom(i[1]),n.localRotQuat=n.localRotQuat,n.localPosition.copyFrom(i[0]),n.localPosition=n.localPosition,n.localScale.copyFrom(i[2]),n.localScale=n.localScale,this}cloneTo(e){e.transform.localPosition=this.localPosition,e.transform.localRotation=this.localRotation,e.transform.localScale=this.localScale}set x(e){var t;this._localPos.x!=e&&(this._localPos.x=e,ce.setTranslate(this.index,this._localPos.x,this._localPos.y,this._localPos.z),this.notifyLocalChange(),(t=this.onPositionChange)==null||t.call(this),this.eventPositionChange&&this.eventDispatcher.dispatchEvent(this.eventPositionChange))}get x(){return this._localPos.x}set y(e){var t;this._localPos.y!=e&&(this._localPos.y=e,ce.setTranslate(this.index,this._localPos.x,this._localPos.y,this._localPos.z),this.notifyLocalChange(),(t=this.onPositionChange)==null||t.call(this),this.eventPositionChange&&this.eventDispatcher.dispatchEvent(this.eventPositionChange))}get y(){return this._localPos.y}set z(e){var t;this._localPos.z!=e&&(this._localPos.z=e,ce.setTranslate(this.index,this._localPos.x,this._localPos.y,this._localPos.z),this.notifyLocalChange(),(t=this.onPositionChange)==null||t.call(this),this.eventPositionChange&&this.eventDispatcher.dispatchEvent(this.eventPositionChange))}get z(){return this._localPos.z}set scaleX(e){var t;this._localScale.x!=e&&(this._localScale.x=e,ce.setScale(this.index,this._localScale.x,this._localScale.y,this._localScale.z),this.notifyLocalChange(),(t=this.onScaleChange)==null||t.call(this),this.eventScaleChange&&this.eventDispatcher.dispatchEvent(this.eventScaleChange))}get scaleX(){return this._localScale.x}set scaleY(e){var t;this._localScale.y!=e&&(this._localScale.y=e,ce.setScale(this.index,this._localScale.x,this._localScale.y,this._localScale.z),this.notifyLocalChange(),(t=this.onScaleChange)==null||t.call(this),this.eventScaleChange&&this.eventDispatcher.dispatchEvent(this.eventScaleChange))}get scaleY(){return this._localScale.y}set scaleZ(e){var t;this._localScale.z!=e&&(this._localScale.z=e,ce.setScale(this.index,this._localScale.x,this._localScale.y,this._localScale.z),this.notifyLocalChange(),(t=this.onScaleChange)==null||t.call(this),this.eventScaleChange&&this.eventDispatcher.dispatchEvent(this.eventScaleChange))}get scaleZ(){return this._localScale.z}set rotationX(e){var t;this._localRot.x!=e&&(this._localRot.x=e,ce.setRotation(this.index,this._localRot.x,this._localRot.y,this._localRot.z),this.notifyLocalChange(),(t=this.onRotationChange)==null||t.call(this),this.eventRotationChange&&this.eventDispatcher.dispatchEvent(this.eventRotationChange))}get rotationX(){return this._localRot.x}set rotationY(e){var t;this._localRot.y!=e&&(this._localRot.y=e,ce.setRotation(this.index,this._localRot.x,this._localRot.y,this._localRot.z),this.notifyLocalChange(),(t=this.onRotationChange)==null||t.call(this),this.eventRotationChange&&this.eventDispatcher.dispatchEvent(this.eventRotationChange))}get rotationY(){return this._localRot.y}set rotationZ(e){var t;this._localRot.z!=e&&(this._localRot.z=e,ce.setRotation(this.index,this._localRot.x,this._localRot.y,this._localRot.z),this.notifyLocalChange(),(t=this.onRotationChange)==null||t.call(this),this.eventRotationChange&&this.eventDispatcher.dispatchEvent(this.eventRotationChange))}get rotationZ(){return this._localRot.z}get worldPosition(){return this.localChange&&this.updateWorldMatrix(),this._worldMatrix.position}set localPosition(e){var t;this._localPos.copyFrom(e),ce.setTranslate(this.index,e.x,e.y,e.z),this.notifyLocalChange(),(t=this.onPositionChange)==null||t.call(this),this.eventPositionChange&&this.eventDispatcher.dispatchEvent(this.eventPositionChange)}get localPosition(){return this._localPos}set localRotation(e){var t;ce.setRotation(this.index,e.x,e.y,e.z),this._localRot.copyFrom(e),this.notifyLocalChange(),(t=this.onRotationChange)==null||t.call(this),this.eventRotationChange&&this.eventDispatcher.dispatchEvent(this.eventRotationChange)}get localRotation(){return this._localRot}set localScale(e){var t;ce.setScale(this.index,e.x,e.y,e.z),this._localScale.copyFrom(e),this.notifyLocalChange(),(t=this.onScaleChange)==null||t.call(this),this.eventScaleChange&&this.eventDispatcher.dispatchEvent(this.eventScaleChange)}get localScale(){return this._localScale}get localDetailScale(){return this._localDetailScale}set localDetailScale(e){this._localDetailScale=e,ce.setContinueScale(this.index,e.x,e.y,e.z)}get localDetailRot(){return this._localDetailRot}set localDetailRot(e){this._localDetailRot=e,ce.setContinueRotation(this.index,e.x,e.y,e.z)}get localDetailPos(){return this._localDetailPos}set localDetailPos(e){this._localDetailPos=e,ce.setContinueTranslate(this.index,e.x,e.y,e.z)}beforeDestroy(e){this.parent&&this.parent.object3D&&this.parent.object3D.removeChild(this.object3D),super.beforeDestroy(e)}destroy(){super.destroy(),this.scene3D=null,this.eventPositionChange=null,this.eventRotationChange=null,this.eventScaleChange=null,this.onPositionChange=null,this.onRotationChange=null,this.onScaleChange=null,this._scene3d=null,this._parent=null,this._localPos=null,this._localRot=null,this._localRotQuat=null,this._localScale=null,this._forward=null,this._back=null,this._right=null,this._left=null,this._up=null,this._down=null,this.localChange=null,this._targetPos=null}};a(mt,"LIMIT",1),a(mt,"COMPONENT_NAME","UUTransform"),a(mt,"COMPONENT_TYPE","Transform"),a(mt,"POSITION_ONCHANGE","POSITION_ONCHANGE"),a(mt,"ROTATION_ONCHANGE","ROTATION_ONCHANGE"),a(mt,"SCALE_ONCHANGE","SCALE_ONCHANGE"),a(mt,"PARENT_ONCHANGE","PARENT_ONCHANGE"),a(mt,"CHILDREN_ONCHANGE","CHILDREN_ONCHANGE"),a(mt,"ADD_ONCHANGE","ADD_ONCHANGE"),a(mt,"LOCAL_ONCHANGE","LOCAL_ONCHANGE");let Si=mt;const bn=class bn{static genMeshBounds(A,e){let t=this.genMeshMinVector,i=this.genMeshMaxVector,n=this.genMeshVectorList8;e||(e=new Qe(I.ZERO,I.ZERO)),e.setFromMinMax(this.maxVector,this.minVector);let s=A.getComponents(he);for(const o of s)if(o&&o.geometry){let u=o.object3D.transform.worldMatrix;t.copy(o.geometry.bounds.min),i.copy(o.geometry.bounds.max),n[0].set(t.x,t.y,t.z),n[1].set(t.x,t.y,i.z),n[2].set(t.x,i.y,t.z),n[3].set(t.x,i.y,i.z),n[4].set(i.x,t.y,t.z),n[5].set(i.x,t.y,i.z),n[6].set(i.x,i.y,t.z),n[7].set(i.x,i.y,i.z);for(const l of n)u.transformPoint(l,l),e.expandByPoint(l)}return i.copyFrom(e.max),t.copyFrom(e.min),e.setFromMinMax(t,i),e}static transformBound(A,e,t){let i=this.genMeshMinVector.copyFrom(e.min),n=this.genMeshMaxVector.copyFrom(e.max),s=this.genMeshVectorList8;t||(t=new Qe(I.ZERO,I.ZERO)),t.setFromMinMax(this.maxVector,this.minVector),s[0].set(i.x,i.y,i.z),s[1].set(i.x,i.y,n.z),s[2].set(i.x,n.y,i.z),s[3].set(i.x,n.y,n.z),s[4].set(n.x,i.y,i.z),s[5].set(n.x,i.y,n.z),s[6].set(n.x,n.y,i.z),s[7].set(n.x,n.y,n.z);for(const o of s)A.transformPoint(o,o),t.expandByPoint(o);return n.copyFrom(t.max),i.copyFrom(t.min),t.setFromMinMax(i,n),t}};a(bn,"maxVector",new I(Number.MAX_VALUE*.1,Number.MAX_VALUE*.1,Number.MAX_VALUE*.1)),a(bn,"minVector",bn.maxVector.clone().multiplyScalar(-1)),a(bn,"genMeshMaxVector",I.ZERO.clone()),a(bn,"genMeshMinVector",I.ZERO.clone()),a(bn,"genMeshVectorList8",[new I,new I,new I,new I,new I,new I,new I,new I]);let ec=bn;class E4 extends oa{constructor(){super();a(this,"name","");a(this,"_instanceID","");a(this,"_numChildren");a(this,"transform");a(this,"renderNode");a(this,"entityChildren");a(this,"components");a(this,"waitDisposeComponents");a(this,"_bound");a(this,"_boundWorld");a(this,"_isBoundChange",!0);a(this,"_dispose",!1);this.entityChildren=[],this.components=new Map,this._instanceID=W3().toString(),this.waitDisposeComponents=[]}get instanceID(){return this._instanceID}getObjectByName(e){if(e.indexOf("/")>=0){let t=e.split("/"),i=this;for(;t.length>0&&i;){let n=t.shift();if(i=i.getChildByName(n,!1),!i)return null}return i}else return this.getChildByName(e,!1)}get numChildren(){return this._numChildren}addChild(e){if(e==null)throw new Error("child is null!");if(e===this)throw new Error("child is self!");return this.entityChildren.indexOf(e)==-1?(e.removeFromParent(),e.transform.parent=this.transform,this.entityChildren.push(e),this._numChildren=this.entityChildren.length,e):null}removeChild(e){if(e===null)return;if(e===this)throw new Error("add child is self!");let t=this.entityChildren.indexOf(e);t!=-1&&(this.entityChildren.splice(t,1),e.transform.parent=null,this._numChildren=this.entityChildren.length)}removeAllChild(){for(;this.numChildren>0;)this.removeChild(this.entityChildren[0])}removeSelf(){return this.removeFromParent()}removeChildByIndex(e){e>=0&&e<this.entityChildren.length?this.removeChild(this.entityChildren[e]):console.error("remove child by index , index out of range")}hasChild(e){return this.entityChildren.indexOf(e)!=-1}removeFromParent(){let e=this.transform.parent;return e&&e.object3D&&e.object3D.removeChild(this),this}getChildByIndex(e){let t=null;return e<this.entityChildren.length&&(t=this.entityChildren[e]),t}getChildByName(e,t=!0){let i=null;for(const n of this.entityChildren){if(n.name==e)return i=n,i;if(t&&(i=n.getChildByName(e,t),i))return i}return i}update(){}instantiate(){return null}onTransformLocalChange(e){this._isBoundChange=!0}get bound(){return(this._isBoundChange||!this._bound)&&this.updateBound(),this._boundWorld}set bound(e){this._bound=e,this._boundWorld=this._bound.clone(),this._isBoundChange=!0}updateBound(){return this._bound||(this._bound=new Qe,this._boundWorld=this._bound.clone(),this._isBoundChange=!0),this._isBoundChange&&(ec.transformBound(this.transform.worldMatrix,this._bound,this._boundWorld),this._isBoundChange=!1),this._boundWorld}waitUpdate(){this._dispose?(this.transform.parent&&this.transform.parent.object3D.removeChild(this),this.components.forEach((e,t)=>{e.enable=!1,e.beforeDestroy(),e.destroy()}),this.components.clear()):Ee.waitStartComponent.forEach((e,t)=>{for(;e.length>0;){const i=e.shift();i.__start(),Ee.waitStartComponent.delete(i.object3D)}})}destroy(e){this._dispose||(this.components.forEach(t=>{t.beforeDestroy(e)}),this.components.forEach(t=>{t.destroy(e)}),this.components.clear(),this.entityChildren.forEach(t=>{t.destroy(e)}),this.removeAllChild(),this.transform.parent=null,this._dispose=!0,super.destroy())}}var C4=Object.defineProperty,_4=Object.getOwnPropertyDescriptor,S4=(r,A,e,t)=>{for(var i=t>1?void 0:t?_4(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&C4(A,e,i),i};let de=class extends E4{constructor(){super();a(this,"_isScene3D");a(this,"prefabRef");a(this,"serializeTag");this.transform=this.addComponent(Si),this.transform.eventDispatcher.addEventListener(Si.LOCAL_ONCHANGE,this.onTransformLocalChange,this)}get isScene3D(){return this._isScene3D}forChild(A){this.entityChildren.forEach(e=>{A(e),e.forChild(A)})}addComponent(A,e){if(!this.components.has(A)){let t=new A;return t.object3D=this,this.components.set(A,t),t.__init(e),Ee.appendWaitStart(t),t}return null}getOrAddComponent(A){let e=this.components.get(A);return e||(e=this.addComponent(A)),e}removeComponent(A){if(this.components.has(A)){let e=this.components.get(A);Ee.removeWaitStart(this,e),this.components.delete(A),e.__stop(),e.beforeDestroy(),e.destroy()}}hasComponent(A){return this.components.has(A)}getComponent(A){return this.components.get(A)}getComponentFromParent(A){return this.parent?this.parent.object3D.getComponent(A)||this.parent.object3D.getComponentFromParent(A):null}getComponentsInChild(A){let e=[],t=this.components.get(A);t&&e.push(t);for(let i=0;i<this.entityChildren.length;i++){let n=this.entityChildren[i].getComponentsInChild(A);e.push(...n)}return e}getComponents(A,e,t){e||(e=[]);let i=this.getComponent(A);i&&(i.enable||t)&&e.push(i);for(let n=0,s=this.entityChildren.length;n<s;n++){let o=this.entityChildren[n];o&&o instanceof de&&o.getComponents(A,e,t)}return e}getComponentsExt(A,e,t){e||(e=[]);let i=this.components.get(A);if(i&&(i.enable||t))e.push(i);else for(const n of this.entityChildren)n instanceof de&&n.getComponentsExt(A,e,t);return e}getComponentsByProperty(A,e,t=!0,i,n){i||(i=[]);let s;for(const o of this.components.values())o&&(o.enable||n)&&o[A]===e&&(i.push(o),s=!0);if(!(s&&t))for(const o of this.entityChildren)o instanceof de&&o.getComponentsByProperty(A,e,t,i,n);return i}clone(){return this.instantiate()}instantiate(){let A=new de;return A.name=this.name,A.serializeTag=this.serializeTag,A.prefabRef=this.prefabRef,this.entityChildren.forEach((e,t)=>{let i=e.instantiate();A.addChild(i)}),this.components.forEach((e,t)=>{e.cloneTo(A)}),A}get localPosition(){return this.transform.localPosition}set localPosition(A){this.transform.localPosition=A}get localRotation(){return this.transform.localRotation}set localRotation(A){this.transform.localRotation=A}get localScale(){return this.transform.localScale}set localScale(A){this.transform.localScale=A}get localQuaternion(){return this.transform.localRotQuat}set localQuaternion(A){this.transform.localRotQuat=A}notifyChange(){this.transform.notifyChange()}get parent(){return this.transform.parent}get parentObject(){return this.transform.parent.object3D}set x(A){this.transform.x=A}get x(){return this.transform.x}set y(A){this.transform.y=A}get y(){return this.transform.y}set z(A){this.transform.z=A}get z(){return this.transform.z}set scaleX(A){this.transform.scaleX=A}get scaleX(){return this.transform.scaleX}set scaleY(A){this.transform.scaleY=A}get scaleY(){return this.transform.scaleY}set scaleZ(A){this.transform.scaleZ=A}get scaleZ(){return this.transform.scaleZ}set rotationX(A){this.transform.rotationX=A}get rotationX(){return this.transform.rotationX}set rotationY(A){this.transform.rotationY=A}get rotationY(){return this.transform.rotationY}set rotationZ(A){this.transform.rotationZ=A}get rotationZ(){return this.transform.rotationZ}fixedUpdate(){}lateUpdate(){}traverse(A){A(this);for(let e=0,t=this.entityChildren.length;e<t;e++){let i=this.entityChildren[e];i instanceof de&&i.traverse(A)}}destroy(A){this.transform.eventDispatcher.removeEventListener(Si.LOCAL_ONCHANGE,this.onTransformLocalChange,this),super.destroy(A)}};de=S4([v4],de);function v4(r,A){return class extends de{set active(e){this.transform.enable=e>0}get active(){return this.transform.enable?1:0}get materialColor(){var e,t;return(t=(e=this.getComponent(he))==null?void 0:e.material)==null?void 0:t.shader.getDefaultColorShader().baseColor}set materialColor(e){var i;let t=(i=this.getComponent(he))==null?void 0:i.material;t&&(t.shader.getDefaultColorShader().baseColor=e)}notifyMaterialColorChange(e,t){var i,n;(n=(i=this.getComponent(he).materials)==null?void 0:i[e])==null||n.shader.getDefaultColorShader().uniforms[t].onChange()}}}class it{static createCamera3DObject(A,e){return this.createCamera3D(null,A,e)}static createCamera3D(A,e,t){return A||(A=new de),e&&e.addChild(A),t&&(A.name=t),A.getOrAddComponent(n0)}static UnProjection(A,e,t=1,i){let n=new I(A,e,0),s=1,o=I.HELP_0,u=iA.canvas.offsetLeft,l=iA.canvas.offsetTop,c=iA.canvas.clientWidth,h=iA.canvas.clientHeight;o.x=((n.x-u)*s/c-.5)*2,o.y=-((n.y-l)*s/h-.5)*2,o.z=t;let d=new I(0,0,0),f=NA.helpMatrix2;f.copyFrom(i.projectionMatrix),f.invert();let p=NA.helpMatrix;return p.identity(),p.multiply(f),p.multiply(i.transform.worldMatrix),p.perspectiveMultiplyPoint3(o,d),d}static Projection(A,e,t){let i=t||new I(0,0,0),n=NA.helpMatrix;n.copyFrom(e.viewMatrix),n.multiply(e.projectionMatrix),n.perspectiveMultiplyPoint3(A,i);let s=iA.canvas.clientWidth/2,o=iA.canvas.clientHeight/2;return i.x=i.x*s+s,i.y=o-i.y*o,i}static UnProjection2(A,e,t,i,n){let s=n||new I(0,0,0),o=NA.helpMatrix;o.copyFrom(i.pvMatrixInv);let u=iA.canvas.clientWidth/2,l=iA.canvas.clientHeight/2;return s.x=(A-u)/u,s.y=(l-e)/l,s.z=t,o.perspectiveMultiplyPoint3(s,s),s}}const Li=class Li{static init(){this.directionLightList=new Map,this.pointLightList=new Map,this.shadowLights=new Map}static createBuffer(A){if(!this.shadowLights.has(A.scene)){let e=new Float32Array(16);this.shadowLights.set(A.scene,e)}}static getShadowLightList(A){if(!A.transform.view3D)return null;if(A.lightData.lightType==At.DirectionLight){let e=this.directionLightList.get(A.transform.view3D.scene);return e||(e=[],this.directionLightList.set(A.transform.view3D.scene,e)),e}else if(A.lightData.lightType==At.PointLight){let e=this.pointLightList.get(A.transform.view3D.scene);return e||(e=[],this.pointLightList.set(A.transform.view3D.scene,e)),e}else if(A.lightData.lightType==At.SpotLight){let e=this.pointLightList.get(A.transform.view3D.scene);return e||(e=[],this.pointLightList.set(A.transform.view3D.scene,e)),e}}static getShadowLightWhichScene(A,e){if(e==At.DirectionLight){let t=this.directionLightList.get(A);return t||(t=[],this.directionLightList.set(A,t)),t}else if(e==At.PointLight){let t=this.pointLightList.get(A);return t||(t=[],this.pointLightList.set(A,t)),t}}static getDirectShadowLightWhichScene(A){let e=this.directionLightList.get(A);return e||(e=[],this.directionLightList.set(A,e)),e}static getPointShadowLightWhichScene(A){let e=this.pointLightList.get(A);return e||(e=[],this.pointLightList.set(A,e)),e}static addShadowLight(A){if(!A.transform.view3D)return null;let e=A.transform.view3D.scene;if(A.lightData.lightType==At.DirectionLight){let t=this.directionLightList.get(e);if(t||(t=[],this.directionLightList.set(e,t)),!A.shadowCamera){A.shadowCamera=it.createCamera3DObject(null,"shadowCamera"),A.shadowCamera.isShadowCamera=!0;let i=-1e3;A.shadowCamera.orthoOffCenter(i,-i,i,-i,1,1e4)}return t.indexOf(A)==-1&&t.push(A),t}else if(A.lightData.lightType==At.PointLight||A.lightData.lightType==At.SpotLight){let t=this.pointLightList.get(e);return t&&t.length>=8||(t||(t=[],this.pointLightList.set(e,t)),t.indexOf(A)==-1&&t.push(A)),t}}static removeShadowLight(A){if(A.lightData.castShadowIndex=-1,!A.transform.view3D)return null;if(A.lightData.lightType==At.DirectionLight){let e=this.directionLightList.get(A.transform.view3D.scene);if(e){let t=e.indexOf(A);t!=-1&&e.splice(t,1)}return A.lightData.castShadowIndex=-1,e}else if(A.lightData.lightType==At.PointLight||A.lightData.lightType==At.SpotLight){let e=this.pointLightList.get(A.transform.view3D.scene);if(e){let t=e.indexOf(A);t!=-1&&e.splice(t,1)}return A.lightData.castShadowIndex=-1,e}}static update(A){let e=Le.getCameraGroup(A.camera),t=this.shadowLights.get(A.scene),i=Li.directionLightList.get(A.scene),n=Li.pointLightList.get(A.scene),s=0,o=0,u=0,l=0;if(t.fill(0),i){let c=0;for(let h=0;h<i.length;h++){const d=i[h];t[h]=d.lightData.index,d.lightData.castShadowIndex=c++}o=i.length}if(e.dirShadowStart=s,e.dirShadowEnd=o,n){u=o;let c=0;for(let h=u;h<n.length;h++){const d=n[h];t[h]=d.lightData.index,d.lightData.castShadowIndex=c++}l=u+n.length}e.pointShadowStart=u,e.pointShadowEnd=l,e.shadowLights=t}};a(Li,"maxNumDirectionShadow",8),a(Li,"maxNumPointShadow",8),a(Li,"directionLightList"),a(Li,"pointLightList"),a(Li,"shadowLights");let Ir=Li;class s0{static getGlobalDataBindGroupLayout(){if(this._globalDataBindGroupLayout)return this._globalDataBindGroupLayout;let A=[];return A.push({binding:0,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE,buffer:{type:"uniform"}}),A.push({binding:1,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}),this._globalDataBindGroupLayout=iA.device.createBindGroupLayout({entries:A}),this._globalDataBindGroupLayout}}a(s0,"_globalDataBindGroupLayout");class w4{constructor(A){a(this,"uuid");a(this,"usage");a(this,"globalBindGroup");a(this,"uniformGPUBuffer");a(this,"matrixBindGroup");a(this,"uniformByteLength");a(this,"matrixesByteLength");a(this,"shadowMatrixRaw",new Float32Array(8*16));a(this,"csmMatrixRaw",new Float32Array(bi.Cascades*16));a(this,"csmShadowBias",new Float32Array(4));a(this,"shadowLights",new Float32Array(16));a(this,"dirShadowStart",0);a(this,"dirShadowEnd",0);a(this,"pointShadowStart",0);a(this,"pointShadowEnd",0);this.uuid=ii(),this.usage=GPUBufferUsage.UNIFORM|GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST,this.uniformGPUBuffer=new i1(8192),this.uniformGPUBuffer.visibility=GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE,this.matrixBindGroup=A,this.createBindGroup()}createBindGroup(){this.uniformByteLength=this.uniformGPUBuffer.memory.shareDataBuffer.byteLength,this.matrixesByteLength=NA.blockBytes*NA.maxCount,this.globalBindGroup=iA.device.createBindGroup({label:"global_bindGroupLayout",layout:s0.getGlobalDataBindGroupLayout(),entries:[{binding:0,resource:{buffer:this.uniformGPUBuffer.buffer,offset:0,size:this.uniformByteLength}},{binding:1,resource:{buffer:this.matrixBindGroup.matrixBufferDst.buffer,offset:0,size:this.matrixesByteLength}}]})}setCamera(A){this.uniformGPUBuffer.setMatrix("_projectionMatrix",A.projectionMatrix),this.uniformGPUBuffer.setMatrix("_viewMatrix",A.viewMatrix),this.uniformGPUBuffer.setMatrix("_cameraWorldMatrix",A.transform.worldMatrix),this.uniformGPUBuffer.setMatrix("pvMatrixInv",A.projectionMatrixInv);let e=Ir.getDirectShadowLightWhichScene(A.transform.scene3D);this.csmShadowBias.fill(1e-4),this.shadowMatrixRaw.fill(0),this.csmMatrixRaw.fill(0);for(let s=0;s<8;s++)if(s<e.length){let o=e[s].shadowCamera;this.shadowMatrixRaw.set(o.pvMatrix.rawData,s*16)}else this.shadowMatrixRaw.set(A.transform.worldMatrix.rawData,s*16);this.uniformGPUBuffer.setFloat32Array("shadowMatrix",this.shadowMatrixRaw);let t=K.setting.shadow.shadowSize;if(A.enableCSM&&e[0])for(let s=0;s<bi.Cascades;s++){let o=A.csm.children[s].shadowCamera;this.csmMatrixRaw.set(o.pvMatrix.rawData,s*16),this.csmShadowBias[s]=A.getCSMShadowBias(s,t)}this.uniformGPUBuffer.setFloat32Array("csmShadowBias",this.csmShadowBias),this.uniformGPUBuffer.setFloat32Array("csmMatrix",this.csmMatrixRaw),this.uniformGPUBuffer.setFloat32Array("shadowLights",this.shadowLights),this.uniformGPUBuffer.setVector3("CameraPos",A.transform.worldPosition),this.uniformGPUBuffer.setFloat("frame",be.frame),this.uniformGPUBuffer.setFloat("time",be.frame),this.uniformGPUBuffer.setFloat("delta",be.delta),this.uniformGPUBuffer.setFloat("shadowBias",A.getShadowBias(t)),this.uniformGPUBuffer.setFloat("skyExposure",K.setting.sky.skyExposure),this.uniformGPUBuffer.setFloat("renderPassState",K.setting.render.renderPassState),this.uniformGPUBuffer.setFloat("quadScale",K.setting.render.quadScale),this.uniformGPUBuffer.setFloat("hdrExposure",K.setting.render.hdrExposure),this.uniformGPUBuffer.setInt32("renderState_left",K.setting.render.renderState_left),this.uniformGPUBuffer.setInt32("renderState_right",K.setting.render.renderState_right),this.uniformGPUBuffer.setFloat("renderState_split",K.setting.render.renderState_split);let i=K.inputSystem.mouseX*iA.pixelRatio,n=K.inputSystem.mouseY*iA.pixelRatio;this.uniformGPUBuffer.setFloat("mouseX",i),this.uniformGPUBuffer.setFloat("mouseY",n),this.uniformGPUBuffer.setFloat("windowWidth",iA.windowWidth),this.uniformGPUBuffer.setFloat("windowHeight",iA.windowHeight),this.uniformGPUBuffer.setFloat("near",A.near),this.uniformGPUBuffer.setFloat("far",A.far),this.uniformGPUBuffer.setFloat("pointShadowBias",K.setting.shadow.pointShadowBias),this.uniformGPUBuffer.setFloat("shadowMapSize",t),this.uniformGPUBuffer.setFloat("shadowSoft",K.setting.shadow.shadowSoft),this.uniformGPUBuffer.setFloat("enableCSM",A.enableCSM?1:0),this.uniformGPUBuffer.setFloat("csmMargin",K.setting.shadow.csmMargin),this.uniformGPUBuffer.setInt32("nDirShadowStart",this.dirShadowStart),this.uniformGPUBuffer.setInt32("nDirShadowEnd",this.dirShadowEnd),this.uniformGPUBuffer.setInt32("nPointShadowStart",this.pointShadowStart),this.uniformGPUBuffer.setInt32("nPointShadowEnd",this.pointShadowEnd),this.uniformGPUBuffer.setInt32("empty1",0),this.uniformGPUBuffer.setInt32("empty2",0),this.uniformGPUBuffer.setInt32("empty3",0),this.uniformGPUBuffer.setVector4Array("frustumPlanes",A.frustum.planes),this.uniformGPUBuffer.apply()}setShadowCamera(A){this.uniformGPUBuffer.setMatrix("_projectionMatrix",A.projectionMatrix),this.uniformGPUBuffer.setMatrix("_viewMatrix",A.viewMatrix),this.uniformGPUBuffer.setMatrix("_pvMatrix",A.pvMatrix),this.uniformGPUBuffer.setMatrix("pvMatrixInv",A.projectionMatrixInv),this.csmShadowBias.fill(1e-4),this.shadowMatrixRaw.fill(0),this.csmMatrixRaw.fill(0),this.uniformGPUBuffer.setFloat32Array("shadowCamera",this.shadowMatrixRaw),this.uniformGPUBuffer.setFloat32Array("csmShadowBias",this.csmShadowBias),this.uniformGPUBuffer.setFloat32Array("csmMatrix",this.csmMatrixRaw),this.uniformGPUBuffer.setFloat32Array("shadowLights",this.shadowLights),this.uniformGPUBuffer.setVector3("CameraPos",A.transform.worldPosition),this.uniformGPUBuffer.setFloat("frame",be.frame),this.uniformGPUBuffer.setFloat("time",be.frame),this.uniformGPUBuffer.setFloat("delta",be.delta),this.uniformGPUBuffer.setFloat("shadowBias",K.setting.shadow.shadowBias),this.uniformGPUBuffer.setFloat("skyExposure",K.setting.sky.skyExposure),this.uniformGPUBuffer.setFloat("renderPassState",K.setting.render.renderPassState),this.uniformGPUBuffer.setFloat("quadScale",K.setting.render.quadScale),this.uniformGPUBuffer.setFloat("hdrExposure",K.setting.render.hdrExposure),this.uniformGPUBuffer.setInt32("renderState_left",K.setting.render.renderState_left),this.uniformGPUBuffer.setInt32("renderState_right",K.setting.render.renderState_right),this.uniformGPUBuffer.setFloat("renderState_split",K.setting.render.renderState_split);let e=K.inputSystem.mouseX*iA.pixelRatio,t=K.inputSystem.mouseY*iA.pixelRatio;this.uniformGPUBuffer.setFloat("mouseX",e),this.uniformGPUBuffer.setFloat("mouseY",t),this.uniformGPUBuffer.setFloat("windowWidth",iA.windowWidth),this.uniformGPUBuffer.setFloat("windowHeight",iA.windowHeight),this.uniformGPUBuffer.setFloat("near",A.near),this.uniformGPUBuffer.setFloat("far",A.far),this.uniformGPUBuffer.setFloat("pointShadowBias",K.setting.shadow.pointShadowBias),this.uniformGPUBuffer.setFloat("shadowMapSize",K.setting.shadow.shadowSize),this.uniformGPUBuffer.setFloat("shadowSoft",K.setting.shadow.shadowSoft),this.uniformGPUBuffer.setFloat("enableCSM",0),this.uniformGPUBuffer.setFloat("csmMargin",K.setting.shadow.csmMargin),this.uniformGPUBuffer.setInt32("nDirShadowStart",this.dirShadowStart),this.uniformGPUBuffer.setInt32("nDirShadowEnd",this.dirShadowEnd),this.uniformGPUBuffer.setInt32("nPointShadowStart",this.pointShadowStart),this.uniformGPUBuffer.setInt32("nPointShadowEnd",this.pointShadowEnd),this.uniformGPUBuffer.apply()}setShadowLight(){}}const Vr=class Vr{constructor(A,e=0,t=null,i=0){a(this,"entities");a(this,"box");a(this,"subTrees",[]);a(this,"parent");a(this,"level");a(this,"index");a(this,"uuid");a(this,"__rayCastTempVector",new I);this.parent=t,this.box=A.clone(),this.level=i,this.index=e,this.uuid=i+"_"+e,this.entities=new Map}tryInsertEntity(A){let e=A.renderer.object3D.bound;if(this.level==0||this.box.containsBox(e)){this.subTrees.length==0&&this.level<Vr.maxSplitLevel&&this.splitTree();let t;if(this.subTrees.length>0){for(let i of this.subTrees)if(i.tryInsertEntity(A)){t=!0;break}}return t||A.enterNode(this),!0}return!1}splitTree(){if(this.subTrees.length==0){const A=Vr._v1,e=this.box.extents.clone();let t=this.level+1,i=0;for(let n=0;n<2;n++)for(let s=0;s<2;s++)for(let o=0;o<2;o++){const u=new Qe;this.box.min.add(A.set(n,s,o).multiply(e),u.min),u.min.add(e,u.max),u.setFromMinMax(u.min,u.max);let l=new Vr(u,i++,this,t);this.subTrees.push(l)}}}rayCasts(A,e){if(this.level==0||A.intersectBox(this.box,this.__rayCastTempVector)){this.entities.size>0&&e.push(...this.entities.values());for(let t of this.subTrees)t.rayCasts(A,e);return!0}return!1}frustumCasts(A,e){if(this.level==0||A.containsBox2(this.box)>0){if(this.entities.size>0)for(const t of this.entities.values())(this.level>Vr.autoSplitLevel||A.containsBox2(t.renderer.object3D.bound)>0)&&e.push(t);for(let t of this.subTrees)t.frustumCasts(A,e);return!0}return!1}getRenderNode(A,e){if(this.level==0||A.containsBox2(this.box)>0){if(this.entities.size>0)for(const t of this.entities.values())(this.level>Vr.autoSplitLevel||A.containsBox2(t.renderer.object3D.bound)>0)&&(t.renderer.renderOrder<3e3?e.opaqueList.push(t.renderer):t.renderer.renderOrder>=3e3&&e.transparentList.push(t.renderer));for(let t of this.subTrees)t.getRenderNode(A,e);return!0}return!1}boxCasts(A,e){if(A.intersectsBox(this.box)){this.entities.size>0&&e.push(...this.entities.values());for(let t of this.subTrees)t.boxCasts(A,e);return!0}return!1}clean(){for(let A of this.entities.values())A.leaveNode();return this.entities.clear(),this}};a(Vr,"_v1",new I),a(Vr,"_v2",new I),a(Vr,"maxSplitLevel",6),a(Vr,"autoSplitLevel",3);let $d=Vr;class b4{constructor(){a(this,"_pool",[]);a(this,"_worldPosition",new I);a(this,"_viewPosition",new I);a(this,"_zSortList",[])}pop(){return this._pool.pop()||{}}recycle(){for(let A of this._zSortList)A.z=0,A.userData=null,A.obj3d=null,this._pool.push(A);this._zSortList.length=0}sort(A,e,t,i){this._zSortList=[];for(let n of e){let s=this.pop();s.userData=n,s.obj3d=t(n),s.z=this.worldToCameraDepth(s.obj3d,A),this._zSortList.push(s)}this._zSortList.sort((n,s)=>n.z-s.z>0?1:-1),i||(i=[]);for(let n of this._zSortList)i.push(n.userData);return this.recycle(),i}worldToCameraDepth(A,e){e||(e=A.transform.view3D.camera);let t=0;return e&&(this._worldPosition.copyFrom(A.transform.worldPosition),e.worldToScreenPoint(this._worldPosition,this._viewPosition),t=this._viewPosition.z),t}}let I4=new b4;var tc=(r=>(r[r.None=2]="None",r[r.StaticBatch=4]="StaticBatch",r[r.DynamicBatch=8]="DynamicBatch",r))(tc||{});class yg{static addMask(A,e){return A|e}static removeMask(A,e){return A&~e}static hasMask(A,e){return(A&e)!=0}}var QA=(r=>(r[r.COLOR=1]="COLOR",r[r.NORMAL=2]="NORMAL",r[r.POSITION=4]="POSITION",r[r.GRAPHIC=8]="GRAPHIC",r[r.GI=16]="GI",r[r.Cluster=32]="Cluster",r[r.SHADOW=64]="SHADOW",r[r.POINT_SHADOW=128]="POINT_SHADOW",r[r.POST=256]="POST",r[r.DEPTH=512]="DEPTH",r[r.REFLECTION=1024]="REFLECTION",r))(QA||{});class fe{}a(fe,"GLTF_NODE_INDEX_PROPERTY"),a(fe,"BASE_COLOR_UNIFORM","u_baseColorFactor"),a(fe,"BASE_COLOR_TEXTURE_UNIFORM","u_baseColorSampler"),a(fe,"METALROUGHNESS_UNIFORM","u_metallicRoughnessValues"),a(fe,"METALROUGHNESS_TEXTURE_UNIFORM","u_metallicRoughnessSampler"),a(fe,"NORMAL_TEXTURE_UNIFORM","u_normalSampler"),a(fe,"NORMAL_SCALE_UNIFORM","u_normalScale"),a(fe,"EMISSIVE_TEXTURE_UNIFORM","u_emissiveSampler"),a(fe,"EMISSIVE_FACTOR_UNIFORM","u_emissiveFactor"),a(fe,"OCCLUSION_TEXTURE_UNIFORM","u_occlusionSampler"),a(fe,"OCCLUSION_FACTOR_UNIFORM","u_occlusionFactor"),a(fe,"MAX_MORPH_TARGETS",8),a(fe,"MORPH_POSITION_PREFIX","a_morphPositions_"),a(fe,"MORPH_NORMAL_PREFIX","a_morphNormals_"),a(fe,"MORPH_TANGENT_PREFIX","a_morphTangents_"),a(fe,"MORPH_WEIGHT_UNIFORM","u_morphWeights"),a(fe,"SCENE_ROOT_SKELETON","SCENE_ROOT"),a(fe,"IDENTITY_INVERSE_BIND_MATRICES","IDENTITY_IBM"),a(fe,"JOINT_MATRICES_UNIFORM","u_jointMatrix"),a(fe,"ALPHA_CUTOFF_UNIFORM","u_alphaCutoff");var pA=(r=>(r.position="position",r.normal="normal",r.uv="uv",r.TANGENT="TANGENT",r.TEXCOORD_1="TEXCOORD_1",r.TEXCOORD_2="TEXCOORD_2",r.TEXCOORD_3="TEXCOORD_3",r.TEXCOORD_4="TEXCOORD_4",r.TEXCOORD_5="TEXCOORD_5",r.TEXCOORD_6="TEXCOORD_6",r.TEXCOORD_7="TEXCOORD_7",r.color="color",r.joints0="joints0",r.joints1="joints1",r.weights0="weights0",r.weights1="weights1",r.weight="weight",r.indices="indices",r.vIndex="vIndex",r.a_morphPositions_0="a_morphPositions_0",r.all="all",r))(pA||{}),ee=(r=>(r[r.NONE=0]="NONE",r[r.ABOVE=1]="ABOVE",r[r.ALPHA=2]="ALPHA",r[r.NORMAL=3]="NORMAL",r[r.ADD=4]="ADD",r[r.BELOW=5]="BELOW",r[r.ERASE=6]="ERASE",r[r.MUL=7]="MUL",r[r.SCREEN=8]="SCREEN",r[r.DIVD=9]="DIVD",r[r.SOFT_ADD=10]="SOFT_ADD",r))(ee||{}),B4=(r=>(r[r.src_a=0]="src_a",r[r.dest_a=1]="dest_a",r))(B4||{});class T4{static getBlend(A){let e={color:{srcFactor:"src-alpha",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}};switch(A){case 0:e.color.srcFactor="one",e.color.dstFactor="zero",e.color.operation="add";break;case 1:e.color.srcFactor="one-minus-src-alpha",e.color.dstFactor="dst-alpha",e.color.operation="add";break;case 4:e.color.srcFactor="one",e.color.dstFactor="one",e.color.operation="add",e.alpha.srcFactor="one",e.alpha.dstFactor="one",e.alpha.operation="add";break;case 2:e.color.srcFactor="src-alpha",e.color.dstFactor="one-minus-src-alpha";break;case 5:e.color.srcFactor="one-minus-src-alpha",e.color.dstFactor="one",e.color.operation="add";break;case 6:e.color.srcFactor="zero",e.color.dstFactor="one-minus-src-alpha",e.color.operation="add";break;case 7:e.color.srcFactor="dst",e.color.dstFactor="one-minus-src-alpha",e.color.operation="add";break;case 3:e.color.srcFactor="src-alpha",e.color.dstFactor="one-minus-src-alpha",e.color.operation="add";break;case 10:e.color.srcFactor="one",e.color.dstFactor="one",e.color.operation="max",e.alpha.srcFactor="one",e.alpha.dstFactor="one",e.alpha.operation="add";break;case 8:e.color.srcFactor="one",e.color.dstFactor="one-minus-src",e.color.operation="add";break}return e}}const yr=class yr{static getMipmapPipeline(A){let e=A.format,t=iA.device,i=yr.pipelineCache[A.format],n;if(!i){n=t.createShaderModule({code:yr.mipmapShader});let s=t.createBindGroupLayout({entries:[{binding:0,visibility:A.visibility,sampler:A.samplerBindingLayout},{binding:1,visibility:A.visibility,texture:A.textureBindingLayout}]}),o=iA.device.createPipelineLayout({bindGroupLayouts:[s]});i=sA.createPipeline({layout:o,vertex:{module:n,entryPoint:"vertexMain"},fragment:{module:n,entryPoint:"fragmentMain",targets:[{format:e}]}}),yr.pipelineCache[e]=i}return i}static getMipmapCount(A){let e=A.width,t=A.height,i=Math.max(e,t);return 1+Math.log2(i)|0}static webGPUGenerateMipmap(A){let e=iA.device,t=A.textureDescriptor;if(!yr.pipeline){const o=e.createShaderModule({code:`
        var<private> pos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(
          vec2<f32>(-1.0, 1.0), vec2<f32>(1.0, 1.0),
          vec2<f32>(-1.0, -1.0), vec2<f32>(1.0, -1.0));

        struct VertexOutput {
          @builtin(position) position : vec4<f32>,
          @location(0) texCoord : vec2<f32>
        };

        @vertex
        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
          var output : VertexOutput;
          output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
          output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
          return output;
        }

        @binding(0) @group(0) var imgSampler : sampler;
        @binding(1) @group(0) var img : texture_2d<f32>;

        @fragment
        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
          var outColor: vec4<f32> = textureSampleLevel(img, imgSampler, texCoord , 0.0 );
          return outColor;
        }
      `});yr.pipeline=e.createRenderPipeline({layout:"auto",vertex:{module:o,entryPoint:"vertexMain"},fragment:{module:o,entryPoint:"fragmentMain",targets:[{format:t.format}]},primitive:{topology:"triangle-strip",stripIndexFormat:"uint32"}})}let i;A.format=="rgba16float"?i=e.createSampler({minFilter:"nearest",magFilter:"linear"}):i=e.createSampler({minFilter:qi.linear,magFilter:qi.linear});let n=A.getGPUTexture().createView({baseMipLevel:0,mipLevelCount:1});const s=sA.beginCommandEncoder();for(let o=1;o<t.mipLevelCount;++o){const u=A.getGPUTexture().createView({baseMipLevel:o,mipLevelCount:1}),l=s.beginRenderPass({colorAttachments:[{view:u,clearValue:[0,0,0,0],loadOp:"clear",storeOp:"store"}]}),c=e.createBindGroup({layout:yr.pipeline.getBindGroupLayout(0),entries:[{binding:0,resource:i},{binding:1,resource:n}]});l.setPipeline(yr.pipeline),l.setBindGroup(0,c),l.draw(4),l.end(),n=u}sA.endCommandEncoder(s)}};a(yr,"mipmapShader",`
    var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));
      struct VertexOutput {
        @builtin(position) position : vec4<f32>;
        @location(0) texCoord : vec2<f32>;
      };
      @vertex
      fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
        var output : VertexOutput;
        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
        return output;
      }
      @binding(0) @group(0) var imgSampler : sampler;
      @binding(1) @group(0) var img : texture_2d<f32>;
      @fragment
      fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
        var outColor: vec4<f32> = textureSample(img, imgSampler, texCoord);
        return outColor ;
      }`),a(yr,"pipelineCache",{}),a(yr,"pipeline");let Us=yr;class Tt{constructor(A=32,e=32,t=1){a(this,"name");a(this,"url");a(this,"gpuTexture");a(this,"pid");a(this,"view");a(this,"gpuSampler");a(this,"gpuSampler_comparison");a(this,"format");a(this,"usage");a(this,"width",4);a(this,"height",4);a(this,"depthOrArrayLayers",1);a(this,"numberLayer",1);a(this,"viewDescriptor");a(this,"textureDescriptor");a(this,"visibility",GPUShaderStage.COMPUTE|GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT);a(this,"textureBindingLayout",{viewDimension:"2d",multisampled:!1});a(this,"samplerBindingLayout",{type:"filtering"});a(this,"sampler_comparisonBindingLayout",{type:"comparison"});a(this,"flipY");a(this,"isVideoTexture");a(this,"isHDRTexture");a(this,"_useMipmap",!1);a(this,"_sourceImageData");a(this,"_addressModeU");a(this,"_addressModeV");a(this,"_addressModeW");a(this,"_magFilter");a(this,"_minFilter");a(this,"_mipmapFilter");a(this,"_lodMinClamp");a(this,"_lodMaxClamp");a(this,"_compare");a(this,"_maxAnisotropy");a(this,"mipmapCount",1);a(this,"_textureChange",!1);a(this,"_stateChangeRef",new Map);this.width=A,this.height=e,this.numberLayer=t,this.minFilter=qi.linear,this.magFilter=qi.linear,this.mipmapFilter=qi.linear,this.addressModeU=xr.repeat,this.addressModeV=xr.repeat}init(){let A=this;return A.internalCreateBindingLayoutDesc&&A.internalCreateBindingLayoutDesc(),A.internalCreateTexture&&A.internalCreateTexture(),A.internalCreateView&&A.internalCreateView(),A.internalCreateSampler&&A.internalCreateSampler(),this}createTextureDescriptor(A,e,t,i,n=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.STORAGE_BINDING,s=1,o=0){this.width=A,this.height=e,this.format=i,this.usage=n,this.textureDescriptor={size:[A,e,s],mipLevelCount:t,format:i,usage:n,label:`${this.name+this.width+this.height+this.format}`},o>0&&(this.textureDescriptor.sampleCount=o),s>1?this.viewDescriptor={dimension:"2d-array"}:this.viewDescriptor={dimension:this.textureBindingLayout.viewDimension,mipLevelCount:t,baseMipLevel:0}}generate(A){let e=32,t=32;"width"in A&&(e=A.width,t=A.height),(e<32||t<32)&&console.log(A.name+"Size must be greater than 32!"),this.width=e,this.height=t,this.createTexture(A)}createTexture(A){this._sourceImageData=A,this.updateTextureDescription(),this.updateGPUTexture();let e=iA.device;this.gpuTexture instanceof GPUTexture&&e.queue.copyExternalImageToTexture({source:this._sourceImageData},{texture:this.gpuTexture},[this.width,this.height]),this.useMipmap&&Us.webGPUGenerateMipmap(this)}get useMipmap(){return this._useMipmap}set useMipmap(A){if(A){if(this.samplerBindingLayout.type="filtering",this._useMipmap==!1&&this._sourceImageData){this._useMipmap=!0,this.updateTextureDescription(),this.updateGPUTexture();let e=iA.device;this.gpuTexture instanceof GPUTexture&&e.queue.copyExternalImageToTexture({source:this._sourceImageData},{texture:this.gpuTexture},[this.width,this.height]),Us.webGPUGenerateMipmap(this)}}else if(this.samplerBindingLayout.type="non-filtering",this._useMipmap==!0&&this._sourceImageData){this._useMipmap=!1,this.updateTextureDescription(),this.updateGPUTexture();let e=iA.device;this.gpuTexture instanceof GPUTexture&&e.queue.copyExternalImageToTexture({source:this._sourceImageData},{texture:this.gpuTexture},[this.width,this.height])}this._textureChange=!0,this._useMipmap=A,this.noticeChange()}get sourceImageData(){return this._sourceImageData}getMipmapCount(){let A=this.width,e=this.height,t=Math.max(A,e);return 1+Math.log2(t)|0}updateTextureDescription(){this.mipmapCount=Math.floor(this.useMipmap?this.getMipmapCount():1),this.createTextureDescriptor(this.width,this.height,this.mipmapCount,this.format)}updateGPUTexture(){this.gpuTexture&&this.gpuTexture instanceof GPUTexture&&this.gpuTexture.destroy(),this.gpuTexture=null,this.view=null,this.gpuTexture=this.getGPUTexture()}getGPUTexture(){return this.gpuTexture||(this.gpuTexture=iA.device.createTexture(this.textureDescriptor)),this.gpuTexture}getGPUView(A=0){return this.view||(this.gpuTexture=this.getGPUTexture(),this.gpuTexture instanceof GPUTexture&&(this.view=this.gpuTexture.createView(this.viewDescriptor),this.view.label=this.name)),this.view}bindStateChange(A,e){this._stateChangeRef.set(e,A)}unBindStateChange(A){this._stateChangeRef.delete(A)}noticeChange(){this.gpuSampler=iA.device.createSampler(this),this._stateChangeRef.forEach((A,e)=>{A()})}destroy(A){A&&this.gpuTexture instanceof GPUTexture&&(this.gpuSampler=null,this.gpuSampler_comparison=null,this.textureBindingLayout=null,this.textureDescriptor=null,this.gpuTexture.destroy(),this.gpuTexture=null),this._stateChangeRef.clear()}get addressModeU(){return this._addressModeU}set addressModeU(A){this._addressModeU!=A&&(this._addressModeU=A,this.noticeChange())}get addressModeV(){return this._addressModeV}set addressModeV(A){this._addressModeV!=A&&(this._addressModeV=A,this.noticeChange())}get addressModeW(){return this._addressModeW}set addressModeW(A){this._addressModeW!=A&&(this._addressModeW=A,this.noticeChange())}get magFilter(){return this._magFilter}set magFilter(A){this._magFilter!=A&&(this._magFilter=A,this.noticeChange())}get minFilter(){return this._minFilter}set minFilter(A){this._minFilter!=A&&(this._minFilter=A,this.noticeChange())}get mipmapFilter(){return this._mipmapFilter}set mipmapFilter(A){this._mipmapFilter!=A&&(this._mipmapFilter=A,this.noticeChange())}get lodMinClamp(){return this._lodMinClamp}set lodMinClamp(A){this._lodMinClamp!=A&&(this._lodMinClamp=A,this.noticeChange())}get lodMaxClamp(){return this._lodMaxClamp}set lodMaxClamp(A){this._lodMaxClamp!=A&&(this._lodMaxClamp=A,this.noticeChange())}get compare(){return this._compare}set compare(A){this._compare!=A&&(this._compare=A,this.noticeChange())}get maxAnisotropy(){return this._maxAnisotropy}set maxAnisotropy(A){this._maxAnisotropy!=A&&(this._maxAnisotropy=A,this.noticeChange())}static delayDestroyTexture(A){this._texs.includes(A)||this._texs.push(A)}static destroyTexture(){if(this._texs.length>0)for(;this._texs.length>0;)this._texs.shift().destroy()}}a(Tt,"_texs",[]);class D4 extends Tt{constructor(e,t,i){super(e,t,i);a(this,"_bitmapTextures");this.format=MA.rgba8unorm,this.mipmapCount=1,this._bitmapTextures=[],this.init()}setTextures(e){this._bitmapTextures.length=0;for(let t=0;t<e.length;t++){const i=e[t];this.addTexture(i)}}addTexture(e){(e.width!=this.width||e.height!=this.height)&&console.error("bitmap texture must match bitmapTextureArray size!"),e.pid=this._bitmapTextures.length,this._bitmapTextures.push(e),this.updateTexture()}removeTexture(e){let t=this._bitmapTextures.indexOf(e);if(t!=-1){this._bitmapTextures.splice(t,1);for(let i=0;i<this._bitmapTextures.length;i++){const n=this._bitmapTextures[i];n.pid=i}}}updateTexture(){let e=sA.beginCommandEncoder();for(let t=0;t<this._bitmapTextures.length;t++){let i=this._bitmapTextures[t];e.copyTextureToTexture({texture:i.getGPUTexture(),mipLevel:0,origin:{x:0,y:0,z:0}},{texture:this.getGPUTexture(),mipLevel:0,origin:{x:0,y:0,z:t}},{width:this.width,height:this.height,depthOrArrayLayers:1})}sA.endCommandEncoder(e)}internalCreateBindingLayoutDesc(){this.textureBindingLayout.viewDimension="2d-array",this.samplerBindingLayout.type="filtering",this.minFilter=qi.linear,this.magFilter=qi.linear}internalCreateTexture(){this.textureDescriptor={format:this.format,size:{width:this.width,height:this.height,depthOrArrayLayers:this.numberLayer},dimension:"2d",usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING},this.gpuTexture=this.getGPUTexture()}internalCreateView(){this.viewDescriptor={dimension:"2d-array"},this.view=this.getGPUView()}internalCreateSampler(){this.gpuSampler=iA.device.createSampler(this)}}const Qr=class Qr{constructor(){a(this,"_iesTexture");a(this,"index",0)}generateIES(A){}set IESTexture(A){this._iesTexture=A,A.addressModeU=xr.repeat,A.addressModeV=xr.repeat,A.addressModeW=xr.repeat,Qr.ies_list.indexOf(this)==-1&&(this.index=Qr.ies_list.length,Qr.ies_list.push(this),Qr.iesTexture||Qr.create(A.width,A.height),Qr.iesTexture.addTexture(A))}get IESTexture(){return this._iesTexture}static create(A,e){let t=48;this.iesTexture=new D4(A,e,t)}};a(Qr,"use",!1),a(Qr,"iesTexture"),a(Qr,"ies_list",[]);let au=Qr;class Xu{constructor(A=0,e="\0"){a(this,"Type",0);a(this,"Line",0);a(this,"Colume",0);a(this,"Literal","");this.Type=A,this.Literal=e}isTypeEqual(A){return this.Type==A}isLiteralEqual(A){return this.Literal==A}isBuiltinType(){return this.Type>33&&this.Type<101}isDataType(){return this.Type==1||this.isBuiltinType()}isOperation(){return this.Type>102&&this.Type<127}isAssignOperation(){return this.Type>128&&this.Type<133}get nOperationPriorityLevel(){switch(this.Type){case 26:return 1;case 27:return 1;case 125:return 2;case 110:return 3;case 114:return 3;case 105:return 4;case 106:return 4;case 103:return 5;case 104:return 5;case 115:return 6;case 116:return 6;case 119:return 7;case 120:return 7;case 122:return 7;case 123:return 7;case 121:return 8;case 124:return 8;case 111:return 9;case 113:return 10;case 112:return 11;case 107:return 12;case 109:return 13;case 108:return 14;case 24:return 15;case 126:return 16;case 129:return 16;case 130:return 16;case 131:return 16;case 132:return 16}return 99}}var U=(r=>(r[r.EOF=0]="EOF",r[r.IDENT=1]="IDENT",r[r.VOID=2]="VOID",r[r.CONST=3]="CONST",r[r.LAYOUT=4]="LAYOUT",r[r.PRECISION=5]="PRECISION",r[r.ATTRIBUTE=6]="ATTRIBUTE",r[r.UNIFORM=7]="UNIFORM",r[r.VARYING=8]="VARYING",r[r.INVARIANT=9]="INVARIANT",r[r.IN=10]="IN",r[r.OUT=11]="OUT",r[r.INOUT=12]="INOUT",r[r.IF=13]="IF",r[r.ELSE=14]="ELSE",r[r.FOR=15]="FOR",r[r.WHILE=16]="WHILE",r[r.DO=17]="DO",r[r.BREAK=18]="BREAK",r[r.RETURN=19]="RETURN",r[r.CONTINUE=20]="CONTINUE",r[r.STRUCT=21]="STRUCT",r[r.COMMA=22]="COMMA",r[r.COLON=23]="COLON",r[r.QUEMARK=24]="QUEMARK",r[r.SEMICOLON=25]="SEMICOLON",r[r.LEFTSAMLL=26]="LEFTSAMLL",r[r.RIGHTSAMLL=27]="RIGHTSAMLL",r[r.LEFTMEDI=28]="LEFTMEDI",r[r.RIGHTMEDI=29]="RIGHTMEDI",r[r.LEFTBIG=30]="LEFTBIG",r[r.RIGHTBIG=31]="RIGHTBIG",r[r.LITERAL=32]="LITERAL",r[r.BeginBuiltinType=33]="BeginBuiltinType",r[r.INT=34]="INT",r[r.INT_ARRAY=35]="INT_ARRAY",r[r.UINT=36]="UINT",r[r.UINT_ARRAY=37]="UINT_ARRAY",r[r.BOOL=38]="BOOL",r[r.BOOL_ARRAY=39]="BOOL_ARRAY",r[r.FLOAT=40]="FLOAT",r[r.FLOAT_ARRAY=41]="FLOAT_ARRAY",r[r.DOUBLE=42]="DOUBLE",r[r.DOUBLE_ARRAY=43]="DOUBLE_ARRAY",r[r.VEC2=44]="VEC2",r[r.VEC2_ARRAY=45]="VEC2_ARRAY",r[r.VEC3=46]="VEC3",r[r.VEC3_ARRAY=47]="VEC3_ARRAY",r[r.VEC4=48]="VEC4",r[r.VEC4_ARRAY=49]="VEC4_ARRAY",r[r.BVEC2=50]="BVEC2",r[r.BVEC2_ARRAY=51]="BVEC2_ARRAY",r[r.BVEC3=52]="BVEC3",r[r.BVEC3_ARRAY=53]="BVEC3_ARRAY",r[r.BVEC4=54]="BVEC4",r[r.BVEC4_ARRAY=55]="BVEC4_ARRAY",r[r.IVEC2=56]="IVEC2",r[r.IVEC2_ARRAY=57]="IVEC2_ARRAY",r[r.IVEC3=58]="IVEC3",r[r.IVEC3_ARRAY=59]="IVEC3_ARRAY",r[r.IVEC4=60]="IVEC4",r[r.IVEC4_ARRAY=61]="IVEC4_ARRAY",r[r.UVEC2=62]="UVEC2",r[r.UVEC2_ARRAY=63]="UVEC2_ARRAY",r[r.UVEC3=64]="UVEC3",r[r.UVEC3_ARRAY=65]="UVEC3_ARRAY",r[r.UVEC4=66]="UVEC4",r[r.UVEC4_ARRAY=67]="UVEC4_ARRAY",r[r.MAT2x2=68]="MAT2x2",r[r.MAT2x2_ARRAY=69]="MAT2x2_ARRAY",r[r.MAT2x3=70]="MAT2x3",r[r.MAT2x3_ARRAY=71]="MAT2x3_ARRAY",r[r.MAT2x4=72]="MAT2x4",r[r.MAT2x4_ARRAY=73]="MAT2x4_ARRAY",r[r.MAT3x2=74]="MAT3x2",r[r.MAT3x2_ARRAY=75]="MAT3x2_ARRAY",r[r.MAT3x3=76]="MAT3x3",r[r.MAT3x3_ARRAY=77]="MAT3x3_ARRAY",r[r.MAT3x4=78]="MAT3x4",r[r.MAT3x4_ARRAY=79]="MAT3x4_ARRAY",r[r.MAT4x2=80]="MAT4x2",r[r.MAT4x2_ARRAY=81]="MAT4x2_ARRAY",r[r.MAT4x3=82]="MAT4x3",r[r.MAT4x3_ARRAY=83]="MAT4x3_ARRAY",r[r.MAT4x4=84]="MAT4x4",r[r.MAT4x4_ARRAY=85]="MAT4x4_ARRAY",r[r.SAMPLER=86]="SAMPLER",r[r.SAMPLER_1D=87]="SAMPLER_1D",r[r.SAMPLER_2D=88]="SAMPLER_2D",r[r.SAMPLER_3D=89]="SAMPLER_3D",r[r.SAMPLER_CUBE=90]="SAMPLER_CUBE",r[r.SAMPLER_SHADOW=91]="SAMPLER_SHADOW",r[r.SAMPLER_1D_SHADOW=92]="SAMPLER_1D_SHADOW",r[r.SAMPLER_2D_SHADOW=93]="SAMPLER_2D_SHADOW",r[r.TEXTURE_1D=94]="TEXTURE_1D",r[r.TEXTURE_1D_ARRAY=95]="TEXTURE_1D_ARRAY",r[r.TEXTURE_2D=96]="TEXTURE_2D",r[r.TEXTURE_2D_ARRAY=97]="TEXTURE_2D_ARRAY",r[r.TEXTURE_3D=98]="TEXTURE_3D",r[r.TEXTURE_CUBE=99]="TEXTURE_CUBE",r[r.TEXTURE_CUBE_ARRAY=100]="TEXTURE_CUBE_ARRAY",r[r.EndBuiltinType=101]="EndBuiltinType",r[r.BeginOperation=102]="BeginOperation",r[r.ADD=103]="ADD",r[r.SUB=104]="SUB",r[r.MUL=105]="MUL",r[r.DIV=106]="DIV",r[r.AND=107]="AND",r[r.OR=108]="OR",r[r.XOR=109]="XOR",r[r.NOT=110]="NOT",r[r.BITAND=111]="BITAND",r[r.BITOR=112]="BITOR",r[r.BITXOR=113]="BITXOR",r[r.BITNOT=114]="BITNOT",r[r.BITSHIFT_L=115]="BITSHIFT_L",r[r.BITSHIFT_R=116]="BITSHIFT_R",r[r.INC=117]="INC",r[r.DEC=118]="DEC",r[r.GREATER=119]="GREATER",r[r.GREATEREQUAL=120]="GREATEREQUAL",r[r.EQUAL=121]="EQUAL",r[r.LESS=122]="LESS",r[r.LESSEQUAL=123]="LESSEQUAL",r[r.NOTEQUAL=124]="NOTEQUAL",r[r.DOT=125]="DOT",r[r.ASSIGN=126]="ASSIGN",r[r.EndOperation=127]="EndOperation",r[r.BeginAssignOperation=128]="BeginAssignOperation",r[r.ADDASSIGN=129]="ADDASSIGN",r[r.SUBASSIGN=130]="SUBASSIGN",r[r.MULASSIGN=131]="MULASSIGN",r[r.DIVASSIGN=132]="DIVASSIGN",r[r.EndAssignOperation=133]="EndAssignOperation",r))(U||{});class Qa{constructor(A){a(this,"_char");a(this,"_line");a(this,"_column");a(this,"_source");a(this,"_currPosition");a(this,"_nextPosition");this.reset(A)}reset(A){this._char="",this._line=0,this._column=0,this._source=A,this._currPosition=0,this._nextPosition=0}get source(){return this._source}getChar(){return this._char}get currPosition(){return this._currPosition}peekChar(){return this._nextPosition>=this._source.length?"\0":this._source[this._nextPosition]}readChar(){this._char=this._nextPosition>=this._source.length?"\0":this._source[this._nextPosition],this._char!==`
`?this._column++:(this._line++,this._column=0),this._currPosition=this._nextPosition,this._nextPosition++}readCharAndSkipWhitespace(){this.readChar(),this.skipWhitespace()}readIdentifier(){for(var A=this._currPosition;this.isIdentifier(this._char);)this.readChar();return this._source.substring(A,this._currPosition)}isIdentifier(A){var e=A.charCodeAt(0);return 97<=e&&e<=122||65<=e&&e<=90||48<=e&&e<=57||e==95}skipWhitespace(){for(;this.IsWhitespace(this._char);)this.readChar()}IsWhitespace(A){return A===" "||A==="	"||A==="\r"||A===`
`}skipComment(){for(;this._char!==`
`&&this._char!=="\0";)this.readChar();this.skipWhitespace()}skipMultilineComment(){if(!(this._char!=="/"&&this.peekChar()!=="*")){this.readChar(),this.readChar();for(let A=1;A>0&&this._char!=="\0";)if(this.readChar(),this._char==="/"&&this.peekChar()==="*"){A++,this.readChar();continue}else if(this._char==="*"&&this.peekChar()==="/"){A--,this.readChar();continue}this.readChar(),this.readChar(),this.skipWhitespace()}}isDigit(A){var e=A.charCodeAt(0);return 48<=e&&e<=57}readNumber(){for(var A=this._currPosition;this.isDigit(this._char);)this.readChar();if(this._char===".")for(this.readChar();this.isDigit(this._char);)this.readChar();return this._source.substring(A,this._currPosition)}readValue(){return this.isDigit(this._char)?this.readNumber():this.readIdentifier()}readLine(){var A=this._currPosition,e=this._source.indexOf(`
`,this._currPosition);return e==-1&&(e=this._source.length),this._line++,this._column=0,this._currPosition=e,this._nextPosition=e+1,this._source.substring(A,e+1)}}class x4 extends Qa{constructor(e){super(e.source);a(this,"_tokenPosition",0);a(this,"_tokens",[]);this.parse()}skipToken(e){this._tokenPosition+=e}peekToken(e){return this._tokenPosition+e>=this._tokens.length?new Xu(U.EOF,"\0"):this._tokens[this._tokenPosition+e]}GetNextToken(){if(this._tokenPosition>=this._tokens.length)return new Xu(U.EOF,"\0");let e=this._tokens[this._tokenPosition];return this._tokenPosition++,e}get currTokenPosition(){return this._tokenPosition}parse(){this.readChar(),this._tokens=new Array;var e;do e=this.nextToken(),this._tokens.push(e);while(e.Type!=U.EOF)}nextToken(){if(this.skipWhitespace(),this._char==="/"){if(this.peekChar()==="/")return this.skipComment(),this.nextToken();if(this.peekChar()==="*")return this.skipMultilineComment(),this.nextToken()}var e=new Xu;switch(e.Line=this._line,e.Colume=this._column,this._char){case"\0":e.Type=U.EOF,e.Literal="EOF";break;case".":e.Type=U.DOT,e.Literal=".";break;case",":e.Type=U.COMMA,e.Literal=",";break;case":":e.Type=U.COLON,e.Literal=":";break;case"?":e.Type=U.QUEMARK,e.Literal="?";break;case";":e.Type=U.SEMICOLON,e.Literal=";";break;case"(":e.Type=U.LEFTSAMLL,e.Literal="(";break;case")":e.Type=U.RIGHTSAMLL,e.Literal=")";break;case"[":e.Type=U.LEFTMEDI,e.Literal="[";break;case"]":e.Type=U.RIGHTMEDI,e.Literal="]";break;case"{":e.Type=U.LEFTBIG,e.Literal="{";break;case"}":e.Type=U.RIGHTBIG,e.Literal="}";break;case"+":if(this.peekChar()==="+"){this.readChar(),e.Type=U.INC,e.Literal="++";break}else if(this.peekChar()==="="){this.readChar(),e.Type=U.ADDASSIGN,e.Literal="+=";break}e.Type=U.ADD,e.Literal="+";break;case"-":if(this.peekChar()==="-"){this.readChar(),e.Type=U.DEC,e.Literal="--";break}else if(this.peekChar()==="="){this.readChar(),e.Type=U.SUBASSIGN,e.Literal="-=";break}e.Type=U.SUB,e.Literal="-";break;case"*":if(this.peekChar()==="="){this.readChar(),e.Type=U.MULASSIGN,e.Literal="*=";break}e.Type=U.MUL,e.Literal="*";break;case"/":if(this.peekChar()==="="){this.readChar(),e.Type=U.DIVASSIGN,e.Literal="/=";break}e.Type=U.DIV,e.Literal="/";break;case"&":if(this.peekChar()==="&"){this.readChar(),e.Type=U.AND,e.Literal="&&";break}e.Type=U.BITAND,e.Literal="&";break;case"|":if(this.peekChar()==="|"){this.readChar(),e.Type=U.OR,e.Literal="||";break}e.Type=U.BITOR,e.Literal="&";break;case"^":e.Type=U.BITXOR,e.Literal="^";break;case"!":if(this.peekChar()==="="){this.readChar(),e.Type=U.NOTEQUAL,e.Literal="!=";break}e.Type=U.NOT,e.Literal="!";break;case">":if(this.peekChar()==="="){this.readChar(),e.Type=U.GREATEREQUAL,e.Literal=">=";break}else if(this.peekChar()===">"){this.readChar(),e.Type=U.BITSHIFT_R,e.Literal=">>";break}e.Type=U.GREATER,e.Literal=">";break;case"=":if(this.peekChar()==="="){this.readChar(),e.Type=U.EQUAL,e.Literal="==";break}e.Type=U.ASSIGN,e.Literal="=";break;case"<":if(this.peekChar()==="="){this.readChar(),e.Type=U.LESSEQUAL,e.Literal="<=";break}else if(this.peekChar()==="<"){this.readChar(),e.Type=U.BITSHIFT_L,e.Literal="<<";break}e.Type=U.LESS,e.Literal="<";break;default:return this.isDigit(this._char)?this.readDecimal():(e.Literal=this.readIdentifier(),e.Type=this.lookupIdentifier(e.Literal),this.getChar()=="["&&this.peekChar()=="]"&&e.isBuiltinType()&&(e.Type++,e.Literal+="[]",this.readChar(),this.readChar()),e)}return this.readChar(),e}readDecimal(){var e=new Xu;e.Line=this._line,e.Colume=this._column,e.Type=U.LITERAL;var t=this.readNumber();return this._char==="e"?(e.Literal=t+this._char,this.readChar(),e.Literal+=this._char,this.readChar(),e.Literal+=this.readNumber(),e.Type=U.LITERAL,e):this._char==="u"?(this.readChar(),e.Type=U.LITERAL,e.Literal=t+"u",e):this._char==="f"?(this.readChar(),e.Type=U.LITERAL,e.Literal=t+"f",e):(e.Type=U.LITERAL,e.Literal=t,e)}lookupIdentifier(e){switch(e){case"void":return U.VOID;case"int":return U.INT;case"uint":return U.UINT;case"bool":return U.BOOL;case"true":return U.BOOL;case"false":return U.BOOL;case"float":return U.FLOAT;case"vec2":return U.VEC2;case"vec3":return U.VEC3;case"vec4":return U.VEC4;case"bvec2":return U.BVEC2;case"bvec3":return U.BVEC3;case"bvec4":return U.BVEC4;case"ivec2":return U.IVEC2;case"ivec3":return U.IVEC3;case"ivec4":return U.IVEC4;case"uvec2":return U.UVEC2;case"uvec3":return U.UVEC3;case"uvec4":return U.UVEC4;case"mat2":return U.MAT2x2;case"mat2x2":return U.MAT2x2;case"mat2x3":return U.MAT2x3;case"mat2x4":return U.MAT2x4;case"mat3":return U.MAT3x3;case"mat3x2":return U.MAT3x2;case"mat3x3":return U.MAT3x3;case"mat3x4":return U.MAT3x4;case"mat4":return U.MAT4x4;case"mat4x2":return U.MAT4x2;case"mat4x3":return U.MAT4x3;case"mat4x4":return U.MAT4x4;case"sampler":return U.SAMPLER;case"sampler1D":return U.SAMPLER_1D;case"sampler2D":return U.SAMPLER_2D;case"sampler3D":return U.SAMPLER_3D;case"samplerCube":return U.SAMPLER_CUBE;case"samplerShadow":return U.SAMPLER_SHADOW;case"sampler1DShadow":return U.SAMPLER_1D_SHADOW;case"sampler2DShadow":return U.SAMPLER_2D_SHADOW;case"texture1D":return U.TEXTURE_1D;case"texture2D":return U.TEXTURE_2D;case"texture3D":return U.TEXTURE_3D;case"textureCube":return U.TEXTURE_CUBE;case"texture1DArray":return U.TEXTURE_1D_ARRAY;case"texture2DArray":return U.TEXTURE_2D_ARRAY;case"textureCubeArray":return U.TEXTURE_CUBE_ARRAY;case"const":return U.CONST;case"layout":return U.LAYOUT;case"precision":return U.PRECISION;case"attribute":return U.ATTRIBUTE;case"uniform":return U.UNIFORM;case"varying":return U.VARYING;case"invariant":return U.INVARIANT;case"in":return U.IN;case"out":return U.OUT;case"inout":return U.INOUT;case"if":return U.IF;case"else":return U.ELSE;case"for":return U.FOR;case"while":return U.WHILE;case"do":return U.DO;case"break":return U.BREAK;case"return":return U.RETURN;case"continue":return U.CONTINUE;case"struct":return U.STRUCT}return U.IDENT}}class O4{constructor(){a(this,"name","");a(this,"value","");a(this,"args",[])}}class M4 extends Qa{constructor(e){super(e);a(this,"_result");a(this,"_skipLine");a(this,"_definitionTables");this._result="",this._skipLine=!1,this._definitionTables=new Map,this.parse()}parse(){for(this.readChar();this._char!=="\0";){if(this.skipWhitespace(),this._char==="/"){if(this.peekChar()==="/"){this.skipComment();continue}if(this.peekChar()==="*"){this.skipMultilineComment();continue}}if(this._char==="#"){this.readCharAndSkipWhitespace();var e=this.readIdentifier();switch(e){case"version":this.readLine().trim();break;case"define":this.readCharAndSkipWhitespace();var t=this.readIdentifier();if(this.getChar()==="("){let u=new O4;if(this.readCharAndSkipWhitespace(),this.getChar()!==")")do{var i=this.readIdentifier();if(u.args.push(i),this.skipWhitespace(),this.getChar()===","){this.readCharAndSkipWhitespace();continue}}while(this.getChar()!==")");this.readCharAndSkipWhitespace(),u.name=t,u.value=this.readLine().trim(),this._definitionTables.set(t,u),this.readCharAndSkipWhitespace()}else{let u=this.readLine().trim();u[0]=="="&&(u=u.substring(1)),this._definitionTables.set(t,u)}break;case"if":let o=this.readLine().trim();if(o=="0"||o=="false"){this._skipLine=!0;break}if(this._definitionTables.has(o)&&(o=this._definitionTables.get(o),o=="0"||o=="false")){this._skipLine=!0;break}break;case"ifdef":this.readCharAndSkipWhitespace();var n=this.readIdentifier();this._skipLine=!this._definitionTables.has(n);break;case"else":this._skipLine=!this._skipLine;break;case"endif":this._skipLine=!1;break;default:throw"Unknown preprocessing command:"+e}}else{var s=this.readLine();if(!this._skipLine){for(let o of this._definitionTables.keys()){let u=s.indexOf(o);if(u!=-1){let l=this._definitionTables.get(o);if(typeof l=="string")s=s.replace(o,l);else{let c=l,h=new Qa(s.substring(u+o.length));if(h.readCharAndSkipWhitespace(),h.getChar()==="("){h.readCharAndSkipWhitespace();for(let y=1;h.getChar()!=="\0"&&y>0;){switch(h.getChar()){case"(":y++;break;case")":y--;break}h.readCharAndSkipWhitespace()}}let d=u,f=d+o.length+h.currPosition,p=s.substring(d,f).trim();if(c.args.length>0){let y=[],_=p.substring(p.indexOf("(")+1,p.lastIndexOf(")")).trim();_.length>0&&(y=this.parseArgs(_));let g=c.value.substring(c.value.indexOf("("));for(let m=0;m<c.args.length;m++)g=g.replace(c.args[m],y[m]);g=c.value.substring(0,c.value.indexOf("("))+g,s=s.replace(p,g)}else s=s.replace(p,c.value)}}}this._result+=s}this.readChar()}}}get source(){return this._result}parseArgs(e){let t=[],i=0,n=new Qa(e),s=n.currPosition;if(n.readCharAndSkipWhitespace(),n.getChar()!=="\0")for(n.readCharAndSkipWhitespace();n.getChar()!=="\0";){switch(n.getChar()){case"(":i++;break;case")":i--;break;case",":if(i==0){let o=e.substring(s,n.currPosition);t.push(o),s=n.currPosition+1}break}n.readCharAndSkipWhitespace()}if(s<n.currPosition){let o=e.substring(s,n.currPosition);t.push(o)}return t}}class R4{constructor(A){a(this,"result");a(this,"ASTRoot");a(this,"_syntax");this.result="",this._syntax=A,this.ASTRoot=A.ASTRoot}generateWGSL(){let A=new X3;var e=new L4;let t=[],i=[],n=[];for(let c of this.ASTRoot.nodes)if(c instanceof s1)if(c.scope=="in")if(c.nodes[0]instanceof Ne){A.layoutsIn.push(c);let h=new Cg;h.name=c.nodes[0].name,h.type=c.nodes[0].type,h.locationID=Number.parseInt(c.qualifier.get("location")),e.inputAttribute.push(h)}else if(c.qualifier.has("local_size_x"))A.workGroupSize=c;else throw"not impl";else if(c.scope=="out")if(A.layoutsOut.push(c),c.nodes[0]instanceof Ne){let h=new Cg;h.name=c.nodes[0].name,h.type=c.nodes[0].type,h.locationID=Number.parseInt(c.qualifier.get("location")),e.outputAttribute.push(h)}else throw"not impl";else if(c.scope=="uniform")if(i.push(c),c.nodes[0]instanceof Ne){let h=new Eg;h.name=c.nodes[0].name,h.type=c.nodes[0].type,h.setID=Number.parseInt(c.qualifier.get("set")),h.bindingID=Number.parseInt(c.qualifier.get("binding")),e.uniformInfo.push(h)}else if(c.nodes[0]instanceof Un){let h=new Eg;h.name="unif"+e.uniformInfo.length.toString(),h.type=c.nodes[0].name,h.setID=Number.parseInt(c.qualifier.get("set")),h.bindingID=Number.parseInt(c.qualifier.get("binding")),e.uniformInfo.push(h)}else throw"not impl";else c.scope=="buffer"&&t.push(c);else n.push(c);A.stage="fragment";let s=0,o=new Qa(""),u=this._syntax.lexer.source,l=new Map;for(;(s=u.indexOf("gl_",s))!=-1;){o.reset(u.substring(s,s+32)),o.readChar();let c=o.readIdentifier();if(s+=c.length,!l.has(c))switch(l.set(c,c),c){case"gl_InstanceID":A.stage="vertex",A.builtinIn.push("@builtin(instance_index) gl_InstanceID: u32");break;case"gl_Position":A.stage="vertex",A.builtinOut.push("@builtin(position) gl_Position: vec4<f32>"),A.addIdentifier("gl_Position","stout.gl_Position");break;case"gl_VertexIndex":A.stage="vertex",A.builtinIn.push("@builtin(vertex_index) gl_VertexIndex: u32");break;case"gl_FrontFacing":A.stage="fragment",A.builtinIn.push("@builtin(front_facing) gl_FrontFacing: bool");break;case"gl_FragDepth":A.stage="fragment",A.builtinOut.push("@builtin(frag_depth) gl_FragDepth: f32"),A.addIdentifier("gl_FragDepth","stout.gl_FragDepth");break;case"gl_WorkGroupID":A.stage="compute",A.builtinIn.push("@builtin(workgroup_id) gl_WorkGroupID: vec3<u32>");break;case"gl_NumWorkGroups":A.stage="compute",A.builtinIn.push("@builtin(num_workgroups) gl_NumWorkGroups: vec3<u32>");break;case"gl_LocalInvocationID":A.stage="compute",A.builtinIn.push("@builtin(local_invocation_id) gl_LocalInvocationID: vec3<u32>");break;case"gl_LocalInvocationIndex":A.stage="compute",A.builtinIn.push("@builtin(local_invocation_index) gl_LocalInvocationIndex: u32");break;case"gl_GlobalInvocationID":A.stage="compute",A.builtinIn.push("@builtin(global_invocation_id) gl_GlobalInvocationID: vec3<u32>");break;default:throw"Unprocessed built-in variables: "+c}}for(let c of i)c.nodes[0]instanceof Un&&(e.sourceCode+=c.nodes[0].formatToWGSL(A,0),e.sourceCode+=`\r
`);for(let c of i)e.sourceCode+=c.formatToWGSL(A,0);e.sourceCode+=`\r
`;for(let c of t)c.nodes[0]instanceof Un&&(e.sourceCode+=c.nodes[0].formatToWGSL(A,0),e.sourceCode+=`\r
`);for(let c of t)e.sourceCode+=c.formatToWGSL(A,0);e.sourceCode+=`\r
`;for(let c of n)e.sourceCode+=c.formatToWGSL(A,0),c instanceof Ne&&(e.sourceCode+=`;\r
`);return e}}class X3{constructor(A){a(this,"_stage","fragment");a(this,"_builtinIn",[]);a(this,"_builtinOut",[]);a(this,"_layoutsIn",[]);a(this,"_layoutsOut",[]);a(this,"_layoutUniformCount",0);a(this,"_workGroupSize");a(this,"_parentContext");a(this,"_identifierEnv",new Map);this._parentContext=A}get stage(){return this.parentContext!=null?this.parentContext.stage:this._stage}set stage(A){this.parentContext!=null&&(this.parentContext.stage=A),this._stage=A}get builtinIn(){return this.parentContext!=null?this.parentContext.builtinIn:this._builtinIn}get builtinOut(){return this.parentContext!=null?this.parentContext.builtinOut:this._builtinOut}get layoutsIn(){return this.parentContext!=null?this.parentContext.layoutsIn:this._layoutsIn}get layoutsOut(){return this.parentContext!=null?this.parentContext.layoutsOut:this._layoutsOut}get layoutUniformCount(){return this.parentContext!=null?this.parentContext.layoutUniformCount:this._layoutUniformCount}set layoutUniformCount(A){if(this.parentContext!=null){this.parentContext.layoutUniformCount=A;return}this._layoutUniformCount=A}get workGroupSize(){return this.parentContext!=null?this.parentContext.workGroupSize:this._workGroupSize}set workGroupSize(A){this.parentContext!=null&&(this.parentContext.workGroupSize=A),this._workGroupSize=A}get parentContext(){return this._parentContext}findIdentifier(A){return this._identifierEnv.has(A)?this._identifierEnv.get(A):this._parentContext!=null?this._parentContext.findIdentifier(A):A}addIdentifier(A,e){this._identifierEnv.set(A,e)}hasIdentifier(A){return this._identifierEnv.has(A)}}class Te{constructor(){a(this,"nodes",[])}addNode(A){this.nodes.push(A)}formatToWGSL(A,e){return""}}class Un extends Te{constructor(e){super();a(this,"name","");a(this,"fields",[]);this.name=e}static parse(e){if(e.peekToken(0).Type==U.IDENT&&e.peekToken(1).Type==U.LEFTBIG){let t=new Un(e.peekToken(0).Literal);for(e.skipToken(2);e.peekToken(0).Type!=U.RIGHTBIG;){let i=Ne.parse(e);t.fields.push(i)}return e.peekToken(0).Type==U.RIGHTBIG&&e.skipToken(1),e.peekToken(0).Type==U.SEMICOLON&&e.skipToken(1),t}throw"Error parsing structure: Unexpected character"}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);i+=n+"struct "+this.name+` {\r
`;for(let s of this.fields)s.arraySize.nodes.length<=0?i+=n+"  "+s.name+": "+Br(s.type)+`,\r
`:s.arraySize.nodes[0]instanceof Qn?i+=n+"  "+s.name+": array<"+Br(s.type)+", "+s.arraySize.nodes[0].value+`>,\r
`:i+=n+"  "+s.name+": array<"+Br(s.type)+", "+s.arraySize.nodes[0].formatToWGSL(e,0)+`>,\r
`;return i+=n+`};\r
`,i}}class o0 extends Te{constructor(e,t,i,n){super();a(this,"name");a(this,"args");a(this,"body");a(this,"returnType");this.name=e,this.args=t,this.body=i,this.returnType=n}static parse(e){if((e.peekToken(0).isBuiltinType()||e.peekToken(0).Type==U.VOID)&&e.peekToken(1).Type==U.IDENT&&e.peekToken(2).Type==U.LEFTSAMLL){let t=e.peekToken(0).Literal,i=e.peekToken(1).Literal;e.skipToken(2);let n=new Array;if(e.peekToken(0).Type!=U.LEFTSAMLL)throw"Error parsing function parameter list: Unexpected character";for(e.skipToken(1);e.peekToken(0).Type!=U.EOF;){if(e.peekToken(0).Type==U.RIGHTSAMLL){e.skipToken(1);break}(e.peekToken(0).Type==U.INOUT||e.peekToken(0).Type==U.IN||e.peekToken(0).Type==U.OUT)&&e.skipToken(1);let o=Ne.parse(e);n.push(o),e.peekToken(0).Type==U.COMMA&&e.skipToken(1)}let s=yi.parse(e);return new o0(i,n,s,t)}throw"Error parsing function: Unexpected character"}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t),s,o=e.layoutsOut.length>0||e.builtinOut.length>0;switch(e.stage){case"compute":s="ComputeOutput";break;case"vertex":s="VertexOutput";break;case"fragment":s="FragmentOutput";break;default:s="StructOutput";break}if(this.name=="main"&&o){i+="struct "+s+` {\r
`;for(let h of e.layoutsOut)if(h.nodes[0]instanceof Ne){let d=h.nodes[0];h.qualifier.size==1&&h.qualifier.has("location")&&(i+="  @location("+h.qualifier.get("location")+") "),i+=d.name+": "+Br(d.type)+`,\r
`,e.addIdentifier(d.name,"stout."+d.name)}let c=e.builtinOut;for(let h of c)i+="  "+h+`,\r
`;i+=`};\r
\r
`}let u="";if(this.name=="main"&&(e.workGroupSize!=null?u+="@"+e.stage+" "+e.workGroupSize.formatToWGSL(e,0)+` \r
`:u+="@"+e.stage+`\r
`),e=new X3(e),u+=n+"fn "+this.name+"(",this.name!="main"){for(let c=0;c<this.args.length;c++){let h=this.args[c];c>0&&(u+=", "),u+=h.name+": "+Br(h.type),e.addIdentifier(h.name,h.name)}u+=") -> "+Br(this.returnType)}else{let c=e.layoutsIn;for(let d=0;d<c.length;d++){let f=c[d];if(d>0?u+=`,\r
    `:u+=`\r
    `,f.nodes[0]instanceof Ne){let p=f.nodes[0];f.qualifier.size==1&&f.qualifier.has("location")&&(u+="@location("+f.qualifier.get("location")+") "),u+=p.name+": "+Br(p.type),e.addIdentifier(p.name,p.name)}}c.length>0&&(u+=`,\r
    `);let h=e.builtinIn;for(let d of h)u+=d+`,\r
    `;o?u+=") -> "+s:u+=") "}let l="";this.name=="main"&&o&&(l+="    var stout: "+s+` ;\r
`);for(let c of this.body.nodes)l+=c.formatToWGSL(e,t+1),!(c instanceof aa)&&!(c instanceof Xo)&&!(c instanceof qo)&&(l+=`;\r
`);return this.name=="main"&&o&&(l+=`    return stout;\r
`),i+=u+` {\r
`,i+=l,i+=n+`}\r
`,i+=`\r
`,i}}class a0 extends Te{constructor(){super();a(this,"args",[])}static parse(e){if(e.peekToken(0).Type==U.LEFTSAMLL){e.skipToken(1);let t=new a0;for(;e.peekToken(0).Type!=U.EOF;){if(e.peekToken(0).Type==U.RIGHTSAMLL){e.skipToken(1);break}let i=YA.parse(e);t.args.push(i),e.peekToken(0).Type==U.COMMA&&e.skipToken(1)}return t}throw"Error parsing function argument table: Unexpected character"}}class Ko extends Te{constructor(e,t){super();a(this,"name");a(this,"args");this.name=e,this.args=t}static parse(e){if(e.peekToken(0).isDataType()&&e.peekToken(1).Type==U.LEFTSAMLL){let t=e.peekToken(0).Literal;e.skipToken(1);let i=a0.parse(e);return new Ko(t,i)}throw"Error parsing function argument table: Unexpected character"}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);if(this.name=="texture"&&this.args.args[0].nodes[0]instanceof Ko){let s=this.args.args[0].nodes[0];if(s.name=="sampler2D"){i+=n+"textureSample(";for(let o=0;o<s.args.args.length;o++){let u=s.args.args[o];o>0&&(i+=", "),i+=u.formatToWGSL(e,0)}for(let o=1;o<this.args.args.length;o++){let u=this.args.args[o];o>0&&(i+=", "),i+=u.formatToWGSL(e,0)}return i+=")",i}}i+=n+Br(this.name)+"(";for(let s=0;s<this.args.args.length;s++){let o=this.args.args[s];s>0&&(i+=", "),i+=o.formatToWGSL(e,0)}return i+=")",i}}class Ne extends Te{constructor(e,t,i=new YA){super();a(this,"type");a(this,"name");a(this,"arraySize");a(this,"hasIn");a(this,"hasOut");a(this,"hasConst");this.type=e,this.name=t,this.hasIn=!1,this.hasOut=!1,this.hasConst=!1,this.arraySize=i}static parse(e){let t=new Ne("",""),i=e.peekToken(0);if(i.Type==U.CONST)e.skipToken(1),t.hasConst=!0;else if(i.Type==U.IN)e.skipToken(1),t.hasIn=!0;else if(i.Type==U.OUT)e.skipToken(1),t.hasOut=!0;else if(i.Type==U.INOUT)e.skipToken(1),t.hasIn=!0,t.hasOut=!0;else if(!i.isDataType())throw"Error parsing declaration expression: Unexpected character("+i.Literal+")";if(i=e.peekToken(0),i.isDataType()&&e.peekToken(1).Type==U.LEFTMEDI){if(t.type=i.Literal,e.skipToken(2),t.arraySize=YA.parse(e),e.peekToken(0).Type==U.RIGHTMEDI&&e.skipToken(1),e.peekToken(0).Type!=U.IDENT)throw"Unexpected";t.name=e.peekToken(0).Literal,e.skipToken(1)}else if(i.isDataType()&&e.peekToken(1).Type==U.IDENT&&e.peekToken(2).Type==U.LEFTMEDI)t.type=e.peekToken(0).Literal,t.name=e.peekToken(1).Literal,e.skipToken(3),e.peekToken(0).Type==U.RIGHTMEDI?e.skipToken(1):(t.arraySize=YA.parse(e),e.peekToken(0).Type==U.RIGHTMEDI&&e.skipToken(1));else if(i.isDataType()&&e.peekToken(1).Type==U.IDENT)t.type=e.peekToken(0).Literal,t.name=e.peekToken(1).Literal,e.skipToken(2);else throw"Error parsing declaration expression: Unexpected character("+i.Literal+")";if(i=e.peekToken(0),i.Type==U.SEMICOLON)return e.skipToken(1),t;if(i.Type==U.RIGHTSAMLL)return t;if(i.Type==U.ASSIGN){let n=e.peekToken(0);e.skipToken(1);let s=new Vn(t.name),o=YA.parse(e);return e.peekToken(0).Type==U.SEMICOLON&&e.skipToken(1),t.addNode(new Os(n,s,o)),t}else if(i.Type==U.COMMA){for(;e.peekToken(0).Type==U.COMMA&&e.peekToken(1).Type==U.IDENT;){let n=new Ne(t.type,e.peekToken(1).Literal);t.addNode(n),e.skipToken(2),e.peekToken(0).Type==U.ASSIGN&&(e.skipToken(-1),n.addNode(YA.parse(e)))}return t}throw"Error parsing declaration expression: Unexpected character("+e.peekToken(0).Literal+")"}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);if(this.hasConst?i+=n+"let ":i+=n+"var ",e.addIdentifier(this.name,this.name),this.arraySize.nodes.length<=0?i+=this.name+": "+Br(this.type):this.arraySize.nodes[0]instanceof Qn?i+=this.name+": array<"+Br(this.type)+", "+this.arraySize.nodes[0].value+">":i+=this.name+": array<"+Br(this.type)+", "+this.arraySize.nodes[0].formatToWGSL(e,0)+">",this.nodes.length>0&&this.nodes[0]instanceof Os)i+=" = "+this.nodes[0].rightValue.formatToWGSL(e,0);else if(this.nodes.length>0&&this.nodes[0]instanceof YA&&this.nodes[0].nodes[0]instanceof Os)i+=" = "+this.nodes[0].nodes[0].rightValue.formatToWGSL(e,0);else if(this.nodes.length>0&&this.nodes[0]instanceof Ne){i+=`;\r
`;for(let s of this.nodes)i+=s.formatToWGSL(e,t)+`;\r
`}else i+=`;\r
`;return i}}class qo extends Te{constructor(e,t,i,n){super();a(this,"expression1");a(this,"condition");a(this,"expression2");a(this,"loopBody");this.expression1=e,this.condition=t,this.expression2=i,this.loopBody=n}static parse(e){if(e.peekToken(0).Type==U.FOR&&e.peekToken(1).Type==U.LEFTSAMLL){e.skipToken(2);let t;e.peekToken(0).Type==U.SEMICOLON?(e.skipToken(1),t=new YA):e.peekToken(0).isDataType()&&e.peekToken(1).Type==U.IDENT&&e.peekToken(2).Type==U.ASSIGN?(t=new Ne(e.peekToken(0).Literal,e.peekToken(1).Literal),e.skipToken(1),t.addNode(YA.parse(e)),e.peekToken(0).Type==U.SEMICOLON&&e.skipToken(1)):(t=YA.parse(e),e.peekToken(0).Type==U.SEMICOLON&&e.skipToken(1));let i;e.peekToken(0).Type==U.SEMICOLON?(e.skipToken(1),i=new YA):(i=YA.parse(e),e.peekToken(0).Type==U.SEMICOLON&&e.skipToken(1));let n;e.peekToken(0).Type==U.SEMICOLON?(e.skipToken(1),n=new YA):(n=YA.parse(e),e.peekToken(0).Type==U.SEMICOLON&&e.skipToken(1)),e.peekToken(0).Type==U.RIGHTSAMLL&&e.skipToken(1);let s;return e.peekToken(0).Type==U.LEFTBIG?s=yi.parse(e):s=new yi,new qo(t,i,n,s)}throw"Error parsing for loop: Unexpected character"}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);i+=n+"for (",i+=this.expression1.formatToWGSL(e,0)+"; ",i+=this.condition.formatToWGSL(e,0)+"; ",i+=this.expression2.formatToWGSL(e,0)+")",i+=` { \r
`;for(let s of this.loopBody.nodes)i+=s.formatToWGSL(e,t+1),!(s instanceof aa)&&!(s instanceof Xo)&&!(s instanceof qo)&&(i+=`;\r
`);return i+=n+`} \r
`,i}}class Xo extends Te{constructor(e,t){super();a(this,"conditionExpr");a(this,"loopBody");this.conditionExpr=e,this.loopBody=t}static parse(e){if(e.peekToken(0).Type==U.WHILE){e.skipToken(1),e.peekToken(0).Type==U.LEFTSAMLL&&e.skipToken(1);let t=YA.parse(e);e.peekToken(0).Type==U.RIGHTSAMLL&&e.skipToken(1);let i=yi.parse(e);return new Xo(t,i)}throw"Error parsing while loop: Unexpected character"}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);i+=n+`loop {\r
`,i+=n+"    if ("+this.conditionExpr.formatToWGSL(e,0)+`) { break; }\r
\r
`;for(let s of this.loopBody.nodes)i+=s.formatToWGSL(e,t+1),!(s instanceof aa)&&!(s instanceof Xo)&&!(s instanceof qo)&&(i+=`;\r
`);return i+=n+`}\r
`,i}}class aa extends Te{constructor(e,t,i){super();a(this,"conditionExpr");a(this,"trueBranch");a(this,"falseBranch");this.conditionExpr=e,this.trueBranch=t,this.falseBranch=i}static parse(e){if(e.peekToken(0).Type==U.IF){e.skipToken(1),e.peekToken(0).Type==U.LEFTSAMLL&&e.skipToken(1);let t=YA.parse(e),i,n=new yi;if(e.peekToken(0).Type==U.RIGHTSAMLL&&e.skipToken(1),e.peekToken(0).Type==U.LEFTBIG?i=yi.parse(e):(i=new yi,e.peekToken(0).Type==U.RETURN?i.addNode(n1.parse(e)):i.addNode(YA.parse(e))),e.peekToken(0).Type==U.ELSE)if(e.skipToken(1),e.peekToken(0).Type==U.LEFTBIG)n=yi.parse(e);else throw"not impl";return new aa(t,i,n)}throw"Error parsing IF branch statement: Unexpected character"}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);i+=n+"if ("+this.conditionExpr.formatToWGSL(e,0)+`) {\r
`;for(let s of this.trueBranch.nodes)i+=s.formatToWGSL(e,t+1)+`;\r
`;if(this.falseBranch.nodes.length>0){i+=n+`} else {\r
`;for(let s of this.falseBranch.nodes)i+=s.formatToWGSL(e,t+1)+`;\r
`}return i+=n+`}\r
`,i}}class YA extends Te{constructor(){super()}static parse(A){let e=new Array,t=new Array,i=0;for(;A.peekToken(0).Type!=U.EOF;){let n=A.peekToken(0);if(n.Type==U.SEMICOLON||n.Type==U.RIGHTMEDI||n.Type==U.COMMA||n.Type==U.COLON||n.Type==U.RIGHTBIG)break;if(n.isOperation()){if(n.isOperation()){if(n.Type==U.INC||n.Type==U.DEC){let s=n;A.skipToken(1);let o=YA.parse(A);t.push(new Ra(s,void 0,o));continue}else if(e.length>0){if(e[e.length-1].nOperationPriorityLevel<=n.nOperationPriorityLevel)YA.unionOperation(e,t);else if(e.length>0&&e[e.length-1].Literal=="-"){let s=e.pop(),o=t.pop();t.push(new Ra(s,void 0,o))}}e.push(n),A.skipToken(1)}}else if(n.Type==U.LITERAL){t.push(new Qn(n.Literal)),A.skipToken(1);continue}else if(n.Type==U.LEFTSAMLL){i++,e.push(n),A.skipToken(1);continue}else if(n.Type==U.RIGHTSAMLL){if(i<=0)break;for(i--;YA.unionOperation(e,t););if(e[e.length-1].Type==U.LEFTSAMLL){e.pop();let s=new P4;s.addNode(t.pop()),t.push(s)}A.skipToken(1);continue}else if(n.Type==U.IDENT){if(A.peekToken(1).Type==U.INC||A.peekToken(1).Type==U.DEC){let s=A.peekToken(1),o=new Vn(n.Literal);t.push(new Ra(s,o,void 0)),A.skipToken(2);continue}else if(A.peekToken(1).Type==U.LEFTSAMLL){t.push(Ko.parse(A));continue}else if(A.peekToken(1).Type==U.DOT){t.push(ic.parse(A));continue}else if(A.peekToken(1).Type==U.LEFTMEDI){t.push(Jo.parse(A));continue}t.push(new Vn(n.Literal)),A.skipToken(1);continue}else{if(n.isBuiltinType()&&A.peekToken(1).Type==U.LEFTSAMLL){t.push(Ko.parse(A));continue}if(n.isAssignOperation()){let s=n;A.skipToken(1);let o=t.pop(),u=YA.parse(A);t.push(new Os(s,o,u));continue}if(n.Type==U.LEFTBIG&&(A.peekToken(1).Type==U.LITERAL||A.peekToken(1).Type==U.SUB&&A.peekToken(2).Type==U.LITERAL)){t.push(rc.parse(A));continue}if(n.Type==U.QUEMARK){e.length>0&&e[e.length-1].nOperationPriorityLevel<=n.nOperationPriorityLevel&&YA.unionOperation(e,t),A.skipToken(1);let s=t.pop(),o=YA.parse(A);A.peekToken(0).Type==U.COLON&&A.skipToken(1);let u=YA.parse(A);if(t.push(new F4(s,o,u)),A.peekToken(-1).Type==U.SEMICOLON)break;continue}if(n.Type==U.LEFTMEDI){A.skipToken(1);let s=YA.parse(A);A.peekToken(0).Type==U.RIGHTMEDI&&A.skipToken(1);let o=t.pop();t.push(new Jo(o,s));continue}throw"An unexpected character"}}for(;e.length>0&&YA.unionOperation(e,t););if(e.length<=0&&t.length==1){let n=new YA;return n.addNode(t.pop()),n}throw"Error parsing expression: Unexpected character("+A.peekToken(0).Literal+")"}formatToWGSL(A,e){return this.nodes[0].formatToWGSL(A,e)}static unionOperation(A,e){if(A.length<0||e.length<2){if(A.length>0&&A[A.length-1].Literal=="-"){let t=A.pop(),i=e.pop();return e.push(new Ra(t,void 0,i)),!0}return!1}if(A[A.length-1].isOperation()){let t=e.pop(),i=A.pop(),n=e.pop();return i.Type==U.DOT?e.push(new ic(n,t)):e.push(new Os(i,n,t)),!0}return!1}}class P4 extends Te{constructor(){super()}formatToWGSL(A,e){return(e<=0?"":"    ".repeat(e))+"("+this.nodes[0].formatToWGSL(A,0)+")"}}class Vn extends Te{constructor(e){super();a(this,"name");this.name=e}formatToWGSL(e,t){return(t<=0?"":"    ".repeat(t))+e.findIdentifier(this.name)}}class Qn extends Te{constructor(e){super();a(this,"value");this.value=e}static parse(e){let t=e.peekToken(0);if(t.Type==U.SUB&&e.peekToken(1).Type==U.LITERAL){let i=new Qn("-"+e.peekToken(1).Literal);return e.skipToken(2),i}else if(t.Type==U.LITERAL){let i=new Qn(t.Literal);return e.skipToken(1),i}throw"Error parsing literal constants: Unexpected characters("+t.Literal+")"}formatToWGSL(e,t){return(t<=0?"":"    ".repeat(t))+this.value}}class rc extends Qn{constructor(e){super("");a(this,"arrayValue");this.arrayValue=e}static parse(e){if(e.peekToken(0).Type==U.LEFTBIG&&e.peekToken(1).Type==U.LITERAL||e.peekToken(0).Type==U.LEFTBIG&&e.peekToken(1).Type==U.SUB&&e.peekToken(2).Type==U.LITERAL){e.skipToken(1);let t=[];for(;e.peekToken(0).Type!=U.RIGHTBIG;){if(e.peekToken(0).Type==U.LEFTSAMLL){t.push(rc.parse(e));continue}if(t.push(Qn.parse(e)),e.peekToken(0).Type==U.COMMA){e.skipToken(1);continue}else if(e.peekToken(0).Type==U.RIGHTBIG){e.skipToken(1);break}else throw"Error parsing array constants: Unexpected characters"}return new rc(t)}throw"Error parsing array constants: Unexpected characters"}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);this.arrayValue[0].value.includes(".")?i+=n+"array<f32, "+this.arrayValue.length.toString()+">(":i+=n+"array<i32, "+this.arrayValue.length.toString()+">(";for(let s=0;s<this.arrayValue.length;s++)s>0&&(i+=", "),i+=this.arrayValue[s].formatToWGSL(e,0);return i+=")",i}}class u0 extends Te{constructor(){super()}static parse(A){if(A.peekToken(0).Type==U.CONTINUE&&A.peekToken(1).Type==U.SEMICOLON)return A.skipToken(2),new u0;throw"Error parsing continue: Unexpected character"}formatToWGSL(A,e){let t="",i=e<=0?"":"    ".repeat(e);return t+=i+"continue",t}}class n1 extends Te{constructor(e){super();a(this,"value");this.value=e}static parse(e){if(e.peekToken(0).Type==U.RETURN){e.skipToken(1);let t=YA.parse(e);return e.peekToken(0).Type==U.SEMICOLON&&e.skipToken(1),new n1(t)}throw"Error parsing return expression: Unexpected character"}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);return i+=n+"return "+this.value.formatToWGSL(e,0),i}}class Ra extends Te{constructor(e,t,i){super();a(this,"op");a(this,"leftValue");a(this,"rightValue");this.op=e,this.leftValue=t,this.rightValue=i}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);if(this.op.Literal=="++"||this.op.Literal=="--")if(this.leftValue!=null){let s=this.leftValue.formatToWGSL(e,0);i+=n+s+" = "+s+" "+this.op.Literal[0]+" 1"}else{let s=this.rightValue.formatToWGSL(e,0);i+=n+s+" = "+s+" "+this.op.Literal[0]+" 1"}else this.leftValue!=null?i+=n+this.leftValue.formatToWGSL(e,0)+this.op.Literal:i+=n+this.op.Literal+this.rightValue.formatToWGSL(e,0);return i}}class Os extends Te{constructor(e,t,i){super();a(this,"op");a(this,"leftValue");a(this,"rightValue");this.op=e,this.leftValue=t,this.rightValue=i}formatToWGSL(e,t){let i="",n=t<=0?"":"    ".repeat(t);return i+=n+this.leftValue.formatToWGSL(e,0)+" "+this.op.Literal+" "+this.rightValue.formatToWGSL(e,0),i}}class F4 extends Te{constructor(e,t,i){super();a(this,"condition");a(this,"expression1");a(this,"expression2");this.condition=e,this.expression1=t,this.expression2=i}static parse(e){throw"Error parsing ternary operation expression: Unexpected character"}formatToWGSL(e,t){return""}}class ic extends Te{constructor(e,t){super();a(this,"leftValue");a(this,"rightValue");this.leftValue=e,this.rightValue=t}static parse(e){if(e.peekToken(0).Type==U.IDENT&&e.peekToken(1).Type==U.DOT&&e.peekToken(2).Type==U.IDENT){let t=new Vn(e.peekToken(0).Literal),i=new Vn(e.peekToken(2).Literal);return e.skipToken(3),new ic(t,i)}throw"Error parsing selection expression: Unexpected character"}formatToWGSL(e,t){return(t<=0?"":"    ".repeat(t))+this.leftValue.formatToWGSL(e,0)+"."+this.rightValue.formatToWGSL(e,0)}}class Jo extends Te{constructor(e,t){super();a(this,"leftValue");a(this,"indexValue");this.leftValue=e,this.indexValue=t}static parse(e){if(e.peekToken(0).Type==U.IDENT&&e.peekToken(1).Type==U.LEFTMEDI){let t=new Vn(e.peekToken(0).Literal);e.skipToken(2);let i=YA.parse(e);e.peekToken(0).Type==U.RIGHTMEDI&&e.skipToken(1);let n=new Jo(t,i);for(;e.peekToken(0).Type==U.LEFTMEDI;)e.skipToken(1),i=YA.parse(e),e.peekToken(0).Type==U.RIGHTMEDI&&e.skipToken(1),n=new Jo(n,i);return n}throw"Error parsing index expression: Unexpected character"}formatToWGSL(e,t){return(t<=0?"":"    ".repeat(t))+this.leftValue.formatToWGSL(e,0)+"["+this.indexValue.formatToWGSL(e,0)+"]"}}class yi extends Te{constructor(){super()}static parse(A){if(A.peekToken(0).Type==U.LEFTBIG){A.skipToken(1);let e=new yi;for(let t=1;t>0&&A.peekToken(0).Type!=U.EOF;){let i=A.peekToken(0);if(i.Type==U.LEFTBIG){t++,A.skipToken(1);continue}if(i.Type==U.RIGHTBIG){t--,A.skipToken(1);continue}if(i.Type==U.SEMICOLON){A.skipToken(1);continue}if(i.isDataType()&&A.peekToken(1).Type==U.IDENT){e.addNode(Ne.parse(A));continue}if(i.Type==U.CONST&&A.peekToken(1).isDataType()&&A.peekToken(2).Type==U.IDENT){e.addNode(Ne.parse(A));continue}else if(i.Type==U.IDENT&&A.peekToken(1).Type==U.ASSIGN){e.addNode(YA.parse(A)),A.peekToken(0).Type==U.SEMICOLON&&A.skipToken(1);continue}else if(i.Type==U.IDENT&&A.peekToken(1).Type==U.LEFTMEDI){let n=Jo.parse(A);if(A.peekToken(0).Type==U.ASSIGN){let s=A.peekToken(0);A.skipToken(1);let o=YA.parse(A);A.peekToken(0).Type==U.RIGHTMEDI&&A.skipToken(1),e.addNode(new Os(s,n,o));continue}e.addNode(n);continue}else if(i.Type==U.IDENT&&A.peekToken(1).Type==U.DOT){let n=YA.parse(A);e.addNode(n);continue}else if(i.Type==U.IDENT&&A.peekToken(1).isAssignOperation()){let n=A.peekToken(1),s=new Vn(i.Literal);A.skipToken(2);let o=YA.parse(A);A.peekToken(0).Type==U.SEMICOLON&&A.skipToken(1),e.addNode(new Os(n,s,o));continue}else if(i.Type==U.IDENT&&(A.peekToken(1).Type==U.INC||A.peekToken(1).Type==U.DEC)&&A.peekToken(2).Type==U.SEMICOLON){let n=A.peekToken(1);e.addNode(new Ra(n,new Vn(i.Literal),void 0)),A.skipToken(3);continue}else if(i.Type==U.RETURN){e.addNode(n1.parse(A));continue}else if(i.Type==U.CONTINUE){e.addNode(u0.parse(A));continue}else if(i.Type==U.WHILE){e.addNode(Xo.parse(A));continue}else if(i.Type==U.FOR){e.addNode(qo.parse(A));continue}else if(i.Type==U.IF){e.addNode(aa.parse(A));continue}else if(i.Type==U.IDENT&&A.peekToken(1).Type==U.LEFTSAMLL){e.addNode(Ko.parse(A)),A.peekToken(0).Type==U.SEMICOLON&&A.skipToken(0);continue}throw"Error parsing block: Unexpected symbol("+i.Literal+")"}return e}throw"Error parsing block: Unexpected symbol"}}class l0 extends Te{constructor(e,t){super();a(this,"type");a(this,"qualifier");this.type=t,this.qualifier=e}static parse(e){if(e.peekToken(0).Type==U.PRECISION&&e.peekToken(1).Type==U.IDENT&&e.peekToken(2).isBuiltinType()){let t=new l0(e.peekToken(1).Literal,e.peekToken(2).Literal);return e.skipToken(3),e.peekToken(0).Type==U.SEMICOLON&&e.skipToken(1),t}throw"Error parsing precision qualifier: Unexpected character"}formatToWGSL(e,t){return""}}class s1 extends Te{constructor(){super();a(this,"scope","");a(this,"qualifier",new Map)}addQualifier(e,t=""){this.qualifier.set(e,t)}static parse(e){if(e.peekToken(0).Type==U.LAYOUT&&e.peekToken(1).Type==U.LEFTSAMLL){let t=new s1;e.skipToken(2);do if(e.peekToken(0).Type==U.IDENT){if(e.peekToken(1).Type==U.ASSIGN&&e.peekToken(2).Type==U.LITERAL){let i=e.peekToken(0).Literal,n=e.peekToken(2).Literal;if(t.addQualifier(i,n),e.skipToken(3),e.peekToken(0).Type==U.COMMA){e.skipToken(1);continue}let s=e.peekToken(0);s.Line=0}else if(e.peekToken(1).Type==U.RIGHTSAMLL){let i=e.peekToken(0).Literal;t.addQualifier(i,""),e.skipToken(1);break}else if(e.peekToken(1).Type==U.COMMA){let i=e.peekToken(0).Literal;t.addQualifier(i,""),e.skipToken(2);continue}}while(e.peekToken(0).Type!=U.RIGHTSAMLL);if(e.peekToken(0).Type==U.RIGHTSAMLL&&e.skipToken(1),t.scope=e.peekToken(0).Literal,e.skipToken(1),e.peekToken(0).Type==U.SEMICOLON)return e.skipToken(1),t;if(e.peekToken(0).isBuiltinType()&&e.peekToken(1).Type==U.IDENT&&e.peekToken(2).Type==U.SEMICOLON){let i=new Ne(e.peekToken(0).Literal,e.peekToken(1).Literal);return t.addNode(i),e.skipToken(3),t}else if(e.peekToken(0).Type==U.IDENT&&e.peekToken(1).Type==U.LEFTBIG){let i=Un.parse(e);return t.addNode(i),e.peekToken(0).Type==U.IDENT&&e.peekToken(1).Type==U.SEMICOLON&&(i.addNode(new Ne(i.name,e.peekToken(0).Literal)),e.skipToken(2)),t}else throw"Error parsing layout qualifier type: Unexpected symbol("+e.peekToken(0).Literal+")"}throw"Error parsing layout qualifier: Unexpected symbol"}formatToWGSL(e,t){let i="";if(this.qualifier.size==1&&this.qualifier.has("location"))i+="@location("+this.qualifier.get("location")+") ";else if(this.qualifier.size==2&&this.qualifier.has("set")&&this.qualifier.has("binding"))i+="@group("+this.qualifier.get("set")+") @binding("+this.qualifier.get("binding")+") ";else if(this.qualifier.size>=1&&this.qualifier.has("binding"))i+="@group(0) @binding("+this.qualifier.get("binding")+") ";else if(this.qualifier.size==1&&this.qualifier.has("push_constant"))i+="@push_constant ";else if(this.qualifier.size>=1&&this.qualifier.has("local_size_x"))i+="@workgroup_size(",i+=this.qualifier.get("local_size_x")+", ",i+=this.qualifier.has("local_size_y")?this.qualifier.get("local_size_y")+", ":"1, ",i+=this.qualifier.has("local_size_z")?this.qualifier.get("local_size_z")+"":"1",i+=")";else if(this.nodes.length<=0)return"";let n=this.nodes[0];if(n instanceof Ne){switch(n.type){case"sampler":case"texture2D":i+="var ";break;default:this.scope=="buffer"?e.stage=="compute"?i+="var<storage, read_write> ":i+="var<storage, read> ":i+="var<"+this.scope+"> ";break}e.addIdentifier(n.name,n.name),i+=n.name+": "+Br(n.type)+`;\r
`}else if(n instanceof Un){if(this.scope=="buffer"?e.stage=="compute"?i+="var<storage, read_write> ":i+="var<storage, read> ":i+="var<"+this.scope+"> ",n.nodes.length<=0){let s="unif"+e.layoutUniformCount.toString();for(;e.hasIdentifier(s);)e.layoutUniformCount++,s="unif"+e.layoutUniformCount.toString();for(let o of n.fields)e.addIdentifier(o.name,s+"."+o.name);i+=s+": "+n.name+`;\r
`,e.layoutUniformCount++}else{let s=n.nodes[0];i+=s.name+": "+s.type+`;\r
`}return i}return i}}function Br(r){switch(r){case"int":return"i32";case"int[]":return"array<i32>";case"uint":return"u32";case"uint[]":return"array<u32>";case"float":return"f32";case"float[]":return"array<f32>";case"vec2":return"vec2<f32>";case"vec3":return"vec3<f32>";case"vec4":return"vec4<f32>";case"vec2[]":return"array<vec2<f32>>";case"vec3[]":return"array<vec3<f32>>";case"vec4[]":return"array<vec4<f32>>";case"ivec2":return"vec2<i32>";case"ivec3":return"vec3<i32>";case"ivec4":return"vec4<i32>";case"ivec2[]":return"array<vec2<i32>>";case"ivec3[]":return"array<vec3<i32>>";case"ivec4[]":return"array<vec4<i32>>";case"mat2":return"mat2x2<f32>";case"mat2x2":return"mat2x2<f32>";case"mat2x3":return"mat2x3<f32>";case"mat2x4":return"mat2x4<f32>";case"mat2[]":return"array<mat2x2<f32>>";case"mat2x2[]":return"array<mat2x2<f32>>";case"mat2x3[]":return"array<mat2x3<f32>>";case"mat2x4[]":return"array<mat2x4<f32>>";case"mat3":return"mat3x3<f32>";case"mat3x2":return"mat3x2<f32>";case"mat3x3":return"mat3x3<f32>";case"mat3x4":return"mat3x4<f32>";case"mat3[]":return"array<mat3x3<f32>>";case"mat3x2[]":return"array<mat3x2<f32>>";case"mat3x3[]":return"array<mat3x3<f32>>";case"mat3x4[]":return"array<mat3x4<f32>>";case"mat4":return"mat4x4<f32>";case"mat4x2":return"mat4x2<f32>";case"mat4x3":return"mat4x3<f32>";case"mat4x4":return"mat4x4<f32>";case"mat4[]":return"array<mat4x4<f32>>";case"mat4x2[]":return"array<mat4x2<f32>>";case"mat4x3[]":return"array<mat4x3<f32>>";case"mat4x4[]":return"array<mat4x4<f32>>";case"texture2D":return"texture_2d<f32>"}return r}class N4{constructor(A){a(this,"_lexer");a(this,"_rootNode");this._lexer=A,this._rootNode=new Te,this.parse()}get lexer(){return this._lexer}parse(){for(;this.peekToken(0).Type!==U.EOF;){if(this.peekToken(0).Type==U.SEMICOLON){this.skipToken(1);continue}let A=this.parseStatement();A!==null&&this._rootNode.addNode(A)}}parseStatement(){let A=this.peekToken();if(A.Type==U.LAYOUT&&this.peekToken(1).Type==U.LEFTSAMLL)return s1.parse(this._lexer);if(A.Type==U.STRUCT)return this.skipToken(1),Un.parse(this._lexer);if((A.isBuiltinType()||A.Type==U.VOID)&&this.peekToken(1).Type==U.IDENT&&this.peekToken(2).Type==U.LEFTSAMLL)return o0.parse(this._lexer);if(A.Type==U.CONST&&this.peekToken(1).isDataType())return Ne.parse(this._lexer);if(A.isDataType()&&this.peekToken(1).Type==U.IDENT)return Ne.parse(this._lexer);if(A.Type==U.OUT&&this.peekToken(1).isDataType()&&this.peekToken(2).Type==U.IDENT)return Ne.parse(this._lexer);if(A.Type==U.PRECISION)return l0.parse(this._lexer);throw"Error parsing statement: Unexpected character"}skipToken(A){this._lexer.skipToken(A)}peekToken(A=0){return this._lexer.peekToken(A)}getNextToken(){return this._lexer.GetNextToken()}get ASTRoot(){return this._rootNode}}class Kd{static convertGLSL(A){var e=new M4(A),t=new x4(e),i=new N4(t),n=new R4(i);return n.generateWGSL()}}a(Kd,"VertexShader","VertexShader"),a(Kd,"FragmentShader","FragmentShader");class Eg{constructor(){a(this,"setID",0);a(this,"bindingID",0);a(this,"name","");a(this,"type","")}}class Cg{constructor(){a(this,"name","");a(this,"type","");a(this,"locationID",0);a(this,"builtinName","")}isBuiltinAttribute(){return this.builtinName!=""}}class L4{constructor(){a(this,"uniformInfo",[]);a(this,"inputAttribute",[]);a(this,"outputAttribute",[]);a(this,"sourceCode","")}}var li=(r=>(r[r.vertex=0]="vertex",r[r.fragment=1]="fragment",r[r.computer=2]="computer",r))(li||{});class U4{constructor(){a(this,"blendMode",ee.NONE);a(this,"depthCompare",en.less);a(this,"depthWriteEnabled",!0);a(this,"frontFace","ccw");a(this,"cullMode",ar.back);a(this,"topology",r1.triangle_list);a(this,"depthBias",10);a(this,"useLight",!1);a(this,"useProbe",!1);a(this,"acceptGI",!1);a(this,"acceptShadow",!1);a(this,"castShadow",!1);a(this,"castReflection",!1);a(this,"receiveEnv",!1);a(this,"renderLayer",1e3);a(this,"renderOrder",2e3);a(this,"unclippedDepth",!1);a(this,"transparent",!1);a(this,"multisample",0);a(this,"label");a(this,"useZ",!0);a(this,"splitTexture",!1);a(this,"alphaCutoff");a(this,"useFragDepth",!1);a(this,"writeMasks",[])}setFromMapValues(A){A.has("blendMode")&&(this.blendMode=this.convertBlendMode(A.get("blendMode"))),A.has("depthCompare")&&(this.depthCompare=A.get("depthCompare")),A.has("depthWriteEnabled")&&(this.depthWriteEnabled=A.get("depthWriteEnabled")),A.has("frontFace")&&(this.frontFace=A.get("frontFace")),A.has("cullMode")&&(this.cullMode=A.get("cullMode")),A.has("topology")&&(this.topology=A.get("topology")),A.has("depthBias")&&(this.depthBias=A.get("depthBias")),A.has("useLight")&&(this.useLight=A.get("useLight")),A.has("useProbe")&&(this.useProbe=A.get("useProbe")),A.has("acceptGI")&&(this.acceptGI=A.get("acceptGI")),A.has("acceptShadow")&&(this.acceptShadow=A.get("acceptShadow")),A.has("castShadow")&&(this.castShadow=A.get("castShadow")),A.has("receiveEnv")&&(this.receiveEnv=A.get("receiveEnv")),A.has("renderLayer")&&(this.renderLayer=A.get("renderLayer")),A.has("renderOrder")&&(this.renderOrder=A.get("renderOrder")),A.has("unclippedDepth")&&(this.unclippedDepth=A.get("unclippedDepth")),A.has("multisample")&&(this.multisample=A.get("multisample")),A.has("label")&&(this.label=A.get("label")),A.has("useZ")&&(this.useZ=A.get("useZ"))}convertBlendMode(A){switch(A){case"ABOVE":return ee.ABOVE;case"ALPHA":return ee.ALPHA;case"NORMAL":return ee.NORMAL;case"ADD":return ee.ADD;case"BELOW":return ee.BELOW;case"ERASE":return ee.ERASE;case"MUL":return ee.MUL;case"SCREEN":return ee.SCREEN;case"DIVD":return ee.DIVD;case"SOFT_ADD":return ee.SOFT_ADD}return ee.NONE}}class k4 extends Kn{constructor(){super();a(this,"uniformNodes",[]);a(this,"_onChange",!0);this.bufferType=xi.MaterialDataUniformGPUBuffer}initDataUniform(e){this.uniformNodes=e;let t=0;for(const i in e){const n=e[i];n||console.error(i,"is empty"),t+=n.size*4}t=Math.floor(t/256+1)*256,this.createBuffer(GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,t/4,null,"MaterialDataUniformGPUBuffer");for(const i in e){const n=e[i];n||console.error(i,"is empty");let s=this.memory.allocation_node(n.size*4);n.memoryInfo=s,n.bindOnChange=()=>this.onChange()}}onChange(){this._onChange=!0}apply(){if(this.uniformNodes.length!=0&&this._onChange){for(const e in this.uniformNodes)this.uniformNodes[e].update();super.apply(),this._onChange=!1}}}class di{static init(){this.renderShaderModulePool=new Map,this.renderShader=new Map}}a(di,"renderShaderModulePool"),a(di,"renderShader");const Lc=class Lc{constructor(){a(this,"reference")}static getInstance(){return this._ins||(this._ins=new Lc),this._ins}attached(A,e){this.reference||(this.reference=new Map);let t=this.reference.get(A);t||(t=new Map),t.set(e,A),this.reference.set(A,t)}detached(A,e){let t=this.reference.get(A);t&&t.delete(e)}hasReference(A){let e=this.reference.get(A);return e?e.size>0:!1}getReferenceCount(A){let e=this.reference.get(A);return e?e.size:0}getReference(A){return this.reference.get(A)||null}};a(Lc,"_ins");let te=Lc;class qd{static getSharePipeline(A){return this.pipelineMap.get(A)||null}static setSharePipeline(A,e){this.pipelineMap.set(A,e)}}a(qd,"pipelineMap",new Map);class ot extends Y3{constructor(e,t){super();a(this,"passType",QA.COLOR);a(this,"useRz",!1);a(this,"vsName");a(this,"fsName");a(this,"shaderState");a(this,"textures");a(this,"pipeline");a(this,"bindGroupLayouts");a(this,"envMap");a(this,"prefilterMap");a(this,"_sourceVS");a(this,"_sourceFS");a(this,"_destVS");a(this,"_destFS");a(this,"_vsShaderModule");a(this,"_fsShaderModule");a(this,"_textureGroup",-1);a(this,"_textureChange",!1);a(this,"_groupsShaderReflectionVarInfos");a(this,"outBufferMask");a(this,"_cacheEntries");this.vsName=e.toLowerCase(),this.fsName=t.toLowerCase(),this.vsName in CA||console.error("Shader Not Register, Please Register Shader!",this.vsName),this.fsName in CA||console.error("Shader Not Register, Please Register Shader!",this.fsName),CA[this.vsName]&&(this._sourceVS=CA[this.vsName]),CA[this.fsName]&&(this._sourceFS=CA[this.fsName]),this.textures={},this.bindGroups=[],this.shaderState=new U4,this.materialDataUniformBuffer=new k4,this.materialDataUniformBuffer.visibility=GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,this._bufferDic.set("global",this.materialDataUniformBuffer),this._bufferDic.set("materialUniform",this.materialDataUniformBuffer)}get renderOrder(){return this.shaderState.renderOrder}set renderOrder(e){this.shaderState.renderOrder!=e&&(this._valueChange=!0),this.shaderState.renderOrder=e}get doubleSide(){return this.shaderState.cullMode==ar.none}set doubleSide(e){let t=e?ar.none:this.cullMode;this.shaderState.cullMode!=t&&(this._valueChange=!0),this.shaderState.cullMode=t}get depthWriteEnabled(){return this.shaderState.depthWriteEnabled}set depthWriteEnabled(e){this.shaderState.depthWriteEnabled!=e&&(this._valueChange=!0),this.shaderState.depthWriteEnabled=e}get cullMode(){return this.shaderState.cullMode}set cullMode(e){this.shaderState.cullMode!=e&&(this._valueChange=!0),this.shaderState.cullMode=e}get frontFace(){return this.shaderState.frontFace}set frontFace(e){this.shaderState.frontFace!=e&&(this._valueChange=!0),this.shaderState.frontFace=e}get depthBias(){return this.shaderState.depthBias}set depthBias(e){this.shaderState.depthBias!=e&&(this._valueChange=!0),this.shaderState.depthBias=e}get topology(){return this.shaderState.topology}set topology(e){this.shaderState.topology!=e&&(this._valueChange=!0),this.shaderState.topology=e}get blendMode(){return this.shaderState.blendMode}set blendMode(e){this.shaderState.blendMode!=e&&(this._valueChange=!0,e!=ee.NORMAL&&e!=ee.NONE&&(this.renderOrder=3e3)),this.shaderState.blendMode=e}get depthCompare(){return this.shaderState.depthCompare}set depthCompare(e){this.shaderState.depthCompare!=e&&(this._valueChange=!0),this.shaderState.depthCompare=e}setShaderEntry(e="",t=""){this.vsEntryPoint=e,this.fsEntryPoint=t}setUniform(e,t){super.setUniform(e,t),this.materialDataUniformBuffer.onChange()}setTexture(e,t){t&&this.textures[e]!=t&&(this.textures[e]&&this.textures[e].unBindStateChange(this),this._textureChange=!0,this.textures[e]=t,e=="envMap"?this.envMap=t:e=="prefilterMap"&&(this.prefilterMap=t),t.bindStateChange(()=>{this._textureChange=!0},this))}get baseColor(){return this.getUniform("baseColor")}set baseColor(e){this.setUniform("baseColor",e)}getTexture(e){return this.textures[e]}genRenderPipeline(e,t){let i=this.createGroupLayouts();this.createPipeline(e,t,i)}reBuild(e,t){this.compileShader(li.vertex,this._destVS,t),this.compileShader(li.fragment,this._destFS,t),this.genRenderPipeline(e,t)}apply(e,t,i){this.materialDataUniformBuffer.apply(),this._textureChange&&this._textureGroup!=-1&&(this._textureChange=!1,this.genGroups(this._textureGroup,this.shaderReflection.groups,!0)),this._valueChange&&(this._shaderChange&&(this.preCompile(e),this._shaderChange=!1),this.shaderVariant=tr.genRenderShaderVariant(this),this.reBuild(e,t),this._valueChange=!1,i&&i())}preCompile(e){this.preDefine(e),this.preCompileShader(li.vertex,this._sourceVS.concat()),this.preCompileShader(li.fragment,this._sourceFS.concat()),this.genReflection()}applyPostDefine(e,t){return t.renderTargetTextures.length>1?(this.defineValue.USE_WORLDPOS=!0,this.defineValue.USEGBUFFER=!0):(this.defineValue.USE_WORLDPOS=!1,this.defineValue.USEGBUFFER=!1),ps.parse(e,this.defineValue)}setBindGroup(e,t){this.bindGroups[e]=t}checkBuffer(e,t){}preCompileShader(e,t,i){let n=t;if(n.indexOf("version ")!=-1){var s=Kd.convertGLSL(n);n=s.sourceCode}for(const o in this.constValues)if(Object.prototype.hasOwnProperty.call(this.constValues,o)){const u=this.constValues[o];n=n.replaceAll(`&${o}`,u.toString())}switch(e){case li.vertex:this._destVS=n;break;case li.fragment:this._destFS=n;break}}compileShader(e,t,i){let n=t;n=this.applyPostDefine(n,i);let s=t;for(let u in this.defineValue)s+=`${u}=${this.defineValue[u]},`;let o=di.renderShaderModulePool.get(s);switch(o||(n=this.applyPostDefine(n,i),o=iA.device.createShaderModule({label:e==li.vertex?this.vsName:this.fsName,code:n}),o.getCompilationInfo().then(u=>{u.messages.length>0&&(console.log(n),console.log(u))}),di.renderShaderModulePool.set(s,o)),e){case li.vertex:this._vsShaderModule=o,this._destVS=n;break;case li.fragment:this._fsShaderModule=o,this._destFS=n;break}}getGroupLayout(e,t){let i=[];for(let n=0;n<t.length;n++){const s=t[n];if(s)if(s.varType=="uniform"){this._bufferDic.has(s.varName)||console.error(`not set ${s.varName} buffer`);let o=this._bufferDic.get(s.varName).visibility,u={binding:s.binding,visibility:o,buffer:{type:"uniform"}};i.push(u)}else if(s.varType=="storage-read"){this._bufferDic.has(s.varName)||console.error(`not set ${s.varName} buffer`);let o=this._bufferDic.get(s.varName).visibility,u={binding:s.binding,visibility:o,buffer:{type:"read-only-storage"}};i.push(u)}else if(s.varType=="var")switch(s.dataType){case"sampler":{let o=s.varName.replace("Sampler",""),u=this.textures[o]?this.textures[o]:K.res.redTexture,l={binding:s.binding,visibility:u.visibility,sampler:u.samplerBindingLayout};i.push(l),this._textureGroup=e}break;case"sampler_comparison":{let o=s.varName.replace("Sampler",""),u=this.textures[o]?this.textures[o]:K.res.redTexture,l={binding:s.binding,visibility:u.visibility,sampler:u.sampler_comparisonBindingLayout};i.push(l),this._textureGroup=e}break;case"texture_2d<f32>":case"texture_2d_array<f32>":case"texture_cube<f32>":case"texture_depth_2d":case"texture_depth_2d_array":case"texture_depth_cube":case"texture_depth_cube_array":{let o=this.textures[s.varName]?this.textures[s.varName]:K.res.redTexture,u={binding:s.binding,visibility:o.visibility,texture:o.textureBindingLayout};i.push(u),this._textureGroup=e,te.getInstance().attached(o,this)}break;case"texture_external":{let o=this.textures[s.varName]?this.textures[s.varName]:K.res.redTexture,u={binding:s.binding,visibility:o.visibility,externalTexture:{}};i.push(u),this._textureGroup=e,te.getInstance().attached(o,this)}break;default:{let o=this.textures[s.varName]?this.textures[s.varName]:K.res.redTexture,u={binding:s.binding,visibility:o.visibility,texture:o.textureBindingLayout};i.push(u),this._textureGroup=e,te.getInstance().attached(o,this)}break}else{debugger;console.error("bind group can't empty")}}return i}genGroups(e,t,i=!1){if(!this.bindGroups[e]||i){const n=t[e];let s=[];for(let u=0;u<n.length;u++){const l=n[u];if(l){if(l.varType=="uniform"){let c=this._bufferDic.get(l.varName);if(c){if(c.bufferType==xi.MaterialDataUniformGPUBuffer){let d=[];for(let f=0;f<l.dataFields.length;f++){const p=l.dataFields[f];this.uniforms[p.name]||console.error(`shader-${this.vsName}:${this.fsName} ${p.name}is empty`),d.push(this.uniforms[p.name])}this.materialDataUniformBuffer.initDataUniform(d)}let h={binding:l.binding,resource:{buffer:c.buffer,offset:0,size:c.memory.shareDataBuffer.byteLength}};s.push(h),this.checkBuffer(l.varName,c)}else console.error(`shader${this.vsName}-${this.fsName}`,`buffer ${l.varName} is missing!`)}else if(l.varType=="storage-read"){let c=this._bufferDic.get(l.varName);if(c){let h={binding:l.binding,resource:{buffer:c.buffer,offset:0,size:c.memory.shareDataBuffer.byteLength}};s.push(h),this.checkBuffer(l.varName,c)}else console.error(`buffer ${l.varName} is missing!`)}else if(l.varType=="var")if(l.dataType=="sampler"){let c=l.varName.replace("Sampler",""),h=this.textures[c];if(h||(h=K.res.blackTexture,this.setTexture(c,h)),h){let d={binding:l.binding,resource:h.gpuSampler};s.push(d)}else console.error(`shader${this.vsName}-${this.fsName}`,`texture ${l.varName} is missing! `)}else if(l.dataType=="sampler_comparison"){let c=l.varName.replace("Sampler",""),h=this.textures[c];if(h){let d={binding:l.binding,resource:h.gpuSampler_comparison};s.push(d)}else console.error(`shader${this.vsName}-${this.fsName}`,`texture ${l.varName} is missing! `)}else{let c=this.textures[l.varName];if(c||(c=K.res.whiteTexture,this.setTexture(l.varName,c)),c){let h={binding:l.binding,resource:c.getGPUView()};s.push(h)}else console.error(`shader${this.vsName}-${this.fsName}`,`texture ${l.varName} is missing! `)}}}let o=iA.device.createBindGroup({layout:this.bindGroupLayouts[e],entries:s});this.bindGroups[e]=o}}createPipeline(e,t,i){let n=e,s=this.shaderState,o=[];for(const c of t.renderTargetTextures)o.push({format:c.format});for(let c=0;c<o.length;c++){const h=o[c];s.writeMasks&&s.writeMasks.length>0&&(h.writeMask=s.writeMasks[c])}if(t.outColor!=-1){let c=o[t.outColor];s.blendMode!=ee.NONE?c.blend=T4.getBlend(s.blendMode):delete c.blend}let u={label:this.vsName+"|"+this.fsName,layout:i,primitive:{topology:s.topology,cullMode:s.cullMode,frontFace:s.frontFace},vertex:void 0};this.vsEntryPoint!=""&&(u.vertex={module:this._vsShaderModule,entryPoint:this.vsEntryPoint,buffers:n.vertexBuffer.vertexBufferLayouts}),this.fsEntryPoint!=""&&(u.fragment={module:this._fsShaderModule,entryPoint:this.fsEntryPoint,targets:o}),s.multisample>0&&(u.multisample={count:s.multisample}),(t.zPreTexture||t.depthTexture)&&(s.blendMode!=ee.NONE,K.setting.render.zPrePass&&t.zPreTexture&&s.useZ?u.depthStencil={depthWriteEnabled:!1,depthCompare:en.less,format:t.zPreTexture.format}:u.depthStencil={depthWriteEnabled:s.depthWriteEnabled,depthCompare:s.depthCompare,format:t.depthTexture.format});let l=qd.getSharePipeline(this.shaderVariant);l?this.pipeline=l:(this.pipeline=sA.createPipeline(u),qd.setSharePipeline(this.shaderVariant,this.pipeline))}createGroupLayouts(){this._groupsShaderReflectionVarInfos=[];let e=this.shaderReflection;this.bindGroupLayouts=[s0.getGlobalDataBindGroupLayout()];for(let i=1;i<e.groups.length;i++){let n=e.groups[i];if(n){let s=this.getGroupLayout(i,n);this._groupsShaderReflectionVarInfos[i]=n;let o=iA.device.createBindGroupLayout({entries:s,label:`vs${this.vsName} fs${this.fsName} ${n.length}`});this.bindGroupLayouts[i]=o}else console.error("can't set empty group!",i)}let t=iA.device.createPipelineLayout({bindGroupLayouts:this.bindGroupLayouts});return this._groupsShaderReflectionVarInfos[0],this._groupsShaderReflectionVarInfos[1]&&this.genGroups(1,this._groupsShaderReflectionVarInfos),this._groupsShaderReflectionVarInfos[2]&&this.genGroups(2,this._groupsShaderReflectionVarInfos),this._groupsShaderReflectionVarInfos[3]&&this.genGroups(3,this._groupsShaderReflectionVarInfos),t}preDefine(e){let t=e.hasAttribute(pA.TEXCOORD_1),i=e.hasAttribute(pA.joints0),n=e.hasAttribute(pA.a_morphPositions_0),s=e.hasAttribute(pA.TANGENT),o=e.hasAttribute(pA.color),u=this.shaderState.acceptGI,l=this.shaderState.useLight;t&&(this.defineValue.USE_SECONDUV=!0),i&&n?this.defineValue.USE_METAHUMAN=!0:(this.defineValue.USE_SKELETON=i,this.defineValue.USE_MORPHTARGETS=n),"USE_TANGENT"in this.defineValue||(this.defineValue.USE_TANGENT=s),this.defineValue.USE_GI=u,this.defineValue.USE_SHADOWMAPING=this.shaderState.acceptShadow,this.defineValue.USE_LIGHT=l,this.defineValue.USE_VERTXCOLOR=o,K.setting.pick.mode=="pixel"&&(this.defineValue.USE_WORLDPOS=!0),K.setting.gi.enable?this.defineValue.USEGI=!0:this.defineValue.USEGI=!1,K.setting.render.debug&&(this.defineValue.USE_DEBUG=!0,this.defineValue.DEBUG_CLUSTER=!0),this.shaderState.useLight?this.defineValue.USE_LIGHT=!0:this.defineValue.USE_LIGHT=!1,K.setting.render.useLogDepth?(this.defineValue.USE_LOGDEPTH=!0,this.shaderState.useFragDepth=!0):this.defineValue.USE_LOGDEPTH=!1,this.shaderState.useFragDepth?this.defineValue.USE_OUTDEPTH=!0:this.defineValue.USE_OUTDEPTH=!1,this.defineValue.USE_PCF_SHADOW=K.setting.shadow.type=="PCF",this.defineValue.USE_HARD_SHADOW=K.setting.shadow.type=="HARD",this.defineValue.USE_SOFT_SHADOW=K.setting.shadow.type=="SOFT",this.defineValue.USE_CSM=bi.Cascades>1,this.defineValue.USE_IES_PROFILE=au.use}genReflection(){this.shaderVariant=tr.genRenderShaderVariant(this);let e=tr.poolGetReflection(this.shaderVariant);if(e)this.shaderReflection=e;else{let t=ps.parse(this._destVS,this.defineValue);t=ps.parse(t,this.defineValue),tr.getShaderReflection2(t,this);let i=ps.parse(this._destFS,this.defineValue);i=ps.parse(i,this.defineValue),tr.getShaderReflection2(i,this),tr.final(this)}this.shaderState.splitTexture=this.shaderReflection.useSplit}destroy(e){for(const t in this.textures)if(Object.prototype.hasOwnProperty.call(this.textures,t)){const i=this.textures[t];if(te.getInstance().detached(i,this),e&&!te.getInstance().hasReference(i))i.destroy(e);else{i.destroy(!1);let n=te.getInstance().getReference(i);if(n){let s=[];n.forEach((o,u)=>{"name"in o?s.push(o.name):s.push("NaN")})}}}this.bindGroups.length=0,this.shaderState=null,this.textures=null,this.pipeline=null,this.bindGroupLayouts=null,this._sourceVS=null,this._sourceFS=null,this._destVS=null,this._destFS=null,this._vsShaderModule=null,this._fsShaderModule=null,this.materialDataUniformBuffer.destroy(e),this.materialDataUniformBuffer=null}static destroyShader(e){di.renderShader.has(e)&&(di.renderShader.get(e).destroy(),di.renderShader.delete(e))}static getShader(e){return di.renderShader.get(e)}static createShader(e,t){let i=new ot(e,t);return di.renderShader.set(i.instanceID,i),i.instanceID}}class z4 extends ot{constructor(){super("sky_vs_frag_wgsl","SkyGBuffer_fs"),this.passType=QA.GI,this.setUniformVector3("eyesPos",new I),this.setUniformFloat("exposure",1),this.setUniformFloat("roughness",0);let A=this.shaderState;A.frontFace="ccw",A.cullMode=ar.front,A.depthWriteEnabled=!1,A.depthCompare=en.less}}class G4 extends ot{constructor(){super("gbuffer_vs","gbuffer_fs");a(this,"transparency");this.setShaderEntry("VertMain","FragMain"),this.passType=QA.GI,this.setUniformColor("baseColor",new fA),this.setUniformColor("emissiveColor",new fA),this.setUniformFloat("emissiveIntensity",1),this.setUniformFloat("normalScale",1),this.setUniformFloat("alphaCutoff",1),this.blendMode=ee.NONE,this.setTexture("normalMap",K.res.normalTexture)}}class V4 extends ot{constructor(){super("shadowCastMap_vert","directionShadowCastMap_frag"),this.passType=QA.SHADOW,this.setShaderEntry("main"),this.setUniformFloat("cameraFar",5e3),this.setUniformVector3("lightWorldPos",I.ZERO),this.shaderState.receiveEnv=!1,this.shaderState.castShadow=!1,this.shaderState.acceptShadow=!1,this.setDefine("USE_ALPHACUT",!0)}}class Q4 extends ot{constructor(){super("castPointShadowMap_vert","shadowCastMap_frag"),this.passType=QA.POINT_SHADOW,this.setShaderEntry("main","main"),this.setUniformFloat("cameraFar",5e3),this.setUniformVector3("lightWorldPos",I.ZERO),this.shaderState.receiveEnv=!1,this.shaderState.castShadow=!1,this.shaderState.acceptShadow=!1,this.setDefine("USE_ALPHACUT",!0)}}class H4 extends ot{constructor(){super("ZPass_shader_vs","ZPass_shader_vs"),this.passType=QA.DEPTH,this.setShaderEntry("main"),this.useRz=!1;let A=this.shaderState;A.receiveEnv=!1}}class Ju{static createGIPass(A,e){if(Gi.hasMask(A.rendererMask,It.Sky)){if(!e.passShader.get(QA.GI)){let t=e.getSubShaders(QA.COLOR)[0],i=new z4;i.setTexture("baseMap",t.getTexture("baseMap")),i.cullMode=t.cullMode,i.frontFace=t.frontFace,e.addRenderPass(i,0),i.preCompile(A.geometry)}}else this.castGBufferPass(A,e)}static castGBufferPass(A,e){let t=e.getDefaultShaders();for(let i=0;i<t.length;i++){const n=t[i];let s=e.getSubShaders(QA.GI);if(!s||s.length==0||s.length<i){let o=new G4;o.setTexture("baseMap",n.getTexture("baseMap")),o.setTexture("normalMap",n.getTexture("normalMap")),o.setTexture("emissiveMap",n.getTexture("emissiveMap")),o.setUniform("baseColor",n.getUniform("baseColor")),o.setUniform("envIntensity",n.getUniform("envIntensity")),o.setUniform("emissiveColor",n.getUniform("emissiveColor")),o.setUniform("emissiveIntensity",n.getUniform("emissiveIntensity")),o.setUniform("alphaCutoff",n.getUniform("alphaCutoff")),o.cullMode=n.cullMode,o.frontFace=n.frontFace,o.preCompile(A.geometry),e.addRenderPass(o)}}}static createShadowPass(A,e){let t=Gi.hasMask(A.rendererMask,It.SkinnedMesh),i=A.geometry.hasAttribute(pA.TANGENT),n=A.geometry.hasAttribute(fe.MORPH_POSITION_PREFIX+"0"),s=A.geometry.hasAttribute(fe.MORPH_NORMAL_PREFIX+"0"),o=e.getSubShaders(QA.COLOR);for(let u=0;u<o.length;u++){const l=o[u];let c=e.getSubShaders(QA.SHADOW);if(!c||c.length<u+1){let d=new V4;d.setTexture("baseMap",l.getTexture("baseMap")),d.setUniform("alphaCutoff",l.getUniform("alphaCutoff")),i&&d.setDefine("USE_TANGENT",i),t&&d.setDefine("USE_SKELETON",t),n&&d.setDefine("USE_MORPHTARGETS",n),s&&d.setDefine("USE_MORPHNORMALS",s),l.cullMode=="none"?d.shaderState.cullMode="none":l.cullMode=="back"?d.shaderState.cullMode="front":l.cullMode=="front"&&(d.shaderState.cullMode="back"),d.preCompile(A.geometry),e.addRenderPass(d)}let h=e.getSubShaders(QA.POINT_SHADOW);if(!h||h.length<u+1){let d=new Q4;d.setTexture("baseMap",l.getTexture("baseMap")),d.setUniform("alphaCutoff",l.getUniform("alphaCutoff")),d.setDefine("USE_ALPHACUT",1);for(let f=0;f<1;f++)i&&d.setDefine("USE_TANGENT",i),t&&d.setDefine("USE_SKELETON",t),n&&d.setDefine("USE_MORPHTARGETS",n),s&&d.setDefine("USE_MORPHNORMALS",s),d.shaderState.cullMode="front",d.preCompile(A.geometry);e.addRenderPass(d)}}}static createDepthPass(A,e){let t=e.getSubShaders(QA.COLOR),i=A.geometry.hasAttribute("TANGENT"),n=A.geometry.hasAttribute(fe.MORPH_POSITION_PREFIX+"0"),s=A.geometry.hasAttribute(fe.MORPH_NORMAL_PREFIX+"0"),o=Gi.hasMask(A.rendererMask,It.SkinnedMesh);for(let u=0;u<t.length;u++){const l=t[u];let c=e.getSubShaders(QA.DEPTH);if(!c&&l.shaderState.useZ&&(!c||c.length<u)){let h=new H4;h.setTexture("baseMap",l.getTexture("baseMap")),i||h.setDefine("USE_TANGENT",i),o&&h.setDefine("USE_SKELETON",o),n&&h.setDefine("USE_MORPHTARGETS",n),s&&h.setDefine("USE_MORPHNORMALS",s),h.cullMode=l.cullMode,h.frontFace=l.frontFace,h.preCompile(A.geometry),e.addRenderPass(h)}}}}class j4{constructor(A){a(this,"renderer");a(this,"owner");a(this,"uuid");this.renderer=A,this.uuid=A.object3D.instanceID}leaveNode(){this.owner&&(this.owner.entities.delete(this.uuid),this.owner=null)}enterNode(A){this.owner&&this.leaveNode(),this.owner=A,A.entities.set(this.uuid,this)}update(A){var e;return(e=this.owner)!=null&&e.tryInsertEntity(this)||(this.leaveNode(),A.tryInsertEntity(this)),this.owner}}var W4=Object.defineProperty,Y4=Object.getOwnPropertyDescriptor,pa=(r,A,e,t)=>{for(var i=t>1?void 0:t?Y4(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&W4(A,e,i),i};class gs extends Jt{constructor(){super(...arguments);a(this,"instanceCount",0);a(this,"lodLevel",0);a(this,"alwaysRender",!1);a(this,"instanceID");a(this,"drawType",0);a(this,"_geometry");a(this,"_materials",[]);a(this,"_castShadow",!0);a(this,"_castReflection",!1);a(this,"_castGI",!1);a(this,"_rendererMask",It.Default);a(this,"_inRenderer",!1);a(this,"_readyPipeline",!1);a(this,"_combineShaderRefection");a(this,"_ignoreEnvMap");a(this,"_ignorePrefilterMap");a(this,"__renderOrder",0);a(this,"_renderOrder",0);a(this,"isRenderOrderChange");a(this,"needSortOnCameraZ");a(this,"_octreeBinder");a(this,"preInit",!1);a(this,"_renderLayer",tc.None);a(this,"_computes")}init(e){this.renderOrder=0,this.rendererMask=It.Default,this.instanceID=W3().toString(),this._computes=[]}attachSceneOctree(e){this._octreeBinder={octree:e,entity:new j4(this)},this.transform.eventDispatcher.addEventListener(Si.LOCAL_ONCHANGE,this.updateOctreeEntity,this)}detachSceneOctree(){var e;this._octreeBinder&&((e=this._octreeBinder.entity)==null||e.leaveNode(),this.transform.eventDispatcher.removeEventListener(Si.LOCAL_ONCHANGE,this.updateOctreeEntity,this),this._octreeBinder=null)}updateOctreeEntity(e){var t,i;(i=(t=this._octreeBinder)==null?void 0:t.entity)==null||i.update(this._octreeBinder.octree)}copyComponent(e){return super.copyComponent(e),this.geometry=e._geometry,this.materials=e._materials.slice(),this.drawType=e.drawType,this.alwaysRender=e.alwaysRender,this.needSortOnCameraZ=e.needSortOnCameraZ,this.isRenderOrderChange=e.isRenderOrderChange,this.castShadow=e.castShadow,this.castGI=e.castGI,this.rendererMask=e.rendererMask,this}get renderLayer(){return this._renderLayer}set renderLayer(e){this._renderLayer=e}get geometry(){return this._geometry}set geometry(e){this._geometry!=e&&(this._geometry&&te.getInstance().detached(this._geometry,this),te.getInstance().attached(e,this)),this._geometry=e}addMask(e){this._rendererMask=Gi.addMask(this.rendererMask,e)}removeMask(e){this._rendererMask=Gi.removeMask(this.rendererMask,e)}hasMask(e){return Gi.hasMask(this.rendererMask,e)}get rendererMask(){return this._rendererMask}set rendererMask(e){this._rendererMask=e}get renderOrder(){return this._renderOrder}set renderOrder(e){e!=this._renderOrder&&(this.isRenderOrderChange=!0,this.__renderOrder=e),this._renderOrder=e}get materials(){return this._materials}set materials(e){this._readyPipeline=!1;for(let i=0;i<this._materials.length;i++){let n=this._materials[i];te.getInstance().detached(n,this),n.shader&&n.shader.computes&&this.removeComputes(n.shader.computes)}for(let i=0;i<e.length;i++){let n=e[i];te.getInstance().attached(n,this),n.shader&&n.shader.computes&&this.addComputes(n.shader.computes)}this._materials=e;let t=0;for(let i=0;i<e.length;i++){const n=e[i].getPass(QA.COLOR)[0];n.shaderState.transparent&&(t=t>n.renderOrder?t:n.renderOrder)}this.renderOrder=t,this._readyPipeline||this.initPipeline()}addComputes(e){this._computes.push(...e)}removeComputes(e){for(const t of e){let i=this._computes.indexOf(t);i!=-1&&this._computes.splice(i,1)}}addRendererMask(e){this._rendererMask=Gi.addMask(this._rendererMask,e)}removeRendererMask(e){this._rendererMask=Gi.removeMask(this._rendererMask,e)}onEnable(){this._readyPipeline||this.initPipeline(),IA.instance.addRenderNode(this.transform.scene3D,this),this.updateOctreeEntity()}onDisable(){var e;this._enable=!1,IA.instance.removeRenderNode(this.transform.scene3D,this),(e=super.onDisable)==null||e.call(this)}selfCloneMaterials(e){let t=[];for(let i=0,n=this.materials.length;i<n;i++){const s=this.materials[i].clone();t.push(s)}return this.materials=t,this._readyPipeline=!1,this.initPipeline(),this}initPipeline(){if(this._geometry&&this._materials.length>0){for(let t=0;t<this._materials.length;t++){let i=this._materials[t].getPass(QA.COLOR);for(let n=0;n<i.length;n++){const s=i[n];s.shaderReflection||s.preCompile(this._geometry),this._geometry.generate(s.shaderReflection)}this.object3D.bound=this._geometry.bounds.clone()}this._readyPipeline=!0;let e=0;for(let t=0;t<this.materials.length;t++){const i=this.materials[t].getPass(QA.COLOR)[0];i.renderOrder>=3e3?e=e>i.renderOrder?e:i.renderOrder:e=Math.max(e-3e3,0),this.castNeedPass()}this.renderOrder=e,this.enable&&this.transform&&this.transform.scene3D&&IA.instance.addRenderNode(this.transform.scene3D,this)}}castNeedPass(){if(this.castGI)for(let e=0;e<this.materials.length;e++){const t=this.materials[e];Ju.createGIPass(this,t.shader)}for(let e=0;e<this.materials.length;e++){const t=this.materials[e];t.castShadow&&Ju.createShadowPass(this,t.shader)}if(this.castReflection)for(let e=0;e<this.materials.length;e++){const t=this.materials[e];t.castShadow&&Ju.createShadowPass(this,t.shader)}if(!Gi.hasMask(this.rendererMask,It.IgnoreDepthPass)&&K.setting.render.zPrePass)for(let e=0;e<this.materials.length;e++){const t=this.materials[e];Ju.createDepthPass(this,t.shader)}else for(let e=0;e<this.materials.length;e++)this.materials[e].shader.removeShaderByIndex(QA.DEPTH,0)}get castShadow(){return this._castShadow}set castShadow(e){this._castShadow=e}get castGI(){return this._castGI}set castGI(e){this._castGI=e}get castReflection(){return this._castReflection}set castReflection(e){this._castReflection=e}renderPass(e,t,i){let n=this,s=n.transform._worldMatrix;for(let o=0;o<n.materials.length;o++){const u=n.materials[o];if(!u||!u.enable)continue;let l=u.getPass(t);if(!(!l||l.length==0)){sA.bindGeometryBuffer(i.encoder,n._geometry);for(let c=0;c<l.length;c++){if(!l||l.length==0)continue;const h=l[c];if(h.pipeline){h.shaderState.splitTexture&&(i.endRenderPass(),Gt.WriteSplitColorTexture(n.instanceID),i.beginOpaqueRenderPass(),sA.bindCamera(i.encoder,e.camera),sA.bindGeometryBuffer(i.encoder,n._geometry)),sA.bindPipeline(i.encoder,h);let d=n._geometry.subGeometries[o].lodLevels[n.lodLevel];n.instanceCount>0?sA.drawIndexed(i.encoder,d.indexCount,n.instanceCount,d.indexStart,0,0):sA.drawIndexed(i.encoder,d.indexCount,1,d.indexStart,0,s.index)}}}}}renderPass2(e,t,i,n,s,o=!1){if(!this.enable)return;let u=this,l=u.object3D.transform._worldMatrix;for(let c=0;c<this.materials.length;c++){const h=this.materials[c];if(!h.castShadow&&t==QA.SHADOW)continue;let d=h.getPass(t);if(!d||d.length==0)return;if(this.drawType==2)for(let f of d)f.pipeline&&(sA.bindPipeline(s,f),sA.draw(s,6,1,0,l.index));else{sA.bindGeometryBuffer(s,u._geometry);for(let f of d)if(f.pipeline){sA.bindPipeline(s,f);let p=u._geometry.subGeometries[c].lodLevels[u.lodLevel];sA.drawIndexed(s,p.indexCount,1,p.indexStart,0,l.index)}}}}recordRenderPass2(e,t,i,n,s,o=!1){if(!this.enable)return;let u=this;for(let l=0;l<this.materials.length;l++){let c=this.materials[l].getPass(t);if(!c||c.length==0)return;let h=u.object3D.transform._worldMatrix;for(let d=0;d<c.length;d++){const f=c[d];sA.bindPipeline(s,f);let p=u._geometry.subGeometries[l].lodLevels[u.lodLevel];sA.drawIndexed(s,p.indexCount,1,p.indexStart,0,h.index)}}}noticeShaderChange(){this.enable&&(this.onEnable(),this.preInit=!1)}nodeUpdate(e,t,i,n){this.preInit=!0;let s=this,o=e.scene.envMap;for(let u=0;u<s.materials.length;u++){let l=s.materials[u].getPass(t);if(l)for(let c=0;c<l.length;c++){const h=l[c];if(h.shaderState.splitTexture){let g=Gt.CreateSplitTexture(s.instanceID);h.setTexture("splitTexture_Map",g)}if(!s._ignoreEnvMap&&h.envMap!=o&&h.setTexture("envMap",o),h.setTexture("prefilterMap",o),h.pipeline){h.apply(s._geometry,i,()=>s.noticeShaderChange());continue}let d=K.res.getTexture("BRDFLUT");h.setTexture("brdflutMap",d);let f=K.getRenderJob(e).shadowMapPassRenderer;f&&f.depth2DArrayTexture&&h.setTexture("shadowMap",K.getRenderJob(e).shadowMapPassRenderer.depth2DArrayTexture);let p=K.getRenderJob(e).pointLightShadowRenderer;p&&p.cubeArrayTexture&&h.setTexture("pointShadowMap",p.cubeArrayTexture);let y=au.iesTexture;y&&h.setTexture("iesTextureArrayMap",y),i.irradianceBuffer&&i.irradianceBuffer.length>0&&(h.setTexture("irradianceMap",i.irradianceBuffer[0]),h.setTexture("irradianceDepthMap",i.irradianceBuffer[1]));let _=Le.getLightEntries(e.scene);_&&(h.setStorageBuffer("lightBuffer",_.storageGPUBuffer),_.irradianceVolume&&h.setUniformBuffer("irradianceData",_.irradianceVolume.irradianceVolumeBuffer)),n&&(h.setStorageBuffer("clustersUniform",n.clustersUniformBuffer),h.setStorageBuffer("lightAssignBuffer",n.lightAssignBuffer),h.setStorageBuffer("assignTable",n.assignTableBuffer),h.setStorageBuffer("clusterBuffer",n.clusterBuffer)),h.apply(s._geometry,i)}}}beforeDestroy(e){te.getInstance().detached(this._geometry,this),te.getInstance().hasReference(this._geometry)||this._geometry.destroy(e);for(let t=0;t<this._materials.length;t++){const i=this._materials[t];te.getInstance().detached(i,this),te.getInstance().hasReference(i)||i.destroy(e)}super.beforeDestroy(e)}destroy(e){super.destroy(e),this._geometry=null,this._materials=null,this._combineShaderRefection=null}}pa([Hi],gs.prototype,"materials",1),pa([Hi],gs.prototype,"castShadow",1),pa([Hi],gs.prototype,"castShadow",1),pa([Hi],gs.prototype,"castGI",1),pa([Hi],gs.prototype,"castGI",1);class _g{constructor(A){a(this,"uuid");a(this,"type");a(this,"color");a(this,"count",0);a(this,"pointData");a(this,"colorData");a(this,"dirtyData",!1);a(this,"memoryDataIndex",-1);a(this,"transformIndex");this.transformIndex=A}buildAxis(A=new I(0,0,0),e=10){this.buildLines([A,new I(A.x+e,A.y,A.z)],fA.hexRGBColor(fA.RED)),this.buildLines([A,new I(A.x,A.y+e,A.z)],fA.hexRGBColor(fA.GREEN)),this.buildLines([A,new I(A.x,A.y,A.z+e)],fA.hexRGBColor(fA.BLUE))}buildLines(A,e=fA.COLOR_WHITE){if(!(A.length<2)){if(A.length==2){this.fillShapeData(A,e);return}var t=new Array(A.length+A.length-2);for(let i=1,n=0;i<A.length;++i)t[n++]=A[i-1],t[n++]=A[i];this.fillShapeData(t,e)}}buildArcLine(A,e,t,i,n=16,s=I.Y_AXIS,o=fA.COLOR_WHITE){const u=(i-t)*Ie;t*=Ie;var l=[];for(let f=0;f<=n;++f){f>1&&l.push(l[l.length-1]);var c=u*(f/n)+t,h=e*Math.cos(c),d=e*Math.sin(c);switch(s){case I.X_AXIS:l.push(A.add(new I(0,h,d)));break;case I.Y_AXIS:l.push(A.add(new I(h,0,d)));break;case I.Z_AXIS:l.push(A.add(new I(h,d,0)));break;default:l.push(A.add(new I(h,d,0)));break}}this.fillShapeData(l,o)}buildCircle(A,e,t=32,i=I.Y_AXIS,n=fA.COLOR_WHITE){var s=[];for(let c=0;c<=t;++c){var o=2*Math.PI*c/t,u=e*Math.cos(o),l=e*Math.sin(o);switch(i){case I.X_AXIS:s.push(A.add(new I(0,u,l)));break;case I.Y_AXIS:s.push(A.add(new I(u,0,l)));break;case I.Z_AXIS:s.push(A.add(new I(u,l,0)));break;default:s.push(A.add(new I(u,l,0)));break}c>0&&s.push(s[s.length-1])}s.push(s[0]),this.fillShapeData(s,n)}fillShapeData(A,e,t=!1){if(!this.pointData)this.pointData=new Float32Array(4*A.length),this.colorData=new Float32Array(4*A.length);else if(this.count+4*A.length>=this.pointData.length){let i=new Float32Array(this.pointData.length+4*A.length);i.set(this.pointData),this.pointData=i,i=new Float32Array(this.colorData.length+4*A.length),i.set(this.colorData),this.colorData=i}if(t||this.dirtyData==!1){const i=this.pointData;let n=this.count;for(let o=0;o<A.length;++o){const u=A[o];i[this.count++]=u.x,i[this.count++]=u.y,i[this.count++]=u.z,i[this.count++]=this.transformIndex}const s=this.colorData;for(let o=0;o<A.length;++o)if(e instanceof fA)s[n++]=e.r,s[n++]=e.g,s[n++]=e.b,s[n++]=e.a;else{const u=e[o];s[n++]=u.r,s[n++]=u.g,s[n++]=u.b,s[n++]=u.a}}this.dirtyData=!0}reset(){this.count=0}}class c0 extends gs{constructor(e,t){super();a(this,"shapes");a(this,"mDirtyData",!1);a(this,"mBatchSize");a(this,"mMinIndexCount");a(this,"mGPUPrimitiveTopology");this.alwaysRender=!0,this.mMinIndexCount=e,this.mBatchSize=Math.trunc(65536/this.mMinIndexCount),this.mGPUPrimitiveTopology=t,this.shapes=new Map}init(){super.init(),this.castGI=!1,this.castShadow=!1,this.geometry=new ti;let e=new Uint16Array((Math.trunc(this.mMinIndexCount*this.mBatchSize/4)+1)*4);for(let t=0;t<e.length;t++)e[t]=t;this.geometry.setIndices(e),this.geometry.setAttribute(pA.position,new Float32Array(4*e.length)),this.geometry.setAttribute(pA.color,new Float32Array(4*e.length)),this.geometry.addSubGeometry({indexStart:0,indexCount:0,vertexStart:0,vertexCount:0,firstStart:0,index:0,topology:0}),this.materials=[new BB(this.mGPUPrimitiveTopology)]}fillShapeData(e,t,i,n){this.mDirtyData=!0;var s;this.shapes.has(e)?(s=this.shapes.get(e),s.pointData.length<4*n.length&&(s.pointData=new Float32Array(4*n.length),s.colorData=new Float32Array(4*n.length))):(s=new _g(this.transform._worldMatrix.index),s.type=t,s.color=i,s.pointData=new Float32Array(4*n.length),s.colorData=new Float32Array(4*n.length));const o=s.pointData,u=s.colorData,l=this.transform._worldMatrix.index;for(let c=0,h=0;c<n.length;++c){const d=n[c];o[h]=d.x,u[h++]=i.r,o[h]=d.y,u[h++]=i.g,o[h]=d.z,u[h++]=i.b,o[h]=l,u[h++]=i.a}this.shapes.set(e,s)}removeShape(e){this.shapes.has(e)&&(this.mDirtyData=!0,this.shapes.delete(e))}nodeUpdate(e,t,i,n){if(this.mDirtyData){let s=0,o=this.geometry.getAttribute(pA.position),u=this.geometry.getAttribute(pA.color);this.shapes.forEach((c,h)=>{o.data.set(c.pointData,s),u.data.set(c.colorData,s),s+=c.pointData.length}),this.geometry.vertexBuffer.upload(pA.position,o),this.geometry.vertexBuffer.upload(pA.color,u);let l=s/4;this.geometry.subGeometries[0].lodLevels[0].indexCount=l,this.mDirtyData=!1}super.nodeUpdate(e,t,i,n)}allocGraphics3DShape(e,t){let i;return this.shapes.has(e)?(i=this.shapes.get(e),i.reset()):(i=new _g(t),i.uuid=e,i.type="line",i.color=fA.COLOR_WHITE,this.shapes.set(i.uuid,i)),this.mDirtyData=!0,i}}class $4{constructor(){a(this,"opaqueList",[]);a(this,"transparentList",[]);a(this,"sky")}clean(){this.opaqueList.length=0,this.transparentList.length=0}}class K4{constructor(){a(this,"renderGroup");this.renderGroup=new Map}collect_add(A){let e="",t="";e+=A.geometry.instanceID;for(let n=0;n<A.materials.length;n++){const s=A.materials[n];t+=s.shader.getDefaultColorShader().shaderVariant}let i=e+t;this.renderGroup.has(i)||this.renderGroup.set(i,{bundleMap:new Map,key:i,renderNodes:[]}),this.renderGroup.get(i).renderNodes.indexOf(A)==-1&&this.renderGroup.get(i).renderNodes.push(A)}}class q4{constructor(){a(this,"renderShaderUpdateList",new Map);a(this,"renderNodeList",new Map)}collect_add(A){let e=A.transform.view3D;e&&A.materials&&A.materials.forEach(t=>{let i=this.renderShaderUpdateList.get(e);i||(i=new Map,this.renderShaderUpdateList.set(e,i));let n=this.renderNodeList.get(e);n||(n=new Map,this.renderNodeList.set(e,n)),n.set(A.instanceID,A);let s=t.getAllPass();for(let o=0;o<s.length;o++){const u=s[o];let l=`${A.geometry.instanceID+u.instanceID}`,c=i.get(l);c||(c=new Map,i.set(l,c)),c.set(A.instanceID,A)}})}collect_remove(A){let e=A.transform.view3D;if(e&&A.materials){let t=this.renderShaderUpdateList.get(e);t&&A.materials.forEach(i=>{let n=i.getAllPass();for(let s=0;s<n.length;s++){const o=n[s];let u=`${A.geometry.instanceID+o.instanceID}`;t.delete(u)}})}}}const Uc=class Uc{constructor(){a(this,"_sceneLights");a(this,"_sceneGIProbes");a(this,"_op_RenderNodes");a(this,"_tr_RenderNodes");a(this,"_octreeRenderNodes");a(this,"_graphics");a(this,"_op_renderGroup");a(this,"_tr_renderGroup");a(this,"_renderShaderCollect");a(this,"state",{giLightingChange:!0});a(this,"sky");a(this,"_collectInfo");a(this,"rendererOctree");this._sceneLights=new Map,this._sceneGIProbes=new Map,this._op_RenderNodes=new Map,this._tr_RenderNodes=new Map,this._graphics=[],this._op_renderGroup=new Map,this._tr_renderGroup=new Map,this._collectInfo=new $4,this._renderShaderCollect=new q4,this._octreeRenderNodes=new Map}static get instance(){return this._instance||(this._instance=new Uc),this._instance}getPashList(A,e){if(e.renderOrder<3e3)return this._op_RenderNodes.get(A);if(e.renderOrder>=3e3)return this._tr_RenderNodes.get(A)}sortRenderNode(A,e){for(let t=A.length-1;t>0;t--)if(A[t].renderOrder<e.renderOrder){A.push(e);return}A.push(e)}addRenderNode(A,e){if(!A)return;let t=e.renderOrder>=3e3;if(e.hasMask(It.Sky))this.sky=e;else if(e instanceof c0)this._graphics.indexOf(e)==-1&&this._graphics.push(e);else if(yg.hasMask(e.renderLayer,tc.None)){this.removeRenderNode(A,e);let i=t?this._tr_RenderNodes:this._op_RenderNodes;i.has(A)||i.set(A,[]),i.get(A).push(e),K.setting.occlusionQuery.octree&&e.attachSceneOctree(this.getOctree(A));let n=this.getPashList(A,e);n.indexOf(e)==-1&&this.sortRenderNode(n,e)}else{this.removeRenderNode(A,e);let i=t?this._tr_renderGroup:this._op_renderGroup;i.has(A)||i.set(A,new K4),i.get(A).collect_add(e)}e.object3D.renderNode=e,this._renderShaderCollect.collect_add(e)}getOctree(A){let e,t=K.setting.occlusionQuery.octree;if(t&&(e=this._octreeRenderNodes.get(A),!e)){let i=new I(t.x,t.y,t.z),n=new I(t.width,t.height,t.depth),s=new Qe(i,n);e=new $d(s),this._octreeRenderNodes.set(A,e)}return e}removeRenderNode(A,e){if(e.detachSceneOctree(),e.hasMask(It.Sky))this.sky=null;else if(yg.hasMask(e.renderLayer,tc.None)){let t=this.getPashList(A,e);if(t){let i=t.indexOf(e);i!=-1&&t.splice(i,1)}}this._renderShaderCollect.collect_remove(e)}addLight(A,e){if(!this._sceneLights.has(A))this._sceneLights.set(A,[e]);else{let t=this._sceneLights.get(A);if(t.length>=K.setting.light.maxLight){console.warn("Alreay meet maxmium light number:",K.setting.light.maxLight);return}t.indexOf(e)!=-1||t.push(e)}}removeLight(A,e){if(this._sceneLights.has(A)){let t=this._sceneLights.get(A),i=t.indexOf(e);i!=-1&&t.splice(i,1)}}getLights(A){return this._sceneLights.get(A)||[]}addGIProbe(A,e){this._sceneGIProbes.has(A)?this._sceneGIProbes.get(A).push(e):this._sceneGIProbes.set(A,[e])}removeGIProbe(A,e){if(this._sceneGIProbes.has(A)){let t=this._sceneGIProbes.get(A),i=t.indexOf(e);i!=-1&&t.splice(i,1)}}getProbes(A){return this._sceneGIProbes.get(A)||[]}autoSortRenderNodes(A){let e=this._tr_RenderNodes.get(A);if(!e)return;let t=!1;for(const i of e)if(i.isRenderOrderChange||i.needSortOnCameraZ){t=!0;break}if(t){for(const i of e){let n=i.renderOrder;if(i.needSortOnCameraZ){let s=I4.worldToCameraDepth(i.object3D);s=1-Math.max(0,Math.min(1,s)),n+=s}i.__renderOrder=n,i.isRenderOrderChange=!1}e.sort((i,n)=>i.__renderOrder>n.__renderOrder?1:-1)}return this}getRenderNodes(A,e){if(this.autoSortRenderNodes(A),this._collectInfo.clean(),this._collectInfo.sky=this.sky,K.setting.occlusionQuery.octree)this.rendererOctree=this.getOctree(A),this.rendererOctree.getRenderNode(e.frustum,this._collectInfo);else{let t=this._op_RenderNodes.get(A);t&&(this._collectInfo.opaqueList=t.concat());let i=this._tr_RenderNodes.get(A);i&&(this._collectInfo.transparentList=i.concat())}return this._collectInfo}getOpRenderGroup(A){return this._op_renderGroup.get(A)}getTrRenderGroup(A){return this._tr_renderGroup.get(A)}getGraphicList(){return this._graphics}getRenderShaderCollect(A){return this._renderShaderCollect.renderShaderUpdateList.get(A)}};a(Uc,"_instance");let IA=Uc;class X4{constructor(){a(this,"setting");a(this,"probesBufferData");a(this,"probesBuffer");a(this,"isVolumeFrameChange",!0);a(this,"randomOrientation");a(this,"startPosition",new I);a(this,"isVolumeChange",!0);a(this,"irradianceVolumeBuffer");a(this,"directionDistance",20);a(this,"randomSeedCount",3);a(this,"useRandomIndex",0);a(this,"centerDirection",new I(0,0,this.directionDistance).normalize(1));a(this,"arroundPositions",[]);a(this,"debugX",0);a(this,"debugY",0);a(this,"debugZ",0)}updateOrientation(){return this.useRandomIndex++,this.useRandomIndex>=this.arroundPositions.length&&(this.useRandomIndex=0),NA.fromToRotation(this.centerDirection,this.arroundPositions[this.useRandomIndex],this.randomOrientation),this.randomOrientation}init(A){this.setting=A,this.randomOrientation=new NA(!1),this.randomOrientation.identity(),this.irradianceVolumeBuffer=new i1(80),this.createFramesBuffer(),this.arroundPositions.push(this.centerDirection.clone());for(let e=0;e<this.randomSeedCount;e++){let t=Math.PI*2*e/this.randomSeedCount,i=new I(Math.sin(t),Math.cos(t),this.directionDistance).normalize(1);this.arroundPositions.push(i)}}setVolumeDataChange(){this.isVolumeChange=!0}updateProbes(A){let e=this.probesBufferData;for(let t of A){let i=t.index*4;e[i+3]=t.drawCallFrame}}createFramesBuffer(){if(!this.probesBufferData){let A=this.setting.probeXCount*this.setting.probeYCount*this.setting.probeZCount;this.probesBufferData=new Float32Array(A*4),this.probesBufferData.fill(-1),this.probesBuffer=new Bt(A*4,GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST)}}uploadBuffer(){this.isVolumeChange&&(this.fillIrradianceData(),this.isVolumeChange=!1,this.isVolumeFrameChange=!0),this.probesBuffer.setFloat32Array("uniformFramesBuffer",this.probesBufferData)}calcPosition(A,e,t,i){let n=this.setting,s=this.setting.probeSpace;return i=i||new I,i.x=A*s-s*(n.probeXCount-1)*.5+n.offsetX,i.y=e*s-s*(n.probeYCount-1)*.5+n.offsetY,i.z=t*s-s*(n.probeZCount-1)*.5+n.offsetZ,i}fillIrradianceData(){let A=this.setting,e=this.calcPosition(0,0,0,this.startPosition);this.irradianceVolumeBuffer.setFloat("orientationIndex",this.randomOrientation.index),this.irradianceVolumeBuffer.setFloat("hysteresis",A.hysteresis),this.irradianceVolumeBuffer.setFloat("OctRTSideSize",A.octRTSideSize),this.irradianceVolumeBuffer.setFloat("OctRTMaxSize",A.octRTMaxSize),this.irradianceVolumeBuffer.setFloat("startX",e.x),this.irradianceVolumeBuffer.setFloat("startY",e.y),this.irradianceVolumeBuffer.setFloat("startZ",e.z),this.irradianceVolumeBuffer.setFloat("ProbeSpace",A.probeSpace),this.irradianceVolumeBuffer.setFloat("probeXCount",A.probeXCount),this.irradianceVolumeBuffer.setFloat("probeYCount",A.probeYCount),this.irradianceVolumeBuffer.setFloat("probeZCount",A.probeZCount),this.irradianceVolumeBuffer.setFloat("maxDistance",A.probeSpace*1.732),this.irradianceVolumeBuffer.setFloat("depthSharpness",A.depthSharpness),this.irradianceVolumeBuffer.setFloat("ProbeSourceTextureSize",A.probeSourceTextureSize),this.irradianceVolumeBuffer.setFloat("ProbeSize",A.probeSize),this.irradianceVolumeBuffer.setFloat("bounceIntensity",A.bounceIntensity),this.irradianceVolumeBuffer.setFloat("probeRoughness",A.probeRoughness),this.irradianceVolumeBuffer.setFloat("normalBias",A.normalBias),this.irradianceVolumeBuffer.setFloat("irradianceChebyshevBias",A.irradianceChebyshevBias),this.irradianceVolumeBuffer.setFloat("rayNumber",A.rayNumber),this.irradianceVolumeBuffer.setFloat("irradianceDistanceBias",A.irradianceDistanceBias),this.irradianceVolumeBuffer.setFloat("indirectIntensity",A.indirectIntensity),this.irradianceVolumeBuffer.setFloat("ddgiGamma",A.ddgiGamma),this.irradianceVolumeBuffer.setFloat("lerpHysteresis",A.lerpHysteresis),this.irradianceVolumeBuffer.setFloat("debugX",this.debugX),this.irradianceVolumeBuffer.setFloat("debugY",this.debugY),this.irradianceVolumeBuffer.setFloat("debugZ",this.debugZ),this.irradianceVolumeBuffer.apply()}}class J4{constructor(){a(this,"storageGPUBuffer");a(this,"irradianceVolume");a(this,"_lightList",[]);this.storageGPUBuffer=new Bt(Zl.lightSize*K.setting.light.maxLight,GPUBufferUsage.COPY_SRC),this.irradianceVolume=new X4,this.irradianceVolume.init(K.setting.gi);for(let A=0;A<K.setting.light.maxLight;A++){let e=this.storageGPUBuffer.memory.allocation_node(Zl.lightSize*4);this._lightList.push(e)}this.storageGPUBuffer.visibility=GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE}update(A){this.storageGPUBuffer.clean();let e=IA.instance.getLights(A.scene);for(let t=0;t<e.length;t++){const i=e[t].lightData;i.index=t,this.writeLightBytes(i,this._lightList[t])}this.storageGPUBuffer.apply()}writeLightBytes(A,e){e.offset=0,e.writeFloat(A.index),e.writeInt32(A.lightType),e.writeFloat(A.radius),e.writeFloat(A.linear),e.writeVector3(A.lightPosition),e.writeFloat(A.lightMatrixIndex),e.writeVector3(A.direction),e.writeFloat(A.quadratic),e.writeRGBColor(A.lightColor),e.writeFloat(A.intensity),e.writeFloat(A.innerAngle),e.writeFloat(A.outerAngle),e.writeFloat(A.range),e.writeInt32(A.castShadowIndex),e.writeVector3(A.lightTangent),e.writeFloat(A.iesIndex)}}class Z4{constructor(){a(this,"gpuBuffer");a(this,"probes");a(this,"memoryDo");a(this,"_probeInfoList")}initDataUniform(A){this.memoryDo=new su,this.probes=A,this._probeInfoList=[],this.memoryDo.destroy(),this.memoryDo.allocation(A.length*17*4);for(let t=0;t<A.length;t++){var e=17;let i=this.memoryDo.allocation_node(e*4);this._probeInfoList.push(i);let n=A[t].transform.worldPosition;i.setArray(0,[n.x,n.y,n.z])}this.gpuBuffer=iA.device.createBuffer({size:this.memoryDo.shareDataBuffer.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.STORAGE,label:"ProbeBuffer",mappedAtCreation:!1})}updateGPUBuffer(){const A=this.memoryDo.shareDataBuffer;let e=this.memoryDo.shareDataBuffer.byteLength,t=0;const i=5e3*64;for(;t<e;)iA.device.queue.writeBuffer(this.gpuBuffer,t,A,t,Math.floor(Math.min(i,e-t))),t+=i}}class Ab extends Kn{constructor(e,t=0,i){super();a(this,"size");this.bufferType=xi.StorageGPUBuffer,this.size=e,this.createBuffer(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|t,e,i,"MatrixGPUBuffer")}writeBufferByHeap(e,t){let i=iA.device;if(e.length>0){let n=null;for(;this.mapAsyncReady.length&&(n=this.mapAsyncReady.shift(),n.usedSize!=e.byteLength);)n.destroy(),this.mapAsyncBuffersOutstanding--,n=null;n||(n=i.createBuffer({size:e.byteLength,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.MAP_WRITE,mappedAtCreation:!0}),n.usedSize=e.byteLength,this.mapAsyncBuffersOutstanding++,this.mapAsyncBuffersOutstanding>10&&console.warn(` Warning: mapAsync requests from ${this.mapAsyncBuffersOutstanding} frames ago have not resolved yet.  MB of staging buffers allocated.`));let s=new Float32Array(e.buffer,e.byteOffset,t);new Float32Array(n.getMappedRange(0,t*4)).set(s),n.unmap();const o=i.createCommandEncoder();o.copyBufferToBuffer(n,0,this.buffer,0,t*4),i.queue.submit([o.finish()]),n.mapAsync(GPUMapMode.WRITE).then(()=>this.mapAsyncReady.push(n))}}}class eb{constructor(){a(this,"uuid");a(this,"index");a(this,"usage");a(this,"groupBufferSize");a(this,"matrixBufferDst");this.uuid=ii(),this.groupBufferSize=0,this.usage=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST,this.cacheWorldMatrix()}cacheWorldMatrix(){this.groupBufferSize=NA.maxCount*NA.blockBytes,this.matrixBufferDst=new Ab(this.groupBufferSize/4),this.matrixBufferDst.visibility=GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE,this.matrixBufferDst.buffer.label=this.groupBufferSize.toString()}writeBuffer(A){const e=NA.dynamicMatrixBytes;this.matrixBufferDst.mapAsyncWrite(e,A)}}class Le{static init(){this.modelMatrixBindGroup=new eb,this._cameraBindGroups=new Map,this._lightEntriesMap=new Map}static getCameraGroup(A){let e=this._cameraBindGroups.get(A);return e||(e=new w4(this.modelMatrixBindGroup),this._cameraBindGroups.set(A,e)),A.isShadowCamera?e.setShadowCamera(A):e.setCamera(A),e}static getLightEntries(A){A||console.log("getLightEntries scene is null");let e=this._lightEntriesMap.get(A);return e||(e=new J4,this._lightEntriesMap.set(A,e)),this._lightEntriesMap.get(A)}static updateProbes(A){this._probeEntries||(this._probeEntries=new Z4,this._probeEntries.initDataUniform(A))}}a(Le,"_cameraBindGroups"),a(Le,"_lightEntriesMap"),a(Le,"_probeEntries"),a(Le,"modelMatrixBindGroup");const yt=class yt{static bindPipeline(A,e){if(yt.lastShader!=e)yt.lastShader=e;else return;yt.lastPipeline!=e.pipeline&&(yt.lastPipeline=e.pipeline,A.setPipeline(e.pipeline));for(let t=1;t<e.bindGroups.length;t++){const i=e.bindGroups[t];i&&A.setBindGroup(t,i)}}static bindCamera(A,e){let t=Le.getCameraGroup(e);A.setBindGroup(0,t.globalBindGroup)}static bindGeometryBuffer(A,e){if(this.lastGeometry!=e){this.lastGeometry=e,e.indicesBuffer&&A.setIndexBuffer(e.indicesBuffer.indicesGPUBuffer.buffer,e.indicesBuffer.indicesFormat);let t=e.vertexBuffer.vertexGPUBuffer,i=e.vertexBuffer.vertexBufferLayouts;for(let n=0;n<i.length;n++){const s=i[n];A.setVertexBuffer(n,t.buffer,s.offset,s.size)}}}static cleanCache(){this.lastGeometry=null,this.lastPipeline=null,this.lastShader=null}static createPipeline(A){return Er.countStart("GPUContext","pipeline"),iA.device.createRenderPipeline(A)}static beginCommandEncoder(){return Er.countStart("GPUContext","beginCommandEncoder"),this.LastCommand&&iA.device.queue.submit([this.LastCommand.finish()]),this.LastCommand=iA.device.createCommandEncoder(),this.LastCommand}static endCommandEncoder(A){this.LastCommand==A&&(iA.device.queue.submit([this.LastCommand.finish()]),this.LastCommand=null,Er.countStart("GPUContext","endCommandEncoder"))}static recordBundleEncoder(A){return iA.device.createRenderBundleEncoder(A)}static beginRenderPass(A,e){if(this.cleanCache(),this.renderPassCount++,this.lastRenderPassState=e,e.renderTargets&&e.renderTargets.length>0){for(let t=0;t<e.renderTargets.length;++t){const i=e.renderTargets[t];let n=e.renderPassDescriptor.colorAttachments[t];e.multisample>0&&e.renderTargets.length==1?(n.view=e.multiTexture.createView(),n.resolveTarget=i.getGPUView()):n.view=i.getGPUTexture().createView()}return A.beginRenderPass(e.renderPassDescriptor)}else{let t=e.renderPassDescriptor.colorAttachments[0];return t&&(e.multisample>0?(t.view=e.multiTexture.createView(),t.resolveTarget=iA.context.getCurrentTexture().createView()):t.view=iA.context.getCurrentTexture().createView()),A.beginRenderPass(e.renderPassDescriptor)}}static drawIndexed(A,e,t,i,n,s){A.drawIndexed(e,t,i,n,s),this.drawCount++}static draw(A,e,t,i,n){A.draw(e,t,i,n),this.drawCount++}static endPass(A){A.insertDebugMarker("end"),A.end()}static computeCommand(A,e){let t=A.beginComputePass();for(let i=0;i<e.length;i++)e[i].compute(t);t.end()}};a(yt,"lastGeometry"),a(yt,"lastPipeline"),a(yt,"lastShader"),a(yt,"drawCount",0),a(yt,"renderPassCount",0),a(yt,"geometryCount",0),a(yt,"pipelineCount",0),a(yt,"matrixCount",0),a(yt,"lastRenderPassState"),a(yt,"LastCommand");let sA=yt;class Sg{constructor(){a(this,"source");a(this,"input");a(this,"output")}reset(A){this.input&&this.input.destroy(),this.output&&this.output.destroy(),this.input=this.output=null,this.source=A}apply(A){if(this.source){if(!this.input){let e=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST;this.input=new Bt(this.source.length,e,this.source),this.input.apply()}if(!this.output){let e=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC;this.output=new Bt(A*3,e),this.output.apply()}}}}class tb{constructor(){a(this,"enable");a(this,"morphTargetsRelative");a(this,"MaxMorphTargetCount",64);a(this,"_computeConfigArray");a(this,"_computeConfigBuffer");a(this,"_morphInfluenceArray");a(this,"_morphInfluenceBuffer");a(this,"_positionAttrDataGroup");a(this,"_normalAttrDataGroup");a(this,"_isInfluenceDirty");a(this,"_morphTargetCount");a(this,"_totalVertexCount");a(this,"_computeShader");a(this,"_computeShaders");a(this,"_computeWorkGroupXY",1);a(this,"_collectMorphTargetData");a(this,"_blendTarget");this._isInfluenceDirty=!0,this.generateGPUBuffer(),this._positionAttrDataGroup=new Sg,this._normalAttrDataGroup=new Sg}initMorphTarget(A){this._collectMorphTargetData=this.collectMorphTargetList(A),this._computeShader&&this._computeShader.destroy();let e=nr.CsMain;this._computeShader=new Ii(e),this._collectMorphTargetData.mergedNormal?this._computeShader.setDefine("USE_MORPHNORMALS",!0):this._computeShader.deleteDefine("USE_MORPHNORMALS"),this._computeShaders=[this._computeShader],this._isInfluenceDirty=!0,this._morphTargetCount=this._collectMorphTargetData.mtCount,this._totalVertexCount=this._collectMorphTargetData.vCount,this._morphInfluenceArray.fill(0),this._computeWorkGroupXY=this.calcWorkGroup(this._totalVertexCount),this._positionAttrDataGroup.reset(this._collectMorphTargetData.mergedPos),this._normalAttrDataGroup.reset(this._collectMorphTargetData.mergedNormal)}applyRenderShader(A){this.uploadMorphTargetBuffer(),this.uploadConfigGBuffer(),A.setUniformBuffer("morphTargetConfig",this._computeConfigBuffer),A.setStorageBuffer("morphTargetOpPositions",this._positionAttrDataGroup.output),this._collectMorphTargetData.mergedNormal&&A.setStorageBuffer("morphTargetOpNormals",this._normalAttrDataGroup.output)}computeMorphTarget(A){this.uploadConfigGBuffer(),this.uploadMorphTargetBuffer(),this._computeShader.setUniformBuffer("morphTargetConfig",this._computeConfigBuffer),this._computeShader.setStorageBuffer("morphTargetInfluence",this._morphInfluenceBuffer),this._computeShader.setStorageBuffer("morphTargetPositions",this._positionAttrDataGroup.input),this._computeShader.setStorageBuffer("morphTargetOpPositions",this._positionAttrDataGroup.output),this._collectMorphTargetData.mergedNormal&&(this._computeShader.setStorageBuffer("morphTargetNormals",this._normalAttrDataGroup.input),this._computeShader.setStorageBuffer("morphTargetOpNormals",this._normalAttrDataGroup.output)),this._computeShader.workerSizeX=this._computeWorkGroupXY,this._computeShader.workerSizeY=this._computeWorkGroupXY,this._computeShader.workerSizeZ=1,sA.computeCommand(A,this._computeShaders)}updateInfluence(A,e){this._isInfluenceDirty=!0,this._morphInfluenceArray[A]=e}get blendShape(){return this._blendTarget}collectMorphTargetList(A){let e=this.collectAttribute("a_morphPositions_",A),t=e.length,i=e[0].data.length/3;if(this._blendTarget={},A.blendShapeData)for(let u=0;u<A.blendShapeData.shapeIndexs.length;u++){let l=A.blendShapeData.shapeIndexs[u],c=A.blendShapeData.shapeNames[u].split("."),h=c[c.length-1];this._blendTarget[h]=d=>this.updateInfluence(l,d)}let n=new Float32Array(i*t*3);{let u=0;for(let l=0;l<t;l++){let c=e[l];n.set(c.data,u),u+=c.data.length}}let s=this.collectAttribute("a_morphNormals_",A),o;if(s&&s.length>0){let u=0;o=new Float32Array(i*t*3);for(let l=0;l<t;l++){let c=s[l];o.set(c.data,u),u+=c.data.length}}return{mtCount:t,vCount:i,mergedPos:n,mergedNormal:o}}collectAttribute(A,e){let t=[];for(let i=0;i<this.MaxMorphTargetCount;i++){let n=A+i,s=e.getAttribute(n);if(s)t[i]=s;else break}return t}uploadConfigGBuffer(){if(this._isInfluenceDirty){let A=0;for(let e=0;e<this._morphTargetCount;e++)A+=this._morphInfluenceArray[e];this._morphInfluenceBuffer.setFloat32Array("data",this._morphInfluenceArray),this._morphInfluenceBuffer.apply(),this._computeConfigArray[0]=this.morphTargetsRelative?1:1-A,this._computeConfigArray[1]=this._morphTargetCount,this._computeConfigArray[2]=this._totalVertexCount,this._computeConfigArray[3]=this._computeWorkGroupXY,this._computeConfigBuffer.setFloat32Array("data",this._computeConfigArray),this._computeConfigBuffer.apply(),this._isInfluenceDirty=!1}}calcWorkGroup(A){let e=Math.ceil(Math.sqrt(A)),t=Math.ceil(Math.log2(e));return e=Math.pow(2,t),e}uploadMorphTargetBuffer(){this._positionAttrDataGroup.output||this._positionAttrDataGroup.apply(this._totalVertexCount),this._normalAttrDataGroup.output||this._normalAttrDataGroup.apply(this._totalVertexCount)}generateGPUBuffer(){this._computeConfigArray=new Float32Array(4),this._computeConfigBuffer=new i1(4),this._morphInfluenceArray=new Float32Array(this.MaxMorphTargetCount);let A=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST;this._morphInfluenceBuffer=new Bt(this.MaxMorphTargetCount,A)}}var rb=Object.defineProperty,ib=Object.getOwnPropertyDescriptor,ga=(r,A,e,t)=>{for(var i=t>1?void 0:t?ib(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&rb(A,e,i),i};let he=class extends gs{constructor(){super();a(this,"receiveShadow");a(this,"morphData")}onEnable(){super.onEnable()}onDisable(){super.onDisable()}cloneTo(A){A.addComponent(he).copyComponent(this)}copyComponent(A){return super.copyComponent(A),this.receiveShadow=A.receiveShadow,this}get geometry(){return this._geometry}set geometry(A){super.geometry=A;let e=A.morphTargetDictionary!=null;e&&(this.morphData||(this.morphData=new tb),this.morphData.morphTargetsRelative=A.morphTargetsRelative,this.morphData.initMorphTarget(A)),this.morphData&&(this.morphData.enable=e),this.morphData&&this.morphData.enable?this.addRendererMask(It.MorphTarget):this.removeRendererMask(It.MorphTarget),this.object3D.bound=this._geometry.bounds.clone(),this._readyPipeline||(this.initPipeline(),this._computes&&this._computes&&(this.onCompute=dw(this.onCompute,()=>{for(let t=0;t<this._computes.length;t++)this._computes[t].onUpdate()})))}get material(){return this._materials[0]}set material(A){this.materials=[A]}setMorphInfluence(A,e){if(this.morphData&&this.morphData.enable){let t=this._geometry.morphTargetDictionary[A];t>=0&&this.morphData.updateInfluence(t,e)}}setMorphInfluenceIndex(A,e){this.morphData&&this.morphData.enable&&A>=0&&this.morphData.updateInfluence(A,e)}onCompute(A,e){this.morphData&&this.morphData.enable&&this.morphData.computeMorphTarget(e)}nodeUpdate(A,e,t,i){if(this.morphData&&this.morphData.enable)for(let n=0;n<this.materials.length;n++){let s=this.materials[n].getPass(e);if(s)for(let o=0;o<s.length;o++)this.morphData.applyRenderShader(s[o])}super.nodeUpdate(A,e,t,i)}destroy(A){super.destroy(A)}};ga([Hi],he.prototype,"geometry",1),ga([Hi],he.prototype,"geometry",1),ga([Hi],he.prototype,"material",1),ga([Hi],he.prototype,"material",1),he=ga([ri(he,"MeshRenderer")],he);class nb{constructor(){a(this,"label","");a(this,"customSize",!1);a(this,"zPreTexture",null);a(this,"depthTexture",null);a(this,"renderTargetTextures");a(this,"outColor",-1);a(this,"renderTargets");a(this,"rtTextureDescriptors");a(this,"irradianceBuffer");a(this,"multisample",0);a(this,"multiTexture");a(this,"depthViewIndex",0);a(this,"depthCleanValue",0);a(this,"isOutTarget",!0);a(this,"camera3D");a(this,"rtFrame");a(this,"renderPassDescriptor");a(this,"renderBundleEncoderDescriptor");a(this,"depthLoadOp")}getLastRenderTexture(){return this.renderTargets&&this.renderTargets.length>0?this.renderTargets[0]:K.res.redTexture}}const ci=class ci{static createRendererPassState(A,e=null){let t=new nb;if(t.label=A.label,t.customSize=A.customSize,t.rtFrame=A,t.zPreTexture=A.zPreTexture,t.depthTexture=A.depthTexture,t.depthViewIndex=A.depthViewIndex,t.isOutTarget=A.isOutTarget,t.depthCleanValue=A.depthCleanValue,t.depthLoadOp=A.depthLoadOp,A&&A.renderTargets.length>0){t.renderTargets=A.renderTargets,t.rtTextureDescriptors=A.rtDescriptors,t.renderPassDescriptor=ci.getRenderPassDescriptor(t),t.renderBundleEncoderDescriptor=ci.getRenderBundleDescriptor(t),t.renderTargetTextures=[];for(let i=0;i<A.renderTargets.length;i++){const n=A.renderTargets[i];t.renderTargetTextures[i]={format:n.format},n.name.indexOf(Ye.colorBufferTex_NAME)!=-1&&(t.outColor=i)}}else t.renderPassDescriptor=ci.getRenderPassDescriptor(t,e),t.renderBundleEncoderDescriptor=ci.getRenderBundleDescriptor(t),t.renderTargetTextures=[{format:iA.presentationFormat}],t.outColor=0;return t}static getRenderPassDescriptor(A,e=null){iA.device,iA.presentationSize;let t=[];if(A.renderTargets&&A.renderTargets.length>0){A.renderTargets[0].width,A.renderTargets[0].height;for(let n=0;n<A.renderTargets.length;n++){const s=A.renderTargets[n],o=A.rtTextureDescriptors[n];t.push({view:s.getGPUView(),resolveTarget:void 0,loadOp:o.loadOp,clearValue:o.clearValue,storeOp:o.storeOp})}}else if(!A.customSize){let n=iA.canvasConfig&&iA.canvasConfig.alpha?[1,1,1,0]:[0,0,0,1];A.isOutTarget==!0&&t.push({view:void 0,resolveTarget:void 0,loadOp:iA.canvasConfig&&iA.canvasConfig.alpha||e!=null?"load":"clear",clearValue:n,storeOp:"store"})}let i=null;return A.depthTexture||A.zPreTexture?(A.zPreTexture&&(A.depthTexture=A.zPreTexture),i={label:`${A.label} renderPassDescriptor zPreTexture${A.zPreTexture?"load":"clear"}`,colorAttachments:t,depthStencilAttachment:{view:A.depthTexture.getGPUView(),depthLoadOp:A.zPreTexture?"load":A.depthLoadOp,depthClearValue:A.zPreTexture?1:A.depthCleanValue,depthStoreOp:"store"}}):i={colorAttachments:t,label:"renderPassDescriptor not writeDepth"},this.renderPassDescriptorCount++,i}static getRenderBundleDescriptor(A){iA.presentationSize;let e=[];if(A.renderTargets&&A.renderTargets.length>0){A.renderTargets[0].width,A.renderTargets[0].height;for(let i=0;i<A.renderTargets.length;i++){const n=A.renderTargets[i];e.push(n.format)}}let t=null;return A.depthTexture?t={colorFormats:e,depthStencilFormat:A.depthTexture.format}:t={colorFormats:e},this.renderPassDescriptorCount++,t}};a(ci,"bindGroupDescriptorCount",0),a(ci,"bindTextureDescriptorCount",0),a(ci,"renderPassDescriptorCount",0),a(ci,"pipelineDescriptorCount",0);let Bi=ci;class Sh extends Kn{constructor(e){super();a(this,"node");this.bufferType=xi.VertexGPUBuffer,this.createVertexBuffer(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.VERTEX,e)}createVertexBuffer(e,t){let i=iA.device;this.byteSize=t*Float32Array.BYTES_PER_ELEMENT,this.usage=e,this.buffer&&this.destroy(),this.buffer=i.createBuffer({label:"VertexGPUBuffer",size:this.byteSize,usage:e,mappedAtCreation:!1}),this.memory=new su,this.memoryNodes=new Map,this.memory.allocation(this.byteSize),this.node=this.memory.allocation_node(this.byteSize)}}var Ft=(r=>(r[r.split=0]="split",r[r.compose=1]="compose",r[r.compose_bin=2]="compose_bin",r))(Ft||{});class sb{constructor(){a(this,"vertexCount",0);a(this,"vertexGPUBuffer");a(this,"geometryType",Ft.compose);a(this,"_vertexBufferLayouts");a(this,"_attributeSlotLayouts");a(this,"_attributeLocation");this._vertexBufferLayouts=[],this._attributeLocation={},this._attributeSlotLayouts=[]}get vertexBufferLayouts(){return this._vertexBufferLayouts}createVertexBuffer(A,e){switch(this.geometryType){case Ft.split:this.createSplitVertexBuffer(A,e);break;case Ft.compose:this.createComposeVertexBuffer(A,e);break;case Ft.compose_bin:this.createComposBinVertexBuffer(A,e);break}}createSplitVertexBuffer(A,e){let t=0;for(let i=0;i<e.attributes.length;i++){const n=e.attributes[i];if(n.name=="index")continue;this._attributeLocation[n.name]=n.location;let s={name:n.name,format:n.format,offset:0,shaderLocation:n.location,stride:xs[n.format]};this._attributeSlotLayouts[n.location]=[s];let o=A.get(n.name);o||(o={attribute:n.name,data:new Float32Array(n.size*this.vertexCount)},A.set(n.name,o));let u=o.data.length/s.stride;this.vertexCount!=0&&this.vertexCount!=u&&console.error(" vertex count not match attribute count"),this.vertexCount=u,this._vertexBufferLayouts[n.location]={name:n.name,arrayStride:n.size*4,stepMode:"vertex",attributes:this._attributeSlotLayouts[n.location],offset:t*4,size:this.vertexCount*n.size*4},t+=this.vertexCount*n.size}this.vertexGPUBuffer=new Sh(t)}createComposeVertexBuffer(A,e){this._attributeSlotLayouts[0]=[];let t=0;for(let i=0;i<e.attributes.length;i++){const n=e.attributes[i];if(n.name=="index"||n.type=="builtin")continue;this._attributeLocation[n.name]=n.location;let s={name:n.name,format:n.format,offset:t*4,shaderLocation:n.location,stride:xs[n.format]};this._attributeSlotLayouts[0][n.location]=s;let o=A.get(n.name);if(o||(o={attribute:n.name,data:new Float32Array(n.size*this.vertexCount)},A.set(n.name,o)),o.data){let u=o.data.length/s.stride;this.vertexCount!=0&&this.vertexCount!=u&&console.error(" vertex count not match attribute count"),this.vertexCount=u}t+=n.size}this._vertexBufferLayouts[0]={name:"composeStruct",arrayStride:t*4,stepMode:"vertex",attributes:this._attributeSlotLayouts[0],offset:0,size:this.vertexCount*t*4},this.vertexGPUBuffer=new Sh(this.vertexCount*t)}createComposBinVertexBuffer(A,e){this._attributeSlotLayouts[0]=[];let t=0;for(let n=0;n<e.attributes.length;n++){const s=e.attributes[n];if(s.name=="index"||s.type=="builtin")continue;this._attributeLocation[s.name]=s.location;let o={name:s.name,format:s.format,offset:t*4,shaderLocation:s.location,stride:xs[s.format]};this._attributeSlotLayouts[0][s.location]=o;let u=A.get(s.name);if(u||(u={attribute:s.name,data:new Float32Array(s.size*this.vertexCount)},A.set(s.name,u)),u.data){let l=u.data.length/o.stride;this.vertexCount!=0&&this.vertexCount!=l&&console.error(" vertex count not match attribute count"),this.vertexCount=l}t+=s.size}let i=A.get(pA.all).data.length/t;this.vertexCount=i,this._vertexBufferLayouts[0]={name:"composeStruct",arrayStride:t*4,stepMode:"vertex",attributes:this._attributeSlotLayouts[0],offset:0,size:this.vertexCount*t*4},this.vertexGPUBuffer=new Sh(this.vertexCount*t)}upload(A,e){var t;if(this.vertexGPUBuffer){switch(this.geometryType){case Ft.split:{let i=this._attributeLocation[A],n=this._vertexBufferLayouts[i];this.vertexGPUBuffer.node.setFloat32Array(n.offset/4,e.data)}break;case Ft.compose:for(let i=0;i<this.vertexCount;i++){const n=this._attributeSlotLayouts[0][this._attributeLocation[A]];for(let s=0;s<n.stride;s++){let o=e.data[i*n.stride+s],u=i*(this._vertexBufferLayouts[0].arrayStride/4)+n.offset/4+s;this.vertexGPUBuffer.node.setFloat(o,u)}}break;case Ft.compose_bin:this.vertexGPUBuffer.node.setFloat32Array(0,e.data);break}(t=this.vertexGPUBuffer)==null||t.apply()}}updateAttributes(A){switch(this.geometryType){case Ft.split:for(let e=0;e<this._vertexBufferLayouts.length;e++){const t=this._vertexBufferLayouts[e];let i=A.get(t.name);this.vertexGPUBuffer.node.setFloat32Array(t.offset/4,i.data)}break;case Ft.compose:for(let e=0;e<this.vertexCount;e++)this._attributeSlotLayouts.forEach(t=>{for(let i=0;i<t.length;i++){const n=t[i];let s=A.get(n.name);for(let o=0;o<n.stride;o++){let u=s.data[e*n.stride+o],l=e*(this._vertexBufferLayouts[0].arrayStride/4)+n.offset/4+o;this.vertexGPUBuffer.node.setFloat(u,l)}}});break;case Ft.compose_bin:{let e=A.get(pA.all);this.vertexGPUBuffer.node.setFloat32Array(0,e.data)}break}this.vertexGPUBuffer.apply()}compute(){}destroy(A){this.vertexCount=null,this.geometryType=null,this._vertexBufferLayouts=null,this._attributeSlotLayouts=null,this._attributeLocation=null,this.vertexGPUBuffer&&this.vertexGPUBuffer.destroy(A),this.vertexGPUBuffer=null}}class ob extends Kn{constructor(e){super();a(this,"indicesNode");this.bufferType=xi.IndicesGPUBuffer,this.createIndicesBuffer(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.INDEX|GPUBufferUsage.INDIRECT,e)}createIndicesBuffer(e,t){let i=iA.device;this.byteSize=t.length*4,this.usage=e,this.buffer&&this.destroy(),this.buffer=i.createBuffer({label:"IndicesGPUBuffer",size:this.byteSize,usage:e,mappedAtCreation:!1}),this.memory=new su,this.memoryNodes=new Map,this.memory.allocation(this.byteSize),t&&(this.indicesNode=this.memory.allocation_node(t.length*4),this.indicesNode.setArrayBuffer(0,t),this.apply())}}class ab{constructor(){a(this,"uuid","");a(this,"name");a(this,"indicesGPUBuffer");a(this,"indicesFormat","uint16");a(this,"indicesCount",0)}createIndicesBuffer(A){A.data instanceof Uint16Array?this.indicesFormat="uint16":A.data instanceof Uint32Array&&(this.indicesFormat="uint32"),this.indicesCount=A.data.length,this.indicesGPUBuffer=new ob(A.data)}upload(A){this.indicesGPUBuffer.indicesNode.setArrayBuffer(0,A),this.indicesGPUBuffer.apply()}compute(){}destroy(){this.uuid=null,this.name=null,this.indicesFormat=null,this.indicesCount=null,this.indicesGPUBuffer.destroy(),this.indicesGPUBuffer=null}}class ub{constructor(){a(this,"lodLevels")}}const Ht=class Ht{constructor(){a(this,"instanceID");a(this,"name");a(this,"subGeometries",[]);a(this,"morphTargetsRelative");a(this,"morphTargetDictionary");a(this,"skinNames");a(this,"bindPose");a(this,"blendShapeData");a(this,"vertexDim");a(this,"_bounds");a(this,"_attributeMap");a(this,"_attributes");a(this,"_indicesBuffer");a(this,"_vertexBuffer");a(this,"_onChange",!0);a(this,"_wireframeLines");this.instanceID=ii(),this._attributeMap=new Map,this._attributes=[],this._vertexBuffer=new sb}get indicesBuffer(){return this._indicesBuffer}get vertexBuffer(){return this._vertexBuffer}get vertexAttributes(){return this._attributes}get vertexAttributeMap(){return this._attributeMap}get geometryType(){return this._vertexBuffer.geometryType}set geometryType(A){this._vertexBuffer.geometryType=A}get bounds(){if(!this._bounds){this._bounds=new Qe(new I,new I(1,1,1)),this._bounds.min.x=Number.MAX_VALUE,this._bounds.min.y=Number.MAX_VALUE,this._bounds.min.z=Number.MAX_VALUE,this._bounds.max.x=-Number.MAX_VALUE,this._bounds.max.y=-Number.MAX_VALUE,this._bounds.max.z=-Number.MAX_VALUE;let A=this.getAttribute(pA.position);if(A&&A.data)for(let e=0;e<A.data.length/3;e++){const t=A.data[e*3+0],i=A.data[e*3+1],n=A.data[e*3+2];this._bounds.min.x>t&&(this._bounds.min.x=t),this._bounds.min.y>i&&(this._bounds.min.y=i),this._bounds.min.z>n&&(this._bounds.min.z=n),this._bounds.max.x<t&&(this._bounds.max.x=t),this._bounds.max.y<i&&(this._bounds.max.y=i),this._bounds.max.z<n&&(this._bounds.max.z=n)}this._bounds.setFromMinMax(this._bounds.min,this._bounds.max)}return this._bounds}set bounds(A){this._bounds=A}addSubGeometry(...A){let e=new ub;return e.lodLevels=A,this.subGeometries.push(e),e}generate(A){this._onChange&&(this._onChange=!1,this._indicesBuffer.upload(this.getAttribute(pA.indices).data),this._vertexBuffer.createVertexBuffer(this._attributeMap,A),this._vertexBuffer.updateAttributes(this._attributeMap))}setIndices(A){if(!this._attributeMap.has(pA.indices)){let e={attribute:pA.indices,data:A};this._attributeMap.set(pA.indices,e),this._indicesBuffer=new ab,this._indicesBuffer.createIndicesBuffer(e)}}setAttribute(A,e){if(A==pA.indices)this.setIndices(e);else{let t={attribute:A,data:e};this._attributeMap.set(A,t),this._attributes.push(A)}}getAttribute(A){return this._attributeMap.get(A)}hasAttribute(A){return this._attributeMap.has(A)}genWireframe(){if(this._wireframeLines)return this._wireframeLines;if(this.geometryType==Ft.split||this.geometryType==Ft.compose){let A=this.getAttribute(pA.position),e=this.getAttribute(pA.indices);if(e&&A&&e.data.length>0){let t=A.data,i=[];for(let n=0;n<e.data.length/3;n++){const s=e.data[n*3+0],o=e.data[n*3+1],u=e.data[n*3+2];let l=new I(t[s*3+0],t[s*3+1],t[s*3+2]),c=new I(t[o*3+0],t[o*3+1],t[o*3+2]),h=new I(t[u*3+0],t[u*3+1],t[u*3+2]);i.push(l,c),i.push(c,h),i.push(h,l)}return this._wireframeLines=i,i}}else if(this.geometryType==Ft.compose_bin){let A=this.getAttribute(pA.all),e=this.vertexDim,t=this.getAttribute(pA.indices);if(t&&A&&t.data.length>0){let i=A.data,n=[];for(let s=0;s<t.data.length/3;s++){const o=t.data[s*3+0],u=t.data[s*3+1],l=t.data[s*3+2];let c=new I(i[o*e+0],i[o*e+1],i[o*e+2]),h=new I(i[u*e+0],i[u*e+1],i[u*e+2]),d=new I(i[l*e+0],i[l*e+1],i[l*e+2]);n.push(c,h),n.push(h,d),n.push(d,c)}return this._wireframeLines=n,n}}return null}compute(){this._indicesBuffer&&this._indicesBuffer.compute(),this._vertexBuffer&&this._vertexBuffer.compute()}computeNormals(){let A=this.getAttribute(pA.position),e=this.getAttribute(pA.normal),t=this.getAttribute(pA.indices);if(!A||!e||!t)return this;let i=t.data.length/3,n=Ht.point1,s=Ht.point2,o=Ht.point3,u=Ht.crossA,l=Ht.crossB,c=Ht.crossRet;for(let h=0;h<i;h++){let d=t.data[h*3],f=t.data[h*3+1],p=t.data[h*3+2];n.set(A.data[d*3],A.data[d*3+1],A.data[d*3+2]),s.set(A.data[f*3],A.data[f*3+1],A.data[f*3+2]),o.set(A.data[p*3],A.data[p*3+1],A.data[p*3+2]),I.sub(n,s,u).normalize(),I.sub(n,o,l).normalize();let y=u.crossProduct(l,c).normalize();e.data[d*3]=e.data[f*3]=e.data[p*3]=y.x,e.data[d*3+1]=e.data[f*3+1]=e.data[p*3+1]=y.y,e.data[d*3+2]=e.data[f*3+2]=e.data[p*3+2]=y.z}return this._vertexBuffer.upload(pA.normal,e),this}isPrimitive(){return!1}destroy(A){this.instanceID=null,this.name=null,this.subGeometries=null,this.morphTargetDictionary=null,this._bounds.destroy(),this._bounds=null,this._attributeMap=null,this._attributes=null,this._indicesBuffer.destroy(),this._vertexBuffer.destroy(),this._indicesBuffer=null,this._vertexBuffer=null}};a(Ht,"crossA",I.UP.clone()),a(Ht,"crossB",I.UP.clone()),a(Ht,"crossRet",I.UP.clone()),a(Ht,"point1",I.UP.clone()),a(Ht,"point2",I.UP.clone()),a(Ht,"point3",I.UP.clone());let ti=Ht;class lb extends ti{constructor(e,t,i=1,n=1,s=I.Y_AXIS){super();a(this,"width");a(this,"height");a(this,"segmentW");a(this,"segmentH");a(this,"up");this.width=e,this.height=t,this.segmentW=i,this.segmentH=n,this.up=s,this.buildGeometry(this.up)}buildGeometry(e){var t,i,n,s,o=this.segmentW+1;(this.segmentH+1)*o,this.bounds=new Qe(I.ZERO.clone(),new I(this.width,1,this.height)),n=this.segmentH*this.segmentW*6;let u=(this.segmentW+1)*(this.segmentH+1),l=new Float32Array(u*3),c=new Float32Array(u*3),h=new Float32Array(u*2),d;this.segmentW*this.segmentH*2*3>=Uint16Array.length?d=new Uint32Array(this.segmentW*this.segmentH*2*3):d=new Uint16Array(this.segmentW*this.segmentH*2*3),n=0;for(var f=0,p=0,y=0,_=0;_<=this.segmentH;++_)for(var g=0;g<=this.segmentW;++g){switch(t=(g/this.segmentW-.5)*this.width,i=(_/this.segmentH-.5)*this.height,e){case I.Y_AXIS:l[f++]=t,l[f++]=0,l[f++]=i,c[p++]=0,c[p++]=1,c[p++]=0;break;case I.Z_AXIS:l[f++]=t,l[f++]=-i,l[f++]=0,c[p++]=0,c[p++]=0,c[p++]=1;break;case I.X_AXIS:l[f++]=0,l[f++]=t,l[f++]=i,c[p++]=1,c[p++]=0,c[p++]=0;break;default:l[f++]=t,l[f++]=0,l[f++]=i,c[p++]=0,c[p++]=1,c[p++]=0;break}h[y++]=g/this.segmentW,h[y++]=_/this.segmentH,g!=this.segmentW&&_!=this.segmentH&&(s=g+_*o,d[n++]=s+1,d[n++]=s,d[n++]=s+o,d[n++]=s+1,d[n++]=s+o,d[n++]=s+o+1)}this.setIndices(d),this.setAttribute(pA.position,l),this.setAttribute(pA.normal,c),this.setAttribute(pA.uv,h),this.setAttribute(pA.TEXCOORD_1,h),this.addSubGeometry({indexStart:0,indexCount:d.length,vertexStart:0,vertexCount:0,firstStart:0,index:0,topology:0})}}class an{constructor(){a(this,"instanceID");a(this,"name");a(this,"enable",!0);a(this,"_defaultSubShader");a(this,"_shader")}set shader(A){this._shader=A,this._defaultSubShader=A.getDefaultShaders()[0]}get shader(){return this._shader}get doubleSide(){return this._defaultSubShader.doubleSide}set doubleSide(A){this._defaultSubShader.doubleSide=A}get castShadow(){return this._defaultSubShader.shaderState.castShadow}set castShadow(A){let e=this._defaultSubShader.shaderState;A!=e.castShadow&&(e.castShadow=A)}get acceptShadow(){return this._defaultSubShader.shaderState.acceptShadow}set acceptShadow(A){let e=this._defaultSubShader.shaderState;e.acceptShadow!=A&&(e.acceptShadow=A,this._defaultSubShader.noticeShaderChange(),this._defaultSubShader.noticeValueChange())}get blendMode(){return this._defaultSubShader.blendMode}set blendMode(A){this._defaultSubShader.blendMode=A}get depthCompare(){return this._defaultSubShader.depthCompare}set depthCompare(A){this._defaultSubShader.depthCompare=A}get transparent(){return this._defaultSubShader.shaderState.transparent}set transparent(A){this._defaultSubShader.shaderState.transparent=A,A&&(this._defaultSubShader.renderOrder=3e3)}get cullMode(){return this._defaultSubShader.cullMode}set cullMode(A){if(this._defaultSubShader.cullMode!=A){for(let e of this._shader.passShader.values())for(let t of e)t.cullMode=A;this._defaultSubShader.cullMode=A}}get depthWriteEnabled(){return this._defaultSubShader.depthWriteEnabled}set depthWriteEnabled(A){this._defaultSubShader.depthWriteEnabled=A}set useBillboard(A){this._defaultSubShader.setDefine("USE_BILLBOARD",A)}getPass(A){return this._shader.getSubShaders(A)}getAllPass(){return this._shader.getSubShaders(QA.COLOR)}clone(){let A=new an;return A.shader=this.shader.clone(),A}destroy(A){this._shader.destroy(),this._shader=null}setDefine(A,e){this.shader.setDefine(A,e)}setTexture(A,e){this._shader.setTexture(A,e)}setStorageBuffer(A,e){this._shader.setStorageBuffer(A,e)}setUniformBuffer(A,e){this._shader.setStorageBuffer(A,e)}setUniformFloat(A,e){this._shader.setUniformFloat(A,e)}setUniformVector2(A,e){this._shader.setUniformVector2(A,e)}setUniformVector3(A,e){this._shader.setUniformVector3(A,e)}setUniformVector4(A,e){this._shader.setUniformVector4(A,e)}setUniformColor(A,e){this._shader.setUniformColor(A,e)}getUniformFloat(A){return this._shader.getUniform(A).data}getUniformV2(A){return this._shader.getUniformVector2(A)}getUniformV3(A){return this._shader.getUniformVector3(A)}getUniformV4(A){return this._shader.getUniformVector4(A)}getUniformColor(A){return this._shader.getUniformColor(A)}getTexture(A){return this._shader.getTexture(A)}getStorageBuffer(A){return this._shader.getStorageBuffer(A)}getStructStorageBuffer(A){return this._shader.getStructStorageBuffer(A)}getUniformBuffer(A){return this._shader.getUniformBuffer(A)}applyUniform(){this._shader.applyUniform()}}class Pr{constructor(){a(this,"computes");a(this,"passShader");this.computes=[],this.passShader=new Map}addRenderPass(A,e=-1){let t=this.passShader.get(A.passType)||[];e==-1?t.push(A):t.splice(e,-1,A),this.passShader.set(A.passType,t)}removeShader(A,e=-1){let t=this.passShader.get(A.passType);if(t)if(e==-1){let i=t.indexOf(A);i!=-1&&t.splice(i)}else t.splice(e,1)}removeShaderByIndex(A,e=-1){let t=this.passShader.get(A);t&&(e==-1?this.passShader.delete(A):t.splice(e,1))}getSubShaders(A){return this.passShader.get(A)||[]}hasSubShaders(A){return this.passShader.get(A).length>0}getDefaultShaders(){return this.passShader.get(QA.COLOR)}getDefaultColorShader(){return this.passShader.get(QA.COLOR)[0]}setDefine(A,e){for(const t of this.passShader)for(const i of t[1])i.setDefine(A,e)}deleteDefine(A){for(const e of this.passShader)for(const t of e[1])t.deleteDefine(A)}setUniform(A,e){for(const t of this.passShader)for(const i of t[1])i.setUniform(A,e)}setUniformFloat(A,e){for(const t of this.passShader)for(const i of t[1])i.setUniformFloat(A,e)}setUniformVector2(A,e){for(const t of this.passShader)for(const i of t[1])i.setUniformVector2(A,e)}setUniformVector3(A,e){for(const t of this.passShader)for(const i of t[1])i.setUniformVector3(A,e)}setUniformVector4(A,e){for(const t of this.passShader)for(const i of t[1])i.setUniformVector4(A,e)}setUniformColor(A,e){for(const t of this.passShader)for(const i of t[1])i.setUniformColor(A,e)}getUniform(A){return this.getDefaultColorShader().getUniform(A)}getUniformFloat(A){return this.getDefaultColorShader().getUniformFloat(A)}getUniformVector2(A){return this.getDefaultColorShader().getUniformVector2(A)}getUniformVector3(A){return this.getDefaultColorShader().getUniformVector3(A)}getUniformVector4(A){return this.getDefaultColorShader().getUniformVector4(A)}getUniformColor(A){return this.getDefaultColorShader().getUniformColor(A)}setTexture(A,e){for(const t of this.passShader)for(const i of t[1])i.setTexture(A,e);this.setDefine(`USE_${A.toLocaleUpperCase()}`,!0)}getTexture(A){return this.getDefaultColorShader().textures[A]}setUniformBuffer(A,e){for(const t of this.passShader)for(const i of t[1])i.setUniformBuffer(A,e)}getUniformBuffer(A){return this.getDefaultColorShader().getBuffer(A)}setStorageBuffer(A,e){for(const t of this.passShader)for(const i of t[1])i.setStorageBuffer(A,e)}getStorageBuffer(A){return this.getDefaultColorShader().getBuffer(A)}setStructStorageBuffer(A,e){for(const t of this.passShader)for(const i of t[1])i.setStructStorageBuffer(A,e)}getStructStorageBuffer(A){return this.getDefaultColorShader().getBuffer(A)}noticeValueChange(){for(const A of this.passShader)for(const e of A[1])e.noticeValueChange()}destroy(){this.getDefaultColorShader().destroy()}clone(){let A=new Pr,e=this.getDefaultShaders();for(const t of e)A.addRenderPass(t);return A}applyUniform(){for(const A of this.passShader)for(const e of A[1])e.applyUniform()}}var cb=Object.defineProperty,hb=Object.getOwnPropertyDescriptor,db=(r,A,e,t)=>{for(var i=t>1?void 0:t?hb(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&cb(A,e,i),i};let Xd=class extends Pr{constructor(r="QuadGlsl_vs",A="QuadGlsl_fs"){super();let e=new ot(r,A);this.addRenderPass(e);let t=e.shaderState;e.blendMode=ee.NONE,t.frontFace="cw",t.depthWriteEnabled=!1,t.depthCompare=en.always,t.multisample=0,this.setTexture("baseMap",K.res.blackTexture),this.setUniformFloat("x",0),this.setUniformFloat("y",0),this.setUniformFloat("width",100),this.setUniformFloat("height",100)}};Xd=db([$n],Xd);class h0 extends de{constructor(e="QuadGlsl_vs",t="QuadGlsl_fs",i,n=0,s=!1){super();a(this,"width",128);a(this,"height",128);a(this,"quadRenderer");a(this,"material");a(this,"rendererPassState");a(this,"quadShader");let o=i?i.renderTargets:[];this.material=new an,this.quadShader=new Xd(e,t),this.material.shader=this.quadShader,this.quadRenderer=this.addComponent(he),this.quadRenderer.material=this.material,this.quadRenderer.castGI=!1,this.quadRenderer.castShadow=!1,this.quadRenderer.drawType=s?2:0,this.quadRenderer.geometry=new lb(100,100,1,1),this.quadRenderer.material=this.material,this.quadRenderer.__start(),this.quadRenderer._enable=!0,this.quadRenderer.onEnable(),this.rendererPassState=Bi.createRendererPassState(i,"load"),n>0&&(this.rendererPassState.multisample=this.quadShader.getDefaultColorShader().shaderState.multisample,this.rendererPassState.multiTexture=iA.device.createTexture({size:{width:iA.presentationSize[0],height:iA.presentationSize[1]},sampleCount:n,format:o.length>0?o[0].format:iA.presentationFormat,usage:GPUTextureUsage.RENDER_ATTACHMENT})),iA.addEventListener(Ls.RESIZE,u=>{this.rendererPassState=Bi.createRendererPassState(i,"load"),n>0&&(this.rendererPassState.multisample=this.quadShader.getDefaultColorShader().shaderState.multisample,this.rendererPassState.multiTexture=iA.device.createTexture({size:{width:iA.presentationSize[0],height:iA.presentationSize[1]},sampleCount:n,format:o.length>0?o[0].format:iA.presentationFormat,usage:GPUTextureUsage.RENDER_ATTACHMENT}))},this)}renderTarget(e,t,i){let n=e.camera,s=sA.beginRenderPass(i,t.rendererPassState);sA.bindCamera(s,n),t.quadRenderer.nodeUpdate(e,QA.COLOR,t.rendererPassState,null),t.quadRenderer.renderPass2(e,QA.COLOR,t.rendererPassState,null,s),sA.endPass(s)}renderToViewQuad(e,t,i,n){let s=e.camera;t.quadShader.setTexture("baseMap",n);let o=sA.beginRenderPass(i,t.rendererPassState);sA.bindCamera(o,s),t.quadRenderer.nodeUpdate(e,QA.COLOR,t.rendererPassState,null),t.quadRenderer.renderPass2(e,QA.COLOR,t.rendererPassState,null,o),sA.endPass(o)}}class rr{constructor(){a(this,"storeOp","store");a(this,"loadOp","clear");a(this,"clearValue",[0,0,0,0])}}class Oi{constructor(A,e,t,i,n=!0){a(this,"label");a(this,"customSize",!1);a(this,"renderTargets");a(this,"rtDescriptors");a(this,"zPreTexture");a(this,"depthTexture");a(this,"depthViewIndex",0);a(this,"depthCleanValue",1);a(this,"depthLoadOp","clear");a(this,"isOutTarget",!0);this.renderTargets=A,this.rtDescriptors=e,this.depthTexture=t,this.zPreTexture=i,this.isOutTarget=n}clone2Frame(A){A.renderTargets.push(...this.renderTargets.concat());for(let e=0;e<this.rtDescriptors.length;e++){const t=this.rtDescriptors[e];let i=new rr;i.loadOp=t.loadOp,i.storeOp=t.storeOp,i.clearValue=t.clearValue,A.rtDescriptors.push(i)}A.depthTexture=this.depthTexture,A.zPreTexture=this.zPreTexture,A.customSize=this.customSize}clone(){let A=new Oi([],[]);return this.clone2Frame(A),A}}class Kt extends Tt{constructor(e,t,i=MA.rgba8unorm,n=!1,s,o=1,u=0,l=!0,c=!0){super(e,t,o);a(this,"resolveTarget");a(this,"sampleCount");a(this,"autoResize");a(this,"clear");this.name=ii(),this.autoResize=c,this.useMipmap=n,this.sampleCount=u,this.format=i,this.numberLayer=o,this.clear=l,s!=null?this.usage=s:this.usage=s|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.COPY_DST,this.resize(e,t),c&&iA.addEventListener(Ls.RESIZE,h=>{let{width:d,height:f}=h.data;this.resize(d,f),this._textureChange=!0},this)}resize(e,t){let i=iA.device;this.gpuTexture&&(Tt.delayDestroyTexture(this.gpuTexture),this.gpuTexture=null,this.view=null),this.width=e,this.height=t,this.createTextureDescriptor(e,t,1,this.format,this.usage,this.numberLayer,this.sampleCount),this.useMipmap=!1,this.visibility=GPUShaderStage.COMPUTE|GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,this.format==MA.rgba32float?(this.samplerBindingLayout.type="non-filtering",this.textureBindingLayout.sampleType="unfilterable-float",this.gpuSampler=i.createSampler({})):this.format==MA.depth32float?(this.samplerBindingLayout.type="filtering",this.sampler_comparisonBindingLayout.type="comparison",this.textureBindingLayout.sampleType="depth",this.gpuSampler=iA.device.createSampler({}),this.gpuSampler_comparison=iA.device.createSampler({compare:"less",label:"sampler_comparison"})):this.format==MA.depth24plus?(this.samplerBindingLayout={type:"filtering"},this.sampler_comparisonBindingLayout={type:"comparison"},this.textureBindingLayout.sampleType="depth",this.gpuSampler=iA.device.createSampler({}),this.gpuSampler_comparison=iA.device.createSampler({compare:"less",label:"sampler_comparison"})):(this.samplerBindingLayout.type="filtering",this.textureBindingLayout.sampleType="float",this.sampleCount>0&&(this.textureBindingLayout.multisampled=!0),this.minFilter="linear",this.magFilter="linear",this.mipmapFilter="linear",this.maxAnisotropy=16,this.addressModeU=xr.clamp_to_edge,this.addressModeV=xr.clamp_to_edge,this.gpuSampler=i.createSampler(this)),this._textureChange=!0}create(e,t,i=!0){let n=iA.device;const s=e*4;let o=new Float32Array(e*t*4);const u=n.createBuffer({size:o.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});n.queue.writeBuffer(u,0,o);const l=sA.beginCommandEncoder();l.copyBufferToTexture({buffer:u,bytesPerRow:s},{texture:this.getGPUTexture()},{width:e,height:t,depthOrArrayLayers:1}),sA.endCommandEncoder(l)}clone(){let e=new Kt(this.width,this.height,this.format,this.useMipmap,this.usage,this.numberLayer,this.sampleCount,this.clear,this.autoResize);return e.name="clone_"+e.name,e}readTextureToImage(){let e=iA.device,t=iA.windowWidth,i=iA.windowHeight,n=new Float32Array(t*i*4);const s=e.createBuffer({size:n.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});return sA.beginCommandEncoder().copyTextureToBuffer({texture:this.getGPUTexture()},{buffer:s},[t,i]),s.getMappedRange(0,n.byteLength)}}const Es=class Es{static init(){this.rtTextureMap=new Map,this.rtViewQuad=new Map}static createRTTexture(A,e,t,i,n=!1,s=0){let o=this.rtTextureMap.get(A);return o||(A==Ye.colorBufferTex_NAME?o=new Kt(e,t,i,n,void 0,1,s,!1):o=new Kt(e,t,i,n,void 0,1,s,!0),o.name=A,Es.rtTextureMap.set(A,o)),o}static createRTTextureArray(A,e,t,i,n=1,s=!1,o=0){let u=this.rtTextureMap.get(A);return u||(u=new Kt(e,t,i,s,void 0,n,o),u.name=A,Es.rtTextureMap.set(A,u)),u}static createViewQuad(A,e,t,i,n=0){let s=new Oi([i],[new rr]),o=new h0(e,t,s,n);return Es.rtViewQuad.set(A,o),o}static getTexture(A){return this.rtTextureMap.get(A)}static CreateSplitTexture(A){let e=this.getTexture(Ye.colorBufferTex_NAME),t=this.getTexture(A+"_split");return t||(t=this.createRTTexture(A+"_split",e.width,e.height,e.format,!1)),t}static WriteSplitColorTexture(A){let e=this.getTexture(Ye.colorBufferTex_NAME),t=this.getTexture(A+"_split");const i=sA.beginCommandEncoder();i.copyTextureToTexture({texture:e.getGPUTexture(),mipLevel:0,origin:{x:0,y:0,z:0}},{texture:t.getGPUTexture(),mipLevel:0,origin:{x:0,y:0,z:0}},{width:t.width,height:t.height,depthOrArrayLayers:1}),sA.endCommandEncoder(i)}};a(Es,"rtTextureMap"),a(Es,"rtViewQuad");let Gt=Es;class fb{constructor(A){a(this,"command");a(this,"encoder");a(this,"rendererPassStates");a(this,"rtFrame");this.rtFrame=A,this.rendererPassStates=[]}clean(){this.rendererPassStates.length=0,sA.cleanCache()}beginContinueRendererPassState(A="load",e="load"){if(this.rendererPassStates.length>0){let t=this.rtFrame.clone();for(const n of t.rtDescriptors)n.loadOp="load";t.depthLoadOp=e;let i=Bi.createRendererPassState(t,A);return this.rendererPassStates.push(i),i}else{this.rtFrame.depthLoadOp=e;let t=Bi.createRendererPassState(this.rtFrame,A);return this.rendererPassStates.push(t),t}}get rendererPassState(){return this.rendererPassStates[this.rendererPassStates.length-1]}beginOpaqueRenderPass(){this.beginContinueRendererPassState("clear","clear"),this.begineNewCommand(),this.beginNewEncoder()}beginTransparentRenderPass(){this.beginContinueRendererPassState("load","load"),this.begineNewCommand(),this.beginNewEncoder()}endRenderPass(){this.endEncoder(),this.endCommand()}begineNewCommand(){return this.command=sA.beginCommandEncoder(),this.command}endCommand(){sA.endCommandEncoder(this.command),this.command=null}beginNewEncoder(){return this.encoder=sA.beginRenderPass(this.command,this.rendererPassState),this.encoder}endEncoder(){sA.endPass(this.encoder),this.encoder=null}}class eo extends oa{constructor(){super();a(this,"rendererPassState");a(this,"splitRendererPassState");a(this,"useRenderBundle",!1);a(this,"debugViewQuads");a(this,"debugTextures");a(this,"renderContext");a(this,"_rendererType");a(this,"_rtFrame");this.debugTextures=[],this.debugViewQuads=[]}get passType(){return this._rendererType}set passType(e){this._rendererType=e}setRenderStates(e){if(this._rtFrame=e,e){this.rendererPassState=Bi.createRendererPassState(e);let t=e.clone();t.depthLoadOp="load";for(const i of t.rtDescriptors)i.loadOp="load";this.splitRendererPassState=Bi.createRendererPassState(t)}this.renderContext=new fb(e)}setIrradiance(e,t){this.rendererPassState.irradianceBuffer=[e,t]}compute(e,t){}render(e,t,i,n=!1){sA.cleanCache();let s=e.camera,o=e.scene;this.rendererPassState.camera3D=s;let u=IA.instance.getRenderNodes(o,s),l=this.renderBundleOp(e,u,t,i),c=n?[]:this.renderBundleTr(e,u,t,i);{let h=sA.beginCommandEncoder(),d=sA.beginRenderPass(h,this.rendererPassState);l.length>0&&d.executeBundles(l),!n&&IA.instance.sky&&(sA.bindCamera(d,s),IA.instance.sky.renderPass2(e,this._rendererType,this.rendererPassState,i,d)),this.drawRenderNodes(e,d,h,u.opaqueList,t),sA.endPass(d),sA.endCommandEncoder(h)}{let h=sA.beginCommandEncoder(),d=sA.beginRenderPass(h,this.rendererPassState);c.length>0&&d.executeBundles(c),n||(sA.bindCamera(d,s),this.drawRenderNodes(e,d,h,u.transparentList,t)),sA.endPass(d),sA.endCommandEncoder(h)}}nodeUpload(e,t,i){}occlusionRenderNodeTest(e,t,i){return i?i.occlusionRenderNodeTest(e)>0:!0}renderOp(e,t,i,n,s){}renderTr(e,t,i,n,s){}renderBundleOp(e,t,i,n){let s=IA.instance.getOpRenderGroup(e.scene);if(s){let o=[];return s.renderGroup.forEach(u=>{if(u.bundleMap.has(this._rendererType))o.push(u.bundleMap.get(this._rendererType));else{let l=sA.recordBundleEncoder(this.rendererPassState.renderBundleEncoderDescriptor);this.recordRenderBundleNode(e,l,u.renderNodes,n);let c=l.finish();u.bundleMap.set(this._rendererType,c),o.push(c)}}),o}return[]}renderBundleTr(e,t,i,n){let s=IA.instance.getTrRenderGroup(e.scene);if(s){let o=[];return s.renderGroup.forEach(u=>{if(u.bundleMap.has(this._rendererType))o.push(u.bundleMap.get(this._rendererType));else{let l=sA.recordBundleEncoder(this.rendererPassState.renderBundleEncoderDescriptor);this.recordRenderBundleNode(e,l,u.renderNodes,n);let c=l.finish();u.bundleMap.set(this._rendererType,c),o.push(c)}}),o}return[]}recordRenderBundleNode(e,t,i,n){sA.bindCamera(t,e.camera),sA.bindGeometryBuffer(t,i[0].geometry);for(let s=0;s<i.length;++s){let o=i[s];o.transform.worldMatrix.index,o.transform.enable&&o.recordRenderPass2(e,this._rendererType,this.rendererPassState,n,t)}}drawRenderNodes(e,t,i,n,s,o){sA.bindCamera(t,e.camera);for(let u=K.setting.render.drawOpMin;u<Math.min(n.length,K.setting.render.drawOpMax);++u){let l=n[u];l.transform.enable&&l.enable&&l.renderPass2(e,this._rendererType,this.rendererPassState,o,t)}}setDebugTexture(e){for(let t=0;t<e.length;t++){let i=e[t],n="Quad_vert_wgsl",s="Quad_frag_wgsl";switch(i.format){case MA.rgba8sint:case MA.rgba8uint:case MA.rgba8unorm:case MA.rgba16float:case MA.rgba32float:s="Quad_frag_wgsl";break;case MA.depth24plus:case MA.depth32float:s="Quad_depth2d_frag_wgsl",i.textureBindingLayout.viewDimension=="cube"&&(s="Quad_depthCube_frag_wgsl");break}let o=new h0(n,s,new Oi([],[]));this.debugTextures.push(e[t]),this.debugViewQuads.push(o)}}}class pb extends eo{constructor(){super(),this.passType=QA.COLOR}render(A,e,t,i=!1){this.renderContext.clean();let n=A.scene,s=A.camera;this.rendererPassState.camera3D=s;let o=IA.instance.getRenderNodes(n,s),u=this.renderBundleOp(A,o,e,t),l=i?[]:this.renderBundleTr(A,o,e,t);Er.start("colorPass Renderer");{Er.start("ColorPass Draw Opaque"),this.renderContext.beginOpaqueRenderPass(),this.renderContext.command;let c=this.renderContext.encoder;sA.bindCamera(c,s),u.length>0&&(IA.instance.getOpRenderGroup(n),c.executeBundles(u)),!i&&IA.instance.sky&&(sA.bindCamera(c,s),IA.instance.sky.preInit||IA.instance.sky.nodeUpdate(A,this._rendererType,this.rendererPassState,t),IA.instance.sky.renderPass2(A,this._rendererType,this.rendererPassState,t,c)),o.opaqueList&&(sA.bindCamera(c,s),this.drawNodes(A,this.renderContext,o.opaqueList,e,t),this.renderContext.endRenderPass(),Er.end("ColorPass Draw Opaque"))}{Er.start("ColorPass Draw Transparent"),this.renderContext.beginTransparentRenderPass(),this.renderContext.command;let c=this.renderContext.encoder;l.length>0&&c.executeBundles(l),!i&&o.transparentList&&(sA.bindCamera(c,s),this.drawNodes(A,this.renderContext,o.transparentList,e,t));let h=IA.instance.getGraphicList();for(let d=0;d<h.length;d++){const f=h[d];f.transform.worldMatrix.index,f.nodeUpdate(A,this._rendererType,this.splitRendererPassState,t),f.renderPass2(A,this._rendererType,this.splitRendererPassState,t,c)}this.renderContext.endRenderPass(),Er.end("ColorPass Draw Transparent")}Er.end("colorPass Renderer")}drawNodes(A,e,t,i,n){let s=IA.instance.getRenderShaderCollect(A);if(s){for(const o of s){let u=o[1];for(const l of u){let c=l[1];if(c.preInit){c.nodeUpdate(A,this._rendererType,this.rendererPassState,n);break}}}for(let o=K.setting.render.drawOpMin;o<Math.min(t.length,K.setting.render.drawOpMax);++o){let u=t[o];u.transform.enable&&u.enable&&(u.preInit||u.nodeUpdate(A,this._rendererType,this.rendererPassState,n),u.renderPass(A,this.passType,this.renderContext))}}}occlusionRenderNodeTest(A,e,t){return t.zDepthRenderNodeTest(e)>0}}const Hr=class Hr extends Oi{constructor(){super([],[])}crateGBuffer(A,e,t){let i=this.renderTargets,n=this.rtDescriptors,s=Gt.createRTTexture(A+Ye.colorBufferTex_NAME,e,t,MA.rgba16float,!1),o=Gt.createRTTexture(A+Ye.positionBufferTex_NAME,e,t,MA.rgba16float,!1),u=Gt.createRTTexture(A+Ye.normalBufferTex_NAME,e,t,MA.rgba8unorm,!1),l=Gt.createRTTexture(A+Ye.materialBufferTex_NAME,e,t,MA.rgba8unorm,!1);Hr.bufferTexture&&(i.push(s),i.push(o),i.push(u),i.push(l));let c=new rr;c.loadOp="clear";let h=new Kt(e,t,MA.depth24plus,!1);h.name="depthTexture";let d=new rr;d.loadOp="load",this.depthTexture=h,Hr.bufferTexture&&(n.push(c),n.push(new rr),n.push(new rr),n.push(new rr))}getColorMap(){return this.renderTargets[0]}getPositionMap(){return this.renderTargets[1]}getNormalMap(){return this.renderTargets[2]}getMaterialMap(){return this.renderTargets[3]}static getGBufferFrame(A){let e;if(Hr.gBufferMap.has(A))e=Hr.gBufferMap.get(A);else{e=new Hr;let t=iA.presentationSize;e.crateGBuffer(A,t[0],t[1]),Hr.gBufferMap.set(A,e)}return e}clone(){let A=new Hr;return this.clone2Frame(A),A}};a(Hr,"gBufferMap",new Map),a(Hr,"bufferTexture",!1);let Zo=Hr;class J3{constructor(){a(this,"frustumCullingList");a(this,"zVisibleList");a(this,"_renderList");this._renderList=new Map}occlusionRenderNodeTest(A){return K.setting.occlusionQuery.enable?this.frustumCullingList?this.frustumCullingList[A]:0:1}zDepthRenderNodeTest(A){return this.zVisibleList?this.zVisibleList[A]:0}update(A,e){}collect(A,e){}renderCommitTesting(A,e){return!0}}a(J3,"enable",!0);class Cl extends Kn{constructor(A,e){super(),this.bufferType=xi.ComputeGPUBuffer,this.createBuffer(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST,A,e,"ComputeGPUBuffer")}}class gb{constructor(A,e){a(this,"clusterBuffer");a(this,"lightAssignBuffer");a(this,"assignTableBuffer");a(this,"clustersUniformBuffer");this.clusterBuffer=new Cl(A*2*4),this.clustersUniformBuffer=new i1(10),this.clustersUniformBuffer.visibility=GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE,this.lightAssignBuffer=new Cl(A*e),this.lightAssignBuffer.visibility=GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE,this.assignTableBuffer=new Cl(A*4),this.assignTableBuffer.visibility=GPUShaderStage.FRAGMENT|GPUShaderStage.COMPUTE}update(A,e,t,i,n,s,o,u,l,c){this.clustersUniformBuffer.setFloat("clusterTileX",i),this.clustersUniformBuffer.setFloat("clusterTileY",n),this.clustersUniformBuffer.setFloat("clusterTileZ",s),this.clustersUniformBuffer.setFloat("numLights",o),this.clustersUniformBuffer.setFloat("maxNumLightsPerCluster",u),this.clustersUniformBuffer.setFloat("near",l),this.clustersUniformBuffer.setFloat("far",c),this.clustersUniformBuffer.setFloat("screenWidth",A),this.clustersUniformBuffer.setFloat("screenHeight",e),this.clustersUniformBuffer.setFloat("clusterPix",t),this.clustersUniformBuffer.apply()}}class et{}a(et,"clusterTileX",16),a(et,"clusterTileY",16),a(et,"clusterTileZ",32);let mb=`
  #include "GlobalUniform"

        struct ClusterBox{
            minPoint:vec4<f32>,
            maxPoint:vec4<f32>
        }

        struct ClustersUniform{
            clusterTileX:f32,
            clusterTileY:f32,
            clusterTileZ:f32,
            numLights:f32,
            maxNumLightsPerCluster:f32,
            near:f32,
            far:f32,
            screenWidth:f32,
            screenHeight:f32,
            clusterPix:f32
        }
     
        @group(0) @binding(1) var<uniform> clustersUniform : ClustersUniform;
        @group(0) @binding(2) var<storage,read_write> clusterBuffer : array<ClusterBox>;


        var<private> clusterTileX:f32 ;
        var<private> clusterTileY:f32 ;
        var<private> clusterTileZ:f32 ;
        fn convertNDCToView( v4:vec4<f32> ) -> vec4<f32> {
            var v = globalUniform.pvMatrixInv * v4 ;
            v = v / v.w ;
            return v ;
        }

        fn gridToIndex(i:vec3<u32>) -> u32{
            return i.z * u32(clusterTileX) * u32(clusterTileY) + i.y * u32(clusterTileX) + i.x ;
        }

        fn ScreenToView(screen : vec4<f32>) -> vec4<f32> {
            let texCoord = screen.xy / vec2<f32>(clustersUniform.screenWidth, clustersUniform.screenHeight);
            let clip = vec4<f32>(vec2<f32>(texCoord.x, 1.0 - texCoord.y) * 2.0 - vec2<f32>(1.0, 1.0), screen.z, screen.w);
            return convertNDCToView(clip);
          }

        fn LineIntersectionToZPlane( eye:vec3<f32> , ndcPoint :vec3<f32> , z:f32) -> vec3<f32>
        {
            var normal = vec3<f32>(0.0, 0.0, 1.0);
            var dir = ndcPoint - eye;
            var t = (z - dot(normal, eye)) / dot(normal, dir);
            var result = eye + t * dir;
            return result;
        }

        @compute @workgroup_size(${et.clusterTileX},${et.clusterTileY},1)
        fn CsMain( @builtin(workgroup_id) workgroup_id : vec3<u32> , @builtin(local_invocation_id) local_invocation_id : vec3<u32> ){

            let i = local_invocation_id.x ;
            let j = local_invocation_id.y ;
            let k = workgroup_id.x ;

            clusterTileX = clustersUniform.clusterTileX;
            clusterTileY = clustersUniform.clusterTileY;
            clusterTileZ = clustersUniform.clusterTileZ;

            let clusterGrid = vec3<u32>(i,j,k);
            let tileIndex = gridToIndex(clusterGrid);
            let eyePos = vec3<f32>(0.0, 0.0, 0.0);

            let tx = clusterTileX;
            let ty = clusterTileY;
            let tz = clusterTileZ ;
            let near = clustersUniform.near ;
            let far = clustersUniform.far ;

            let titleSize = vec2<f32>( globalUniform.windowWidth / tx , globalUniform.windowHeight / ty ) ;

            var maxPointSs = vec4<f32>(vec2<f32>(f32(i) + 1.0, f32(j) + 1.0) * titleSize, 0.0, 1.0);
	        var minPointSs = vec4<f32>(vec2<f32>(f32(i) , f32(j)) * titleSize, 0.0, 1.0);

            var maxPointVs = ScreenToView(maxPointSs).xyz;
	        var minPointVs = ScreenToView(minPointSs).xyz;
 
            var tileNear = clustersUniform.near * pow(clustersUniform.far / clustersUniform.near, f32(k) / clustersUniform.clusterTileZ);
	        var tileFar = clustersUniform.near * pow(clustersUniform.far / clustersUniform.near, (f32(k) + 1.0) / clustersUniform.clusterTileZ);

            var minPointNear = LineIntersectionToZPlane(eyePos, minPointVs, tileNear);
            var minPointFar = LineIntersectionToZPlane(eyePos, minPointVs, tileFar);
            var maxPointNear = LineIntersectionToZPlane(eyePos, maxPointVs, tileNear);
            var maxPointFar = LineIntersectionToZPlane(eyePos, maxPointVs, tileFar);

            var minPointAABB = min(min(minPointNear, minPointFar), min(maxPointNear, maxPointFar));
            var maxPointAABB = max(max(minPointNear, minPointFar), max(maxPointNear, maxPointFar));

            var clusterBox : ClusterBox ;
            clusterBox.minPoint = vec4<f32>(minPointAABB,f32(tileIndex)) ;
            clusterBox.maxPoint = vec4<f32>(maxPointAABB,f32(tileIndex)) ;
            clusterBuffer[tileIndex] = clusterBox;
        }
`,yb=`
#include "GlobalUniform"

struct ClusterBox{
    min:vec4<f32>,
    max:vec4<f32>
}

struct Light {
    index:f32,
    lightType:i32,
    radius:f32,
    linear:f32,

    position:vec3<f32>,
    lightMatrixIndex:f32,

    direction:vec3<f32>,
    quadratic:f32,

    lightColor:vec3<f32>,
    intensity:f32,

    innerCutOff :f32,
    outerCutOff:f32,
    range :f32,
    castShadow:f32,

    lightTangent:vec3<f32>,
    ies:f32,
};

struct LightIndex
{
    count:f32,
    start:f32,
    empty0:f32,
    empty1:f32,
};

struct ClustersUniform{
    clusterTileX:f32,
    clusterTileY:f32,
    clusterTileZ:f32,
    numLights:f32,
    maxNumLightsPerCluster:f32,
    near:f32,
    far:f32,
    screenWidth:f32,
    screenHeight:f32,
    clusterPix:f32, 
}

var<private> clusterTileX:f32 ;
var<private> clusterTileY:f32 ;
var<private> clusterTileZ:f32 ;

// @group(0) @binding(1) var<storage, read> models : Uniforms;
@group(0) @binding(1) var<uniform> clustersUniform : ClustersUniform;
@group(0) @binding(2) var<storage,read> clusterBuffer : array<ClusterBox>;
@group(0) @binding(3) var<storage,read> lightBuffer : array<Light>; 
@group(0) @binding(4) var<storage,read_write> lightAssignBuffer : array<f32>;
@group(0) @binding(5) var<storage,read_write> assignTable : array<LightIndex>;

fn gridToIndex(i:vec3<u32>) -> u32{
    return i.z * u32(clusterTileX) * u32(clusterTileY) + i.y * u32(clusterTileX) + i.x ;
}

fn GetSqdisPointAABB( pos:vec3<f32>,  cluster:ClusterBox  ) -> f32
{
    var sqDistance = 0.0;
    for (var i = 0u; i < 3u; i+=1u)
    {
        var v = pos[i];
        if (v < cluster.min[i])
        {
            let diff = cluster.min[i] - v;
            sqDistance += diff * diff;
        }

        if (v > cluster.max[i])
        {
            let diff =  v - cluster.max[i];
            sqDistance += diff * diff;
        }
    }
    return sqDistance;
}

fn TestSphereAABB( box:ClusterBox ,light:Light ) -> bool
{
    let lightPos = light.position.xyz;
    var radius = light.range * 2.0 ;
    var spherePos = globalUniform.viewMat * vec4<f32>(lightPos.xyz, 1.0) ;
    spherePos = spherePos / spherePos.w ;
    let sqDistance = GetSqdisPointAABB(spherePos.xyz , box);
    return sqDistance <= (radius*radius);
}

@compute @workgroup_size(${et.clusterTileX},${et.clusterTileY},1)
fn CsMain( @builtin(workgroup_id) workgroup_id : vec3<u32> , @builtin(local_invocation_id) local_invocation_id : vec3<u32> ){
    // cluster ID 
    let i = local_invocation_id.x ;
    let j = local_invocation_id.y ;
    let k = workgroup_id.x ;

    clusterTileX = clustersUniform.clusterTileX;
    clusterTileY = clustersUniform.clusterTileY;
    clusterTileZ = clustersUniform.clusterTileZ;

    var clusterId_3D = vec3<u32>(i,j,k);
    var clusterId_1D = gridToIndex(clusterId_3D);

    var box:ClusterBox = clusterBuffer[clusterId_1D];

    var startIndex = i32(clusterId_1D) * i32(clustersUniform.maxNumLightsPerCluster) ;
    var endIndex = startIndex;

    for(var lightID = 0 ; lightID < i32(clustersUniform.numLights) ; lightID+=1)
    {
        let li:Light = lightBuffer[lightID];
        if(!TestSphereAABB(box, li)) {
            continue;
        }
        lightAssignBuffer[endIndex] = f32(lightID);
        endIndex++;
    }

    var idx: LightIndex;
    idx.count = f32(endIndex-startIndex);
    idx.start = f32(startIndex);
    idx.empty0 = f32(clusterId_1D);
    idx.empty1 = f32(clustersUniform.maxNumLightsPerCluster);
    assignTable[clusterId_1D] = idx;
}
`;class Eb extends eo{constructor(e){super();a(this,"maxNumLightsPerCluster",64);a(this,"clusterPix",1);a(this,"clusterLightingBuffer");a(this,"_currentLightCount",0);a(this,"_clusterGenerateCompute");a(this,"_clusterLightingCompute");a(this,"_useCamera");a(this,"resize",!1);this.passType=QA.Cluster,this.initCompute(e)}initCompute(e){this._clusterGenerateCompute=new Ii(mb),this._clusterLightingCompute=new Ii(yb);let t=iA.presentationSize,i=et.clusterTileX*et.clusterTileY*et.clusterTileZ,n=e.camera,s=n.near,o=n.far;this.clusterLightingBuffer=new gb(i,this.maxNumLightsPerCluster),this.clusterLightingBuffer.update(t[0],t[1],this.clusterPix,et.clusterTileX,et.clusterTileY,et.clusterTileZ,0,this.maxNumLightsPerCluster,s,o),this._clusterGenerateCompute.setUniformBuffer("clustersUniform",this.clusterLightingBuffer.clustersUniformBuffer),this._clusterGenerateCompute.setStorageBuffer("clusterBuffer",this.clusterLightingBuffer.clusterBuffer);let u=Le.getLightEntries(e.scene);this._clusterLightingCompute.setStorageBuffer("models",Le.modelMatrixBindGroup.matrixBufferDst),this._clusterLightingCompute.setUniformBuffer("clustersUniform",this.clusterLightingBuffer.clustersUniformBuffer),this._clusterLightingCompute.setStorageBuffer("clusterBuffer",this.clusterLightingBuffer.clusterBuffer),this._clusterLightingCompute.setStorageBuffer("lightBuffer",u.storageGPUBuffer),this._clusterLightingCompute.setStorageBuffer("lightAssignBuffer",this.clusterLightingBuffer.lightAssignBuffer),this._clusterLightingCompute.setStorageBuffer("assignTable",this.clusterLightingBuffer.assignTableBuffer),this.resize=!0}render(e,t){let i=e.scene,n=IA.instance.getLights(i);if(this._useCamera!=e.camera){this._useCamera=e.camera;let u=Le.getCameraGroup(this._useCamera);this._clusterGenerateCompute.setUniformBuffer("globalUniform",u.uniformGPUBuffer),this._clusterLightingCompute.setUniformBuffer("globalUniform",u.uniformGPUBuffer)}this._currentLightCount!=n.length&&(this._currentLightCount=n.length,this.clusterLightingBuffer.clustersUniformBuffer.setFloat("numLights",n.length),this.clusterLightingBuffer.clustersUniformBuffer.apply(),this._clusterGenerateCompute.workerSizeX=et.clusterTileZ,this._clusterLightingCompute.workerSizeX=et.clusterTileZ);let s=iA.presentationSize;this.clusterLightingBuffer.update(s[0],s[1],this.clusterPix,et.clusterTileX,et.clusterTileY,et.clusterTileZ,n.length,this.maxNumLightsPerCluster,e.camera.near,e.camera.far),this.resize=!1;let o=sA.beginCommandEncoder();sA.computeCommand(o,[this._clusterGenerateCompute,this._clusterLightingCompute]),sA.endCommandEncoder(o)}}class tn extends Tt{constructor(e,t,i=MA.rgba8unorm,n=!1,s,o=1,u=0,l=!0){super(e,t,o);a(this,"resolveTarget");a(this,"sampleCount");iA.device,this.name=ii(),this.useMipmap=n,this.sampleCount=u,this.format=i,this.numberLayer=o,s!=null?this.usage=s:this.usage=s|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.COPY_DST,this.resize(e,t)}clone(){let e=new tn(this.width,this.height,this.format,this.useMipmap,this.usage,this.numberLayer,this.sampleCount);return e.name="clone_"+e.name,e}resize(e,t){let i=iA.device;this.gpuTexture&&(Tt.delayDestroyTexture(this.gpuTexture),this.gpuTexture=null,this.view=null),this.width=e,this.height=t,this.createTextureDescriptor(e,t,1,this.format,this.usage,this.numberLayer,this.sampleCount),this.useMipmap=!1,this.visibility=GPUShaderStage.COMPUTE|GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,this.format==MA.rgba32float?(this.samplerBindingLayout.type="non-filtering",this.textureBindingLayout.sampleType="unfilterable-float",this.gpuSampler=i.createSampler({})):this.format==MA.depth32float?(this.samplerBindingLayout.type="filtering",this.sampler_comparisonBindingLayout.type="comparison",this.textureBindingLayout.sampleType="depth",this.gpuSampler=iA.device.createSampler({}),this.gpuSampler_comparison=iA.device.createSampler({compare:"less",label:"sampler_comparison"})):this.format==MA.depth24plus?(this.samplerBindingLayout={type:"filtering"},this.sampler_comparisonBindingLayout={type:"comparison"},this.textureBindingLayout.sampleType="depth",this.gpuSampler=iA.device.createSampler({}),this.gpuSampler_comparison=iA.device.createSampler({compare:"less",label:"sampler_comparison"})):(this.samplerBindingLayout.type="filtering",this.textureBindingLayout.sampleType="float",this.sampleCount>0&&(this.textureBindingLayout.multisampled=!0),this.minFilter="linear",this.magFilter="linear",this.mipmapFilter="linear",this.maxAnisotropy=16,this.addressModeU=xr.clamp_to_edge,this.addressModeV=xr.clamp_to_edge,this.gpuSampler=i.createSampler(this)),this._textureChange=!0}create(e,t,i=!0){let n=iA.device;const s=e*4;let o=new Float32Array(e*t*4);const u=n.createBuffer({size:o.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});n.queue.writeBuffer(u,0,o);const l=sA.beginCommandEncoder();l.copyBufferToTexture({buffer:u,bytesPerRow:s},{texture:this.getGPUTexture()},{width:e,height:t,depthOrArrayLayers:1}),sA.endCommandEncoder(l)}readTextureToImage(){let e=iA.device,t=iA.windowWidth,i=iA.windowHeight,n=new Float32Array(t*i*4);const s=e.createBuffer({size:n.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});return sA.beginCommandEncoder().copyTextureToBuffer({texture:this.getGPUTexture()},{buffer:s},[t,i]),s.getMappedRange(0,n.byteLength)}}class Cb extends de{constructor(e=.001,t=1e4,i=90,n=!1){super();a(this,"up_camera");a(this,"down_camera");a(this,"left_camera");a(this,"right_camera");a(this,"front_camera");a(this,"back_camera");this.initCubeCamera(e,t,i,n)}set label(e){this.up_camera.name=e+"up",this.down_camera.name=e+"down",this.left_camera.name=e+"left",this.right_camera.name=e+"right",this.front_camera.name=e+"front",this.back_camera.name=e+"back"}initCubeCamera(e,t,i=90,n=!1){this.up_camera=it.createCamera3DObject(this,"up"),this.down_camera=it.createCamera3DObject(this,"down"),this.left_camera=it.createCamera3DObject(this,"left"),this.right_camera=it.createCamera3DObject(this,"right"),this.front_camera=it.createCamera3DObject(this,"front"),this.back_camera=it.createCamera3DObject(this,"back"),this.up_camera.isShadowCamera=n,this.down_camera.isShadowCamera=n,this.left_camera.isShadowCamera=n,this.right_camera.isShadowCamera=n,this.front_camera.isShadowCamera=n,this.back_camera.isShadowCamera=n;let s=1;this.up_camera.perspective(i,s,e,t),this.up_camera.lookAt(I.ZERO,I.UP,I.DOWN),this.up_camera.object3D.scaleX=-1,this.up_camera.object3D.rotationY=180,this.down_camera.perspective(i,s,e,t),this.down_camera.lookAt(I.ZERO,I.DOWN,I.DOWN),this.down_camera.object3D.scaleX=-1,this.down_camera.object3D.rotationY=180,this.left_camera.perspective(i,s,e,t),this.left_camera.lookAt(I.ZERO,I.LEFT),this.left_camera.object3D.scaleX=-1,this.right_camera.perspective(i,s,e,t),this.right_camera.lookAt(I.ZERO,I.RIGHT),this.right_camera.object3D.scaleX=-1,this.front_camera.perspective(i,s,e,t),this.front_camera.lookAt(I.ZERO,I.FORWARD),this.front_camera.object3D.scaleX=-1,this.back_camera.perspective(i,s,e,t),this.back_camera.lookAt(I.ZERO,I.BACK),this.back_camera.object3D.scaleX=-1,this.up_camera.type=Re.shadow,this.down_camera.type=Re.shadow,this.left_camera.type=Re.shadow,this.right_camera.type=Re.shadow,this.front_camera.type=Re.shadow,this.back_camera.type=Re.shadow}}class _b extends Tt{constructor(A,e,t){super(A,e,t),this.format=MA.depth32float,this.mipmapCount=1,this.init()}internalCreateBindingLayoutDesc(){this.textureBindingLayout.sampleType="depth",this.textureBindingLayout.viewDimension="cube-array",this.samplerBindingLayout.type="filtering",this.sampler_comparisonBindingLayout.type="comparison"}internalCreateTexture(){this.textureDescriptor={format:this.format,size:{width:this.width,height:this.height,depthOrArrayLayers:6*this.numberLayer},dimension:"2d",usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING},this.gpuTexture=this.getGPUTexture()}internalCreateView(){this.viewDescriptor={dimension:"cube-array"},this.view=this.getGPUView()}internalCreateSampler(){this.gpuSampler=iA.device.createSampler({minFilter:qi.linear,magFilter:qi.linear}),this.gpuSampler_comparison=iA.device.createSampler({compare:"less",label:"sampler_comparison"})}}class Sb extends eo{constructor(){super();a(this,"shadowPassCount");a(this,"_forceUpdate",!1);a(this,"_shadowCameraDic");a(this,"shadowCamera");a(this,"cubeArrayTexture");a(this,"colorTexture");a(this,"shadowSize",1024);this.passType=QA.POINT_SHADOW,this._shadowCameraDic=new Map,this.cubeArrayTexture=new _b(this.shadowSize,this.shadowSize,8),this.colorTexture=new tn(this.shadowSize,this.shadowSize,MA.bgra8unorm,!1),te.getInstance().attached(this.cubeArrayTexture,this)}getShadowCamera(e,t){var n;let i;if(this._shadowCameraDic.has(t))i=this._shadowCameraDic.get(t);else{let s=new Cb(e.camera.near,e.camera.far,90,!0);s.label=t.name;let o=[],u=[];for(let l=0;l<6;l++){let c=new tn(this.shadowSize,this.shadowSize,this.cubeArrayTexture.format,!1),h=new Oi([this.colorTexture],[new rr]);c.name="shadowDepthTexture_"+t.name+l+"_face",h.depthTexture=c,h.label="shadowRender",h.customSize=!0;let d=Bi.createRendererPassState(h);u[l]=d,o[l]=c,(n=K.getRenderJob(e).postRenderer)==null||n.setDebugTexture([c])}i={cubeCamera:s,depthTexture:o,rendererPassState:u},this._shadowCameraDic.set(t,i)}return i}render(e,t){if(!K.setting.shadow.enable)return;this.shadowPassCount=0,e.camera;let i=e.scene,n=Ir.getPointShadowLightWhichScene(i),s=n.length;for(let o=0;o<s;o++){let u=n[o];if(u.lightData.lightType!=At.DirectionLight&&u.lightData.castShadowIndex>-1&&(u.needUpdateShadow||this._forceUpdate||be.frame<5||u.realTimeShadow)){u.needUpdateShadow=!1;let l=this.getShadowCamera(e,u),c=u.transform.worldPosition;l.cubeCamera.x=c.x,l.cubeCamera.y=c.y,l.cubeCamera.z=c.z;let h;l.cubeCamera.transform.updateWorldMatrix(!0),t.update(l.cubeCamera.right_camera,i),h=IA.instance.getRenderNodes(i,l.cubeCamera.right_camera),this.renderSceneOnce(0,l,e,l.cubeCamera.right_camera,h,t),t.update(l.cubeCamera.left_camera,i),h=IA.instance.getRenderNodes(i,l.cubeCamera.left_camera),this.renderSceneOnce(1,l,e,l.cubeCamera.left_camera,h,t),t.update(l.cubeCamera.up_camera,i),h=IA.instance.getRenderNodes(i,l.cubeCamera.up_camera),this.renderSceneOnce(2,l,e,l.cubeCamera.up_camera,h,t),t.update(l.cubeCamera.down_camera,i),h=IA.instance.getRenderNodes(i,l.cubeCamera.down_camera),this.renderSceneOnce(3,l,e,l.cubeCamera.down_camera,h,t),t.update(l.cubeCamera.front_camera,i),h=IA.instance.getRenderNodes(i,l.cubeCamera.front_camera),this.renderSceneOnce(4,l,e,l.cubeCamera.front_camera,h,t),t.update(l.cubeCamera.back_camera,i),h=IA.instance.getRenderNodes(i,l.cubeCamera.back_camera),this.renderSceneOnce(5,l,e,l.cubeCamera.back_camera,h,t);let d=sA.beginCommandEncoder();for(let f=0;f<6;f++)d.copyTextureToTexture({texture:l.depthTexture[f].getGPUTexture(),mipLevel:0,origin:{x:0,y:0,z:0}},{texture:this.cubeArrayTexture.getGPUTexture(),mipLevel:0,origin:{x:0,y:0,z:u.shadowIndex*6+f}},{width:this.shadowSize,height:this.shadowSize,depthOrArrayLayers:1});sA.endCommandEncoder(d)}}this._forceUpdate=!1}renderSceneOnce(e,t,i,n,s,o){this.rendererPassState=t.rendererPassState[e];let u=sA.beginCommandEncoder(),l=sA.beginRenderPass(u,this.rendererPassState);l.setViewport(0,0,this.shadowSize,this.shadowSize,0,1),l.setScissorRect(0,0,this.shadowSize,this.shadowSize),n.onUpdate(),n.transform.updateWorldMatrix(!0);let c=IA.instance.getRenderShaderCollect(i);for(const h of c){let d=h[1];for(const f of d){let p=f[1];if(p.preInit){p.nodeUpdate(i,this._rendererType,this.rendererPassState,null);break}}}this.drawShadowRenderNodes(i,n,l,s.opaqueList,o),this.drawShadowRenderNodes(i,n,l,s.transparentList,o),sA.endPass(l),sA.endCommandEncoder(u)}drawShadowRenderNodes(e,t,i,n,s){if(sA.bindCamera(i,t),n)for(let o=K.setting.render.drawOpMin;o<Math.min(n.length,K.setting.render.drawOpMax);++o){let u=n[o];if(u.transform.worldMatrix.index,!!u.transform.enable&&u.enable){u.preInit||u.nodeUpdate(e,this._rendererType,this.rendererPassState);for(let l of u.materials){let c=l.getPass(this._rendererType);if(!c||c.length==0)continue;sA.bindGeometryBuffer(i,u.geometry);let h=u.object3D.transform._worldMatrix;for(let d of c){const f=d;if(f.pipeline){f.setUniformFloat("cameraFar",t.far),f.setUniformVector3("lightWorldPos",t.transform.worldPosition),f.materialDataUniformBuffer.apply(),sA.bindPipeline(i,f);let p=u.geometry.subGeometries;for(const y of p){let _=y.lodLevels[u.lodLevel];sA.drawIndexed(i,_.indexCount,1,_.indexStart,0,h.index)}}}}}}}}class vb extends Tt{constructor(A,e,t=MA.depth32float,i=4){super(A,e,i),this.format=t,this.mipmapCount=1,this.init()}internalCreateBindingLayoutDesc(){this.textureBindingLayout.sampleType="depth",this.textureBindingLayout.viewDimension="2d-array",this.samplerBindingLayout.type="filtering",this.sampler_comparisonBindingLayout.type="comparison"}internalCreateTexture(){this.textureDescriptor={format:this.format,size:{width:this.width,height:this.height,depthOrArrayLayers:this.numberLayer},dimension:"2d",usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING},this.gpuTexture=this.getGPUTexture()}internalCreateView(){this.viewDescriptor={dimension:"2d-array"},this.view=this.getGPUView()}internalCreateSampler(){this.gpuSampler=iA.device.createSampler({}),this.gpuSampler_comparison=iA.device.createSampler({compare:"less",label:"sampler_comparison"})}}class wb extends eo{constructor(){super();a(this,"shadowPassCount");a(this,"depth2DArrayTexture");a(this,"rendererPassStates");a(this,"_forceUpdate",!1);a(this,"_shadowPos",new I);a(this,"_shadowCameraTarget",new I);this.setShadowMap(K.setting.shadow.shadowSize,bi.Cascades),this.passType=QA.SHADOW}setShadowMap(e,t){this.rendererPassStates=[],this.depth2DArrayTexture=new vb(e,e,MA.depth32float,8),te.getInstance().attached(this.depth2DArrayTexture,this);for(let i=0;i<8;i++){let n=new Oi([],[]);const s=new tn(e,e,MA.depth32float,!1);s.name=`shadowDepthTexture_${i}`,n.depthTexture=s,n.label="shadowRender",n.customSize=!0,n.depthCleanValue=1;let o=Bi.createRendererPassState(n);this.rendererPassStates[i]=o}}render(e,t){let i=K.setting.shadow;if(!i.enable)return;let n=e.camera,s=e.scene;if(this.shadowPassCount=0,!i.needUpdate||be.frame%i.updateFrameRate!=0)return;let o=Ir.getDirectShadowLightWhichScene(s),u=i.shadowSize;const l=bi.Cascades;for(let c of o){const h=c;let d=h.shadowIndex;this.rendererPassState=this.rendererPassStates[d],u=this.rendererPassState.depthTexture.width;let f=IA.instance.getRenderShaderCollect(e);for(const p of f){let y=p[1];for(const _ of y){let g=_[1];if(g.preInit){g.nodeUpdate(e,this._rendererType,this.rendererPassState,null);break}}}if(h.castShadow&&h.needUpdateShadow||this._forceUpdate||h.castShadow&&i.autoUpdate)if(h.needUpdateShadow=!1,n.enableCSM&&d==0)for(let p=0;p<l;p++){this.rendererPassState=this.rendererPassStates[p];let y=n.csm.children[p],_=n.getCSMShadowWorldExtents(p);this.poseShadowCamera(n,h.direction,y.shadowCamera,_,y.bound.center),this.renderShadow(e,y.shadowCamera,t,this.rendererPassState),this.copyDepthTexture(this.rendererPassState.depthTexture,this.depth2DArrayTexture,p,u)}else{n.enableCSM&&(d+=l-1);let p=n.getShadowWorldExtents();this.rendererPassState=this.rendererPassStates[d],this.poseShadowCamera(n,h.direction,h.shadowCamera,p,n.lookTarget),this.renderShadow(e,h.shadowCamera,t,this.rendererPassState),this.copyDepthTexture(this.rendererPassState.depthTexture,this.depth2DArrayTexture,d,u)}}this._forceUpdate=!1}copyDepthTexture(e,t,i,n){let s=sA.beginCommandEncoder();s.copyTextureToTexture({texture:e.getGPUTexture(),mipLevel:0,origin:{x:0,y:0,z:0}},{texture:t.getGPUTexture(),mipLevel:0,origin:{x:0,y:0,z:i}},{width:n,height:n,depthOrArrayLayers:1}),sA.endCommandEncoder(s)}poseShadowCamera(e,t,i,n,s){this._shadowPos.copy(t).normalize(e.far),s.add(this._shadowPos,this._shadowCameraTarget),s.subtract(this._shadowPos,this._shadowPos),i.transform.lookAt(this._shadowPos,this._shadowCameraTarget),i.orthoOffCenter(-n,n,-n,n,e.near,e.far*2)}compute(){}renderShadow(e,t,i,n){let s=IA.instance.getRenderNodes(e.scene,t),o=sA.beginCommandEncoder(),u=sA.beginRenderPass(o,n);t.transform.updateWorldMatrix(),i.update(t,e.scene),i.collect(s,t),sA.bindCamera(u,t);let l=this.renderShadowBundleOp(e,t,n),c=this.renderShadowBundleTr(e,t,n);l.length>0&&u.executeBundles(l),this.drawShadowRenderNodes(e,t,u,s.opaqueList),c.length>0&&u.executeBundles(c),this.drawShadowRenderNodes(e,t,u,s.transparentList),sA.endPass(u),sA.endCommandEncoder(o)}renderShadowBundleOp(e,t,i){let n=IA.instance.getOpRenderGroup(e.scene);if(n){let s=[];return n.renderGroup.forEach(o=>{if(o.bundleMap.has(this._rendererType))s.push(o.bundleMap.get(this._rendererType));else{let u=sA.recordBundleEncoder(i.renderBundleEncoderDescriptor);this.recordShadowRenderBundleNode(e,t,u,o.renderNodes);let l=u.finish();o.bundleMap.set(this._rendererType,l),s.push(l)}}),s}return[]}renderShadowBundleTr(e,t,i){let n=IA.instance.getTrRenderGroup(e.scene);if(n){let s=[];return n.renderGroup.forEach(o=>{if(o.bundleMap.has(this._rendererType))s.push(o.bundleMap.get(this._rendererType));else{let u=sA.recordBundleEncoder(i.renderBundleEncoderDescriptor);this.recordShadowRenderBundleNode(e,t,u,o.renderNodes);let l=u.finish();o.bundleMap.set(this._rendererType,l),s.push(l)}}),s}return[]}recordShadowRenderBundleNode(e,t,i,n,s){if(sA.bindCamera(i,t),n){sA.bindGeometryBuffer(i,n[0].geometry);for(let o=0;o<n.length;++o){let u=n[o];u.transform.enable&&u.recordRenderPass2(e,this._rendererType,this.rendererPassState,s,i)}}}drawShadowRenderNodes(e,t,i,n,s){if(sA.bindCamera(i,t),n)for(let o=K.setting.render.drawOpMin;o<Math.min(n.length,K.setting.render.drawOpMax);++o){let u=n[o];u.transform.enable&&u.enable&&u.castShadow&&u.renderPass2(e,this._rendererType,this.rendererPassState,s,i)}}}class bb extends eo{constructor(){super();a(this,"zBufferTexture");a(this,"useRenderBundle",!1);a(this,"shadowPassCount");a(this,"zCullingCompute");this.passType=QA.DEPTH;let e=iA.presentationSize,t=1;this.zBufferTexture=Gt.createRTTexture(Ye.zBufferTexture_NAME,Math.floor(e[0]*t),Math.floor(e[1]*t),MA.rgba16float,!1);let i=new rr;i.clearValue=[0,0,0,0],i.loadOp="clear";let n=new Oi([],[],Gt.createRTTexture(Ye.zPreDepthTexture_NAME,Math.floor(e[0]),Math.floor(e[1]),MA.depth32float,!1),null,!1);this.setRenderStates(n)}render(e,t){let i=e.camera,n=e.scene;sA.cleanCache(),Er.start("DepthPass Renderer");let s=n;this.rendererPassState.camera3D=i;let o=IA.instance.getRenderNodes(s,i);this.compute(e,t);let u=this.renderBundleOp(e,o,t),l=[],c=sA.beginCommandEncoder(),h=sA.beginRenderPass(c,this.rendererPassState);u.length>0&&h.executeBundles(u);let d=IA.instance.getRenderShaderCollect(e);for(const f of d){let p=f[1];for(const y of p){let _=y[1];if(_.preInit){_.nodeUpdate(e,this._rendererType,this.rendererPassState,null);break}}}this.drawRenderNodes(e,h,c,o.opaqueList,t),l.length>0&&h.executeBundles(l),sA.endPass(h),sA.endCommandEncoder(c),Er.end("DepthPass Renderer")}drawRenderNodes(e,t,i,n,s,o){sA.bindCamera(t,e.camera);for(let u=K.setting.render.drawOpMin;u<Math.min(n.length,K.setting.render.drawOpMax);++u){let l=n[u];l.transform.enable&&l.enable&&(l.preInit||l.nodeUpdate(e,this._rendererType,this.rendererPassState),l.renderPass2(e,this._rendererType,this.rendererPassState,o,t))}}}class Ib{constructor(){a(this,"map");a(this,"passRendererList");this.map=new Map,this.passRendererList=[]}addRenderer(A){this.map.has(A.passType)?console.error("same renderer pass repeat!"):(this.map.set(A.passType,A),A.passType<=8&&this.addPassRenderer(A))}getRenderer(A){return this.map.get(A)}addPassRenderer(A){this.passRendererList.push(A)}getAllRenderer(){return this.map}getAllPassRenderer(){return this.passRendererList}}class Bb extends eo{constructor(){super();a(this,"finalQuadView");a(this,"postList");this._rendererType=QA.POST,this.postList=[],this.initRenderer()}initRenderer(){CA.register("FullQuad_vert_wgsl",Qw),this.finalQuadView=new h0("Quad_vert_wgsl","Quad_frag_wgsl",new Oi([],[]),0,!1)}attachPost(e,t){t.postRenderer=this,this.postList.indexOf(t)!=-1||(this.postList.push(t),t.onAttach(e))}detachPost(e,t){let i=this.postList.indexOf(t);return i>=0&&(this.postList.splice(i,1),t.onDetach(e),t.postRenderer=null),i>=0}render(e){let t=sA.beginCommandEncoder();for(let n=0;n<this.postList.length;n++){const s=this.postList[n];s.enable&&s.render(e,t)}let i=sA.lastRenderPassState.getLastRenderTexture();if(this.finalQuadView.renderToViewQuad(e,this.finalQuadView,t,i),this.debugViewQuads.length){let n=K.setting.render.debugQuad;n>=0&&this.debugViewQuads[n].renderToViewQuad(e,this.debugViewQuads[n],t,this.debugTextures[n])}sA.endCommandEncoder(t)}}class Jd{constructor(){a(this,"enable",!0);a(this,"postRenderer");a(this,"rtViewQuad");a(this,"virtualTexture");this.rtViewQuad=new Map,this.virtualTexture=new Map,iA.addEventListener(Ls.RESIZE,this.onResize,this)}createRTTexture(A,e,t,i,n=!1,s=0){let o=Gt.createRTTexture(A,e,t,i,n,s);return o.name=A,this.virtualTexture.set(A,o),te.getInstance().attached(o,this),o}createViewQuad(A,e,t,i=0){let n=Gt.createViewQuad(A,"Quad_vert_wgsl",e,t,i);return this.rtViewQuad.set(A,n),n}getOutTexture(){let A,e=sA.lastRenderPassState.renderTargets;return e.length>0?A=e[0]:A=Gt.getTexture(Ye.colorBufferTex_NAME),A}autoSetColorTexture(A,e){let t=this.getOutTexture();e.setSamplerTexture(A,t)}compute(A){}onAttach(A){}onDetach(A){}onResize(){}render(A,e){this.compute(A),this.rtViewQuad.forEach((t,i)=>{let n=sA.lastRenderPassState.getLastRenderTexture();t.renderToViewQuad(A,t,e,n)})}destroy(A){this.postRenderer=null;for(let e=0;e<this.rtViewQuad.size;e++)this.rtViewQuad.values[e].destroy(A);this.rtViewQuad.clear(),this.rtViewQuad=null;for(let e=0;e<this.virtualTexture.size;e++){const t=this.virtualTexture.values[e];te.getInstance().detached(t,this),t.destroy(A)}}}class Tb{constructor(A){a(this,"rendererMap");a(this,"shadowMapPassRenderer");a(this,"pointLightShadowRenderer");a(this,"ddgiProbeRenderer");a(this,"postRenderer");a(this,"clusterLightingRender");a(this,"occlusionSystem");a(this,"depthPassRenderer");a(this,"colorPassRenderer");a(this,"pauseRender",!1);a(this,"pickFire");a(this,"renderState",!1);a(this,"_view");this._view=A,this.rendererMap=new Ib,this.occlusionSystem=new J3,this.clusterLightingRender=this.addRenderer(Eb,A),K.setting.render.zPrePass&&(this.depthPassRenderer=this.addRenderer(bb)),this.shadowMapPassRenderer=new wb,this.pointLightShadowRenderer=new Sb}addRenderer(A,e){let t;return e?t=new A(e):t=new A,this.rendererMap.addRenderer(t),t}get view(){return this._view}set view(A){this._view=A}start(){this.renderState=!0}stop(){}pause(){this.pauseRender=!0}resume(){this.pauseRender=!1}enablePost(A){this.postRenderer=this.addRenderer(Bb),this.postRenderer.setRenderStates(A)}addPost(A){return this.postRenderer||(Zo.bufferTexture=!0,this.enablePost(Zo.getGBufferFrame("ColorPassGBuffer"))),A instanceof Jd&&this.postRenderer.attachPost(this.view,A),A}removePost(A){if(A instanceof Jd)this.postRenderer.detachPost(this.view,A);else for(let e=0;e<A.length;e++)this.postRenderer.detachPost(this.view,A[e])}renderFrame(){let A=this._view;Le.getLightEntries(A.scene).update(A),this.occlusionSystem.update(A.camera,A.scene),this.clusterLightingRender.render(A,this.occlusionSystem),this.shadowMapPassRenderer&&(Ir.update(A),this.shadowMapPassRenderer.render(A,this.occlusionSystem)),this.pointLightShadowRenderer&&this.pointLightShadowRenderer.render(A,this.occlusionSystem),this.depthPassRenderer&&(this.depthPassRenderer.compute(A,this.occlusionSystem),this.depthPassRenderer.render(A,this.occlusionSystem)),K.setting.gi.enable&&this.ddgiProbeRenderer&&(this.ddgiProbeRenderer.compute(A,this.occlusionSystem),this.ddgiProbeRenderer.render(A,this.occlusionSystem));let e=this.rendererMap.getAllPassRenderer();for(let t=0;t<e.length;t++){const i=e[t];i.compute(A,this.occlusionSystem),i.render(A,this.occlusionSystem,this.clusterLightingRender.clusterLightingBuffer)}this.postRenderer&&this.postRenderer.postList.length>0&&this.postRenderer.render(A)}debug(){}}class Db extends de{constructor(e=.001,t=1e4,i=90,n=!1){super();a(this,"up_camera");a(this,"down_camera");a(this,"left_camera");a(this,"right_camera");a(this,"front_camera");a(this,"back_camera");this.initCubeCamera(e,t,i,n)}initCubeCamera(e,t,i=90,n=!1){this.up_camera=it.createCamera3DObject(this,"up"),this.down_camera=it.createCamera3DObject(this,"down"),this.left_camera=it.createCamera3DObject(this,"left"),this.right_camera=it.createCamera3DObject(this,"right"),this.front_camera=it.createCamera3DObject(this,"front"),this.back_camera=it.createCamera3DObject(this,"back"),this.up_camera.isShadowCamera=n,this.down_camera.isShadowCamera=n,this.left_camera.isShadowCamera=n,this.right_camera.isShadowCamera=n,this.front_camera.isShadowCamera=n,this.back_camera.isShadowCamera=n;let s=1;this.up_camera.perspective(i,s,e,t),this.up_camera.lookAt(I.ZERO,I.UP,I.DOWN),this.down_camera.perspective(i,s,e,t),this.down_camera.lookAt(I.ZERO,I.DOWN,I.DOWN),this.left_camera.perspective(i,s,e,t),this.left_camera.lookAt(I.ZERO,I.LEFT),this.right_camera.perspective(i,s,e,t),this.right_camera.lookAt(I.ZERO,I.RIGHT),this.front_camera.perspective(i,s,e,t),this.front_camera.lookAt(I.ZERO,I.FORWARD),this.back_camera.perspective(i,s,e,t),this.back_camera.lookAt(I.ZERO,I.BACK),this.up_camera.type=Re.shadow,this.down_camera.type=Re.shadow,this.left_camera.type=Re.shadow,this.right_camera.type=Re.shadow,this.front_camera.type=Re.shadow,this.back_camera.type=Re.shadow}}class xb extends Oi{constructor(A,e,t=!0){super([],[]),this.crateGBuffer(A,e,t)}crateGBuffer(A,e,t){let i=this.renderTargets,n=this.rtDescriptors,s=new Kt(A,e,MA.rgba16float,!1,void 0,1,0,!0,t);s.name="positionMap";let o=new rr;o.loadOp="load";let u=new Kt(A,e,MA.rgba16float,!1,void 0,1,0,!0,t);u.name="normalMap";let l=new rr;l.loadOp="load";let c=new Kt(A,e,MA.rgba16float,!1,void 0,1,0,!0,t);c.name="colorMap";let h=new rr;h.loadOp="load";let d=new Kt(A,e,MA.depth24plus,!1,void 0,1,0,!0,t);d.name="depthTexture";let f=new rr;f.loadOp="load",i.push(s),i.push(u),i.push(c),n.push(o),n.push(l),n.push(h),this.depthTexture=d}}let Ob=`
#include "GenerayRandomDir"
#include "MathShader"
#include "IrradianceVolumeData_frag"
var<private> PI: f32 = 3.14159265359;

struct ProbeData{
  offsetX:f32,
  offsetY:f32,
  offsetZ:f32,
  frame:f32,
}

 struct Uniforms {
     matrix : array<mat4x4<f32>>
 };

struct RayProbeBuffer{
  WPosition: vec3<f32>,
  WNormal:vec3<f32>,
  WRadiance:vec4<f32>,
}

struct CacheHitData{
  color:vec4<f32>,
  depth:vec4<f32>,
}

//  struct RayInfo{
//   rays:array<vec4<f32>,4096>
//  }

@group(0) @binding(0) var<storage, read> probes : array<ProbeData>;
@group(0) @binding(1) var<storage, read_write> irradianceBuffer : array<vec4<f32>>;
@group(0) @binding(2) var<storage, read_write> depthBuffer : array<vec4<f32>>;
@group(0) @binding(3) var<uniform> uniformData : IrradianceVolumeData ;
@group(0) @binding(4) var probeIrradianceMap : texture_storage_2d<rgba16float, write>;
@group(0) @binding(5) var probeDepthMap : texture_storage_2d<rgba16float, write>;
@group(0) @binding(6) var<storage, read_write> depthRaysBuffer : array<vec4<f32>>;

@group(1) @binding(0) var positionMap : texture_2d<f32>;
@group(1) @binding(1) var normalMap : texture_2d<f32>;
@group(1) @binding(2) var colorMap : texture_2d<f32>;

@group(2) @binding(0)
var<storage, read> models : Uniforms;

var<private> probeID: u32 ;
var<private> workgroup_idx: u32 ;
var<private> workgroup_idy: u32 ;
var<private> hysteresis: f32 = 0.98 ;
var<private> epsilon: f32 = 1e-6 ;
var<private> probeLocation:vec3<f32> = vec3<f32>(0.0);
var<private> energyConservation: f32 = 0.85 ;
var<private> resultIrradiance: vec4<f32> ;
var<private> resultDepth: vec4<f32> ;
var<private> RAYS_PER_PROBE: f32 = 144.0 ;
var<private> OCT_RT_SIZE: u32;
var<private> PROBE_OCT_RT_SIZE: u32;
var<private> OCT_SIDE_SIZE_u32: u32;
var<private> OCT_SIDE_SIZE_f32: f32;
var<private> OCT_RT_SIZE_f32: f32;
var<private> PROBE_SOURCESIZE: f32;
var<private> PROBEMAP_SOURCESIZE: f32;
var<private> quaternion:vec4<f32> = vec4<f32>(0.0, -0.7071067811865475, 0.7071067811865475, 0.0);
var<private> randomMatrix:mat4x4<f32>;

@compute @workgroup_size( 8 , 8 , 1 )
fn CsMain(@builtin(global_invocation_id) globalInvocation_id : vec3<u32>)
{
   RAYS_PER_PROBE = f32(i32(uniformData.rayNumber));
   OCT_RT_SIZE = u32(uniformData.OctRTMaxSize);
   OCT_RT_SIZE_f32 = f32(uniformData.OctRTMaxSize);
   OCT_SIDE_SIZE_u32 = u32(uniformData.OctRTSideSize);
   OCT_SIDE_SIZE_f32 = f32(uniformData.OctRTSideSize);
   PROBE_SOURCESIZE = f32(uniformData.ProbeSize);
   PROBEMAP_SOURCESIZE = f32(uniformData.ProbeSourceTextureSize);
   hysteresis = uniformData.hysteresis;
    // probe index
    probeID = globalInvocation_id.z ;
    // pixel coord
    workgroup_idx = globalInvocation_id.x ;
    workgroup_idy = globalInvocation_id.y;

    probeLocation = calcProbePosition(probeID);

    resultIrradiance = vec4<f32>(0.0);
    resultDepth = vec4<f32>(0.0,0.0,0.0,0.0);

    var tdr = normalize(getCurrentDir());
    let orientationIndex = u32(uniformData.orientationIndex);
    randomMatrix = models.matrix[orientationIndex];

    var distancePprobeUV = getSampleProbeUV(tdr.xyz);
    var rayUv:vec2<i32> = vec2<i32>(distancePprobeUV.xy * f32(PROBEMAP_SOURCESIZE - 1.0));
    let rayHitPosition = textureLoad(positionMap, rayUv, 0).xyz ;
    
    for(var i:f32 = 0.0; i < RAYS_PER_PROBE ; i = i + 1.0 ){
      radianceProbeOnce(i, tdr);
    }

    if (resultIrradiance.w > epsilon) {
      var color = vec3<f32>(resultIrradiance.xyz/(2.0*resultIrradiance.w)) ;
      color = pow(color.rgb, vec3<f32>(1.0 / uniformData.ddgiGamma));
      resultIrradiance = vec4<f32>(color,1.0-hysteresis);
    }

    // if nonzero
    if (resultDepth.w > epsilon) {
      resultDepth = vec4<f32>(resultDepth.xyz/(2.0*resultDepth.w),1.0-hysteresis) ;
    }

   let pixelCoord = getWriteOctUVByID();

   var lerpDataResult:CacheHitData;

   lerpDataResult.color = resultIrradiance;

   lerpDataResult.depth = resultDepth;

   lerpDataResult = lerpHitData(lerpDataResult, pixelCoord);

   writeRayHitData(pixelCoord, lerpDataResult);

   storePixelAtCoord(probeIrradianceMap, pixelCoord , vec4<f32>(lerpDataResult.color.xyz, 1.0), true);

   storePixelAtCoord(probeDepthMap, pixelCoord , vec4<f32>(resultDepth.xy, 0.0, 1.0), false);
}

fn lerpHitData(data:CacheHitData, coord:vec2<i32>) -> CacheHitData{
   let frameIndex = probes[probeID].frame;
   var newData:CacheHitData = data;

   //if(frameIndex > 1.0){
      var oldData = readRayHitData(coord);
      newData.color = mix(oldData.color, newData.color, uniformData.lerpHysteresis);
      newData.depth = mix(oldData.depth, newData.depth, uniformData.lerpHysteresis);
   //}
   return newData;
}

fn square(v:vec3<f32>) -> vec3<f32>{
   var v3 = v;
   v3.x = v3.x * v3.x;
   v3.y = v3.y * v3.y;
   v3.z = v3.z * v3.z;
   return v3;
}

 fn testSample() ->vec4<f32>{
   var ux = f32(workgroup_idx) / OCT_SIDE_SIZE_f32;
   var uy = f32(workgroup_idy) / OCT_SIDE_SIZE_f32;
   var uv = vec2<f32>(ux,uy) * 2.0 - 1.0 ;
   var dir = octDecode(uv);
   var probeUV = getSampleProbeUV(dir.xyz);
   var rayProbeBuffer = getCurrentRayHitBuffer(probeUV);
   return rayProbeBuffer.WRadiance;
 }

 fn gridCoordToProbeIndex(grid:vec3<i32>) -> i32
 {
     return grid.x + grid.z * i32(uniformData.gridXCount) + grid.y * i32(uniformData.gridXCount * uniformData.gridZCount);
 }

fn storePixelAtCoord(texture:texture_storage_2d<rgba16float, write>, coord:vec2<i32>, color:vec4<f32>, isColor:bool){
   let sideCnt = i32(OCT_SIDE_SIZE_u32);
   let sideBorderCnt = sideCnt + 2;
   let indexXY = coord / sideCnt;
   let modeXY = coord % sideCnt;

   var newCoord = indexXY * sideBorderCnt + modeXY;
   textureStore(texture, newCoord + 1, color);

   var borderCoord = vec2<i32>(-1);
   //
   if(modeXY.x % (sideCnt - 1) == 0){
     borderCoord = modeXY;
     borderCoord.y = sideCnt - borderCoord.y;
     if(modeXY.x == sideCnt - 1){
       borderCoord.x = sideBorderCnt - 1;
     }
     borderCoord = indexXY * sideBorderCnt + borderCoord;
     textureStore(texture, borderCoord, color);
   }
   //
   if(modeXY.y % (sideCnt - 1) == 0){
     borderCoord = modeXY;
     borderCoord.x = sideCnt - borderCoord.x;
     if(modeXY.y == sideCnt - 1){
         borderCoord.y = sideBorderCnt - 1;
     }
     borderCoord = indexXY * sideBorderCnt + borderCoord;
     textureStore(texture, borderCoord, color);
   }
   //
   if(modeXY.x % (sideCnt - 1) == 0 && modeXY.y % (sideCnt - 1) == 0){
      var cornerCoord = modeXY;
      if(modeXY.x == 0){
         cornerCoord.x = sideBorderCnt - 1;
      }else{
         cornerCoord.x = 0;
      }
       if(modeXY.y == 0){
         cornerCoord.y = sideBorderCnt - 1;
      }else{
         cornerCoord.y = 0;
      }
      cornerCoord = indexXY * sideBorderCnt + cornerCoord;
      textureStore(texture, cornerCoord, color);
   }
}

fn calcProbePosition(id:u32) -> vec3<f32>{
   var probeLocation = vec3<f32>(0.0);
   var blockCount = u32(uniformData.gridXCount * uniformData.gridZCount) ;
   var grid = vec3<u32>(0u);
   grid.x = (id % blockCount) % u32(uniformData.gridXCount);
   grid.y = id / blockCount;
   grid.z = (id % blockCount) / u32(uniformData.gridXCount);
   probeLocation.x = f32(grid.x) * uniformData.ProbeSpace + uniformData.startX;
   probeLocation.y = f32(grid.y) * uniformData.ProbeSpace + uniformData.startY;
   probeLocation.z = f32(grid.z) * uniformData.ProbeSpace + uniformData.startZ;
   return probeLocation;
}

fn getWriteOctUVByID() -> vec2<i32>
{
   var blockCount = u32(uniformData.gridXCount * uniformData.gridZCount) ;
   var offsetX = (probeID % blockCount) % u32(uniformData.gridXCount) ;
   var offsetY = u32(uniformData.gridZCount - 1.0) - (probeID % blockCount) / u32(uniformData.gridXCount) ;
   var offsetZ = probeID / blockCount ;
   var pixelCoord = vec2<i32>(i32(workgroup_idx), i32(workgroup_idy));
   pixelCoord.x = pixelCoord.x + i32(offsetX * OCT_SIDE_SIZE_u32);
   pixelCoord.y = pixelCoord.y + i32(offsetY * OCT_SIDE_SIZE_u32 + offsetZ * u32(uniformData.gridZCount) * OCT_SIDE_SIZE_u32);

   pixelCoord = offsetByCol(pixelCoord, OCT_SIDE_SIZE_f32, OCT_RT_SIZE, vec3<f32>(uniformData.gridXCount, uniformData.gridYCount, uniformData.gridZCount));
   return pixelCoord;
}

fn offsetByCol(pixelCoord0:vec2<i32>, octSideSize:f32, mapHeight:u32, counts:vec3<f32>) -> vec2<i32>
{
 var pixelCoord = pixelCoord0;
 let blockSize:vec2<i32> = vec2<i32>(i32(octSideSize * counts.x),  i32(octSideSize * counts.z));
 let blockSizeYBorder:i32 = i32((octSideSize + 2.0) * counts.z);
 let blockMaxRowBorder:i32 = i32(mapHeight) / blockSizeYBorder;
 let pixelCountYMax:i32 = blockMaxRowBorder * i32(octSideSize * counts.z);
 let col:i32 = pixelCoord.y / pixelCountYMax;

 pixelCoord.x = col * i32(octSideSize * counts.x) + pixelCoord.x;
 pixelCoord.y = pixelCoord.y % pixelCountYMax;

 return pixelCoord;
}

fn radianceProbeOnce(rayID:f32, tdr:vec3<f32>){
   var texelDirection = sphericalFibonacci(rayID, RAYS_PER_PROBE ) ;
   var rayDirection = normalize( vec3<f32>((randomMatrix * vec4<f32>(texelDirection, 1.0)).xyz));
   var probeUV = getSampleProbeUV(rayDirection.xyz);
   var rayWriteUV = getWriteRayInfoUV();

   var rayProbeBuffer = getCurrentRayHitBuffer(probeUV);
   var rayHitLocation = rayProbeBuffer.WPosition + normalize(rayProbeBuffer.WNormal) * 0.01;

   var rayProbeDistance = length(probeLocation - rayHitLocation) ;
   // rayProbeDistance = min(uniformData.ProbeSpace * 4.0, rayProbeDistance) ;

   // if (dot(rayProbeBuffer.WNormal, rayProbeBuffer.WNormal) < epsilon) {
   //   rayProbeDistance = epsilon ;
   // }

   let rid = i32(probeID) * i32(RAYS_PER_PROBE) + i32(rayID) ;
   depthRaysBuffer[rid] = vec4<f32>(rayDirection.xyz,rayProbeDistance) ;

   // Detect misses and force depth
   var i_weight = max(0.0, dot(tdr,rayDirection) );
   var d_weight = pow(i_weight, uniformData.depthSharpness);
   
   if (i_weight >= epsilon) {
     //  var weightColor = pow(weight, (2.0 - uniformData.probeRoughness) * 2.0);
      resultIrradiance += vec4(rayProbeBuffer.WRadiance.rgb, i_weight );
     
   }
   if(d_weight>= epsilon){
       resultDepth += vec4(rayProbeDistance * d_weight, rayProbeDistance * rayProbeDistance * d_weight, 0.0 , i_weight);
   }
}

fn getCurrentRayHitBuffer(probeUV:vec2<f32>) -> RayProbeBuffer {
  var rayProbeBuffer : RayProbeBuffer ;
  var uv:vec2<i32> = vec2<i32>(probeUV.xy * f32(PROBEMAP_SOURCESIZE - 1.0));
  rayProbeBuffer.WPosition = textureLoad(positionMap, uv, 0).xyz ;
  rayProbeBuffer.WNormal = normalize(textureLoad(normalMap, uv, 0).xyz * 2.0 - 1.0);
  rayProbeBuffer.WRadiance = textureLoad(colorMap, uv, 0).xyzw * energyConservation;
  return rayProbeBuffer ;
}

fn getSampleProbeUV(dir0:vec3<f32>) -> vec2<f32> {
   var dir = applyQuaternion(dir0, quaternion);
   let faceId = dir_to_faceId(dir);
   var targetUV:vec2<f32> = convert_xyz_to_cube_uv(dir.x, dir.y, dir.z);
   targetUV.x = 1.0 - targetUV.x;
   let threshould = 0.5 / PROBE_SOURCESIZE;
   targetUV = clamp(targetUV, vec2<f32>(threshould), vec2<f32>(1.0 - threshould));

   targetUV.x = f32(faceId) + targetUV.x;

   let aspect:f32 = PROBE_SOURCESIZE / PROBEMAP_SOURCESIZE;
   targetUV = targetUV * aspect ;

   var fullCol = u32(PROBEMAP_SOURCESIZE) / u32(PROBE_SOURCESIZE);
   var offsetSampleUv = vec2<f32>( f32(probeID / fullCol) * 6.0 , f32(probeID % fullCol)) * aspect;
   return targetUV + offsetSampleUv;
}

fn getWriteRayInfoUV() -> vec2<i32> {
  var writeUV = vec2<i32>(i32(workgroup_idy),i32(probeID)) ;
  return writeUV ;
}

fn writeRayHitData( uv:vec2<i32> , data:CacheHitData){
  let index = uv.y * i32(OCT_RT_SIZE) + uv.x ;
  irradianceBuffer[index] = data.color ;
  depthBuffer[index] = data.depth ;
}

fn readRayHitData( uv:vec2<i32> ) -> CacheHitData{
  var data:CacheHitData;
  let index = uv.y * i32(OCT_RT_SIZE) + uv.x ;
  data.color = irradianceBuffer[index] ;
  data.depth = depthBuffer[index] ;
  return data;
}

fn getCurrentDir() -> vec3<f32> {
  var ux = f32(workgroup_idx) / OCT_SIDE_SIZE_f32;
  var uy = f32(workgroup_idy) / OCT_SIDE_SIZE_f32;
  var uv = vec2<f32>(ux,uy) * 2.0 - 1.0 ;
  var dir = octDecode(uv) ;
  return normalize(dir) ;
}


`;class Mb{constructor(A){a(this,"irradianceBuffer");a(this,"depthBuffer");a(this,"probeIrradianceMap");a(this,"probeDepthMap");a(this,"volume");a(this,"computeShader");a(this,"depthRaysBuffer");this.volume=A,this.initPipeline()}initPipeline(){this.computeShader=new Ii(Ob);let A=K.setting.gi,e=A.octRTMaxSize*A.octRTMaxSize;this.irradianceBuffer=new Bt(e*4,GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST),this.computeShader.setStorageBuffer("irradianceBuffer",this.irradianceBuffer),this.depthBuffer=new Bt(e*4,GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST),this.computeShader.setStorageBuffer("depthBuffer",this.depthBuffer),this.depthRaysBuffer=new Bt(4096*4*2*2*2,GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC),this.computeShader.setStorageBuffer("depthRaysBuffer",this.depthRaysBuffer),this.computeShader.setStorageBuffer("probes",this.volume.probesBuffer),this.computeShader.setUniformBuffer("uniformData",this.volume.irradianceVolumeBuffer),this.computeShader.setStorageBuffer("models",Le.modelMatrixBindGroup.matrixBufferDst)}setTextures(A,e,t){this.probeIrradianceMap=e,this.probeDepthMap=t;let i=A[0],n=A[1],s=A[2];this.computeShader.setStorageTexture("probeIrradianceMap",this.probeIrradianceMap),this.computeShader.setStorageTexture("probeDepthMap",this.probeDepthMap),this.computeShader.setSamplerTexture("positionMap",i),this.computeShader.setSamplerTexture("normalMap",n),this.computeShader.setSamplerTexture("colorMap",s)}readBuffer(){return this.depthRaysBuffer.readBuffer()}compute(A,e){let t=this.volume.setting,i=sA.beginCommandEncoder(),n=IA.instance.getProbes(A.scene);this.computeShader.workerSizeX=t.octRTSideSize/8,this.computeShader.workerSizeY=t.octRTSideSize/8,this.computeShader.workerSizeZ=n.length,sA.computeCommand(i,[this.computeShader])}}let Rb=`
  #include "MathShader"
  #include "IrradianceVolumeData_frag"

  struct IrradianceField {
      probeStartPosition: vec4<f32>,
      probeCounts:vec4<f32>,
      probeStep:f32,
      irradianceTextureWidth:f32,
      irradianceTextureHeight:f32,
      irradianceProbeSideLength:f32,
  };

  @group(0) @binding(0) var outputBuffer : texture_storage_2d<rgba16float, write>;
  @group(0) @binding(1) var<uniform> uniformData : IrradianceVolumeData ;

  @group(1) @binding(0) var normalMapSampler : sampler;
  @group(1) @binding(1) var normalMap : texture_2d<f32>;

  @group(1) @binding(2) var colorMapSampler : sampler;
  @group(1) @binding(3) var colorMap : texture_2d<f32>;

  @group(1) @binding(4) var litMapSampler : sampler;
  @group(1) @binding(5) var litMap : texture_2d<f32>;

  @group(1) @binding(6) var irradianceMapSampler : sampler;
  @group(1) @binding(7) var irradianceMap : texture_2d<f32>;

  var<private> wsn:vec3<f32>;
  var<private> ulitColor:vec4<f32>;
  var<private> litColor:vec4<f32>;
  var<private> irradianceFieldSurface : IrradianceField ;
  var<private> probeID:u32;

  var<private> quaternion:vec4<f32> = vec4<f32>(0.0, -0.7071067811865475, 0.7071067811865475, 0.0);

  fn getIrradianceFieldSurface() -> IrradianceField{
    let data = uniformData;
    irradianceFieldSurface.probeStartPosition = vec4<f32>(data.startX, data.startY, data.startZ, 0.0);
    irradianceFieldSurface.probeCounts = vec4<f32>(data.gridXCount, data.gridYCount, data.gridZCount, 0.0);
    irradianceFieldSurface.probeStep = data.ProbeSpace;
    irradianceFieldSurface.irradianceTextureWidth = data.OctRTMaxSize;
    irradianceFieldSurface.irradianceTextureHeight = data.OctRTMaxSize;
    irradianceFieldSurface.irradianceProbeSideLength = data.OctRTSideSize;
    return irradianceFieldSurface;
  }

  fn rotateDir(n:vec3<f32>) -> vec3<f32>{
     return normalize(applyQuaternion(-n, quaternion));
  }

  fn sampleLitColor(uv:vec2<i32>) -> vec4<f32>
  {
      var oc1:vec4<f32> = textureSampleLevel(litMap, litMapSampler, vec2<f32>(0.0), 0.0);
      var oc:vec4<f32> = textureLoad(litMap, uv, 0);
      return oc;
  }

  fn sampleNormal(uv:vec2<i32>) -> vec4<f32>
  {
      var oc1:vec4<f32> = textureSampleLevel(normalMap, normalMapSampler, vec2<f32>(0.0), 0.0);
      var oc:vec4<f32> = textureLoad(normalMap, uv, 0);
      return oc;
  }

  fn sampleColor(uv:vec2<i32>) -> vec4<f32>
  {
      var oc1:vec4<f32> = textureSampleLevel(colorMap, colorMapSampler, vec2<f32>(0.0), 0.0);
      var oc:vec4<f32> = textureLoad(colorMap, uv, 0);
      return oc;
  }

  fn sampleProbe(fragCoord:vec2<u32>){
    var uv = vec2<i32>(i32(fragCoord.x), i32(fragCoord.y)) ;

    litColor = sampleLitColor(uv);

    var normalMap = sampleNormal(uv);
    wsn = normalMap.xyz * 2.0 - 1.0;

    ulitColor = sampleColor(uv);
  }

  @compute @workgroup_size( 8 , 8 , 1 )
  fn CsMain(@builtin(global_invocation_id) globalInvocation_id : vec3<u32>)
  {
    getIrradianceFieldSurface();
    var fragCoord = vec2<u32>( globalInvocation_id.x, globalInvocation_id.y);
    probeID = globalInvocation_id.z;
    fragCoord = fragCoord + getCoordOffset(probeID);

    sampleProbe(fragCoord);

    let irradiance = getIrradianceColor();
    let result = blendIrradianceColor(irradiance);
    textureStore(outputBuffer, vec2<i32>(fragCoord), result);
  }

  fn blendIrradianceColor(irradiance:vec4<f32>) -> vec4<f32>{
     var bounceColor = irradiance * ulitColor;
     let bounceIntensity = getBounceIntensity(uniformData.bounceIntensity);
     let conservation1 = 1.0 / sqrt((1.0 + bounceIntensity * 0.55));
     let conservation2 = 1.0 / sqrt((1.0 + bounceIntensity));
     var result = litColor * conservation2 + bounceColor * sqrt(bounceIntensity) * conservation1;
     return vec4<f32>(result.xyz, litColor.w);
  }

  fn getBounceIntensity(intensity:f32) -> f32 {
    var value = clamp(intensity, 0.0, 1.0) * 10.0;
    return value;
  }

  fn getCoordOffset(id:u32) -> vec2<u32>{
      var fullCol = u32(uniformData.ProbeSourceTextureSize / uniformData.ProbeSize);
      var offsetSampleUv = vec2<u32>( (id / fullCol) * 6u , id % fullCol) * u32(uniformData.ProbeSize);
      return offsetSampleUv;
  }

  fn getIrradianceColor() -> vec4<f32>{
     var probeIrradiance: vec4<f32> = vec4<f32>(0.0);
     if(length(wsn) > 0.01){
       probeIrradiance = getIrrdiaceIndex(i32(probeID), wsn);
     }
     return probeIrradiance;
  }

  fn getIrrdiaceIndex(index:i32, wsn:vec3<f32>) -> vec4<f32>{
    var wsN = rotateDir(wsn.xyz);
    var texCoord:vec2<f32> = textureCoordFromDirection(wsN,
      index,
      irradianceFieldSurface.irradianceTextureWidth,
      irradianceFieldSurface.irradianceTextureHeight,
      irradianceFieldSurface.irradianceProbeSideLength);

    var probeIrradiance: vec3<f32> = textureSampleLevel(irradianceMap, irradianceMapSampler, texCoord, 0.0).xyz;
    return vec4<f32>(probeIrradiance, 1.0);
  }

  fn textureCoordFromDirection(dir:vec3<f32>, probeIndex:i32, width:f32, height:f32, sideLength:f32) -> vec2<f32>
  {
      var uv = getWriteOctUVByID(dir, u32(probeIndex), sideLength) ;
      uv.x = uv.x / irradianceFieldSurface.irradianceTextureWidth;
      uv.y = uv.y / irradianceFieldSurface.irradianceTextureHeight;
      return uv ;
  }

  fn getWriteOctUVByID(dir:vec3<f32> , probeID:u32, size: f32) -> vec2<f32>
  {
      var blockCount = u32(irradianceFieldSurface.probeCounts.x * irradianceFieldSurface.probeCounts.z) ;
      var offsetX = (probeID % blockCount) % u32(irradianceFieldSurface.probeCounts.x) ;
      var offsetY = u32(irradianceFieldSurface.probeCounts.z - 1.0) - (probeID % blockCount) / u32(irradianceFieldSurface.probeCounts.x) ;
      var offsetZ = probeID / blockCount ;

      var pixelCoord = (( octEncode(dir) + 1.0 ) * 0.5) * vec2<f32>(size,size) ;

      var blockOffset = vec2<f32>(0.0);
      blockOffset.x = f32(offsetX) * size;
      blockOffset.y = f32(offsetY) * size + f32(offsetZ) * f32(irradianceFieldSurface.probeCounts.z) * size;

      let mapHeight = u32(irradianceFieldSurface.irradianceTextureHeight);
      var probeCounts:vec3<f32> = vec3<f32>(irradianceFieldSurface.probeCounts.xyz);

      var gridOffsetFrom = vec2<i32>(blockOffset) + 1;
      var gridOffsetTo = offsetByCol(gridOffsetFrom, size, mapHeight, probeCounts);

      pixelCoord = pixelCoord + vec2<f32>(gridOffsetTo - 1) + vec2<f32>(vec2<i32>(vec2<f32>(gridOffsetTo) / size) * 2);

      return pixelCoord + 1.0 ;
  }

  fn offsetByCol(pixelCoord0:vec2<i32>, octSideSize:f32, mapHeight:u32, counts:vec3<f32>) -> vec2<i32>
  {
    var pixelCoord = pixelCoord0;
    let blockSize:vec2<i32> = vec2<i32>(i32(octSideSize * counts.x),  i32(octSideSize * counts.z));
    let blockSizeYBorder:i32 = i32((octSideSize + 2.0) * counts.z);
    let blockMaxRowBorder:i32 = i32(mapHeight) / blockSizeYBorder;
    let pixelCountYMax:i32 = blockMaxRowBorder * i32(octSideSize * counts.z);
    let col:i32 = pixelCoord.y / pixelCountYMax;

    pixelCoord.x = col * i32(octSideSize * counts.x) + pixelCoord.x;
    pixelCoord.y = pixelCoord.y % pixelCountYMax;

    return pixelCoord;
  }
`;class Pb{constructor(A){a(this,"blendTexture");a(this,"volume");a(this,"computerShader");this.volume=A,this.initPipeline()}initPipeline(){let A=K.setting.gi;this.blendTexture=new Kt(A.probeSourceTextureSize,A.probeSourceTextureSize,MA.rgba16float,!1,GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.STORAGE_BINDING),this.computerShader=new Ii(Rb),this.computerShader.setStorageTexture("outputBuffer",this.blendTexture),this.computerShader.setUniformBuffer("uniformData",this.volume.irradianceVolumeBuffer)}setInputs(A){let e=A[0],t=A[1],i=A[2],n=A[3];this.computerShader.setSamplerTexture("normalMap",e),this.computerShader.setSamplerTexture("colorMap",t),this.computerShader.setSamplerTexture("litMap",i),this.computerShader.setSamplerTexture("irradianceMap",n)}compute(A,e){let t=sA.beginCommandEncoder(),i=this.volume.setting,n=i.probeXCount*i.probeYCount*i.probeZCount,s=i.probeSize;this.computerShader.workerSizeX=s*6/8,this.computerShader.workerSizeY=s/8,this.computerShader.workerSizeZ=n,sA.computeCommand(t,[this.computerShader])}}let Fb=`
var<private> PI: f32 = 3.14159265359;

#include "GlobalUniform"
#include "MathShader"
#include "FastMathShader"
#include "ColorUtil"

struct ConstUniform{
   screenWidth:f32,
   screenHeight:f32
}

struct LightData {
     index:f32,
     lightType:i32,
     radius:f32,
     linear:f32,
     
     position:vec3<f32>,
     lightMatrixIndex:f32,

     direction:vec3<f32>,
     quadratic:f32,

     lightColor:vec3<f32>,
     intensity:f32,

     innerCutOff :f32,
     outerCutOff:f32,
     range :f32,
     castShadow:i32,

     lightTangent:vec3<f32>,
     ies:f32,
};

struct Uniforms {
     matrix : array<mat4x4<f32>>
 };

const PointLightType = 1;
const DirectLightType = 2;
const SpotLightType = 3;

@group(0) @binding(auto) var outputBuffer : texture_storage_2d<rgba16float, write>;
@group(0) @binding(auto) var prefilterMapSampler: sampler;
@group(0) @binding(auto) var prefilterMap: texture_cube<f32>;

@group(1) @binding(auto) var positionMapSampler : sampler;
@group(1) @binding(auto) var positionMap : texture_2d<f32>;

@group(1) @binding(auto) var normalMapSampler : sampler;
@group(1) @binding(auto) var normalMap : texture_2d<f32>;

@group(1) @binding(auto) var colorMapSampler : sampler;
@group(1) @binding(auto) var colorMap : texture_2d<f32>;

@group(1) @binding(auto) var shadowMapSampler : sampler_comparison;
@group(1) @binding(auto) var shadowMap : texture_depth_2d_array;
@group(1) @binding(auto) var pointShadowMapSampler: sampler;
@group(1) @binding(auto) var pointShadowMap: texture_depth_cube_array ;

@group(2) @binding(0)
var<storage,read> lightBuffer: array<LightData>;

@group(2) @binding(1)
var<storage, read> models : Uniforms;

struct ShadowStruct{
 directShadowVisibility:f32,
 pointShadows:array<f32,8>,
}

var<private> shadowStrut: ShadowStruct ;
var<private> ulitColor:vec3<f32>;
var<private> wPosition:vec3<f32>;
var<private> wNormal:vec3<f32>;

const LUMEN = 10.764;

fn samplePosition(uv:vec2<f32>) -> vec4<f32>
{
   return textureSampleLevel(positionMap, positionMapSampler,uv, 0.0);
}

fn sampleNormal(uv:vec2<f32>) -> vec4<f32>
{
  return textureSampleLevel(normalMap, normalMapSampler, uv, 0.0);
}

fn sampleColor(uv:vec2<f32>) -> vec4<f32>
{
   var oc:vec4<f32> = textureSampleLevel(colorMap, colorMapSampler, uv, 0.0);
   ulitColor = vec3(oc.xyz);
   return oc;
}

const csmCount:i32 = ${bi.Cascades} ;
fn directShadowMaping(P:vec3<f32>, N:vec3<f32>, shadowBias: f32)  {
  let enableCSM:bool = globalUniform.enableCSM > 0.5;
  var light = lightBuffer[0];
  var visibility = 1.0;
    var shadowIndex = i32(light.castShadow);
    if (shadowIndex >= 0 ) {
      var shadowMatrix:mat4x4<f32>;
      if(enableCSM && csmCount > 1){
        for(var csm:i32 = 0; csm < csmCount; csm ++){
          var csmShadowBias = globalUniform.csmShadowBias[csm];
          shadowMatrix = globalUniform.csmMatrix[csm];
          let csmShadowResult = directShadowMapingIndex(light, shadowMatrix, P, N, csm, csmShadowBias);
          if(csmShadowResult.y < 0.5){
            visibility = csmShadowResult.x;
            break;
          }
        }
      }else{
        shadowMatrix = globalUniform.shadowMatrix[shadowIndex];
        visibility = directShadowMapingIndex(light, shadowMatrix, P, N, shadowIndex, shadowBias).x;
      }
    }
  shadowStrut.directShadowVisibility = visibility;
}

fn directShadowMapingIndex(light:LightData, matrix:mat4x4<f32>, P:vec3<f32>, N:vec3<f32>, depthTexIndex:i32, shadowBias:f32) -> vec2<f32>
{
  var visibility = 1.0;
  var isOutSideArea:f32 = 1.0;
  var shadowPosTmp = matrix * vec4<f32>(P.xyz, 1.0);
  var shadowPos = shadowPosTmp.xyz / shadowPosTmp.w;
  var varying_shadowUV = shadowPos.xy * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5, 0.5);
  if (varying_shadowUV.x <= 1.0
    && varying_shadowUV.x >= 0.0
    && varying_shadowUV.y <= 1.0
    && varying_shadowUV.y >= 0.0
    && shadowPosTmp.z <= 1.0
    && shadowPosTmp.z >= 0.0)
  {
    isOutSideArea = 0.0;
    var uvOnePixel = 1.0 / vec2<f32>(globalUniform.shadowMapSize);
    var NoL = abs(dot(N, normalize(light.direction)));
    var bias = shadowBias / max(NoL, 0.000001);
    visibility = textureSampleCompareLevel(shadowMap, shadowMapSampler, varying_shadowUV, depthTexIndex, shadowPos.z - bias);
    visibility += 0.001;
  }
  return vec2<f32>(visibility, isOutSideArea);
}

fn pointShadowMapCompare(shadowBias:f32){
   for(var i:i32 = i32(0) ; i < i32(8); i = i + 1 )
   { 
       var v = 1.0 ;
       let light = lightBuffer[i] ;
       if(light.castShadow < 0 ){
         shadowStrut.pointShadows[i] = v ;
         continue ;
       }

       let frgToLight = wPosition - light.position.xyz;
       var dir:vec3<f32> = normalize(frgToLight)  ;

       var len = length(frgToLight) ;
       var depth = textureSampleLevel(pointShadowMap,pointShadowMapSampler,dir.xyz,i,0); 
       depth *= globalUniform.far ;
       if((len - shadowBias) > depth){
          v = 0.0 ; 
       }
       shadowStrut.pointShadows[i] = v ;
   }
} 

fn directLighting( albedo:vec3<f32> , WP :vec3<f32>, N:vec3<f32> , V:vec3<f32> , light:LightData , shadowBias:f32  ) -> vec3<f32> {
 var L = -normalize(light.direction.xyz) ;
 var NoL = max(dot(N,L),0.0);
 let lightCC = pow( light.lightColor.rgb,vec3<f32>(2.2));
 var lightColor = getHDRColor( lightCC , light.linear ) ;
 var att = light.intensity / LUMEN ;
 if(light.castShadow>=0){
     lightColor *= shadowStrut.directShadowVisibility ;
 }
 let finalLight = (albedo / PI) * lightColor * NoL * att * 2.0 ;
 return finalLight ;
}

fn pointLighting( albedo:vec3<f32>,WP:vec3<f32>, N:vec3<f32>, V:vec3<f32>, light:LightData ) -> vec3<f32> {
 let lightPos = models.matrix[u32(light.lightMatrixIndex)][3].xyz;
 var dir = lightPos.xyz - WP ;
 let dist = length(dir);
 var color = vec3<f32>(0.0) ;

 if(dist != 0.0){
   dir *= 1.0 / dist ;
 }

 if( abs(dist) < light.range ){
     var L = dir ;
     var atten = 1.0 ;
     atten = 1.0 - smoothstep(0.0,light.range,dist) ;
     atten *= 1.0 / max(light.radius,0.0001) ;

     var lightColor = light.lightColor.rgb  ;
     lightColor = getHDRColor(lightColor , light.linear ) * light.intensity / LUMEN * 2.0;
     color = (albedo / PI) * lightColor.rgb * atten ;
 }

 return  color *0.0;
}

fn spotLight( albedo:vec3<f32>,WP:vec3<f32>, N:vec3<f32>, V:vec3<f32>, light:LightData ) -> vec3<f32> {
 let lightPos = models.matrix[u32(light.lightMatrixIndex)][3].xyz;
 var dir = lightPos.xyz - WP ;
 let dist = length(dir) ;

 if(dist != 0.0){
   dir *= 1.0 / dist ;
 }

 var color = vec3<f32>(0.0) ;
 if( abs(dist) < light.range * 2.0 ){
     var L = dir ;
     let theta = dot(-L, normalize(light.direction));
     let angle = acos(theta) ;
     var atten = 1.0 ;
     atten = 1.0 - smoothstep(0.0,light.range,dist) ;
     atten *= 1.0 / max(light.radius,0.1) ;
     if(angle < light.outerCutOff){
       if(angle > light.innerCutOff){
         atten *= 1.0 - smoothstep(light.innerCutOff, light.outerCutOff, angle) ;
       }
     }else{
       atten = 0.0 ;
     }
     var lightColor = light.lightColor.rgb  ;
     lightColor = getHDRColor(lightColor , light.linear ) * light.intensity / LUMEN * 2.0;
     color = (albedo / PI) * lightColor.rgb * atten ;
   }
 return  color ;
}

fn CalcUV_01(coord:vec2<i32>, texSize:vec2<u32>) -> vec2<f32>
{
  let u = (f32(coord.x) + 0.5) / f32(texSize.x);
  let v = (f32(coord.y) + 0.5) / f32(texSize.y);
  return vec2<f32>(u, v);
}

fn coordFun(fragCoord:vec2<i32>)-> vec4<f32>{
 let uv_01 = CalcUV_01(fragCoord, texSize);
 var pos = samplePosition(uv_01);

 var normalMap = sampleNormal(uv_01);
 var normal = normalize( normalMap.xyz * 2.0 - 1.0 );

 var color = sampleColor(uv_01);
 var emissive = vec4<f32>(pos.a,normalMap.a,color.a,0.0) * 1.0 ;
 if(pos.w + 1.0 > 10000.0){
   return vec4<f32>(color);
 }
 var V = normalize(pos.xyz - globalUniform.cameraWorldMatrix[3].xyz);
 var N = normal.xyz ;

 wPosition = pos.xyz;
 wNormal = N;

 directShadowMaping(wPosition, wNormal, globalUniform.shadowBias);
 pointShadowMapCompare(globalUniform.shadowBias);

 var lighting = vec3<f32>(0.0);
 let lightCount = 32 ;
 for(var i:i32 = 0 ; i < lightCount ; i = i + 1 )
 {
     let light = lightBuffer[i];
     switch (light.lightType) {
         case PointLightType: {
             lighting += pointLighting(color.rgb,pos.xyz,N,V,light);
         }
         case DirectLightType: {
             lighting += directLighting(color.rgb,pos.xyz,N,V,light,globalUniform.shadowBias);
         }
         case SpotLightType: {
             lighting += spotLight(color.rgb,pos.xyz,N,V,light);
         }
         default: {
         }
     }
 }

 // lighting = vec3<f32>(1.0) / (vec3<f32>(1.0) + lighting.rgb) * lighting.rgb;

 var skyLight: vec3<f32> = globalUniform.skyExposure * (textureSampleLevel(prefilterMap, prefilterMapSampler, N.xyz, 8.0 ).rgb);
 // skyLight = LinearToGammaSpace(skyLight);
 // skyLight = (color.rgb / 3.1415926 ) * skyLight;
 // skyLight = vec3<f32>(1.0) / (vec3<f32>(1.0) + skyLight.rgb) * skyLight.rgb;

 lighting = lighting.rgb ;//+ skyLight.rgb ;

 return vec4<f32>(lighting.rgb,color.w)+emissive;
}

// fn vertexToCoord(vertexPosition:vec3<f32>) -> vec4<f32>{
//   var worldPos = vec4<f32>(vertexPosition.xyz, 1.0);
//   var fragPosition = globalUniform.viewMat * worldPos ;
//   // var position = globalUniform.projMat * fragPosition ;
//   return fragPosition;
// }

var<private> texSize: vec2<u32>;

@compute @workgroup_size( 8 , 8 , 1 )
fn CsMain( @builtin(workgroup_id) workgroup_id : vec3<u32> , @builtin(global_invocation_id) globalInvocation_id : vec3<u32>)
{
   var fragCoord = vec2<i32>(globalInvocation_id.xy);
   texSize = textureDimensions(colorMap).xy;
   var color = coordFun(fragCoord);
   // color = vec4(pow(color.rgb,vec3<f32>(1.0/2.4)),1.0);
   textureStore(outputBuffer, fragCoord, color);
}

`;class Nb{constructor(){a(this,"computeShader");a(this,"worldPosMap");a(this,"worldNormalMap");a(this,"colorMap");a(this,"shadowMap");a(this,"pointShadowMap");a(this,"lightingTexture");let A=K.setting.gi;this.lightingTexture=new Kt(A.probeSourceTextureSize,A.probeSourceTextureSize,MA.rgba16float,!1,GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.STORAGE_BINDING)}create(A){let e=Le.getLightEntries(A.scene);this.computeShader=new Ii(Fb);let t=Le.getCameraGroup(A.camera);this.computeShader.setUniformBuffer("globalUniform",t.uniformGPUBuffer),this.computeShader.setStorageTexture("outputBuffer",this.lightingTexture),this.computeShader.setStorageBuffer("lightBuffer",e.storageGPUBuffer),this.computeShader.setStorageBuffer("models",Le.modelMatrixBindGroup.matrixBufferDst),this.computeShader.setSamplerTexture("positionMap",this.worldPosMap),this.computeShader.setSamplerTexture("normalMap",this.worldNormalMap),this.computeShader.setSamplerTexture("colorMap",this.colorMap),this.computeShader.setSamplerTexture("shadowMap",this.shadowMap),this.computeShader.setSamplerTexture("pointShadowMap",this.pointShadowMap),this.computeShader.setSamplerTexture("prefilterMap",K.res.defaultSky)}setInputs(A){this.worldPosMap=A[0],this.worldNormalMap=A[1],this.colorMap=A[2],this.shadowMap=A[3],this.pointShadowMap=A[4]}compute(A,e){this.computeShader||this.create(A);let t=sA.beginCommandEncoder(),i=K.setting.gi;this.computeShader.workerSizeX=i.probeSourceTextureSize/8,this.computeShader.workerSizeY=i.probeSourceTextureSize/8,this.computeShader.workerSizeZ=1,sA.computeCommand(t,[this.computeShader])}}let vg=new qr("GIRenderStartEvent"),Lb=new qr("GIRenderCompleteEvent");class Ub{constructor(){a(this,"count");a(this,"complete")}}class kb extends eo{constructor(e){super();a(this,"cubeCamera");a(this,"volume");a(this,"probeCountPerFrame",1);a(this,"nextProbeIndex",-1);a(this,"tempProbeList",[]);a(this,"isRenderCloudGI");a(this,"probeRenderResult");a(this,"renderStatus","none");a(this,"positionMap");a(this,"normalMap");a(this,"colorMap");a(this,"probeNext",128);a(this,"sizeW");a(this,"sizeH");a(this,"lightingPass");a(this,"bouncePass");a(this,"irradianceComputePass");a(this,"irradianceDepthMap");a(this,"irradianceColorMap");this.passType=QA.GI,this.volume=e;let t=e.setting;this.cubeCamera=new Db(.01,5e3),this.sizeW=t.probeSourceTextureSize,this.sizeH=t.probeSourceTextureSize,this.probeNext=t.probeSourceTextureSize/t.probeSize,this.initIrradianceMap(e),this.probeRenderResult=new Ub;let i=new xb(this.sizeW,this.sizeH,!1);this.positionMap=i.renderTargets[0],this.normalMap=i.renderTargets[1],this.colorMap=i.renderTargets[2],this.setRenderStates(i)}setInputTexture(e){this.lightingPass=new Nb,this.bouncePass=new Pb(this.volume),this.irradianceComputePass=new Mb(this.volume),this.lightingPass.setInputs([this.positionMap,this.normalMap,this.colorMap,e[0],e[1]]),this.bouncePass.setInputs([this.normalMap,this.colorMap,this.lightingPass.lightingTexture,this.irradianceColorMap]),this.irradianceComputePass.setTextures([this.positionMap,this.normalMap,this.bouncePass.blendTexture],this.irradianceColorMap,this.irradianceDepthMap)}setIrradianceData(e,t,i,n){if(i!=this.irradianceColorMap.width||n!=this.irradianceColorMap.height){console.error("irradiance image size not match !");return}this.writeToTexture(this.irradianceColorMap,e,i,n),this.writeToTexture(this.irradianceDepthMap,t,i,n)}updateProbe(e,t,i){let n=IA.instance.getLights(e.scene),s=this.volume.setting.probeSize;t.drawCallFrame+=1,this.cubeCamera.x=t.x,this.cubeCamera.y=t.y,this.cubeCamera.z=t.z,this.volume.setting.debugCamera?(this.cubeCamera.x=e.camera.transform.x,this.cubeCamera.y=e.camera.transform.y,this.cubeCamera.z=e.camera.transform.z,this.cubeCamera.rotationX=e.camera.transform.rotationX,this.cubeCamera.rotationY=e.camera.transform.rotationY,this.cubeCamera.rotationZ=e.camera.transform.rotationZ):(this.cubeCamera.rotationX=t.rotationX,this.cubeCamera.rotationY=t.rotationY,this.cubeCamera.rotationZ=t.rotationZ);let o=this.cubeCamera,u=Math.floor(t.index/this.probeNext)*(s*6),l=Math.floor(t.index%this.probeNext)*s;i.setViewport(0+u,l,s,s,0,1),this.renderSceneOnce(e,o.right_camera,i,n),i.setViewport(s+u,l,s,s,0,1),this.renderSceneOnce(e,o.left_camera,i,n),i.setViewport(s*2+u,l,s,s,0,1),this.renderSceneOnce(e,o.up_camera,i,n),i.setViewport(s*3+u,l,s,s,0,1),this.renderSceneOnce(e,o.down_camera,i,n),i.setViewport(s*4+u,l,s,s,0,1),this.renderSceneOnce(e,o.front_camera,i,n),i.setViewport(s*5+u,l,s,s,0,1),this.renderSceneOnce(e,o.back_camera,i,n)}renderSceneOnce(e,t,i,n){this.volume.uploadBuffer();let s=IA.instance.getRenderNodes(e.scene,t);sA.bindCamera(i,t);let o=Math.max(0,K.setting.render.drawOpMin),u=Math.min(K.setting.render.drawOpMax,s.opaqueList.length),l=IA.instance.getRenderShaderCollect(e);for(const c of l){let h=c[1];for(const d of h){let f=d[1];if(f.preInit){f.nodeUpdate(e,this.passType,this.rendererPassState,null);break}}}for(let c=o;c<u;++c){let h=s.opaqueList[c];h.enable&&h.transform.enable&&(h.preInit||h.nodeUpdate(e,this.passType,this.rendererPassState,null),h.renderPass2(e,this.passType,this.rendererPassState,null,i))}IA.instance.sky&&(IA.instance.sky.preInit||IA.instance.sky.nodeUpdate(e,this.passType,this.rendererPassState,null),IA.instance.sky.renderPass2(e,this.passType,this.rendererPassState,null,i)),o=Math.max(0,K.setting.render.drawTrMin),u=Math.min(K.setting.render.drawTrMax,s.transparentList.length);for(let c=o;c<u;++c){let h=s.transparentList[c];h.enable&&h.transform.enable&&(h.preInit||h.nodeUpdate(e,this.passType,this.rendererPassState,null),h.renderPass2(e,this.passType,this.rendererPassState,null,i))}}render(e,t){if(!K.setting.gi.enable)return;this.volume.updateOrientation(),this.volume.isVolumeFrameChange=!1,this.volume.uploadBuffer(),this.rendProbe(e);let i=this.probeRenderResult.count>0;(IA.instance.state.giLightingChange||i||K.setting.gi.realTimeGI)&&(IA.instance.state.giLightingChange=!1,this.lightingPass.compute(e,this.rendererPassState),this.bouncePass.compute(e,this.rendererPassState),this.irradianceComputePass.compute(e,this.rendererPassState)),this.probeRenderResult.complete&&this.dispatchEvent(Lb)}startRenderGI(e=0){this.nextProbeIndex==-1&&e==0&&this.dispatchEvent(vg),this.nextProbeIndex=e,this.renderStatus="rendering"}startRenderCloudGI(){this.dispatchEvent(vg),this.nextProbeIndex=0,this.renderStatus="rendering",this.isRenderCloudGI=!0}rendProbe(e){let t=K.setting.gi.autoRenderProbe,i=!1;if(t?(this.nextProbeIndex==-1&&this.startRenderGI(),i=!0):i=this.renderStatus=="rendering",this.probeRenderResult.count=0,this.probeRenderResult.complete=!1,i){let n=IA.instance.getProbes(e.scene);this.renderContext.clean(),this.renderContext.beginOpaqueRenderPass(),this.tempProbeList.length=0;let s=Math.min(this.probeCountPerFrame,n.length);for(this.probeRenderResult.count=s;s>0;){const u=n[this.nextProbeIndex];this.updateProbe(e,u,this.renderContext.encoder),s--,this.nextProbeIndex++,u.drawCallFrame<3&&this.tempProbeList.push(u)}this.tempProbeList.length>0&&this.volume.updateProbes(this.tempProbeList);let o=this.nextProbeIndex>=n.length;this.nextProbeIndex>=n.length&&this.isRenderCloudGI&&this.updateProbe(e,n[0],this.renderContext.encoder),this.renderContext.endRenderPass(),o&&(this.nextProbeIndex=-1,this.renderStatus="complete",this.probeRenderResult.complete=!0)}}initIrradianceMap(e){let t=e.setting,i=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.COPY_DST;this.irradianceDepthMap=new Kt(t.octRTMaxSize,t.octRTMaxSize,MA.rgba16float,!1,i),this.irradianceDepthMap.name="irradianceDepthMap",this.irradianceColorMap=new Kt(t.octRTMaxSize,t.octRTMaxSize,MA.rgba16float,!1,i),this.irradianceColorMap.name="irradianceColorMap"}writeToTexture(e,t,i,n){console.log(e.name);const s=iA.device.createBuffer({size:t.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});iA.device.queue.writeBuffer(s,0,t);const o=sA.beginCommandEncoder();o.copyBufferToTexture({buffer:s,bytesPerRow:i*16},{texture:e.getGPUTexture()},{width:i,height:n,depthOrArrayLayers:1}),sA.endCommandEncoder(o)}}class wg extends Tb{constructor(A){super(A)}start(){super.start();let A=Zo.getGBufferFrame("ColorPassGBuffer");{let e=[],t=new pb;K.setting.render.zPrePass&&(A.zPreTexture=this.depthPassRenderer.rendererPassState.depthTexture),t.setRenderStates(A);for(let i=0;i<A.renderTargets.length;i++){const n=A.renderTargets[i];e.push(n)}if(K.setting.gi.enable){let i=Le.getLightEntries(this.view.scene);this.ddgiProbeRenderer=new kb(i.irradianceVolume),this.ddgiProbeRenderer.setInputTexture([this.shadowMapPassRenderer.depth2DArrayTexture,this.pointLightShadowRenderer.cubeArrayTexture]),t.setIrradiance(this.ddgiProbeRenderer.irradianceColorMap,this.ddgiProbeRenderer.irradianceDepthMap),this.rendererMap.addRenderer(this.ddgiProbeRenderer),e.push(this.ddgiProbeRenderer.positionMap,this.ddgiProbeRenderer.normalMap,this.ddgiProbeRenderer.colorMap,this.ddgiProbeRenderer.lightingPass.lightingTexture,this.ddgiProbeRenderer.irradianceColorMap,this.ddgiProbeRenderer.irradianceDepthMap)}this.postRenderer&&this.postRenderer.setDebugTexture(e),this.rendererMap.addRenderer(t)}K.setting.render.debug&&this.debug()}debug(){}}class zb{constructor(){a(this,"_factor");a(this,"_doubleFactor");this._factor=1,this._doubleFactor=2}get accelerateInterpolator(){return this._factor}set accelerateInterpolator(A){this._factor=A,this._doubleFactor=2*this._factor}getInterpolation(A){return this._factor==1?A*A:Math.pow(A,this._doubleFactor)}}class Gb{constructor(){a(this,"_factor",1)}get decelerateInterpolator(){return this._factor}set decelerateInterpolator(A){this._factor=A}getInterpolation(A){let e;return this._factor==1?e=1-(1-A)*(1-A):e=1-Math.pow(1-A,2*this._factor),e}}class Vb{constructor(){a(this,"_factor",1)}getInterpolation(A){return Math.cos((A+1)*Math.PI)/2+.5}}class Qb{getInterpolation(A){return A}}class Hb{getInterpolation(A){return 4.9*A+4.9*A}}class mr{constructor(){}static bounce(A){return A*A*9.8}getInterpolation(A){return A*=1.1226,A<.3535?mr.bounce(A):A<.7408?mr.bounce(A-.54719)+.7:A<.9644?mr.bounce(A-.8526)+.9:mr.bounce(A-1.0435)+.95}getBounceInterpolation(A){return A<.5?mr.bounce(A):mr.bounce(A-1)}geJumpUp(A,e){return e<.5?(e=e/.5,A*e-mr.bounce(e)):e<.8?(e=(e-.5)/(.8-.5),(A*e-mr.bounce(e))*.3):e<1?(e=(e-.8)/(1-.8),(A*e-mr.bounce(e))*.15):A*e-mr.bounce(e)}}class jb{constructor(){a(this,"_tension");this._tension=2}get anticipateInterpolator(){return this._tension}set anticipateInterpolator(A){this._tension=A}getInterpolation(A){return A*A*((this._tension+1)*A-this._tension)}}class nc{constructor(){a(this,"_tension");this._tension=1*1.5}anticipateOvershootInterpolator(A){this._tension=A*1.5}anticipateOvershootInterpolator2(A,e){this._tension=A*e}getInterpolation(A){return A<.5?.5*nc.a(A*2,this._tension):.5*(nc.o(A*2-2,this._tension)+2)}static a(A,e){return A*A*((e+1)*A-e)}static o(A,e){return A*A*((e+1)*A+e)}}class Wb{constructor(A){a(this,"_cycles");this._cycles=A}getInterpolation(A){return Math.sin(2*this._cycles*Math.PI*A)}}class Yb{constructor(){a(this,"_tension");this._tension=2}getInterpolation(A){return A-=1,A*A*((this._tension+1)*A+this._tension)+1}}var Z3=(r=>(r[r.AccelerateInterpolator=0]="AccelerateInterpolator",r[r.DecelerateInterpolator=1]="DecelerateInterpolator",r[r.AccelerateDecelerateInterpolator=2]="AccelerateDecelerateInterpolator",r[r.LinearInterpolator=3]="LinearInterpolator",r[r.BounceInterpolator=4]="BounceInterpolator",r[r.AnticipateInterpolator=5]="AnticipateInterpolator",r[r.AnticipateOvershootInterpolator=6]="AnticipateOvershootInterpolator",r[r.CycleInterpolator=7]="CycleInterpolator",r[r.OvershootInterpolator=8]="OvershootInterpolator",r[r.JumperInterpolator=9]="JumperInterpolator",r))(Z3||{});const In=class In{constructor(){a(this,"complete",!1);a(this,"onComplete");a(this,"onProgress");a(this,"target");a(this,"property");a(this,"targetProperty");a(this,"durtion");a(this,"interpolatorEnum");a(this,"delayTime",0);a(this,"_interpolator");a(this,"_ct",0);a(this,"_p",0)}static to(A,e,t,i=0){var n=new In;return n.target=A,n.property=e,n.durtion=t,n.interpolatorEnum=i,n.start(),n.delayTime=e.delayTime?e.delayTime:0,e.onComplete&&(n.onComplete=e.onComplete),e.onProgress&&(n.onProgress=e.onProgress),this.interpolators.push(n),n}static tick(A){let e=In.interpolators;for(let t of e)t.complete?In.remove(t,!0):t.tick(A)}static remove(A,e){let t=In.interpolators,i=t.indexOf(A);i!=-1&&t.splice(i,1),e&&A.dispose()}static removeList(A,e){A.forEach(t=>{this.remove(t,e)})}start(){window.AccelerateInterpolator=zb,window.DecelerateInterpolator=Gb,window.AccelerateDecelerateInterpolator=Vb,window.LinearInterpolator=Qb,window.BounceInterpolator=mr,window.AnticipateInterpolator=jb,window.AnticipateOvershootInterpolator=nc,window.CycleInterpolator=Wb,window.OvershootInterpolator=Yb,window.JumperInterpolator=Hb,this._interpolator=new window[Z3[this.interpolatorEnum]],this.targetProperty={};for(let A in this.property)this.targetProperty[A]=this.target[A]}tick(A){if(this.delayTime<=0){this._p=Math.min(this._ct/this.durtion,1);let e=this._interpolator.getInterpolation(this._p),t=this.property,i=this.target,n=this.targetProperty,s,o;for(let u in t)o=t[u],s=n[u],i[u]=s+(o-s)*e;this.onProgress!=null&&this.onProgress(this._p),this._ct>=this.durtion&&(this.complete=!0,this.onComplete!=null&&this.onComplete(this.target)),this._ct+=A}else this.delayTime-=A}dispose(){this.onComplete=null,this.onProgress=null,this.target=null,this.property=null,this.targetProperty=null,this.interpolatorEnum=null,this._interpolator=null,In.remove(this)}};a(In,"interpolators",[]);let Zd=In;class Ut{static hasString(A,e){for(var t=0;t<A.length;++t)if(A[t]==e)return t;return-1}static getEllipsis(A,e=4){let t=A;return t.length>e&&(t=t.slice(0,e)+"..."),t}static getURLName(A){var e;e=A.split("/");let t=e[e.length-1];return t=t.split(".")[0],t}static getFileFormat(A){var e=A.lastIndexOf(".");e++;var t=A.length;A.indexOf("?",e)!==-1&&(t=A.indexOf("?",e));var i=A.substr(e,t-e);return i=i.toLowerCase(),i}static readLineProperty(A,e){A.trim().split(" ").forEach((t,i)=>{let n=t.split("=");if(n.length>1){let s=n[0],o=n[1];Object.prototype.hasOwnProperty.call(e,s)&&(o.indexOf('"')==-1?e[s]=parseFloat(n[1]):e[s]=o.replace('"',"").replace('"',""))}})}static getPath(A){var e=A.lastIndexOf("/");return e++,A.substring(0,e)}static normalizePath(A){var e=A.replaceAll("//","/");return e=e.replaceAll("\\","/"),e}static getStringList(A,e=";"){return A.split(e)}static formatTime(A){let e=A/1e3/60,t=Math.floor(e),i=Math.floor(e-t);return[t.toString(),i.toString()]}static trim(A){return A.replace(/^\s+/g,"").replace(/\s+$/g,"")}static isEmpty(A){return!A||typeof A>"u"||A==null||typeof A=="string"&&this.trim(A)===""||A==="null"}static strCut(A,e){if(A.length*2<=e)return A;for(var t=0,i="",n=0;n<A.length;n++)if(i=i+A.charAt(n),A.charCodeAt(n)>128){if(t=t+2,t>=e)return i.substring(0,i.length-1)+"..."}else if(t=t+1,t>=e)return i.substring(0,i.length-2)+"...";return i}static toQueryPair(A,e,t=!1){return A+"="+(t?encodeURIComponent(e):e)}static stringFormat(A,...e){if(arguments.length===0)throw new Error("please give arg at least one !");if(arguments.length===2&&typeof arguments[1]=="object")for(let t in arguments[1]){let i=new RegExp("({"+t+"})","g");A=A.replace(i,arguments[1][t])}else for(let t=0;t<e.length;t++){if(e[t]==null)return A;{let i=new RegExp("({["+t+"]})","g");A=A.replace(i,e[t])}}return A}static parseJson2String(A,e){let t=null,i="",n=0,s="    ";return e=e||{},e.newlineAfterColonIfBeforeBraceOrBracket=e.newlineAfterColonIfBeforeBraceOrBracket===!0,e.spaceAfterColon=e.spaceAfterColon!==!1,typeof A!="string"||(A=JSON.parse(A)),A=JSON.stringify(A),t=/([\{\}])/g,A=A.replace(t,`\r
$1\r
`),t=/([\[\]])/g,A=A.replace(t,`\r
$1\r
`),t=/(\,)/g,A=A.replace(t,`$1\r
`),t=/(\r\n\r\n)/g,A=A.replace(t,`\r
`),t=/\r\n\,/g,A=A.replace(t,","),e.newlineAfterColonIfBeforeBraceOrBracket||(t=/\:\r\n\{/g,A=A.replace(t,":{"),t=/\:\r\n\[/g,A=A.replace(t,":[")),e.spaceAfterColon&&(t=/\:/g,A=A.replace(t,":")),A.split(`\r
`).forEach(function(o,u){let l=0,c=0,h="";for(o.match(/\{$/)||o.match(/\[$/)?c=1:o.match(/\}/)||o.match(/\]/)?n!==0&&(n-=1):c=0,l=0;l<n;l++)h+=s;i+=h+o+`\r
`,n+=c}),i}static compareVersion(A,e){A=A.split("."),e=e.split(".");let t=Math.max(A.length,e.length);for(;A.length<t;)A.push("0");for(;e.length<t;)e.push("0");for(let i=0;i<t;i++){let n=parseInt(A[i]),s=parseInt(e[i]);if(n>s)return 1;if(n<s)return-1}return 0}static buildRandomCode(){let A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e=A.length,t="";for(let i=0;i<26;i++){let n=Math.floor(Math.random()*e);t+=A.charAt(n)}return`${new Date().getTime()}-${t}`}static UUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(A){var e=Math.random()*16|0,t=A=="x"?e:e&3|8;return t.toString(16)})}static stringToHash(A){let e=0;if(A.length==0)return e;for(let t=0;t<A.length;t++){const i=A.charCodeAt(t);e=(e<<5)-e+i,e=e&e}return e}static parseUrl(A,e){return e.match(/^(blob|http|https):/)?e:A+e}}a(Ut,"_filterChar",[" ","  ",";",`
`,"\r","	",`
`,"\r","	"]);class Hn extends Tt{constructor(e=!0){super();a(this,"_source");a(this,"premultiplyAlpha","none");a(this,"imageData");this.useMipmap=e,this.lodMinClamp=0,this.lodMaxClamp=4}get source(){return this._source}set source(e){this._source=e,this._source instanceof HTMLImageElement?this._source.decode().then(async()=>{if(this._source instanceof HTMLImageElement){const t=await createImageBitmap(this._source,{imageOrientation:this.flipY?"flipY":"from-image",premultiplyAlpha:"none"});this.generate(t)}}):(this._source instanceof HTMLCanvasElement||this._source instanceof ImageBitmap)&&this.generate(this._source)}async load(e,t){if(this.name=Ut.getURLName(e),e.indexOf(";base64")!=-1){const i=document.createElement("img");let n=e.indexOf("data:image"),s=e.substring(n,e.length);i.src=s,await i.decode(),i.width=Math.max(i.width,32),i.height=Math.max(i.height,32);const o=await createImageBitmap(i,{resizeWidth:i.width,resizeHeight:i.height,imageOrientation:this.flipY?"flipY":"from-image",premultiplyAlpha:"none"});this.format=MA.rgba8unorm,this.generate(o)}else return new Promise((i,n)=>{fetch(e,{headers:Object.assign({Accept:"image/avif,image/webp,*/*"},t==null?void 0:t.headers)}).then(s=>{Ro.read(e,s,t).then(o=>{let u=new Blob([o],{type:"image/jpeg"});o=null,this.loadFromBlob(u).then(()=>{i(!0)})})})});return!0}async loadFromBlob(e){this.imageData=e;let t=await createImageBitmap(e,{imageOrientation:this.flipY?"flipY":"from-image",premultiplyAlpha:"none"});if(t.width<32||t.height<32){let i=Math.max(t.width,32),n=Math.max(t.height,32);t=await createImageBitmap(t,{resizeWidth:i,resizeHeight:n,imageOrientation:this.flipY?"flipY":"from-image",premultiplyAlpha:"none"})}return this.format=MA.rgba8unorm,this.generate(t),!0}}class Ro{constructor(){a(this,"baseUrl","");a(this,"initUrl");a(this,"_progress",0)}async loadBinData(A,e){return this.baseUrl=Ut.getPath(A),this.initUrl=A,new Promise(async(t,i)=>{fetch(A,{headers:e==null?void 0:e.headers}).then(async n=>{if(n.ok){let s=await Ro.read(A,n,e),o=s.buffer;s=null,t(o)}else throw Error("request rejected with status "+n.status)}).catch(n=>{e.onError&&e.onError(n),i(n)})})}async loadAsyncBitmapTexture(A,e){this.baseUrl=Ut.getPath(A),this.initUrl=A;let t=new Hn;return t.url=A,t.name=Ut.getURLName(A),await t.load(A,e),K.res.addTexture(A,t),t}async loadJson(A,e){return this.baseUrl=Ut.getPath(A),this.initUrl=A,new Promise(async(t,i)=>{fetch(A,{headers:e==null?void 0:e.headers}).then(async n=>{if(n.ok){let s=await Ro.read(A,n,e);const o=new TextDecoder("utf-8").decode(s);s=null,t(JSON.parse(o))}else throw Error("request rejected with status"+n.status)}).catch(n=>{e.onError&&e.onError(n),i(n)})})}async loadTxt(A,e){return this.baseUrl=Ut.getPath(A),new Promise(async(t,i)=>{fetch(A).then(async n=>{if(n.ok){let s=await Ro.read(A,n,e);const o=new TextDecoder("utf-8").decode(s);s=null,t({data:o})}else throw Error("request rejected with status"+n.status)}).catch(n=>{e.onError&&e.onError(n),i(n)})})}static async read(A,e,t){const i=e.body.getReader(),n=+e.headers.get("Content-Length");let s=0,o=[],u=[];for(;;){const{done:h,value:d}=await i.read();if(h){n>0&&t&&t.onComplete&&t.onComplete.call(this,A);break}o.push(d),s+=d.length,n>0?t&&t.onProgress&&t.onProgress.call(this,s,n,A):u.push(d.length)}if(u.length>0)for(let h=0;h<o.length;h++)console.log(u[h]),t&&t.onProgress&&t.onProgress.call(this,u[h],s,A),u[h]==s&&t&&t.onComplete&&t.onComplete.call(this,A);let l=new Uint8Array(s),c=0;for(let h of o)l.set(h,c),c+=h.length;return l}}var nt=(r=>(r[r.TEXT=0]="TEXT",r[r.BIN=1]="BIN",r[r.JSON=2]="JSON",r))(nt||{});class Yt extends Ro{async load(A,e,t,i){switch(e.format){case nt.BIN:return new Promise(async(n,s)=>{this.loadBinData(A,t).then(async o=>{let u=new e;if(u.userData=i,u.baseUrl=this.baseUrl,u.initUrl=A,await u.parseBuffer(o),u.verification())n(u);else throw new Error("parser error")}).catch(o=>{s(o)})});case nt.JSON:return new Promise((n,s)=>{this.loadJson(A,t).then(async o=>{let u=new e;u.userData=i,u.baseUrl=this.baseUrl,u.initUrl=A,u.loaderFunctions=t,await u.parseJson(o),n(u)}).catch(o=>{s(o)})});case nt.TEXT:return new Promise((n,s)=>{this.loadTxt(A,t).then(async o=>{let u=new e;u.userData=i,u.baseUrl=this.baseUrl,u.initUrl=A,u.loaderFunctions=t,o.data?(await u.parseString(o.data),n(u)):s("text load is empty!")}).catch(o=>{s(o)})})}}}class Qt{constructor(){a(this,"baseUrl");a(this,"initUrl");a(this,"loaderFunctions");a(this,"userData");a(this,"data")}parseString(A){}parseJson(A){}parseBuffer(A){}parseTexture(A){throw this.parserError("Method not implemented.",-1)}parse(A){}verification(A){throw this.parserError("Method not implemented.",-1)}parserError(A,e){console.error(`error id:${e} ${A}`)}}a(Qt,"format",nt.BIN);class Af{constructor(){a(this,"asset");a(this,"accessors");a(this,"buffers");a(this,"bufferViews");a(this,"materials");a(this,"meshes");a(this,"nodes");a(this,"scene",0);a(this,"scenes");a(this,"textures");a(this,"cameras");a(this,"skins");a(this,"resources");a(this,"images");a(this,"samplers");a(this,"animations");a(this,"extensions")}}const $b=5120,Kb=5121,qb=5122,Xb=5123,Jb=5124,Zb=5125,A6=5126,e6=32819,t6=32820,r6=33635,i6=5131,n6=33640,s6=35899,o6=35902,a6=36269,u6=34042,Ay={};{const r=Ay;r[$b]=Int8Array,r[Kb]=Uint8Array,r[qb]=Int16Array,r[Xb]=Uint16Array,r[Jb]=Int32Array,r[Zb]=Uint32Array,r[A6]=Float32Array,r[e6]=Uint16Array,r[t6]=Uint16Array,r[r6]=Uint16Array,r[i6]=Uint16Array,r[n6]=Uint32Array,r[s6]=Uint32Array,r[o6]=Uint32Array,r[a6]=Uint32Array,r[u6]=Uint32Array}function bg(r){const A=Ay[r];if(!A)throw new Error("unkonw gl type");return A}class sc{static async apply(A,e){if(!e.extensions)return;const t=e.extensions.KHR_draco_mesh_compression;if(!t)return;let i=this._workers.get(A.gltf);i||(i=new Worker(await this.initDecoder()),this._workers.set(A.gltf,i)),i.postMessage({type:"init",decoderConfig:{}});let n=A.parseBufferView(t.bufferView);if(!n.result){let s=await new Promise((o,u)=>{i.onmessage=l=>{const c=l.data;c.type=="decode"?o(c.result):c.type=="error"&&u(c.error)},i.postMessage({type:"decoder",buffer:n,attributes:t.attributes},[n])});n.result=s}return n.result}static unload(A){let e=this._workers.get(A);e&&(e.terminate(),this._workers.delete(A))}static async initDecoder(){if(!this._workerCode){let A=await new Yt().loadTxt("https://cdn.orillusion.com/draco_decoder_gltf.js");const e=new Blob([A.data,"",`(${l6})()`],{type:"application/javascript"});this._workerCode=URL.createObjectURL(e)}return this._workerCode}}a(sc,"_workerCode"),a(sc,"_workers",new Map);function l6(){let r,A;onmessage=e=>{const t=e.data;switch(t.type){case"init":r=t.decoderConfig,A=new Promise((s,o)=>{r.onModuleLoaded=u=>{s({draco:u})},DracoDecoderModule(r)});break;case"decoder":const i=t.buffer,n=t.attributes;A.then(s=>{const o=s.draco;let u=new o.Decoder,l=new o.DecoderBuffer;l.Init(new Int8Array(i),i.byteLength);let c,h;try{const d=u.GetEncodedGeometryType(l);d==o.TRIANGULAR_MESH?(h=new o.Mesh,c=u.DecodeBufferToMesh(l,h)):self.postMessage(new Error("INVALID_GEOMETRY_TYPE:"+d)),c.ok()||self.postMessage(new Error("DracoDecode:"+c.error_msg()));let f={};for(const p in n){let y=u.GetAttributeByUniqueId(h,n[p]);const _=y.num_components(),g=h.num_points()*_,m=g*Float32Array.BYTES_PER_ELEMENT,E=o.DT_FLOAT32,w=o._malloc(m);u.GetAttributeDataArrayForAllPoints(h,y,E,m,w);const L=new Float32Array(o.HEAPF32.buffer,w,g).slice();o._free(w),f[p]={data:L,numComponents:_,normalize:!1}}{const p=h.num_faces()*3,y=p*4,_=o._malloc(y);u.GetTrianglesUInt32Array(h,y,_);const g=new Uint32Array(o.HEAPF32.buffer,_,p).slice();o._free(_),f.indices={data:g,numComponents:1,normalize:!1}}self.postMessage({type:"decode",result:f})}catch(d){self.postMessage({type:"error",error:d.message})}finally{o.destroy(h),o.destroy(u),o.destroy(l)}});break}}}class c6{constructor(A){a(this,"gltf");this.gltf=A}parse(A){const e=this.gltf.cameras[A];if(!e)return this.errorMiss("camera",A);if(e.isParsed)return e.dcamera;e.isParsed=!0,e.dcamera=!1;const{name:t,type:i,perspective:n,orthographic:s}=e;if(i==="perspective"&&n){const{aspectRatio:o,yfov:u,zfar:l,znear:c}=n;e.dcamera=Object.assign({},{name:t,type:i,yfov:u,znear:c,aspectRatio:o,zfar:l})}else if(i==="orthographic"&&s){const{xmag:o,ymag:u,zfar:l,znear:c}=s;e.dcamera=Object.assign({},{name:t,type:i,xmag:o,ymag:u,zfar:l,znear:c})}return e.dcamera}errorMiss(A,e){throw new Error(A+e)}}const vo=class vo extends Qt{constructor(){super(...arguments);a(this,"_gltf")}async parseJson(e){this._gltf=new Af,this._gltf={...this._gltf,...e},this._gltf.resources={},await Promise.all([this.load_gltf_bin(),this.load_gltf_textures()]);let t=new tf,i=await t.parse(this.initUrl,this._gltf,this._gltf.scene);return t.destory(),t=null,i?(this.data=i.rootNode,i.rootNode):(this._gltf=null,null)}verification(){if(this.data)return!0;throw new Error("Method not implemented.")}static getMeshNameCounter(){return function(){return`GLTF_NO_NAME_PRIMITIVE_${vo._counter++}`}}static getModelNameCounter(){let e=0;return function(){return`GLTF_NO_NAME_MESH_${e++}`}}static getTexCoordDefine(e){return`UV_NUM ${e}`}static getVertexColorDefine(e){return`HAS_VERTEXCOLOR ${e}`}static getBaseColorTextureDefine(){return"HAS_BASECOLORMAP"}static getMetalRoughnessDefine(){return"HAS_METALROUGHNESSMAP"}static getNormalMapDefine(){return"HAS_NORMALMAP"}static getEmissiveMapDefine(){return"HAS_EMISSIVEMAP"}static getOcclusionMapDefine(){return"HAS_OCCLUSIONMAP"}static getMorphTargetsDefine(e){return`MORPH_TARGET_NUM ${e}`}static getMorphtargetPositionDefine(){return"HAS_MORPH_POSITION"}static getMorphtargetNormalDefine(){return"HAS_MORPH_NORMAL"}static getMorphtargetTangentDefine(){return"HAS_MORPH_TANGENT"}static getJointsNumDefine(e){return`JOINTS_NUM ${e}`}static getJointVec8Define(){return"JOINT_VEC8"}static getHasNormalDefine(){return"HAS_NORMAL"}static getHasTangentDefine(){return"HAS_TANGENT"}static getHasNormalMapDefine(){return"HAS_NORMAL_MAP"}static getAlphaMaskDefine(){return"ALPHA_MASK"}static getAlphaBlendDefine(){return"ALPHA_BLEND"}async load_gltf_bin(){var e;if(this._gltf.buffers&&this._gltf.buffers.length>0){let t=[];for(let i=0;i<this._gltf.buffers.length;i++){const n=this._gltf.buffers[i];if(n.uri.substring(0,5)!=="data:"){let s=Ut.parseUrl(this.baseUrl,n.uri);(e=this.loaderFunctions)!=null&&e.onUrl&&(s=await this.loaderFunctions.onUrl(s));let o=new Yt().loadBinData(s,this.loaderFunctions).then(u=>{this._gltf.resources[n.uri]=u});t.push(o)}}await Promise.all(t)}}async load_gltf_textures(){var e;if(this._gltf,this._gltf.images){let t=[];for(let i=0;i<this._gltf.images.length;i++){const n=this._gltf.images[i];if(n.uri){let s=Ut.parseUrl(this.baseUrl,n.uri);(e=this.loaderFunctions)!=null&&e.onUrl&&(s=await this.loaderFunctions.onUrl(s));let o=new Yt().loadAsyncBitmapTexture(s,this.loaderFunctions).then(u=>{u.name=Ut.getURLName(n.uri),this._gltf.resources[u.name]=u});t.push(o)}}await Promise.all(t)}}};a(vo,"format",nt.JSON),a(vo,"_counter",0),a(vo,"defaultMaterial",{name:"GLTF_DEFAULT_MATERIAL",alphaCutoff:.33,alphaMode:"MASK",pbrMetallicRoughness:{name:"GLTF_DEFAULT_MATERIAL",defines:[],doubleSided:!1,baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1,emissiveFactor:[0,0,0]}});let Nt=vo;class h6{constructor(A){a(this,"gltf");a(this,"subParser");this.gltf=A.gltf,this.subParser=A}async parse(A){const e=this.gltf.meshes[A];if(!e)return this.errorMiss("mesh",A);if(e.isParsed)return e.dprimitives;const t=e.primitives,i=e.extras,n=[];for(let s=0;s<t.length;s++){const o=t[s],{attributes:u,indices:l,material:c,mode:h,name:d,targets:f,morphTargetsRelative:p,extensions:y}=o;let _=e.name;for(let R in u)_+=R;_+=`indices:${l}`,_+=`material:${c}`;const g={attribArrays:{indices:[]},weights:[],defines:[],material:null,drawMode:null,meshName:null,modelName:null,morphTargetsRelative:!1,targetNames:i?i.targetNames:null};let m=!1,E=0,w=!1,L;y&&y.KHR_draco_mesh_compression&&(L=await sc.apply(this.subParser,o));for(const R in u){const P=L?L[R]:this.parseAccessor(u[R]);if(P){let F;switch(R){case"POSITION":F=pA.position;break;case"NORMAL":F=pA.normal,m=!0;break;case"TEXCOORD_0":F=pA.uv,E++;break;case"JOINTS_0":F=pA.joints0;break;case"JOINTS_1":F=pA.joints1,w=!0;break;case"WEIGHTS_0":F=pA.weights0;break;case"WEIGHTS_1":F=pA.weights1;break;default:F=R}g.attribArrays[F]=P}}if(m&&g.defines.push(Nt.getHasNormalDefine()),E&&g.defines.push(Nt.getTexCoordDefine(E)),w&&g.defines.push(Nt.getJointVec8Define()),l!==void 0){const R=L?L.indices:this.parseAccessor(l);R&&(g.attribArrays.indices=R)}const T=await this.parseMaterial(c);if(T&&(g.material=T,g.defines=g.defines.concat(T.defines)),g.drawMode=h===void 0?4:h,g.meshName=()=>_,g.modelName=e.name||Nt.getModelNameCounter(),f){g.defines.push(Nt.getMorphTargetsDefine(f.length)),g.morphTargetsRelative=!0;let R=!1,P=!1,F=!1;for(let H=0;H<f.length;H++){const M=f[H];Object.keys(M).forEach(b=>{const v=this.parseAccessor(M[b]);if(v){let C;switch(b){case"POSITION":C=fe.MORPH_POSITION_PREFIX+H,R=!0;break;case"NORMAL":C=fe.MORPH_NORMAL_PREFIX+H,P=!0;break;case"TANGENT":C=fe.MORPH_TANGENT_PREFIX+H,F=!0;break;default:C=!1}C?g.attribArrays[C]=v:console.error(`glTF has unsupported morph target attribute ${b}`)}})}R&&g.defines.push(Nt.getMorphtargetPositionDefine()),P&&g.defines.push(Nt.getMorphtargetNormalDefine()),F&&g.defines.push(Nt.getMorphtargetTangentDefine()),g.weights=e.weights||new Array(f.length).fill(0)}n.push(g)}return e.dprimitives=n,e.isParsed=!0,e.dprimitives}parseAccessor(A){return this.subParser.parseAccessor(A)}parseMaterial(A){return this.subParser.parseMaterial(A)}errorMiss(A,e){throw new Error(A+e)}}class d6{constructor(A){a(this,"gltf");a(this,"subParser");this.gltf=A.gltf,this.subParser=A}async parse(A){let e;if(A==null?e=Nt.defaultMaterial:e=this.gltf.materials[A],!e)return this.errorMiss("material",A);if(e.isParsed)return e.dmaterial;let{name:t,pbrMetallicRoughness:i,normalTexture:n,occlusionTexture:s,emissiveTexture:o,emissiveFactor:u,alphaMode:l,alphaCutoff:c,doubleSided:h,extensions:d}=e;const f={name:t,defines:[],doubleSided:!!h,baseColorFactor:[1,1,1,1],emissiveFactor:null,alphaCutoff:0,enableBlend:!1,baseColorTexture:null,metallicRoughnessTexture:null,normalTexture:null,occlusionTexture:null,emissiveTexture:null,transformUV1:null,transformUV2:null,extensions:null};if(i){const{baseColorFactor:p,metallicFactor:y,roughnessFactor:_,baseColorTexture:g,metallicRoughnessTexture:m}=i;if(Object.assign(f,{baseColorFactor:p||[1,1,1,1],metallicFactor:y===void 0?1:y,roughnessFactor:_===void 0?.5:_}),g){let E=g.extensions;if(E){let L=E.KHR_texture_transform;L&&(f.transformUV1=new XA(L.offset?L.offset[0]:0,L.offset?L.offset[1]:0,L.scale?L.scale[0]:1,L.scale?L.scale[1]:1))}const w=await this.parseTexture(g.index);w?f.baseColorTexture=w:f.baseColorTexture=K.res.redTexture}if(m){const E=await this.parseTexture(m.index);E?f.metallicRoughnessTexture=E:f.metallicRoughnessTexture=K.res.blackTexture}}else Object.assign(f,{baseColorFactor:[1,1,1,1],metallicFactor:0,roughnessFactor:.5});if(f.baseColorFactor&&f.baseColorFactor[3]<1&&(l=l==="MASK"?"MASK":"BLEND"),l&&l!=="OPAQUE"&&(l==="MASK"&&(f.defines.push(Nt.getAlphaMaskDefine()),f.alphaCutoff=c===void 0?.5:c),l==="BLEND"&&(f.defines.push(Nt.getAlphaBlendDefine()),f.enableBlend=!0)),n){const p=await this.parseTexture(n.index);p?f.normalTexture=p:f.normalTexture=K.res.normalTexture}if(s){const p=await this.parseTexture(s.index);p&&(f.occlusionTexture=p)}if(u&&(f.emissiveFactor=u),o){const p=await this.parseTexture(o.index);p?f.emissiveTexture=p:f.emissiveTexture=K.res.blackTexture}return d&&(f.extensions=d),e.isParsed=!0,e.dmaterial=f,f}async parseTexture(A){return this.subParser.parseTexture(A)}errorMiss(A,e){throw new Error(A+e)}}class f6{constructor(A){a(this,"gltf");a(this,"subParser");this.gltf=A.gltf,this.subParser=A}parse(A){const e=this.gltf.skins[A];if(!e)return this.errorMiss("skin",A);if(e.isParsed)return e.dskin;const{name:t,joints:i,inverseBindMatrices:n,skeleton:s}=e;if(!i)return this.errorMiss("skin.joints",A);e.isParsed=!0,e.dskin=!1;let o={name:t,skeleton:null,inverseBindMatrices:null,joints:i,defines:[Nt.getJointsNumDefine(i.length)]};if(s)o.skeleton=s;else{var u=-1;for(let l=0;l<this.gltf.nodes.length;l++)if(this.gltf.nodes[l].name=="root"){u=l;break}if(u==-1){let l=this.gltf.scenes[this.gltf.scene];u=l.nodes[l.nodes.length-1]}o.skeleton=u}if(o.inverseBindMatrices=fe.IDENTITY_INVERSE_BIND_MATRICES,n!==void 0){const l=this.parseAccessor(n);if(l){const c=l.data,h=[];for(let d=0;d<c.length;d+=16)h.push(c.slice(d,d+16));o.inverseBindMatrices=h}else o=null}return e.dskin=o,e.dskin}parseAccessor(A){return this.subParser.parseAccessor(A)}errorMiss(A,e){throw new Error(A+e)}}class p6{constructor(A=""){a(this,"name","");a(this,"index",0);a(this,"instanceID","");a(this,"parent",null);a(this,"scale",new I);a(this,"rotation",new oe);a(this,"translation",new I);this.name=A}}class g6{constructor(A=[]){a(this,"joints");this.joints=A}get numJoint(){return this.joints.length}addJoint(A){A.index=this.joints.push(A)-1}getJointName(A){return this.joints[A].name}getJointParentIndex(A){let e=this.joints[A];return e.parent?e.parent.index:-1}getJointByName(A){for(let e of this.joints)if(e.name==A)return e;return null}}class Ig{constructor(A,e=!1){a(this,"index");a(this,"worldMatrix");this.index=A,this.worldMatrix=new NA(!e)}}class oc{constructor(A,e=!1){a(this,"time");a(this,"_skeleton");a(this,"_jointsPose");a(this,"mJointMatrixIndexTable");this._skeleton=A,this._jointsPose=new Array(A.numJoint),this.mJointMatrixIndexTable=new Array(A.numJoint);for(let t=0;t<A.numJoint;t++){let i=new Ig(t,e);this._jointsPose[t]=i,this.mJointMatrixIndexTable[t]=i.worldMatrix.index}}buildSkeletonPose(A){let e=new I,t=new oe,i=new I,n=new Array(this._skeleton.numJoint);this.time=A[11]>0?A[11]:A[24];for(let s=0;s<this._skeleton.numJoint;s++){let o=12*s*4,u=new Float32Array(A.buffer,A.byteOffset+o,12),l=new NA;e.set(u[0],u[1],u[2]),t.set(u[4],u[5],u[6],u[7]),i.set(u[8],u[9],u[10]),Yd(t.getEulerAngles(),i,e,l),n[s]=l;let c=new Ig(s);const h=this._skeleton.getJointParentIndex(s);if(h<0)c.worldMatrix.copyFrom(l);else{let d=this._jointsPose[h];d4(d.worldMatrix,l,c.worldMatrix)}this._jointsPose[s]=c}}get numJoint(){return this._skeleton.numJoint}get joints(){return this._jointsPose}get jointMatrixIndexTable(){return this.mJointMatrixIndexTable}lerp(A,e,t){if(A&&e)for(let i=0;i<this._jointsPose.length;i++){let n=A._jointsPose[i],s=e._jointsPose[i];this._jointsPose[i].worldMatrix.lerp(n.worldMatrix,s.worldMatrix,t)}else for(let i=0;i<this._jointsPose.length;i++){let n=A._jointsPose[i];this._jointsPose[i].worldMatrix.copyFrom(n.worldMatrix)}}copyFrom(A){for(let e=0;e<this._jointsPose.length;e++)this._jointsPose[e].worldMatrix.copyFrom(A._jointsPose[e].worldMatrix)}reset(){for(let A=0;A<this._jointsPose.length;A++)this._jointsPose[A].worldMatrix.identity()}}class m6 extends qr{constructor(e,t){super();a(this,"skeletonAnimation");this.type=e,this.time=t}}class d0{constructor(A,e,t,i){a(this,"name","");a(this,"_skeleton");a(this,"_skeletonPoses");a(this,"_animationClipData");a(this,"_events");if(this.name=A,this._skeleton=e,this._animationClipData=i,t>0&&i){this._skeletonPoses=new Array(t);let n=12*e.numJoint;for(let s=0;s<t;s++){let o=n*s*4,u=new Float32Array(i.buffer,o,n),l=new oc(e);l.buildSkeletonPose(u),this._skeletonPoses[s]=l}}}get totalTime(){return this._skeletonPoses[this._skeletonPoses.length-1].time}get frameRate(){return this.totalTime/this._skeletonPoses.length}get skeleton(){return this._skeleton}get numFrame(){return this._skeletonPoses.length-1}get animationClipData(){return this._animationClipData}getSkeletonPose(A){return this._skeletonPoses[A]}getLerpSkeletonPose(A,e,t,i){let n=this.getSkeletonPose(A),s=this.getSkeletonPose(e);return i.lerp(n,s,t),i}createSubClip(A,e,t){var i=new d0(A,this._skeleton,0,null);const n=Math.max(Math.floor(e/this.frameRate),0),s=Math.min(Math.floor(t/this.frameRate),this._skeletonPoses.length-1);i._skeletonPoses=this._skeletonPoses.slice(n,s);const o=12*this._skeleton.numJoint*4;return this._animationClipData=new Float32Array(this._animationClipData,n*o,(s-n)*o),i}addEvent(A,e){this._events||(this._events=new Array),this._events.push(new m6(A,e))}removeEvent(A){this._events&&(this._events=this._events.filter(e=>e.type!=A))}getEvents(){return this._events}}class Bg{constructor(A){a(this,"gltf");a(this,"subParser");this.gltf=A.gltf,this.subParser=A}parse(A){let e=new g6;return this.buildSkeleton(e,void 0,A),e}parseSkeletonAnimation(A,e){let t=this.subParser.parseAccessor(e.samplers[0].input),i=t.data.length,n=t.data[1]-t.data[0];t.data[t.data.length-1];let s=12*A.numJoint,o=new Float32Array(s*i);for(var u=0;u<A.numJoint;u++)for(var l=0;l<i;l++){var c=s*l+12*u;o[c+0]=1,o[c+1]=1,o[c+2]=1,o[c+3]=1}for(let p of e.channels){let y=e.samplers[p.sampler];const _=this.subParser.parseAccessor(y.input),g=this.subParser.parseAccessor(y.output);let m=p.target.node,E=p.target.path,w=this.gltf.nodes[m];if(!w)continue;let L=A.getJointByName(w.name);if(L)switch(E){case"scale":if(i*g.numComponents==g.data.length)for(var l=0;l<i;l++){var h=l*g.numComponents,c=s*l+12*L.index;o[c+0]=g.data[h+0],o[c+1]=g.data[h+1],o[c+2]=g.data[h+2],o[c+3]=1}else if(_.data.length==2){let T=0;_.data[0];let R=_.data[1];var d=0*g.numComponents;I.HELP_0.set(g.data[d+0],g.data[d+1],g.data[d+2]);var f=1*g.numComponents;I.HELP_1.set(g.data[f+0],g.data[f+1],g.data[f+2]);for(var l=0;l<i;l++){let F=T/R;I.HELP_2.lerp(I.HELP_0,I.HELP_1,F);var c=s*l+12*L.index;o[c+0]=I.HELP_2.x,o[c+1]=I.HELP_2.y,o[c+2]=I.HELP_2.z,o[c+3]=1,T+=n}}else throw new Error("Unsupported animation sampler interpolation.");break;case"rotation":if(i*g.numComponents==g.data.length)for(var l=0;l<i;l++){var h=l*g.numComponents,c=s*l+12*L.index+4;o[c+0]=g.data[h+0],o[c+1]=g.data[h+1],o[c+2]=g.data[h+2],o[c+3]=g.data[h+3]}else if(_.data.length==2){let T=0;_.data[0];let R=_.data[1];var d=0*g.numComponents;I.HELP_0.set(g.data[d+0],g.data[d+1],g.data[d+2],g.data[d+3]);var f=1*g.numComponents;I.HELP_1.set(g.data[f+0],g.data[f+1],g.data[f+2],g.data[f+3]);for(var l=0;l<i;l++){let M=T/R;I.HELP_2.lerp(I.HELP_0,I.HELP_1,M);var c=s*l+12*L.index+4;o[c+0]=I.HELP_2.x,o[c+1]=I.HELP_2.y,o[c+2]=I.HELP_2.z,o[c+3]=I.HELP_2.w,T+=n}}else throw new Error("Unsupported animation sampler interpolation.");break;case"translation":if(i*g.numComponents==g.data.length)for(var l=0;l<i;l++){var h=l*g.numComponents,c=s*l+12*L.index+8;o[c+0]=g.data[h+0],o[c+1]=g.data[h+1],o[c+2]=g.data[h+2],o[c+3]=_.data[l*_.numComponents]}else if(_.data.length==2){let T=0;_.data[0];let R=_.data[1];var d=0*g.numComponents;I.HELP_0.set(g.data[d+0],g.data[d+1],g.data[d+2]);var f=1*g.numComponents;I.HELP_1.set(g.data[f+0],g.data[f+1],g.data[f+2]);for(var l=0;l<i;l++){let M=T/R;I.HELP_2.lerp(I.HELP_0,I.HELP_1,M);var c=s*l+12*L.index+8;o[c+0]=I.HELP_2.x,o[c+1]=I.HELP_2.y,o[c+2]=I.HELP_2.z,o[c+3]=T,T+=n}}else throw new Error("Unsupported animation sampler interpolation.");break}}return new d0(e.name,A,i,o)}buildSkeleton(A,e,t,i=0){let n=this.gltf.nodes[t];n.name||(n.name="Node_"+t);let s=new p6(n.name);if(s.parent=e,n.scale&&s.scale.set(n.scale[0],n.scale[1],n.scale[2]),n.rotation&&s.rotation.set(n.rotation[0],n.rotation[1],n.rotation[2],n.rotation[3]),n.translation&&s.translation.set(n.translation[0],n.translation[1],n.translation[2]),A.addJoint(s),n.children)for(let o of n.children)this.buildSkeleton(A,s,o,i+1)}}class y6{constructor(A){a(this,"loop",!0);a(this,"speed",1);a(this,"t",0);a(this,"time",0);a(this,"weight",0);a(this,"currFrame",0);a(this,"lastFrame",-1);a(this,"nextFrame",0);a(this,"clip");a(this,"animation");a(this,"_isEnd",!1);a(this,"_currSkeletonPose");this.clip=A,this._currSkeletonPose=new oc(this.clip.skeleton)}reset(){this.time=0,this.weight=0,this._isEnd=!1}get name(){return this.clip.name}get currSkeletonPose(){return this._currSkeletonPose}update(A){this.time=(this.time+A*this.speed)%this.clip.totalTime;let e=this.time/this.clip.frameRate;if(this.currFrame=Math.trunc(e),this.t=e-this.currFrame,this.currFrame<0&&(this.currFrame=this.clip.numFrame+this.currFrame),this.time>=0?this.nextFrame=(this.currFrame+1)%this.clip.numFrame:(this.nextFrame=this.currFrame-1,this.nextFrame<0&&(this.nextFrame=this.clip.numFrame+this.nextFrame),this.t=1-this.t),this._isEnd)this.currFrame=this.nextFrame=this.speed<0?0:this.clip.numFrame-1;else if(this.currFrame!=this.lastFrame){let n=this.speed<0?0:this.clip.numFrame;this.currFrame==n&&(this.loop?(this.currFrame=0,this.nextFrame=1,this.time=this.t=0):(this.currFrame=this.nextFrame=this.speed<0?0:this.clip.numFrame-1,this._isEnd=!0));var t=this.clip.getEvents();if(t)for(let s of t){var i=Math.floor(s.time/this.clip.frameRate);if(i=Math.min(i,this.clip.numFrame),i=Math.max(i,0),i==this.currFrame){s.skeletonAnimation=this.animation,this.animation.eventDispatcher.dispatchEvent(s);break}}this.lastFrame=this.currFrame}this.clip.getLerpSkeletonPose(this.currFrame,this.nextFrame,this.t,this._currSkeletonPose)}}var E6=Object.defineProperty,C6=Object.getOwnPropertyDescriptor,_6=(r,A,e,t)=>{for(var i=t>1?void 0:t?C6(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&E6(A,e,i),i};let Xi=class extends Jt{constructor(){super();a(this,"isPlaying",!0);a(this,"timeScale",1);a(this,"_skeleton");a(this,"_clips",[]);a(this,"_clipStates",new Map);a(this,"_mixSkeletonPose");a(this,"_mixTempSkeletonPose");a(this,"_currentClipState");a(this,"_bindList",[]);a(this,"_jointMatrixIndexTableBuffer");a(this,"_crossFadeState")}start(){}get currName(){return this._currentClipState?this._currentClipState.name:""}set skeleton(A){this._skeleton=A,this._mixSkeletonPose=new oc(this._skeleton,!0),this._mixTempSkeletonPose=new oc(this._skeleton);const e=new Float32Array(this._mixSkeletonPose.jointMatrixIndexTable);this._jointMatrixIndexTableBuffer=new Bt(this._skeleton.numJoint*4,0,e)}get skeleton(){return this._skeleton}get finalSkeletonPose(){return this._mixSkeletonPose}get jointMatrixIndexTableBuffer(){return this._jointMatrixIndexTableBuffer}getJointIndexTable(A){let e=new Array;for(let t=0;t<A.length;t++){const i=A[t];let n=this._skeleton.getJointByName(i);e[t]=n?n.index:-1}return e}addAnimationClip(A){if(!this._clipStates.has(A.name)){this._clips.push(A);let e=new y6(A);e.animation=this,this._clipStates.set(A.name,e),this._currentClipState||this.setCurrentClipState(e)}}getAnimationClip(A){var e=this.getAnimationClipState(A);return e?e.clip:null}getAnimationClips(){return this._clips}getAnimationClipState(A){return this._clipStates.has(A)?this._clipStates.get(A):null}getAnimationClipStates(){return this._clipStates}pause(){this.isPlaying=!1}resume(){this.isPlaying=!0}play(A,e=1,t=!1){if(this._currentClipState&&this._currentClipState.name==A)return t&&this._currentClipState.reset(),!1;let i=this.getAnimationClipState(A);return i?(i.speed=e,i.reset(),this._clipStates.forEach((n,s)=>{n.weight=0}),this.setCurrentClipState(i),!0):!1}crossFade(A,e){if(e<.01){this.play(A);return}if(this._currentClipState.name==A)return;let t=this.getAnimationClipState(A);t&&(t.reset(),this._crossFadeState?(this._crossFadeState.inClip&&(this._crossFadeState.inClip.weight=0),this._crossFadeState.outClip&&(this._crossFadeState.outClip.weight=0),this._crossFadeState.reset(t,this._currentClipState,e)):this._crossFadeState=new S6(t,this._currentClipState,e),this._currentClipState=t)}setAnimIsLoop(A,e){this._clipStates.has(A)&&(this._clipStates.get(A).loop=e)}addJointBind(A,e){this._bindList.push({jointName:A,obj:e})}removeJointBind(A){for(let e=0;e<this._bindList.length;e++)if(this._bindList[e].obj==A){this._bindList.splice(e,1);break}}onUpdate(){if(!this.isPlaying)return;let A=be.delta*.001*this.timeScale;this._crossFadeState&&this._crossFadeState.update(A);var e=0,t=[];if(this._clipStates.forEach((n,s)=>{n.weight>0&&(n.update(A),e+=n.weight,t.push(n))}),t.length>0){this._mixSkeletonPose.copyFrom(t[0].currSkeletonPose);for(var i=1;i<t.length;++i){const n=t[i];this._mixTempSkeletonPose.lerp(this._mixSkeletonPose,n.currSkeletonPose,n.weight/e),this._mixSkeletonPose.copyFrom(this._mixTempSkeletonPose)}}}cloneTo(A){let e=A.addComponent(Xi);e.skeleton=this.skeleton;for(var t=0;t<this._clips.length;++t)e.addAnimationClip(this._clips[t])}setCurrentClipState(A){this._currentClipState!=A&&(this._currentClipState=A,this._currentClipState.weight=1)}};Xi=_6([ri(Xi,"SkeletonAnimationComponent")],Xi);class S6{constructor(A,e,t){a(this,"inClip");a(this,"outClip");a(this,"currentTime");a(this,"crossFadeTime");this.reset(A,e,t)}reset(A,e,t){this.inClip=A,this.outClip=e,this.currentTime=0,this.crossFadeTime=t}update(A){!this.inClip||!this.outClip||(this.currentTime+=A,this.inClip.weight=Math.min(Math.abs(this.currentTime%this.crossFadeTime)/this.crossFadeTime,1),this.outClip.weight=1-this.inClip.weight,Math.abs(this.currentTime)>=this.crossFadeTime&&(this.inClip.weight=1,this.outClip.weight=0,this.inClip=null,this.outClip=null))}}class ef{static add(A){this.list.indexOf(A)==-1&&this.list.push(A)}static remove(A){let e=this.list.indexOf(A);e!=-1&&this.list.splice(e,1)}}a(ef,"list",[]);class o1 extends Jt{constructor(){super();a(this,"name");a(this,"size",1);a(this,"lightData");a(this,"dirFix",1);a(this,"bindOnChange");a(this,"needUpdateShadow",!0);a(this,"realTimeShadow",!0);a(this,"_castGI",!1);a(this,"_castShadow",!1);a(this,"_iesProfiles")}init(){this.transform.object3D.bound=new Qe(new I,new I),this.lightData=new Zl,this.lightData.lightMatrixIndex=this.transform.worldMatrix.index}onChange(){this.bindOnChange&&this.bindOnChange(),this.transform.object3D.bound.setFromCenterAndSize(this.transform.worldPosition,new I(this.size,this.size,this.size)),this._castGI&&(IA.instance.state.giLightingChange=!0),this._castShadow?(this.needUpdateShadow=!0,Ir.addShadowLight(this)):Ir.removeShadowLight(this)}start(){this.transform.onPositionChange=()=>this.onPositionChange(),this.transform.onScaleChange=()=>this.onScaleChange(),this.transform.onRotationChange=()=>this.onRotChange(),this.onPositionChange(),this.onRotChange(),this.onScaleChange()}onPositionChange(){this.lightData.lightPosition.copyFrom(this.transform.worldPosition)}onRotChange(){this.dirFix==1?this.lightData.direction.copyFrom(this.transform.forward):this.lightData.direction.copyFrom(this.transform.back),this.lightData.lightTangent.copyFrom(this.transform.up),this.onChange()}onScaleChange(){this.onChange()}onEnable(){this.onChange(),IA.instance.addLight(this.transform.scene3D,this)}onDisable(){this.onChange(),IA.instance.removeLight(this.transform.scene3D,this),Ir.removeShadowLight(this)}set iesProfiles(e){this._iesProfiles=e,this.lightData.iesIndex=e.index,au.use=!0,this.onChange()}get iesProfile(){return this._iesProfiles}get r(){return this.lightData.lightColor.r}set r(e){this.lightData.lightColor.r=e,this.onChange()}get g(){return this.lightData.lightColor.g}set g(e){this.lightData.lightColor.g=e,this.onChange()}get b(){return this.lightData.lightColor.b}set b(e){this.lightData.lightColor.b=e,this.onChange()}get lightColor(){return this.lightData.lightColor}set lightColor(e){this.lightData.lightColor=e,this.onChange()}get color(){return this.lightData.lightColor}set color(e){this.lightData.lightColor=e,this.onChange()}get intensity(){return this.lightData.intensity}set intensity(e){this.lightData.intensity=e,this.onChange()}set castShadow(e){e!=this._castShadow&&(this._castShadow=e,this.onChange())}get castShadow(){return this._castShadow}get shadowIndex(){return this.lightData.castShadowIndex}get castGI(){return this._castGI}set castGI(e){e?ef.add(this):ef.remove(this),this._castGI=e,e&&this.onChange()}get direction(){return this.lightData.direction}destroy(e){this.bindOnChange=null,IA.instance.removeLight(this.transform.scene3D,this),Ir.removeShadowLight(this),this.transform.eventDispatcher.removeEventListener(Si.ROTATION_ONCHANGE,this.onRotChange,this),this.transform.eventDispatcher.removeEventListener(Si.SCALE_ONCHANGE,this.onScaleChange,this),super.destroy(e)}}var v6=Object.defineProperty,w6=Object.getOwnPropertyDescriptor,b6=(r,A,e,t)=>{for(var i=t>1?void 0:t?w6(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&v6(A,e,i),i};let _l=class extends o1{constructor(){super();a(this,"shadowCamera")}init(){super.init(),this.object3D.name==""&&(this.object3D.name="DirectionLight_"+ii()),this.radius=Number.MAX_SAFE_INTEGER,this.lightData.lightType=At.DirectionLight,this.lightData.linear=0,this.lightData.quadratic=.3}start(){super.start(),this.castGI=!0}get radius(){return this.lightData.range}set radius(A){this.lightData.range=A,this.onChange()}get indirect(){return this.lightData.quadratic}set indirect(A){this.lightData.quadratic=A,this.onChange()}debug(){}};_l=b6([ri(_l,"DirectLight")],_l);var I6=Object.defineProperty,B6=Object.getOwnPropertyDescriptor,T6=(r,A,e,t)=>{for(var i=t>1?void 0:t?B6(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&I6(A,e,i),i};let Sl=class extends o1{constructor(){super()}init(){super.init(),this.lightData.lightType=At.PointLight,this.object3D.name==""&&(this.object3D.name="PointLight"+ii())}get range(){return this.lightData.range}set range(r){this.lightData.range=r,this.onChange()}get at(){return this.lightData.linear}set at(r){this.lightData.linear=r,this.onChange()}get radius(){return this.lightData.radius}set radius(r){this.lightData.radius=r,this.onChange()}get quadratic(){return this.lightData.quadratic}set quadratic(r){this.lightData.quadratic=r,this.onChange()}start(){this.transform.rotationX=90,super.start()}onUpdate(){}onGraphic(r){}debug(){}debugDraw(r){}};Sl=T6([ri(Sl,"PointLight")],Sl);var D6=Object.defineProperty,x6=Object.getOwnPropertyDescriptor,O6=(r,A,e,t)=>{for(var i=t>1?void 0:t?x6(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&D6(A,e,i),i};let vl=class extends o1{constructor(){super()}init(){super.init(),this.lightData.lightType=At.SpotLight,this.object3D.name==""&&(this.object3D.name="SpotLight"+ii())}get innerAngle(){return this.lightData.innerAngle/this.lightData.outerAngle*100}set innerAngle(r){this.lightData.innerAngle=vt(r,0,100)/100*this.lightData.outerAngle,this.onChange()}get outerAngle(){return this.lightData.outerAngle*yu*2}set outerAngle(r){this.lightData.outerAngle=vt(r,1,179)*Ie*.5,this.onChange()}get radius(){return this.lightData.radius}set radius(r){this.lightData.radius=r,this.onChange()}get range(){return this.lightData.range}set range(r){this.lightData.range=r,this.onChange()}get at(){return this.lightData.linear}set at(r){this.lightData.linear=r,this.onChange()}start(){super.start(),this.lightData.lightType=At.SpotLight}onUpdate(){}onGraphic(r){}debug(){}debugDraw(r){}};vl=O6([ri(vl,"SpotLight")],vl);var M6=Object.defineProperty,R6=Object.getOwnPropertyDescriptor,P6=(r,A,e,t)=>{for(var i=t>1?void 0:t?R6(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&M6(A,e,i),i};let Ha=class extends he{constructor(){super();a(this,"skinJointsName");a(this,"mInverseBindMatrixData");a(this,"mInverseBindMatrixBuffer");a(this,"mSkeletonAnimation");a(this,"mJointIndexTableBuffer");this.addRendererMask(It.SkinnedMesh)}start(){if(super.start(),this.skeletonAnimation=this.object3D.getComponent(Xi),!this.skeletonAnimation){let A=this.object3D.parentObject.parentObject.getComponentsInChild(Xi);A.length>0&&(this.skeletonAnimation=A[0]);let e=this.object3D;for(;!this.skeletonAnimation&&e;)this.skeletonAnimation=e.getComponentFromParent(Xi),e.parent&&(e=e.parent.object3D)}}onEnable(){super.onEnable()}get skeletonAnimation(){return this.mSkeletonAnimation}set skeletonAnimation(A){if(this.mSkeletonAnimation=A,!!A&&!this.mJointIndexTableBuffer){let e=this.mSkeletonAnimation.getJointIndexTable(this.skinJointsName);this.mJointIndexTableBuffer=new Bt(e.length*4,0,new Float32Array(e)),this.mJointIndexTableBuffer.visibility=GPUShaderStage.VERTEX|GPUShaderStage.COMPUTE}}get skinInverseBindMatrices(){return this.mInverseBindMatrixData}set skinInverseBindMatrices(A){this.mInverseBindMatrixData=A;var e=new Float32Array(A.length*16);for(let t=0;t<A.length;t++){let i=t*16,n=A[t];e.set(n,i)}this.mInverseBindMatrixBuffer=new Bt(e.byteLength,0,e),this.mInverseBindMatrixBuffer.visibility=GPUShaderStage.VERTEX|GPUShaderStage.COMPUTE}get inverseBindMatrixBuffer(){return this.mInverseBindMatrixBuffer}get jointIndexTableBuffer(){return this.mJointIndexTableBuffer.buffer}cloneTo(A){let e=A.addComponent(Ha);e.geometry=this.geometry,e.material=this.material.clone(),e.castShadow=this.castShadow,e.castGI=this.castGI,e.receiveShadow=this.receiveShadow,e.rendererMask=this.rendererMask,e.skinJointsName=this.skinJointsName,e.skinInverseBindMatrices=this.skinInverseBindMatrices,e.mJointIndexTableBuffer=this.mJointIndexTableBuffer}nodeUpdate(A,e,t,i){for(let n=0;n<this.materials.length;n++){let s=this.materials[n].getPass(e);if(s)for(let o=0;o<s.length;o++){const u=s[o];!u.pipeline&&this.mSkeletonAnimation&&(u.setStorageBuffer("jointsMatrixIndexTable",this.mSkeletonAnimation.jointMatrixIndexTableBuffer),u.setStorageBuffer("jointsInverseMatrix",this.mInverseBindMatrixBuffer),u.setStorageBuffer("jointsIndexMapingTable",this.mJointIndexTableBuffer))}}super.nodeUpdate(A,e,t,i)}};Ha=P6([ri(Ha,"SkinnedMeshRenderer")],Ha);class F6{static apply(A,e,t){let i=e.extensions;if(i&&i.KHR_materials_clearcoat){t.shader.getDefaultColorShader().setDefine("USE_CLEARCOAT",!0);let n=i.KHR_materials_clearcoat;"clearcoatFactor"in n&&(e.clearcoatFactor=n.clearcoatFactor,t.clearcoatFactor=e.clearcoatFactor),"clearcoatRoughnessFactor"in n&&(e.clearcoatRoughnessFactor=n.clearcoatRoughnessFactor,t.clearcoatRoughnessFactor=e.clearcoatRoughnessFactor)}}}class N6{static apply(A,e,t){let i=e.extensions;i&&i.KHR_materials_emissive_strength?(t.emissiveIntensity=i.KHR_materials_emissive_strength.emissiveStrength*.5,t.emissiveMap==K.res.blackTexture&&(t.emissiveMap=K.res.whiteTexture)):t.emissiveIntensity=1}}class L6{static apply(A,e,t){let i=e.extensions;i&&i.KHR_materials_unlit?t.supportLight=!0:t.supportLight=!1}}class U6{constructor(A){a(this,"gltf");a(this,"subParser");a(this,"_testCount",8);a(this,"_hasCastShadow",!1);this.gltf=A.gltf,this.subParser=A}async convertNodeToObject3D(A,e){const t=new de;if(t.name=A.name,t[fe.GLTF_NODE_INDEX_PROPERTY]=A.nodeId,A.nodeObj=t,A.matrix&&(A.translation=[0,0,0],A.rotation=[0,0,0,1],A.scale=[1,1,1]),A.translation&&(t.transform.x=A.translation[0],t.transform.y=A.translation[1],t.transform.z=A.translation[2]),A.rotation){let i=new oe;i.setFromArray(A.rotation),t.transform.localRotQuat=i}if(A.scale&&(t.transform.scaleX=A.scale[0],t.transform.scaleY=A.scale[1],t.transform.scaleZ=A.scale[2]),e.addChild(t),A.light&&this.convertLight(A,t),A.primitives&&this.convertprimitives(A,t),A.skeleton){let i=t.addComponent(Xi);if(i){i.skeleton=this.subParser.parseSkeleton(A.skeleton.skeleton);for(let n=0;n<this.gltf.animations.length;n++){let s=this.gltf.animations[n];s.name||(s.name=n.toString());let o=this.subParser.parseSkeletonAnimation(i.skeleton,s);i.addAnimationClip(o)}}}return t}convertLight(A,e){switch(A.light.type){case"directional":let t=e.addComponent(_l);e.name=A.light.name,t.intensity=A.light.intensity*.1,t.radius=Number.MAX_SAFE_INTEGER,t.dirFix=-1,this._hasCastShadow||(this._hasCastShadow=!0,t.castShadow=this._hasCastShadow),t.lightColor=A.light.color?new fA(A.light.color[0],A.light.color[1],A.light.color[2]):new fA(1,1,1,1),t.debug();break;case"point":if(this._testCount>0){let n=e.addComponent(Sl);n.name=A.light.name,n.intensity=A.light.intensity?A.light.intensity*8*2:1,n.radius=8,n.at=2,n.range=A.light.range?A.light.range:8,n.lightColor=A.light.color?new fA(A.light.color[0],A.light.color[1],A.light.color[2]):new fA(1,1,1,1)}this._testCount--;break;case"spot":let i=e.addComponent(vl);i.name=A.light.name,i.intensity=A.light.intensity*5,i.radius=1,i.dirFix=-1,i.at=2,i.range=A.light.range?A.light.range:8,i.outerAngle=A.light.spot.outerConeAngle*yu,i.lightColor=A.light.color?new fA(A.light.color[0],A.light.color[1],A.light.color[2]):new fA(1,1,1,1);break}}convertprimitives(A,e){for(let t=0;t<A.primitives.length;t++){const i=A.primitives[t];i.modelName;let n=i.material;n.name==null&&(n.name=ii());let s,o=`matkey_${n.name}`;if(n&&this.gltf.resources[o])s=this.gltf.resources[o];else{let d=s=new ks;if(this.gltf.resources[o]=d,d.name=n.name,i.material){const{baseColorTexture:f,baseColorFactor:p,metallicFactor:y,roughnessFactor:_,doubleSided:g,metallicRoughnessTexture:m,normalTexture:E,occlusionTexture:w,emissiveTexture:L,emissiveFactor:T,enableBlend:R,alphaCutoff:P}=i.material;let F=d=this.applyMaterialExtensions(i.material,d);"enableBlend"in i.material&&(i.material.enableBlend?F.blendMode=ee.SOFT_ADD:F.blendMode=ee.NONE),"alphaCutoff"in i.material&&P>0&&P<1&&(F.setUniformFloat("alphaCutoff",P),F.blendMode=ee.NORMAL,F.transparent=!0),i.material.transformUV1&&F.setUniformVector4("uvTransform_1",i.material.transformUV1),i.material.transformUV2&&F.setUniformVector4("uvTransform_2",i.material.transformUV2),F.setUniformColor("baseColor",new fA(p[0],p[1],p[2],p[3])),F.setUniformFloat("roughness",_),F.setUniformFloat("metallic",y),F.setUniformFloat("ao",1),F.doubleSide=g,f&&F.setTexture("baseMap",f),E&&F.setTexture("normalMap",E),m&&F.setTexture("maskMap",m),w&&m!=w&&F.setTexture("aoMap",w),L&&F.setTexture("emissiveMap",L),T&&(T[0]>0||T[1]>0||T[2]>0)&&(F.shader.getTexture("emissiveMap")||F.shader.setTexture("emissiveMap",K.res.whiteTexture),F.setUniformColor("emissiveColor",new fA(T[0],T[1],T[2],T[3])))}}const{attribArrays:u,modelName:l,drawMode:c}=i;let h;if(!u.indices.data){let d=[],f=u.position.data.length/3/3;for(let p=0;p<f;p++){let y=p*3;d.push(y+2),d.push(y+0),d.push(y+1)}u.indices={data:new Uint8Array(d),normalize:!1,numComponents:1}}if(!u.normal){let d=[],f=u.position.data.length/3;for(let p=0;p<f;p++)d.push(0),d.push(0),d.push(0);u.normal={data:new Float32Array(d),normalize:!1,numComponents:3}}if(u.indices.data&&u.indices.data.length>3){let d=i.meshName();this.gltf.resources[d]?h=this.gltf.resources[d]:(h||(h=this.createGeometryBase(d,u,i)),this.gltf.resources[d]=h);const f=new de;if(f.name=l+t,this.gltf.animations&&u[pA.joints0]!=null){h||(h=this.createGeometryBase(l,u,i)),this.gltf.resources[d]=h;let p=this.gltf.nodes[A.skin.skeleton];if(p.dnode&&p.dnode.nodeObj){let _=p.dnode.nodeObj.addComponent(Xi);if(_){_.skeleton=this.subParser.parseSkeleton(A.skin.skeleton);for(let g=0;g<this.gltf.animations.length;g++){let m=this.gltf.animations[g];m.name||(m.name=g.toString());let E=this.subParser.parseSkeletonAnimation(_.skeleton,m);_.addAnimationClip(E)}}}else p.dnode.skeleton=A.skin;let y=f.addComponent(Ha);y.castShadow=!0,y.castGI=!0,y.geometry=h,y.material=s,y.skinJointsName=this.parseSkinJoints(A.skin),y.skinInverseBindMatrices=A.skin.inverseBindMatrices}else{h||(h=this.createGeometryBase(l,u,i)),this.gltf.resources[d]=h,h.hasAttribute(pA.joints0)&&h.vertexAttributeMap.delete(pA.joints0);let p=f.addComponent(he);p.castShadow=!0,p.castGI=!0,p.geometry=h,p.material=s}A.skin&&A.skin.defines,e.addChild(f)}}}createGeometryBase(A,e,t){let i=new ti;i.name=A,"indices"in e&&(e.indices.data.length>65535?e.indices.data=new Uint32Array(e.indices.data):e.indices.data=new Uint16Array(e.indices.data)),i.morphTargetsRelative=t.morphTargetsRelative;let n=t.targetNames;if(n&&n.length>0){let o=i.morphTargetDictionary={};for(let u=0;u<n.length;u++)o[n[u]]=u}if(i.morphTargetDictionary){let o=e.position.data.length/3,u=new Float32Array(o);for(let l=0;l<o;l++)u[l]=l;e.vIndex={data:u,normalize:!1,numComponents:1}}for(const o in e){let u=e[o];i.setAttribute(o,u.data)}let s=i.getAttribute(pA.indices);return i.addSubGeometry({indexStart:0,indexCount:s.data.length,vertexStart:0,index:0,vertexCount:0,firstStart:0,topology:0}),i}applyMaterialExtensions(A,e){return F6.apply(this.gltf,A,e),L6.apply(this.gltf,A,e),N6.apply(this.gltf,A,e),e}parseSkinJoints(A){let e=[];for(let t of A.joints){let i=this.gltf.nodes[t];e.push(i.name)}return e}}class tf{constructor(){a(this,"currentSceneName");a(this,"gltf");a(this,"initUrl");a(this,"_generator");a(this,"_version");a(this,"_BASE64_MARKER",";base64,");a(this,"_cameraParser",null);a(this,"_meshParser",null);a(this,"_materialParser",null);a(this,"_skinParser",null);a(this,"_skeletonParser",null);a(this,"_converter",null)}get version(){return this.version?this.version:this.gltf?this.gltf.asset?(this._version=this.gltf.asset.version,this.gltf.asset.minVersion&&(this._version+=`\r minVersion${this.gltf.asset.minVersion}`),this.version):this.errorMiss("asset"):(console.warn("glTF not loaded."),null)}async parse(A,e,t){this.gltf=e,this.initUrl=A;const{version:i,generator:n}=this.gltf.asset;if(this._generator=n,i!=="2.0")return console.error(`GLTFParser only support glTF 2.0 for now! Received glTF version: ${this.version}`),!1;const s={nodes:await this.parseScene(t),animations:this.parseAnimations(),name:this.currentSceneName};return await this.convertToNode(s)}destory(){sc.unload(this.gltf),this.gltf=null}async parseScene(A){const e=A||this.gltf.scene||0,t=this.gltf.scenes[e];if(typeof t>"u")return this.errorMiss("scene",e);this.currentSceneName=t.name||"GLTF_NO_NAME_SCENE";const i=[],n=t.nodes;for(let s=0;s<n.length;s++){const o=await this.parseNode(n[s]);o&&i.push(o)}return i}async parseNode(A){const e=this.gltf.nodes[A];if(!e)return this.errorMiss("node",A);if(e.isParsed)return e.dnode;const{name:t,matrix:i,translation:n,rotation:s,scale:o}=e,u={name:t,matrix:i,translation:n,rotation:s,scale:o,nodeId:A,camera:null,primitives:null,skin:null,children:null,light:null};if(e.camera!==void 0&&(u.camera=this.parseCamera(e.camera)),e.mesh!==void 0&&(u.primitives=await this.parseMesh(e.mesh)),e.extensions!==void 0&&this.applyNodeExtensions(e,u),e.skin!==void 0){const l=this.parseSkin(e.skin);l&&(u.skin=l)}if(u.children=[],e.children)for(let l=0;l<e.children.length;l++)u.children.push(await this.parseNode(e.children[l]));return e.dnode=u,e.isParsed=!0,e.dnode}errorMiss(A,e){throw new Error(A+e)}parseCamera(A){return this._cameraParser||(this._cameraParser=new c6(this.gltf)),this._cameraParser.parse(A)}async parseMesh(A){return this._meshParser||(this._meshParser=new h6(this)),this._meshParser.parse(A)}async parseTexture(A){let e=this.gltf.textures[A];if(e&&!e.dtexture){if(e&&e.source!=null){let t=this.gltf.images[e.source];if(t.uri){let i=t.uri;i=Ut.getURLName(i),e.dtexture=this.gltf.resources[i]}else if(t.bufferView){let i=this.parseBufferView(t.bufferView),n=new Hn,s=new Blob([i],{type:t.mimeType});await n.loadFromBlob(s),e.dtexture=n}else e.dtexture=this.gltf.resources[t.name]}else if(e.name){let t=Ut.getURLName(e.name);e.dtexture=this.gltf.resources[t]}}return e.dtexture||console.log("miss texture , please check texture!",A,e),e.dtexture}async parseMaterial(A){return this._materialParser||(this._materialParser=new d6(this)),this._materialParser.parse(A)}parseAnimations(){return[]}async parseObject3D(A,e){return this._converter||(this._converter=new U6(this)),this._converter.convertNodeToObject3D(A,e)}parseSkeleton(A){return this._skeletonParser||(this._skeletonParser=new Bg(this)),this._skeletonParser.parse(A)}parseSkeletonAnimation(A,e){return this._skeletonParser||(this._skeletonParser=new Bg(this)),this._skeletonParser.parseSkeletonAnimation(A,e)}async traverse(A,e){for(let t=0;t<e.length;t++){const i=await this.parseObject3D(e[t],A);await this.traverse(i,e[t].children)}}async convertToNode(A){const e=new de;e.name=A.name;const t=A.nodes;A.animations;const i=[],n=[];return await this.traverse(e,t),{rootNode:e,textures:i,animations:void 0,cameras:n}}parseSkin(A){return this._skinParser||(this._skinParser=new f6(this)),this._skinParser.parse(A)}parseAccessor(A){const e=this.gltf.accessors[A];if(!e)return this.errorMiss("accessor",A);if(e.isParsed)return e.daccessor;e.isParsed=!0,e.daccessor=!1;const t=!!e.normalized,i=this.gltf.bufferViews[e.bufferView],n=i&&i.byteStride,s=bg(e.componentType);let o=1;switch(e.type){case"SCALAR":o=1;break;case"VEC2":o=2;break;case"VEC3":o=3;break;case"VEC4":case"MAT2":o=4;break;case"MAT3":o=9;break;case"MAT4":o=16;break;default:o=0;break}if(o===0)return console.error(`glTF has unknown data type in accessor: ${e.type}`),!1;const u=o*s.BYTES_PER_ELEMENT;let l;if(i!==void 0){if(l=this.parseBufferView(e.bufferView),!l)return e.daccessor}else l=new Uint8Array(u*e.count).buffer;let c=this.getTypedArrayFromArrayBuffer(l,n,e.byteOffset||0,s,o,e.count);if(e.sparse){const{count:h,indices:d,values:f}=e.sparse;c=new s(c);const p=d.byteOffset||0,y=this.gltf.bufferViews[d.bufferView],_=bg(d.componentType),g=this.parseBufferView(d.bufferView),m=this.getTypedArrayFromArrayBuffer(g,y.byteStride,p,_,1,h),E=f.byteOffset||0,w=this.gltf.bufferViews[f.bufferView],L=this.parseBufferView(f.bufferView),T=this.getTypedArrayFromArrayBuffer(L,w.byteStride,E,s,o,h);for(let R=0;R<m.length;R++)c.set(T.slice(R*o,R*o+o),m[R]*o)}return e.computeResult={typedArray:c,arrayType:s,numComponents:o},e.daccessor={data:c,numComponents:o,normalize:t},e.daccessor}getTypedArrayFromArrayBuffer(A,e,t,i,n,s){let o;const u=n*i.BYTES_PER_ELEMENT;if(e&&u!==e){const l=n*s;o=new i(l);for(let c=0;c<s;c++){const h=new i(A,t+c*e,n);for(let d=0;d<n;d++)o[c*n+d]=h[d]}}else o=new i(A,t,s*n);return o}parseBufferView(A){const e=this.gltf.bufferViews[A];if(!e)return this.errorMiss("bufferView",A);if(e.isParsed)return e.dbufferView;e.isParsed=!0,e.dbufferView=!1;const t=this.parseBuffer(e.buffer);if(t){const{byteOffset:i,byteLength:n}=e,s=new Uint8Array(t,i||0,n);e.dbufferView=new Uint8Array(s).buffer}return e.dbufferView}parseBuffer(A){const e=this.gltf.buffers[A];if(!e)return this.errorMiss("buffer",A);if(e.isParsed)return e.dbuffer;if(e.isParsed=!0,e.dbuffer=!1,e.uri.substring(0,5)!=="data:"){const t=e.uri,i=this.gltf.resources[t];i?i.byteLength===e.byteLength?e.dbuffer=this.gltf.resources[t]:console.error(`load gltf resource "${t}" at buffers[${A} failed, ArrayBuffer.byteLength not equals buffer's byteLength]`):console.error(`load gltf resource "${t}" at buffers[${A}] failed`)}else{const t=e.uri.indexOf(this._BASE64_MARKER)+this._BASE64_MARKER.length,i=window.atob(e.uri.substring(t)),n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);e.dbuffer=n.buffer}return e.dbuffer}getLight(A){return this.gltf.extensions.KHR_lights_punctual.lights[A]}applyNodeExtensions(A,e){let t=A.extensions;t.KHR_lights_punctual&&this.gltf.extensions.KHR_lights_punctual&&(e.light=this.getLight(t.KHR_lights_punctual.light))}}class k6{constructor(){a(this,"magic");a(this,"version");a(this,"length")}}class z6{constructor(){a(this,"chunkLength");a(this,"chunkType");a(this,"chunkData")}}class f0 extends Qt{constructor(){super(...arguments);a(this,"_gltf")}async parseBuffer(e){let t=new Uint8Array(e);t.pos=0;const i=this.parseHeader(t);if(i.magic!=1179937895)return console.error("invalid GLB file"),!1;if(i.version!==2)return console.error(`GLBParser only support glTF 2.0 for now! Received glTF version: ${i.version}`),!1;let n=[];for(;t.pos<t.length;){let h=this.parseChunk(t);n.push(h)}if(n[0].chunkType!=1313821514)return console.error("invalid GLBChunk"),!1;let s="",o=65535,u=n[0].chunkData;for(let h=0;h<u.length;h+=o){let d=u.length-h;d=Math.min(d,o);let f=u.subarray(h,h+d);s+=String.fromCharCode(...f)}let l=JSON.parse(s);this._gltf=new Af,this._gltf={...this._gltf,...l},this._gltf.resources={};for(let h=0;h<this._gltf.buffers.length;h++){let d=this._gltf.buffers[h];d.isParsed=!0,d.dbuffer=n[h+1].chunkData.buffer}if(this._gltf.images)for(let h=0;h<this._gltf.images.length;h++){let d=this._gltf.images[h];d.name=d.name||"bufferView_"+d.bufferView.toString();const f=this._gltf.bufferViews[d.bufferView],p=this._gltf.buffers[f.buffer];let y=new Uint8Array(p.dbuffer,f.byteOffset,f.byteLength),_=new Blob([y],{type:d.mimeType}),g=new Hn;await g.loadFromBlob(_),g.name=d.name,this._gltf.resources[d.name]=g}let c=await new tf().parse(this.initUrl,this._gltf,this._gltf.scene);return c?(this.data=c.rootNode,c.rootNode):null}async parseJsonAndBuffer(e,t){this._gltf=new Af,this._gltf={...this._gltf,...e},this._gltf.resources={};let i=this._gltf.buffers[0];if(i.isParsed=!0,i.dbuffer=t,this._gltf.images)for(let s=0;s<this._gltf.images.length;s++){let o=this._gltf.images[s];o.name=o.name||"bufferView_"+o.bufferView.toString();const u=this._gltf.bufferViews[o.bufferView],l=this._gltf.buffers[u.buffer];let c=new Uint8Array(l.dbuffer,u.byteOffset,u.byteLength),h=new Blob([c],{type:o.mimeType}),d=new Hn;await d.loadFromBlob(h),d.name=o.name,this._gltf.resources[o.name]=d}let n=await new tf().parse(this.initUrl,this._gltf,this._gltf.scene);return n?(this.data=n.rootNode,n.rootNode):null}verification(){if(this.data)return!0;throw new Error("Method not implemented.")}parseHeader(e){let t=e.pos,i=new k6,n=new Uint32Array(e.buffer,t,3);return e.pos+=n.byteLength,i.magic=n[0],i.version=n[1],i.length=n[2],i}parseChunk(e){let t=e.pos,i=new z6,n=new Uint32Array(e.buffer,t,2);t=e.pos+=n.byteLength,i.chunkLength=n[0],i.chunkType=n[1],i.chunkData=new Uint8Array(e.buffer,t,i.chunkLength);const s=new Uint8Array(i.chunkLength);for(let o=0;o<i.chunkLength;o++)s[o]=i.chunkData[o];return i.chunkData=s,e.pos+=i.chunkLength,i}}a(f0,"format",nt.BIN);var G6=Object.defineProperty,V6=Object.getOwnPropertyDescriptor,Q6=(r,A,e,t)=>{for(var i=t>1?void 0:t?V6(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&G6(A,e,i),i};let rf=class extends Pr{constructor(){super();let r=new ot("PBRLItShader","PBRLItShader");r.setShaderEntry("VertMain","FragMain"),r.passType=QA.COLOR,this.addRenderPass(r);let A=r.shaderState;A.acceptShadow=!0,A.castShadow=!0,A.receiveEnv=!0,A.acceptGI=!0,A.useLight=!0,this.setDefine("USE_BRDF",!0),this.setDefine("USE_AO_R",!0),this.setDefine("USE_ROUGHNESS_G",!0),this.setDefine("USE_METALLIC_B",!0),this.setDefine("USE_ALPHA_A",!0),this.setDefault()}setDefault(){this.setUniformFloat("shadowBias",35e-5),this.setUniformVector4("transformUV1",new XA(0,0,1,1)),this.setUniformVector4("transformUV2",new XA(0,0,1,1)),this.setUniformColor("baseColor",new fA(.75,.75,.75,1)),this.setUniformColor("emissiveColor",new fA(0,0,0)),this.setUniformVector4("materialF0",new XA(.04,.04,.04,1)),this.setUniformColor("specularColor",new fA(.04,.04,.04)),this.setUniformFloat("envIntensity",1),this.setUniformFloat("normalScale",1),this.setUniformFloat("roughness",1),this.setUniformFloat("metallic",1),this.setUniformFloat("ao",1),this.setUniformFloat("roughness_min",0),this.setUniformFloat("roughness_max",1),this.setUniformFloat("metallic_min",0),this.setUniformFloat("metallic_max",1),this.setUniformFloat("emissiveIntensity",0),this.setUniformFloat("alphaCutoff",0),this.setUniformFloat("ior",1.5),this.setUniformFloat("clearcoatFactor",0),this.setUniformFloat("clearcoatRoughnessFactor",0),this.setUniformColor("clearcoatColor",new fA(1,1,1)),this.setUniformFloat("clearcoatWeight",0),this.baseMap=K.res.whiteTexture,this.normalMap=K.res.normalTexture,this.maskMap=K.res.maskTexture}get baseMap(){return this.getDefaultColorShader().getTexture("baseMap")}set baseMap(r){this.getDefaultColorShader().setTexture("baseMap",r)}get baseColor(){return this.getDefaultColorShader().getUniform("baseColor")}set baseColor(r){this.getDefaultColorShader().setUniformColor("baseColor",r)}get normalMap(){return this.getDefaultColorShader().getTexture("normalMap")}set normalMap(r){this.getDefaultColorShader().setTexture("normalMap",r)}get doubleSide(){return this.getDefaultColorShader().doubleSide}set doubleSide(r){this.getDefaultColorShader().doubleSide=r}get alphaCutoff(){return this.getDefaultColorShader().shaderState.alphaCutoff}set alphaCutoff(r){this.getDefaultColorShader().setDefine("USE_ALPHACUT",!0),this.getDefaultColorShader().shaderState.alphaCutoff=r,this.getDefaultColorShader().setUniform("alphaCutoff",r)}get emissiveColor(){return this.getDefaultColorShader().getUniform("emissiveColor")}set emissiveColor(r){this.getDefaultColorShader().setUniform("emissiveColor",r)}get emissiveIntensity(){return this.getDefaultColorShader().getUniform("emissiveIntensity")}set emissiveIntensity(r){this.getDefaultColorShader().setUniform("emissiveIntensity",r)}get uvTransform_1(){return this.getDefaultColorShader().uniforms.transformUV1.vector4}set uvTransform_1(r){this.getDefaultColorShader().setUniform("transformUV1",r)}get uvTransform_2(){return this.getDefaultColorShader().uniforms.transformUV2.vector4}set uvTransform_2(r){this.getDefaultColorShader().setUniform("transformUV2",r)}get depthWriteEnabled(){return this.getDefaultColorShader().shaderState.depthWriteEnabled}set depthWriteEnabled(r){this.getDefaultColorShader().shaderState.depthWriteEnabled=r}get materialF0(){return this.getDefaultColorShader().uniforms.materialF0.vector4}set materialF0(r){this.getDefaultColorShader().setUniform("materialF0",r)}get specularColor(){return this.getDefaultColorShader().uniforms.specularColor.color}set specularColor(r){this.getDefaultColorShader().setUniform("specularColor",r)}get roughness(){return this.getDefaultColorShader().uniforms.roughness.value}set roughness(r){this.getDefaultColorShader().setUniform("roughness",r)}get metallic(){return this.getDefaultColorShader().uniforms.metallic.value}set metallic(r){this.getDefaultColorShader().setUniform("metallic",r)}get ao(){return this.getDefaultColorShader().uniforms.ao.value}set ao(r){this.getDefaultColorShader().setUniform("ao",r)}get metallic_min(){return this.getDefaultColorShader().uniforms.metallic_min.value}set metallic_min(r){this.getDefaultColorShader().setUniform("metallic_min",r)}get metallic_max(){return this.getDefaultColorShader().uniforms.metallic_max.value}set metallic_max(r){this.getDefaultColorShader().setUniform("metallic_max",r)}get roughness_min(){return this.getDefaultColorShader().uniforms.roughness_min.value}set roughness_min(r){this.getDefaultColorShader().setUniform("roughness_min",r)}get roughness_max(){return this.getDefaultColorShader().uniforms.roughness_max.value}set roughness_max(r){this.getDefaultColorShader().setUniform("roughness_max",r)}get normalScale(){return this.getDefaultColorShader().uniforms.normalScale.value}set normalScale(r){this.getDefaultColorShader().setUniform("normalScale",r)}get maskMap(){return this.getDefaultColorShader().textures.maskMap}set maskMap(r){this.getDefaultColorShader().setDefine("USE_MR",!0),this.getDefaultColorShader().setTexture("maskMap",r)}set aoMap(r){r&&(this.getDefaultColorShader().setTexture("aoMap",r),r!=K.res.whiteTexture&&this.getDefaultColorShader().setDefine("USE_AOTEX",!0))}get aoMap(){return this.getDefaultColorShader().textures.aoMap}set clearCoatRoughnessMap(r){r&&(console.log("USE_CLEARCOAT_ROUGHNESS"),this.getDefaultColorShader().setTexture("clearCoatRoughnessMap",r),this.getDefaultColorShader().setDefine("USE_CLEARCOAT_ROUGHNESS",!0))}get clearCoatRoughnessMap(){return this.getDefaultColorShader().textures.clearCoatRoughnessMap}get brdfLUT(){return this.getDefaultColorShader().textures.brdfLUT}set brdfLUT(r){this.getDefaultColorShader().setTexture("brdfLUT",r),this.getDefaultColorShader().setTexture("brdflutMap",r)}get emissiveMap(){return this.getDefaultColorShader().textures.emissiveMap}set emissiveMap(r){this.getDefaultColorShader().setTexture("emissiveMap",r)}set envIntensity(r){this.getDefaultColorShader().setUniformFloat("envIntensity",r)}get envIntensity(){return this.getDefaultColorShader().uniforms.envIntensity.value}set ior(r){this.getDefaultColorShader().setUniformFloat("ior",r)}get ior(){return this.getDefaultColorShader().uniforms.ior.value}useCleanCoat(){this.getDefaultColorShader().setDefine("USE_CLEARCOAT",!0)}set clearcoatFactor(r){this.getDefaultColorShader().setUniformFloat("clearcoatFactor",r),this.useCleanCoat()}get clearcoatFactor(){return this.getDefaultColorShader().uniforms.clearcoatFactor.value}set clearcoatRoughnessFactor(r){this.getDefaultColorShader().setUniformFloat("clearcoatRoughnessFactor",r),this.useCleanCoat()}get clearcoatRoughnessFactor(){return this.getDefaultColorShader().uniforms.clearcoatRoughnessFactor.value}set clearcoatWeight(r){this.getDefaultColorShader().setUniformFloat("clearcoatWeight",r),this.useCleanCoat()}get clearcoatWeight(){return this.getDefaultColorShader().uniforms.clearcoatWeight.value}set clearcoatColor(r){this.getDefaultColorShader().setUniformColor("clearcoatColor",r),this.useCleanCoat()}get clearcoatColor(){return this.getDefaultColorShader().uniforms.clearcoatColor.color}};rf=Q6([$n],rf);class ks extends an{constructor(){super();let A=new rf;this.shader=A}clone(){let A=new ks,e=A.shader.getDefaultColorShader(),t=this.shader.getDefaultColorShader();return e.defineValue={...t.defineValue},e.setUniform("shadowBias",t.getUniform("shadowBias")),e.setUniform("transformUV1",t.getUniform("transformUV1")),e.setUniform("transformUV2",t.getUniform("transformUV2")),e.setUniform("baseColor",t.getUniform("baseColor")),e.setUniform("specularColor",t.getUniform("specularColor")),e.setUniform("emissiveColor",t.getUniform("emissiveColor")),e.setUniform("materialF0",t.getUniform("materialF0")),e.setUniform("envIntensity",t.getUniform("envIntensity")),e.setUniform("normalScale",t.getUniform("normalScale")),e.setUniform("roughness",t.getUniform("roughness")),e.setUniform("metallic",t.getUniform("metallic")),e.setUniform("ao",t.getUniform("ao")),e.setUniform("roughness_min",t.getUniform("roughness_min")),e.setUniform("roughness_max",t.getUniform("roughness_max")),e.setUniform("metallic_min",t.getUniform("metallic_min")),e.setUniform("metallic_max",t.getUniform("metallic_max")),e.setUniform("emissiveIntensity",t.getUniform("emissiveIntensity")),e.setUniform("alphaCutoff",t.getUniform("alphaCutoff")),e.setUniform("ior",t.getUniform("ior")),e.setUniform("clearcoatFactor",t.getUniform("clearcoatFactor")),e.setUniform("clearcoatRoughnessFactor",t.getUniform("clearcoatRoughnessFactor")),e.setUniform("clearcoatColor",t.getUniform("clearcoatColor")),e.setUniform("clearcoatWeight",t.getUniform("clearcoatWeight")),e.setTexture("baseMap",t.getTexture("baseMap")),e.setTexture("normalMap",t.getTexture("normalMap")),e.setTexture("emissiveMap",t.getTexture("emissiveMap")),e.setTexture("aoMap",t.getTexture("aoMap")),e.setTexture("maskMap",t.getTexture("maskMap")),A}set baseMap(A){this.shader.setTexture("baseMap",A)}get baseMap(){return this.shader.getTexture("baseMap")}set maskMap(A){this.shader.setTexture("maskMap",A)}get maskMap(){return this.shader.getTexture("maskMap")}set normalMap(A){this.shader.setTexture("normalMap",A)}get normalMap(){return this.shader.getTexture("normalMap")}set emissiveMap(A){this.shader.setTexture("emissiveMap",A)}get emissiveMap(){return this.shader.getTexture("emissiveMap")}set aoMap(A){this.shader.setTexture("aoMap",A)}get aoMap(){return this.shader.getTexture("aoMap")}set clearCoatRoughnessMap(A){this.shader.setTexture("clearCoatRoughnessMap",A),this.shader.setDefine("USE_CLEARCOAT",!0),this.shader.setDefine("USE_CLEARCOAT_ROUGHNESS",!0)}get clearCoatRoughnessMap(){return this.shader.getTexture("clearCoatRoughnessMap")}set clearcoatColor(A){this.shader.setUniformColor("clearcoatColor",A),this.shader.setDefine("USE_CLEARCOAT",!0)}get clearcoatColor(){return this.shader.getUniformColor("clearcoatColor")}set clearcoatWeight(A){this.shader.setUniformFloat("clearcoatWeight",A),this.shader.setDefine("USE_CLEARCOAT",!0)}get clearcoatWeight(){return this.shader.getUniformFloat("clearcoatWeight")}set clearcoatFactor(A){this.shader.setUniformFloat("clearcoatFactor",A),this.shader.setDefine("USE_CLEARCOAT",!0)}get clearcoatFactor(){return this.shader.getUniformFloat("clearcoatFactor")}set clearcoatRoughnessFactor(A){this.shader.setUniformFloat("clearcoatRoughnessFactor",A),this.shader.setDefine("USE_CLEARCOAT",!0)}get clearcoatRoughnessFactor(){return this.shader.getUniformFloat("clearcoatRoughnessFactor")}set alphaCutoff(A){this.shader.setUniform("alphaCutoff",A)}get alphaCutoff(){return this.shader.getUniform("alphaCutoff")}set baseColor(A){this.shader.setUniformColor("baseColor",A)}get baseColor(){return this.shader.getUniformColor("baseColor")}get roughness(){return this.shader.getUniformFloat("roughness")}set roughness(A){this.shader.setUniformFloat("roughness",A)}get metallic(){return this.shader.getUniformFloat("metallic")}set metallic(A){this.shader.setUniformFloat("metallic",A)}get emissiveColor(){return this.shader.getUniformColor("emissiveColor")}set emissiveColor(A){this.shader.setUniformColor("emissiveColor",A)}get emissiveIntensity(){return this.shader.getUniformFloat("emissiveIntensity")}set emissiveIntensity(A){this.shader.setUniformFloat("emissiveIntensity",A)}get ao(){return this.shader.getUniform("ao")}set ao(A){this.shader.setUniform("ao",A)}}class ey extends Qt{constructor(){super(...arguments);a(this,"textData","");a(this,"source_vertices");a(this,"source_normals");a(this,"source_tangents");a(this,"source_textureCoords");a(this,"matLibs");a(this,"geometrys");a(this,"activeGeo");a(this,"facesMaterialsIndex");a(this,"mtl");a(this,"mtlUrl")}async parseString(e){return this.source_vertices=[],this.source_normals=[],this.source_tangents=[],this.source_textureCoords=[],this.matLibs={},this.geometrys={},this.textData=e,await Promise.all([this.parserOBJ(),this.loadMTL()]),this.parser_mesh(),"null"}applyVector2(e,t,i){t[e]&&t[e].length>0?(i.push(t[e][0]),i.push(t[e][1])):(i.push(0),i.push(0))}applyVector3(e,t,i){i.push(t[e][0]),i.push(t[e][1]),i.push(t[e][2])}applyVector4(e,t,i){i.push(t[e][0]),i.push(t[e][1]),i.push(t[e][2]),i.push(t[e][3])}async loadMTL(){let e=await new Yt().loadTxt(this.baseUrl+this.mtlUrl),t=e.data,i,n=t.split(`\r
`);for(let u=0;u<n.length;u++){let l=n[u];var s=l.indexOf("#");s!=-1&&(l=l.substring(0,s)),l=l.trim();var o=l.split(/\s+/);o[0]==="newmtl"?(i={name:o[1]},this.matLibs[o[1]]=i):o[0].indexOf("map_")!=-1?(i[o[0]]=o[1],i.textures||(i.textures=[o[o.length-1]]),i.textures.push(o[o.length-1])):o.length==2?i[o[0]]=Number(o[1]):o.length==3?i[o[0]]=[Number(o[1]),Number(o[2])]:o.length==4&&(i[o[0]]=[Number(o[1]),Number(o[2]),Number(o[3])])}for(const u in this.matLibs){const l=this.matLibs[u];if(l.textures&&l.textures.length>0)for(let c=0;c<l.textures.length;c++){const h=Ut.normalizePath(this.baseUrl+l.textures[c]);await K.res.loadTexture(h)}}return e=null,!0}async load_textures(){}parserLine(e){var t=e.indexOf("#");if(t!=-1){if(e.indexOf("# object")!=-1){var i=e.split(/\s+/);let f=i[1],p=i[2];this.activeGeo={type:f,name:p[1],source_mat:"",source_faces:[]},this.geometrys[p]=this.activeGeo}e=e.substring(0,t)}e=e.trim();var i=e.split(/\s+/);if(i[0]==="v"){var n=[Number(i[1]),Number(i[2]),Number(i[3]),i[4]?1:Number(i[4])];this.source_vertices.push(n)}else if(i[0]==="vt"){var s=[Number(i[1]),Number(i[2]),i[3]?1:Number(i[3])];this.source_textureCoords.push(s)}else if(i[0]==="vn"){var o=[Number(i[1]),Number(i[2]),Number(i[3])];this.source_normals.push(o)}else if(i[0]==="f"){for(var u={indices:[],texture:[],normal:[]},l=1;l<i.length;++l){var c=i[l].indexOf("//"),h=i[l].split(/\W+/);c>0?(u.indices.push(h[0]),u.normal.push(h[1])):h.length===1?u.indices.push(h[0]):h.length===2?(u.indices.push(h[0]),u.texture.push(h[1])):h.length===3&&(u.indices.push(h[0]),u.texture.push(h[1]),u.normal.push(h[2]))}this.activeGeo.source_faces.push(u)}else i[0]==="usemtl"?this.activeGeo.source_mat=i[1]:i[0]==="mtllib"&&(this.mtlUrl=i[1])}async parserOBJ(){let e=this.textData.split(`\r
`);for(let t=0;t<e.length;t++){const i=e[t];this.parserLine(i)}return this.textData="",!0}async parser_mesh(){for(const e in this.geometrys){const t=this.geometrys[e];t.vertex_arr=[],t.normal_arr=[],t.uv_arr=[],t.indeice_arr=[];let i=0;for(let s=0;s<t.source_faces.length;s++){const o=t.source_faces[s];let u=parseInt(o.indices[0])-1,l=parseInt(o.indices[1])-1,c=parseInt(o.indices[2])-1,h=parseInt(o.normal[0])-1,d=parseInt(o.normal[1])-1,f=parseInt(o.normal[2])-1,p=parseInt(o.texture[0])-1,y=parseInt(o.texture[1])-1,_=parseInt(o.texture[2])-1;if(this.applyVector3(u,this.source_vertices,t.vertex_arr),this.applyVector3(h,this.source_normals,t.normal_arr),this.applyVector2(p,this.source_textureCoords,t.uv_arr),t.indeice_arr[i]=i++,this.applyVector3(l,this.source_vertices,t.vertex_arr),this.applyVector3(d,this.source_normals,t.normal_arr),this.applyVector2(y,this.source_textureCoords,t.uv_arr),t.indeice_arr[i]=i++,this.applyVector3(c,this.source_vertices,t.vertex_arr),this.applyVector3(f,this.source_normals,t.normal_arr),this.applyVector2(_,this.source_textureCoords,t.uv_arr),t.indeice_arr[i]=i++,o.indices.length>3){let g=parseInt(o.indices[3])-1,m=parseInt(o.normal[3])-1,E=parseInt(o.texture[3])-1;this.applyVector3(u,this.source_vertices,t.vertex_arr),this.applyVector3(h,this.source_normals,t.normal_arr),this.applyVector2(p,this.source_textureCoords,t.uv_arr),t.indeice_arr[i]=i++,this.applyVector3(c,this.source_vertices,t.vertex_arr),this.applyVector3(f,this.source_normals,t.normal_arr),this.applyVector2(_,this.source_textureCoords,t.uv_arr),t.indeice_arr[i]=i++,this.applyVector3(g,this.source_vertices,t.vertex_arr),this.applyVector3(m,this.source_normals,t.normal_arr),this.applyVector2(E,this.source_textureCoords,t.uv_arr),t.indeice_arr[i]=i++}}let n=new de;for(const s in this.geometrys){const o=this.geometrys[s];let u=new ti;u.setIndices(new Uint32Array(o.indeice_arr)),u.setAttribute(pA.position,new Float32Array(o.vertex_arr)),u.setAttribute(pA.normal,new Float32Array(o.normal_arr)),u.setAttribute(pA.uv,new Float32Array(o.uv_arr)),u.setAttribute(pA.TEXCOORD_1,new Float32Array(o.uv_arr)),u.addSubGeometry({indexStart:0,indexCount:o.indeice_arr.length,vertexStart:0,vertexCount:0,firstStart:0,index:0,topology:0});let l=new ks,c=this.matLibs[o.source_mat];l.baseMap=K.res.getTexture(Ut.normalizePath(this.baseUrl+c.map_Kd));let h=new de,d=h.addComponent(he);d.geometry=u,d.material=l,n.addChild(h)}this.data=n}}verification(){if(this.data)return!0;throw new Error("Method not implemented.")}}a(ey,"format",nt.TEXT);let H6=`
    struct ImageSize {
        srcWidth: i32,
            srcHeight : i32,
                dstWidth : i32,
                    dstHeight : i32,
    };

    @group(0) @binding(0) var<uniform>size : ImageSize;
    @group(0) @binding(1) var inputTexture: texture_2d<f32>;
    @group(0) @binding(2) var outputTexture: texture_storage_2d<rgba8unorm, write>;

    @compute @workgroup_size(8, 8, 1)
    fn main(@builtin(global_invocation_id) GlobalInvocationID : vec3<u32>) {
        var uv: vec2<f32> = vec2<f32>(f32(GlobalInvocationID.x) / f32(size.dstWidth), f32(GlobalInvocationID.y) / f32(size.dstHeight));
        uv = uv * vec2<f32>(f32(size.srcWidth), f32(size.srcHeight));
        var dstId: vec2<i32> = vec2<i32>(i32(GlobalInvocationID.x), i32(GlobalInvocationID.y));
        var srcId: vec2<i32> = vec2<i32>(i32(GlobalInvocationID.x * 2u), i32(GlobalInvocationID.y * 2u));
        textureStore(outputTexture, dstId, textureLoad(inputTexture, srcId, 0));
    }
`,j6=`
    struct ImageSize {
        srcWidth: i32,
            srcHeight : i32,
                dstWidth : i32,
                    dstHeight : i32,
    };

    @group(0) @binding(0) var<uniform>size : ImageSize;
    @group(0) @binding(1) var inputTexture: texture_2d<f32>;
    @group(0) @binding(2) var outputTexture: texture_storage_2d<rgba8unorm, write>;

    fn repeat_i32(id: i32, max: i32) -> i32 {
        var ret = id;
        if (id < 0) {
            ret = max + id;
        }
        if (id >= max) {
            ret = id - max;
        }
        return ret;
    }

    fn clamp_i32(id: i32, max: i32) -> i32 {
        var ret = id;
        if (id < 0) {
            ret = 0;
        }
        if (id >= max) {
            ret = max - 1;
        }
        return ret;
    }

    fn blur(idx: u32) -> vec4 < f32 > {
        var id: vec2<i32>;
        id.y = i32(idx) / size.srcWidth;
        id.x = i32(idx) - i32(id.y) * size.srcWidth;
        var _BlurSpread: i32 = 1;
        var result = vec4<f32>(0.0, 0.0, 0.0, 0.0);
        let g: array < f32, 3u > = array<f32, 3u > (0.4026, 0.2442, 0.0545);
        var uv: vec2<i32>;
        for(var h: i32 = 0; h< 5; h = h + 1) {
        let offsetU: i32 = (h - 2) * _BlurSpread;
        uv.x = id.x + offsetU;
        uv.x = clamp_i32(uv.x, size.srcWidth);
        for (var v: i32 = 0; v < 5; v = v + 1) {
            let offsetV: i32 = (v - 2) * _BlurSpread;
            uv.y = id.y + offsetV;
            uv.y = clamp(uv.y, 0, size.srcHeight);
            let weightU: i32 = abs(h - 2);
            let weightV: i32 = abs(v - 2);
            let resultWeight: f32 = g[weightU] * g[weightV];
            var colorf32: vec4<f32> = textureLoad(inputTexture, uv, 0);
            let sampleColor: vec4<f32> = vec4<f32>(colorf32 * resultWeight);
            result = result + sampleColor;
        }
    }

    return result;
    }

    @compute @workgroup_size(8, 8, 1)
    fn main(@builtin(global_invocation_id) GlobalInvocationID : vec3<u32>) {
        var uv: vec2<f32> = vec2<f32>(f32(GlobalInvocationID.x) / f32(size.dstWidth), f32(GlobalInvocationID.y) / f32(size.dstHeight));
        uv = uv * vec2<f32>(f32(size.srcWidth), f32(size.srcHeight));
        let srcIdx = i32(uv.y) * size.srcWidth + i32(uv.x);
        var dstId: vec2<i32> = vec2<i32>(i32(GlobalInvocationID.x), i32(GlobalInvocationID.y));
        textureStore(outputTexture, dstId, blur(u32(srcIdx)));
    }
`;class W6{static blurImageFromTexture(A,e,t,i){const n=iA.device;let s=i?j6:H6;const o=n.createComputePipeline({layout:"auto",compute:{module:n.createShaderModule({code:s}),entryPoint:"main"}}),u=4*4,l=n.createBuffer({size:u,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});n.queue.writeBuffer(l,0,new Uint32Array([A.width,A.height,e,t]));const c=n.createTexture({size:[e,t,1],mipLevelCount:1,format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,label:"blurImageFromTexture"});let h=[{binding:0,resource:{buffer:l,size:4*4}},{binding:1,resource:A.gpuTexture.createView({format:"rgba8unorm",dimension:"2d",baseMipLevel:0,mipLevelCount:1})},{binding:2,resource:c.createView({format:"rgba8unorm",dimension:"2d",baseMipLevel:0,mipLevelCount:1})}];const d=n.createBindGroup({layout:o.getBindGroupLayout(0),entries:h}),f=sA.beginCommandEncoder(),p=f.beginComputePass();return p.setPipeline(o),p.setBindGroup(0,d),p.dispatchWorkgroups(Math.floor(e/8),Math.floor(t/8)),p.end(),sA.endCommandEncoder(f),l.destroy(),c}}class p0 extends Tt{constructor(){super(4,4);a(this,"width",4);a(this,"height",4);a(this,"depthOrArrayLayers",6);a(this,"visibility",GPUShaderStage.FRAGMENT);a(this,"textureBindingLayout",{viewDimension:"cube",multisampled:!1});a(this,"samplerBindingLayout",{type:"filtering"});this.addressModeU=xr.clamp_to_edge,this.addressModeV=xr.clamp_to_edge,this.addressModeW=xr.clamp_to_edge,this.magFilter=this.minFilter="linear",this.mipmapFilter="linear",this.visibility=GPUShaderStage.FRAGMENT}createTextureDescriptor(e,t,i,n,s=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC|GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.RENDER_ATTACHMENT,o=1){this.width=e,this.height=t,this.format=n,this.usage=s,this.textureDescriptor={size:{width:e,height:t,depthOrArrayLayers:6},mipLevelCount:i,format:n,usage:s,dimension:"2d"},o>1?this.viewDescriptor={dimension:"cube-array"}:this.viewDescriptor={dimension:this.textureBindingLayout.viewDimension}}}const Cs=class Cs{static createFace(A,e,t,i){const n=iA.device;this.pipeline==null&&(this.pipeline=n.createComputePipeline({layout:"auto",compute:{module:n.createShaderModule({code:Cs.createCube}),entryPoint:"main"}}));const s=this.pipeline,o=4*4;this.configBuffer||(this.configBuffer=n.createBuffer({size:o,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST})),n.queue.writeBuffer(this.configBuffer,0,new Uint32Array([A,0,0,0])),this.blurSettingBuffer||(this.blurSettingBuffer=n.createBuffer({size:o,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST})),n.queue.writeBuffer(this.blurSettingBuffer,0,new Float32Array([0,0,0,0]));let u=[{binding:0,resource:{buffer:this.configBuffer,size:4*4}},{binding:1,resource:t.getGPUView()},{binding:2,resource:i.getGPUView()}];const l=n.createBindGroup({layout:s.getBindGroupLayout(0),entries:u}),c=sA.beginCommandEncoder(),h=c.beginComputePass();h.setPipeline(s),h.setBindGroup(0,l),h.dispatchWorkgroups(e/8,e/8),h.end(),sA.endCommandEncoder(c)}};a(Cs,"createCube",`

struct SettingUniform {
  faceIndex : i32,
  srcHeight : i32,
  dstWidth : i32,
  dstHeight : i32
};

@group(0) @binding(0) var<uniform> settingUniform : SettingUniform;
@group(0) @binding(1) var inputTex : texture_2d<f32>;
@group(0) @binding(2) var outTex : texture_storage_2d<rgba8unorm, write>;

@compute @workgroup_size(8, 8, 1)
fn main(@builtin(global_invocation_id) GlobalInvocationID : vec3<u32>) {
  let coord = vec2<i32>(GlobalInvocationID.xy);
  
  let outTexSize = textureDimensions(outTex).xy;
  let outTexel = 1.0 / vec2<f32>(outTexSize - 1);
  
  let uv_0 = vec2<f32>(coord) * outTexel;
  var oc = samplePixel(settingUniform.faceIndex, uv_0);
  textureStore(outTex, coord, oc);
}

fn samplePixel(face:i32, uv01:vec2<f32>) -> vec4<f32> {
    let rectangle_v2_f32 = round(vec2<f32>(0.25, 0.33333) * vec2<f32>(textureDimensions(inputTex).xy));
    let rectangle = vec2<i32>(rectangle_v2_f32);
    
    var offsetIndex = vec2<i32>(0);
    if(face == 0){
        offsetIndex.x = 2;
        offsetIndex.y = 1;
    }else if(face == 1){
        offsetIndex.x = 0;
        offsetIndex.y = 1;
    }else if(face == 2){
        offsetIndex.x = 1;
        offsetIndex.y = 0;
    }else if(face == 3){
        offsetIndex.x = 1;
        offsetIndex.y = 2;
    }else if(face == 4){
        offsetIndex.x = 1;
        offsetIndex.y = 1;
    }else if(face == 5){
        offsetIndex.x = 3;
        offsetIndex.y = 1;
    }
    
    let coordOffset = rectangle * offsetIndex;
    let coordIndex = vec2<i32>(vec2<f32>(rectangle - 1) * uv01);
    var oc = textureLoad(inputTex, coordOffset + coordIndex, 0);
    return oc;
}
`),a(Cs,"configBuffer",null),a(Cs,"blurSettingBuffer",null),a(Cs,"pipeline");let nf=Cs;class Tg extends p0{constructor(){super();a(this,"_images");a(this,"_url");this.useMipmap=!0}generateImages(e){let t=iA.device;this.width=this.height=32,"width"in e[0]&&(this.width=this.height=e[0].width);let i=Math.min(this.width,this.height);for(this.mipmapCount=1;i>16;)i/=2,this.mipmapCount++;this.textureBindingLayout.viewDimension="cube",this.samplerBindingLayout.type="filtering",this.createTextureDescriptor(this.width,this.height,this.mipmapCount,this.format),this.textureDescriptor.size={width:this.width,height:this.height,depthOrArrayLayers:6},this.textureDescriptor.dimension="2d",this.gpuTexture=this.getGPUTexture();let n=[],s=n,o=this.width,u=this.height;if(e[0]instanceof Tt){for(let l=0;l<6;l++){let c=e[l];n[l]=c.getGPUTexture()}this.uploadMipmapGPUTexture(0,this.width,this.width,n)}else{this.uploadBaseImages(this.width,e);for(let l=0;l<6;l++){let c=new Hn(!1);c.format=this.format,c.source=e[l],n[l]=c.getGPUTexture()}}for(let l=1;l<this.mipmapCount;l++){s=n,n=[];let c={width:o,height:u,gpuTexture:null};o=o/2,u=u/2;for(let h=0;h<6;h++)c.gpuTexture=s[h],n[h]=W6.blurImageFromTexture(c,o,u,!1);this.uploadMipmapGPUTexture(l,o,u,n)}this.gpuSampler=t.createSampler(this)}uploadBaseImages(e,t){let i=iA.device;const n=sA.beginCommandEncoder();for(let s=0;s<6;s++)i.queue.copyExternalImageToTexture({source:t[s]},{texture:this.gpuTexture,mipLevel:0,origin:{x:0,y:0,z:s}},{width:e,height:e,depthOrArrayLayers:1});sA.endCommandEncoder(n)}uploadMipmapGPUTexture(e,t,i,n){const s=sA.beginCommandEncoder();for(let o=0;o<6;o++)s.copyTextureToTexture({texture:n[o],mipLevel:0,origin:{x:0,y:0,z:0}},{texture:this.gpuTexture,mipLevel:e,origin:{x:0,y:0,z:o}},{width:t,height:i,depthOrArrayLayers:1});sA.endCommandEncoder(s)}get images(){return this._images}set images(e){if(this._images=e,this._images[0]instanceof HTMLImageElement){let t=function(o,u){u.decode().then(async()=>{i[o]=await createImageBitmap(u),n--,n==0&&s.generateImages(i)})},i=[],n=6,s=this;for(let o=0;o<6;o++)t(o,this._images[o])}else(this._images instanceof HTMLCanvasElement||this._images instanceof ImageBitmap)&&this.generateImages(this._images)}async load(e){this._url=e;let t=6,i=[];this.format=MA.rgba8unorm;let n=this;async function s(o,u){const l=document.createElement("img");if(l.src=u,l.setAttribute("crossOrigin",""),await l.decode(),i[o]=await createImageBitmap(l),t--,t==0)return n.generateImages(i),!0}for(let o=0;o<6;o++)await s(o,e[o]);return!0}async loadStd(e){this._url=e,this.format=MA.rgba8unorm;const t=document.createElement("img");t.src=e,t.setAttribute("crossOrigin",""),await t.decode();let i=new Hn(!1);i.name=Ut.getURLName(e),i.format="rgba8unorm",i.source=await createImageBitmap(t);let n=Math.round(Math.log2(i.width/4));n=Math.pow(2,n),this.width=this.height=n;let s=[];for(let o=0;o<6;o++){let u=new tn(n,n,this.format,!1,GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.TEXTURE_BINDING);u.name="face "+o,s.push(u),nf.createFace(o,this.width,i,u)}return this.generateImages(s),!0}}var Y6=(r=>(r[r.Left=0]="Left",r[r.Right=1]="Right",r[r.Bottom=2]="Bottom",r[r.Top=3]="Top",r[r.Back=4]="Back",r[r.Front=5]="Front",r))(Y6||{});class ty{static getRotationToFace(A){let e=oe.identity().clone(),t=new I,i=new NA().identity(),n=new I;switch(A){case 3:t.set(0,-1,0),n.set(0,0,-1);break;case 2:t.set(0,1,0),n.set(0,0,1);break;case 1:t.set(1,0,0),n.set(0,1,0);break;case 0:t.set(-1,0,0),n.set(0,1,0);break;case 4:t.set(0,0,-1),n.set(0,1,0);break;case 5:return oe.identity()}return i.lookAt(new I,t,n),e.setFromRotationMatrix(i),e}}let $6=`
  struct ImageSize {
    srcWidth : i32,
    srcHeight : i32,
    dstWidth : i32,
    dstHeight : i32
  };

  @group(0) @binding(0) var<uniform> size : ImageSize;
  @group(0) @binding(1) var<storage,read_write> faceRotation: array<vec4<f32>>;
  @group(0) @binding(2) var inputTexSampler : sampler;
  @group(0) @binding(3) var inputTex : texture_2d<f32>;

  @group(1) @binding(0) var outputBuffer0 : texture_storage_2d_array<rgba16float, write>;

  fn SampleSphericalMap(v: vec3<f32>) -> vec2<f32> {
      var uv:vec2<f32> = vec2<f32>(atan2(v.z, v.x), asin(v.y));
      //uv = (uv * (vec2<f32>(0.1590999960899353, 0.3183000087738037) + vec2<f32>(0.0010000000474974513)));
      uv = uv * vec2<f32>(0.1590999960899353, 0.3183000087738037);
      uv = uv + vec2<f32>(0.5);
      uv = clamp(uv, vec2<f32>(0.0), vec2<f32>(1.0));
      return uv;
  }


  fn applyQuaternion(position:vec3<f32>, q:vec4<f32>) -> vec3<f32>{
      let x:f32 = position.x;
      let y:f32 = position.y;
      let z:f32 = position.z;

      let qx:f32 = q.x;
      let qy:f32 = q.y;
      let qz:f32 = q.z;
      let qw:f32 = q.w;

      let ix:f32 = qw * x + qy * z - qz * y;
      let iy:f32 = qw * y + qz * x - qx * z;
      let iz:f32 = qw * z + qx * y - qy * x;
      let iw:f32 = -qx * x - qy * y - qz * z;

      var ret: vec3<f32>;
      ret.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
      ret.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
      ret.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;

      return ret;
  }

  fn convertIdToDir3(uv_i32:vec2<i32>, quaternion:vec4<f32>) -> vec3<f32>{
      var uv_f32:vec2<f32> = vec2<f32>(uv_i32.xy);
      var halfSize:f32 = f32(size.dstWidth / 2) - 0.5;
      var worldDirection:vec3<f32> = vec3<f32>(uv_f32.x - halfSize, uv_f32.y - halfSize, -halfSize);
      worldDirection = normalize(worldDirection);
      worldDirection = applyQuaternion(worldDirection, quaternion);
      return worldDirection;
  }

  @compute @workgroup_size(8, 8, 1)
  fn main(@builtin(global_invocation_id) GlobalInvocationID : vec3<u32>) {
    let coord = vec2<i32>(GlobalInvocationID.xy);
    let quaternion = faceRotation[GlobalInvocationID.z];
    var worldDirection:vec3<f32> = convertIdToDir3(coord, quaternion);
    let uv_f32:vec2<f32> = SampleSphericalMap(worldDirection);
    let oc = textureSampleLevel(inputTex, inputTexSampler, uv_f32 , 0.0);
    textureStore(outputBuffer0, coord, i32(GlobalInvocationID.z), oc);
  }
`,K6=`
  struct ImageSize {
    srcWidth : i32,
    srcHeight : i32,
    dstWidth : i32,
    dstHeight : i32
  };

  @group(0) @binding(0) var<uniform> size : ImageSize;
  @group(0) @binding(1) var<storage, read> tex_in: array<vec4<f32>>;
  @group(0) @binding(2) var outputBuffer : texture_storage_2d<rgba16float, write>;

  @compute @workgroup_size(8, 8, 1)
  fn main(@builtin(global_invocation_id) GlobalInvocationID : vec3<u32>) {
    let fragCoord = vec2<i32>(i32(GlobalInvocationID.x), i32(GlobalInvocationID.y));
    var oc:vec4<f32> = tex_in[fragCoord.y * size.srcWidth + fragCoord.x] / 256.0;
    var e = pow(2.0, oc.w * 255.0 - 128.0);
    oc = oc * e;
    oc = scaleByThreshold(oc, 40.0);
    textureStore(outputBuffer, fragCoord , vec4<f32>(oc.xyz, 1.0) );
  }

  fn scaleByThreshold(color:vec4<f32>, threshold:f32) -> vec4<f32>{
    var oc = color;
    let brightness = length(vec3<f32>(oc.xyz));
    var scale = brightness / threshold;
    if(scale > 1.0){
        scale = 1.0 / pow(scale, 0.7);
        oc = oc * scale;
    }
    oc.a = 1.0;
    return oc;
  }
`;const Je=class Je{static convertRGBE2RGBA(A,e){const t=iA.device,i=t.createComputePipeline({layout:"auto",compute:{module:t.createShaderModule({code:K6}),entryPoint:"main"}}),n=t.createBuffer({size:4*4,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});t.queue.writeBuffer(n,0,new Uint32Array([A.width,A.height,A.width,A.height]));const s=t.createBuffer({size:e.byteLength,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});t.queue.writeBuffer(s,0,e);let o=[{binding:0,resource:{buffer:n,size:4*4}},{binding:1,resource:{buffer:s,size:e.byteLength}},{binding:2,resource:A.getGPUView()}];const u=t.createBindGroup({layout:i.getBindGroupLayout(0),entries:o}),l=sA.beginCommandEncoder(),c=l.beginComputePass();c.setPipeline(i),c.setBindGroup(0,u),c.dispatchWorkgroups(Math.floor(A.width/8),Math.floor(A.height/8)),c.end(),sA.endCommandEncoder(l),n.destroy()}static makeTextureCube(A,e,t){const i=iA.device;Je.makeFaceTexturePipeline||(Je.makeFaceTexturePipeline=i.createComputePipeline({layout:"auto",compute:{module:i.createShaderModule({code:$6}),entryPoint:"main"}}));const n=Je.makeFaceTexturePipeline,s=4*4;Je.configBuffer||(Je.configBuffer=i.createBuffer({size:s,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST})),i.queue.writeBuffer(Je.configBuffer,0,new Uint32Array([A.width,A.height,e,e]));const o=4*6;if(!Je.quaternionBuffer){Je.quaternionBuffer=i.createBuffer({size:o*4*6,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST});let p=new Float32Array(4*6);for(let y=0;y<6;y++){let _=ty.getRotationToFace(y);p[y*4+0]=_.x,p[y*4+1]=_.y,p[y*4+2]=_.z,p[y*4+3]=_.w}i.queue.writeBuffer(Je.quaternionBuffer,0,p)}let u=[{binding:0,resource:{buffer:Je.configBuffer,size:4*4}},{binding:1,resource:{buffer:Je.quaternionBuffer,size:o*4}},{binding:2,resource:A.gpuSampler},{binding:3,resource:A.getGPUView()}],l=[{binding:0,resource:t}];const c=i.createBindGroup({layout:n.getBindGroupLayout(0),entries:u}),h=i.createBindGroup({layout:n.getBindGroupLayout(1),entries:l}),d=sA.beginCommandEncoder(),f=d.beginComputePass();f.setPipeline(n),f.setBindGroup(0,c),f.setBindGroup(1,h),f.dispatchWorkgroups(e/8,e/8,6),f.end(),sA.endCommandEncoder(d)}};a(Je,"makeFaceTexturePipeline"),a(Je,"configBuffer"),a(Je,"quaternionBuffer");let uu=Je;class ry extends Tt{constructor(){super(32,32,null),this.isHDRTexture=!0}create(A=32,e=32,t=null,i=!0){this.width=A,this.height=e;let n=iA.device;const s=A*4*2;let o=t;this.format=MA.rgba16float,this.useMipmap=i,this.updateTextureDescription(),this.updateGPUTexture();const u=n.createBuffer({size:o.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});n.queue.writeBuffer(u,0,o);const l=sA.beginCommandEncoder();return l.copyBufferToTexture({buffer:u,bytesPerRow:s},{texture:this.getGPUTexture()},{width:A,height:e,depthOrArrayLayers:1}),sA.endCommandEncoder(l),this.useMipmap||(this.samplerBindingLayout.type="filtering",this.textureBindingLayout.sampleType="float"),this.gpuSampler=n.createSampler(this),this}async load(A,e){return(await new Yt().load(A,ny,e)).getHDRTexture()}}const iy=new Float32Array(1),q6=new Int32Array(iy.buffer);let Pa=function(r){iy[0]=r;const A=q6[0];let e=A>>16&32768,t=A>>12&2047;const i=A>>23&255;return i<103?e:i>142?(e|=31744,e|=(i==255?1:0)&&A&8388607,e):i<114?(t|=2048,e|=(t>>114-i)+(t>>113-i&1),e):(e|=i-112<<10|t>>1,e+=t&1,e)};var X6=(r=>(r[r.RGBE_RETURN_FAILURE=-1]="RGBE_RETURN_FAILURE",r[r.rgbe_read_error=1]="rgbe_read_error",r[r.rgbe_write_error=2]="rgbe_write_error",r[r.rgbe_format_error=3]="rgbe_format_error",r[r.rgbe_memory_error=4]="rgbe_memory_error",r))(X6||{});class Dg{constructor(){a(this,"valid");a(this,"string");a(this,"comments");a(this,"programtype");a(this,"format");a(this,"gamma");a(this,"exposure");a(this,"width");a(this,"height")}}class ny extends Qt{constructor(){super(...arguments);a(this,"_rgbeArray");a(this,"_width");a(this,"_height");a(this,"_RGBE_RETURN_FAILURE",-1);a(this,"_parserType",MA.rgba8uint)}parseBuffer(e){let t,i=new Uint8Array(e);i.pos=0;const n=this.paserHeader(i);if(n instanceof Dg){const s=this._width=n.width,o=this._height=n.height;let u=this.parserPixel(i.subarray(i.pos),s,o);if(u instanceof Uint8Array){switch(this._rgbeArray=u,this._parserType){}return this.data=t,t}}return null}verification(){if(this.data&&this.data instanceof Tt||this._rgbeArray)return!0;throw new Error("Method not implemented.")}getTexture(){return this.data}getCubeTexture(){let e=this._width/4;return new sf().createFromHDRData(e,{width:this._width,height:this._height,array:this._rgbeArray})}getHDRTexture(){return new ry().create(this._width,this._height,this._rgbeArray)}parseError(e,t){switch(e){case 1:console.error("Read Error: "+(t||""));break;case 2:console.error("Write Error: "+(t||""));break;case 3:console.error("Bad File Format: "+(t||""));break;default:case 4:console.error("Error: "+(t||""))}return-1}parserBlock(e,t,i){t=t||1024;let n=e.pos,s=-1,o=0,u="",l=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));const c=`
`;for(;0>(s=l.indexOf(c))&&o<t&&n<e.byteLength;)u+=l,o+=l.length,n+=128,l+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));return-1<s?(i!==!1&&(e.pos+=o+s+1),u+l.slice(0,s)):!1}paserHeader(e){const t=/^#\?(\S+)/,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,n=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,o=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u=new Dg;let l,c;if(e.pos>=e.byteLength||!(l=this.parserBlock(e)))return this.parseError(1,"no header found");if(!(c=l.match(t)))return this.parseError(3,"bad initial token");const h=1,d=2,f=4;for(u.valid|=h,u.programtype=c[1],u.string+=l+`
`;l=this.parserBlock(e),l!==!1;){if(u.string+=l+`
`,l.charAt(0)==="#"){u.comments+=l+`
`;continue}if((c=l.match(i))&&(u.gamma=Math.floor(parseFloat(c[1])*10)/10),(c=l.match(n))&&(u.exposure=Math.floor(parseFloat(c[1])*10)/10),(c=l.match(s))&&(u.valid|=d,u.format=c[1]),(c=l.match(o))&&(u.valid|=f,u.height=parseInt(c[1],10),u.width=parseInt(c[2],10)),u.valid&d&&u.valid&f)break}return u.valid&d?u.valid&f?u:(this.parseError(3,"missing image size specifier"),null):(this.parseError(3,"missing format specifier"),null)}parserPixel(e,t,i){const n=t;if(n<8||n>32767||e[0]!==2||e[1]!==2||e[2]&128)return new Uint8Array(e);if(n!==(e[2]<<8|e[3]))return this.parseError(3,"wrong scanline width");const s=new Uint8Array(4*t*i);if(!s.length)return this.parseError(4,"unable to allocate buffer space");let o=0,u=0;const l=4*n,c=new Uint8Array(4),h=new Uint8Array(l);let d=i;for(;d>0&&u<e.byteLength;){if(u+4>e.byteLength)return this.parseError(1,"");if(c[0]=e[u++],c[1]=e[u++],c[2]=e[u++],c[3]=e[u++],c[0]!=2||c[1]!=2||(c[2]<<8|c[3])!=n)return this.parseError(3,"bad rgbe scanline format");let f=0,p;for(;f<l&&u<e.byteLength;){p=e[u++];const _=p>128;if(_&&(p-=128),p===0||f+p>l)return this.parseError(3,"bad scanline data");if(_){const g=e[u++];for(let m=0;m<p;m++)h[f++]=g}else h.set(e.subarray(u,u+p),f),f+=p,u+=p}const y=n;for(let _=0;_<y;_++){let g=0;s[o]=h[_+g],g+=n,s[o+1]=h[_+g],g+=n,s[o+2]=h[_+g],g+=n,s[o+3]=h[_+g],o+=4}d--}return s}rbgeToFloat(e,t,i,n){const s=e[t+3],o=Math.pow(2,s-128)/255;i[n+0]=e[t+0]*o,i[n+1]=e[t+1]*o,i[n+2]=e[t+2]*o,i[n+3]=1}rbgeToHalfFloat(e,t,i,n){const s=e[t+3],o=Math.pow(2,s-128)/255;i[n+0]=Pa(e[t+0]*o),i[n+1]=Pa(e[t+1]*o),i[n+2]=Pa(e[t+2]*o),i[n+3]=Pa(1)}}let J6=`
    struct ImageSize {
        srcWidth : i32,
        srcHeight : i32,
        dstWidth : i32,
        dstHeight : i32
    };
    
    @group(0) @binding(0) var<uniform> size : ImageSize;
    @group(0) @binding(1) var<storage,read_write> faceRotation: array<vec4<f32>>;
    @group(0) @binding(2) var inputTexSampler : sampler;
    @group(0) @binding(3) var inputTex : texture_2d<f32>;
    
    @group(1) @binding(0) var<uniform> blurSetting : vec4<f32>;
    @group(1) @binding(1) var outputBuffer0 : texture_storage_2d_array<rgba16float, write>;
    
    var<private> PI: f32 = 3.14159265359;
    
    fn applyQuaternion(position:vec3<f32>, q:vec4<f32>) -> vec3<f32>{
        let x:f32 = position.x;
        let y:f32 = position.y;
        let z:f32 = position.z;
    
        let qx:f32 = q.x;
        let qy:f32 = q.y;
        let qz:f32 = q.z;
        let qw:f32 = q.w;
    
        let ix:f32 = qw * x + qy * z - qz * y;
        let iy:f32 = qw * y + qz * x - qx * z;
        let iz:f32 = qw * z + qx * y - qy * x;
        let iw:f32 = -qx * x - qy * y - qz * z;
    
        var ret: vec3<f32>;
        ret.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
        ret.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
        ret.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
    
        return ret;
    }
    
    fn convertIdToDir3(uv_i32:vec2<i32>, quaternion:vec4<f32>) -> vec3<f32>{
        var uv_f32:vec2<f32> = vec2<f32>(uv_i32.xy);
        var halfSize:f32 = f32(size.dstWidth / 2);
        var worldDirection:vec3<f32> = vec3<f32>(uv_f32.x - halfSize, uv_f32.y - halfSize, -halfSize);
        worldDirection = normalize(worldDirection);
        worldDirection = applyQuaternion(worldDirection, quaternion);
        return worldDirection;
    }
    
    fn VanDerCorpus(n0:u32, base0:u32) -> f32
    {
        var n = n0;
        var base = base0;
        var invBase:f32 = 1.0 / f32(base);
        var denom:f32   = 1.0;
        var result:f32  = 0.0;
    
        for(var i:u32 = 0u; i < 32u; i = i + 1u)
        {
            if(n > 0u)
            {
                denom   = f32(n) % 2.0;
                result = result + denom * invBase;
                invBase = invBase / 2.0;
                n       = u32(f32(n) / 2.0);
            }
        }
    
        return result;
    }
    
    fn HammersleyNoBitOps(i:u32, N:u32) -> vec2<f32>
    {
        return vec2(f32(i)/f32(N), VanDerCorpus(i, 2u));
    }
    
    fn hammersley( i : u32 ,  N : u32 ) -> vec2<f32>
    {
        // Radical inverse based on http://holger.dammertz.org/stuff/notes_HammersleyOnHemisphere.html
        var bits = (i << 16u) | (i >> 16u);
        bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
        bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
        bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
        bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
        var rdi = f32(bits) * 2.3283064365386963e-10;
        return vec2<f32>(f32(i) /f32(N), rdi);
    }
    
    fn ImportanceSampleGGX( Xi:vec2<f32>, N:vec3<f32>, roughness:f32) ->vec3<f32>
    {
        var a = roughness*roughness;
    
        var phi = 2.0 * PI * Xi.x;
        var cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a*a - 1.0) * Xi.y));
        var sinTheta = sqrt(1.0 - cosTheta*cosTheta);
    
        // from spherical coordinates to cartesian coordinates
        var H:vec3<f32>;
        H.x = cos(phi) * sinTheta;
        H.y = sin(phi) * sinTheta;
        H.z = cosTheta;
    
        // from tangent-space vector to world-space sample vector
        var up:vec3<f32>;
        if(abs(N.z) < 0.999)
        {
            up = vec3<f32>(0.0, 0.0, 1.0);
        }
        else
        {
            up = vec3<f32>(1.0, 0.0, 0.0);
        }
        var tangent:vec3<f32>  = normalize(cross(up, N));
        var bitangent:vec3<f32> = cross(N, tangent);
        var sampleVec:vec3<f32> = tangent * H.x + bitangent * H.y + N * H.z;
        return normalize(sampleVec);
    }
    
    fn multiSample(localPos:vec3<f32>, roughness:f32) -> vec4<f32>
    {
        var N: vec3<f32> = normalize(localPos);
        var R: vec3<f32> = N;
        var V: vec3<f32> = R;
    
        let SAMPLE_COUNT:u32 = 1024u;
        var totalWeight:f32 = 0.0;
        var prefilteredColor:vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
        for(var i:u32 = 0u; i < SAMPLE_COUNT; i = i + 1u)
        {
            var Xi:vec2<f32> = hammersley(i, SAMPLE_COUNT);
            var H :vec3<f32> = ImportanceSampleGGX(Xi, N, roughness);
            var L :vec3<f32> = normalize(2.0 * dot(V, H) * H - V);
    
            var NdotL:f32 = max(dot(N, L), 0.0);
            if(NdotL > 0.0)
            {
                var att = 1.0 ;//( f32(SAMPLE_COUNT - i) / f32(SAMPLE_COUNT)) ;
    
                prefilteredColor = prefilteredColor + sampleColor(L).rgb * NdotL;
                prefilteredColor = prefilteredColor * att ;
                totalWeight      = totalWeight + NdotL;
            }
        }
        prefilteredColor = prefilteredColor / totalWeight;
    
        return vec4<f32>(prefilteredColor, 1.0);
    }
    
    fn SampleSphericalMap(v: vec3<f32>) -> vec2<f32> {
        var uv:vec2<f32> = vec2<f32>(atan2(v.z, v.x), asin(v.y));
        //uv = (uv * (vec2<f32>(0.1590999960899353, 0.3183000087738037) + vec2<f32>(0.0010000000474974513)));
        uv = uv * vec2<f32>(0.1590999960899353, 0.3183000087738037);
        uv = uv + vec2<f32>(0.5);
        uv = clamp(uv, vec2<f32>(0.0), vec2<f32>(1.0));
        return uv;
    }
    
    fn sampleColor(d:vec3<f32>) -> vec4<f32>
    {
        let uv_f32:vec2<f32> = SampleSphericalMap(d);
        let oc = textureSampleLevel(inputTex, inputTexSampler, uv_f32 , 0.0);
        //let dir = vec3<f32>(-d.x, -d.y, d.z);
        //var oc:vec4<f32> = textureSampleLevel(cubeMap, cubeMapSampler, dir, 0.0);
        return oc;
    }
    
    @compute @workgroup_size(8, 8, 1)
    fn main(@builtin(global_invocation_id) GlobalInvocationID : vec3<u32>) {
        let coord = vec2<i32>(GlobalInvocationID.xy);
        let quaternion = faceRotation[GlobalInvocationID.z];
        var worldDirection:vec3<f32> = convertIdToDir3(coord, quaternion);
        var oc:vec4<f32> = multiSample(worldDirection, blurSetting.x);
        textureStore(outputBuffer0, coord, i32(GlobalInvocationID.z), oc);
    }

`;class Fa{static importantSample(A,e,t,i){const n=iA.device;this.pipeline==null&&(this.pipeline=n.createComputePipeline({layout:"auto",compute:{module:n.createShaderModule({code:J6}),entryPoint:"main"}}));const s=this.pipeline,o=4*4;this.configBuffer||(this.configBuffer=n.createBuffer({size:o,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST})),n.queue.writeBuffer(this.configBuffer,0,new Uint32Array([A.width,A.height,e,e]));const u=4*6;if(!this.quaternionBuffer){this.quaternionBuffer=n.createBuffer({size:u*4*6,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST});let _=new Float32Array(4*6);for(let g=0;g<6;g++){let m=ty.getRotationToFace(g);_[g*4+0]=m.x,_[g*4+1]=m.y,_[g*4+2]=m.z,_[g*4+3]=m.w}n.queue.writeBuffer(this.quaternionBuffer,0,_)}this.blurSettingBuffer||(this.blurSettingBuffer=n.createBuffer({size:o,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST})),n.queue.writeBuffer(this.blurSettingBuffer,0,new Float32Array([t,0,0,0]));const l=A.erpTexture;let c=[{binding:0,resource:{buffer:this.configBuffer,size:4*4}},{binding:1,resource:{buffer:this.quaternionBuffer,size:u*4}},{binding:2,resource:l.gpuSampler},{binding:3,resource:l.getGPUView()}],h=[{binding:0,resource:{buffer:this.blurSettingBuffer,size:4*4}},{binding:1,resource:i}];const d=n.createBindGroup({layout:s.getBindGroupLayout(0),entries:c}),f=n.createBindGroup({layout:s.getBindGroupLayout(1),entries:h}),p=sA.beginCommandEncoder(),y=p.beginComputePass();y.setPipeline(s),y.setBindGroup(0,d),y.setBindGroup(1,f),y.dispatchWorkgroups(e/8,e/8,6),y.end(),sA.endCommandEncoder(p)}}a(Fa,"configBuffer",null),a(Fa,"quaternionBuffer",null),a(Fa,"blurSettingBuffer",null),a(Fa,"pipeline");class sy{constructor(A){a(this,"faceTextureRef");a(this,"_texture");this._texture=A,this.faceTextureRef={}}uploadTexture(A,e){let t=this.getGpuSource(A);return uu.makeTextureCube(e,this._texture.width,t.v),this}uploadErpTexture(A){let e=this.getGpuSource(0);return uu.makeTextureCube(A,this._texture.width,e.v),this.generateMipmap(A),this}getGpuSource(A){let e=this.faceTextureRef[A];return e||(e={t:this._texture.getGPUTexture(),v:this._texture.getGPUTexture().createView({format:this._texture.format,dimension:"2d-array",baseMipLevel:A,mipLevelCount:1,arrayLayerCount:6})},this.faceTextureRef[A]=e),e}generateMipmap(A){let e=1;for(;e<this._texture.mipmapCount;)this.generateMipmapAtLevel(e,A),e++}generateMipmapAtLevel(A,e,t=3){let i=this._texture.width/Math.pow(2,A),n={width:i,height:i,erpTexture:e},s=(A+1)/this._texture.mipmapCount;s=Math.pow(s,t);let o=this.getGpuSource(A);Fa.importantSample(n,i,s,o.v)}}class sf extends p0{constructor(){super();a(this,"_url");a(this,"_faceData");this.useMipmap=!0,this.format=MA.rgba16float,this.isHDRTexture=!0,this._faceData=new sy(this)}createFromHDRData(e,t){let i=new tn(t.width,t.height,MA.rgba16float,!1,GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.TEXTURE_BINDING),n=new Float32Array(t.array);return uu.convertRGBE2RGBA(i,n),this.createFromTexture(e,i),this}createFromTexture(e,t){this.width=this.height=e,this.textureBindingLayout.viewDimension="cube";let i=this.width;for(this.mipmapCount=1;i>16;)i/=2,this.mipmapCount++;return this.createTextureDescriptor(e,e,this.mipmapCount,this.format),this.textureDescriptor.size={width:e,height:e,depthOrArrayLayers:6},this.textureDescriptor.dimension="2d",this.gpuSampler=iA.device.createSampler(this),this._faceData.uploadErpTexture(t),this}async load(e,t){return this._url=e,(await new Yt().load(e,ny,t)).getCubeTexture()}}function Z6(r){return new TextDecoder().decode(r)}class g0{constructor(A,e,t,i){a(this,"buffer");a(this,"binOffset");a(this,"binLength");a(this,"header");this.buffer=A,this.binOffset=e+t,this.binLength=i;let n=null;if(t!==0){const s=new Uint8Array(A,e,t);n=JSON.parse(Z6(s))}else n={};this.header=n}getKeys(){return Object.keys(this.header)}getData(A,e,t=null,i=null){const n=this.header;if(!(A in n))return null;const s=n[A];if(s instanceof Object){if(Array.isArray(s))return s;{const{buffer:o,binOffset:u,binLength:l}=this,c=s.byteOffset||0,h=s.type||i,d=s.componentType||t;if("type"in s&&i&&s.type!==i)throw new Error("FeatureTable: Specified type does not match expected type.");let f;switch(h){case"SCALAR":f=1;break;case"VEC2":f=2;break;case"VEC3":f=3;break;case"VEC4":f=4;break;default:throw new Error(`FeatureTable : Feature type not provided for "${A}".`)}let p;const y=u+c,_=e*f;switch(d){case"BYTE":p=new Int8Array(o,y,_);break;case"UNSIGNED_BYTE":p=new Uint8Array(o,y,_);break;case"SHORT":p=new Int16Array(o,y,_);break;case"UNSIGNED_SHORT":p=new Uint16Array(o,y,_);break;case"INT":p=new Int32Array(o,y,_);break;case"UNSIGNED_INT":p=new Uint32Array(o,y,_);break;case"FLOAT":p=new Float32Array(o,y,_);break;case"DOUBLE":p=new Float64Array(o,y,_);break;default:throw new Error(`FeatureTable : Feature component type not provided for "${A}".`)}if(y+_*p.BYTES_PER_ELEMENT>u+l)throw new Error("FeatureTable: Feature data read outside binary body length.");return p}}else return s}}class oy extends g0{constructor(e,t,i,n,s){super(e,i,n,s);a(this,"batchSize");this.batchSize=t}getData(e,t=null,i=null){return super.getData(e,this.batchSize,t,i)}}function ay(r){let A;if(r instanceof DataView?A=r:A=new DataView(r),String.fromCharCode(A.getUint8(0))==="{")return null;let e="";for(let t=0;t<4;t++)e+=String.fromCharCode(A.getUint8(t));return e}class AI{async parse(A){const e=new DataView(A),t=ay(e);console.assert(t==="b3dm");const i=e.getUint32(4,!0);console.assert(i===1);const n=e.getUint32(8,!0);console.assert(n===A.byteLength);const s=e.getUint32(12,!0),o=e.getUint32(16,!0),u=e.getUint32(20,!0),l=e.getUint32(24,!0),c=28,h=new g0(A,c,s,o),d=c+s+o,f=new oy(A,h.getData("BATCH_LENGTH"),d,u,l),p=d+u+l,y=new Uint8Array(A,p,n-p);return{version:i,featureTable:h,batchTable:f,glbBytes:y}}}const _s=class _s extends AI{constructor(){super();a(this,"adjustmentTransform");a(this,"gltfBuffer");this.adjustmentTransform=new NA().identity(),_s.tempMatrix||(_s.tempMatrix=new NA().identity())}async parse(e){const t=await super.parse(e);this.gltfBuffer=t.glbBytes.slice().buffer;let i=await new cy().parseBinary(this.gltfBuffer),{batchTable:n,featureTable:s}=t;const o=s.getData("RTC_CENTER");o&&(i.x+=o[0],i.y+=o[1],i.z+=o[2]);let u=i.getComponent(Si);u.updateWorldMatrix();let l=_s.tempMatrix;l.compose(u.localPosition,u.localRotQuat,u.localScale),l.multiply(this.adjustmentTransform);let c=l.decompose(_i.QUATERNION);return u.localRotQuat.copyFrom(c[1]),u.localRotQuat=u.localRotQuat,u.localPosition.copyFrom(c[0]),u.localPosition=u.localPosition,u.localScale.copyFrom(c[2]),u.localScale=u.localScale,u.updateWorldMatrix(),i.batchTable=n,i.featureTable=s,i}static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,n=e.length;i<n;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}};a(_s,"tempMatrix");let zs=_s;class uy extends Qt{async parseBuffer(A){let e=new zs;e.adjustmentTransform=this.userData,this.data=await e.parse(A)}verification(){if(this.data)return!0;throw new Error("Method not implemented.")}}a(uy,"format",nt.JSON);const ly="glTF",ma=12,xg={JSON:1313821514,BIN:5130562},of={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class eI{constructor(A){a(this,"name");a(this,"content");a(this,"body");a(this,"header");this.name=of.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(A,0,ma);if(this.header={magic:zs.decodeText(new Uint8Array(A.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==ly)throw new Error("GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("GLTFLoader: Legacy binary file detected.");const t=this.header.length-ma,i=new DataView(A,ma);let n=0;for(;n<t;){const s=i.getUint32(n,!0);n+=4;const o=i.getUint32(n,!0);if(n+=4,o===xg.JSON){const u=new Uint8Array(A,ma+n,s);this.content=zs.decodeText(u)}else if(o===xg.BIN){const u=ma+n;this.body=A.slice(u,u+s)}n+=s}if(this.content===null)throw new Error("GLTFLoader: JSON content not found.")}}class cy{constructor(){a(this,"_binary")}async parseBinary(A){this._binary=A;const e=zs.decodeText(new Uint8Array(this._binary,0,4)),t={};let i,n;if(e===ly){try{n=t[of.KHR_BINARY_GLTF]=new eI(this._binary)}catch{return}i=t[of.KHR_BINARY_GLTF].content}else i=zs.decodeText(new Uint8Array(this._binary));const s=JSON.parse(i);return await this.parseGLB(s,n.body)}async parseGLB(A,e){return await new f0().parseJsonAndBuffer(A,e)}}class tI{async parse(A){const e=new DataView(A),t=ay(e);console.assert(t==="i3dm");const i=e.getUint32(4,!0);console.assert(i===1);const n=e.getUint32(8,!0);console.assert(n===A.byteLength);const s=e.getUint32(12,!0),o=e.getUint32(16,!0),u=e.getUint32(20,!0),l=e.getUint32(24,!0);e.getUint32(28,!0);const c=32,h=new g0(A,c,s,o),d=c+s+o,f=new oy(A,h.getData("INSTANCES_LENGTH"),d,u,l),p=d+u+l,y=new Uint8Array(A,p,n-p);return{version:i,featureTable:h,batchTable:f,glbBytes:y}}}class rI extends de{constructor(e,t,i){super();a(this,"_geometry");a(this,"_material");a(this,"_instanceList");this._geometry=e,this._material=t,this._instanceList=[];for(let n=0;n<i;n++){let s,o=new de;s=o.addComponent(he),s.geometry=this._geometry,s.material=this._material,this.addChild(o),this._instanceList.push(o)}}setMatrixAt(e,t){let i=this._instanceList[e],n=t.decompose(_i.QUATERNION),s=i.transform;return s.localRotQuat.copyFrom(n[1]),s.localRotQuat=s.localRotQuat,s.localPosition.copyFrom(n[0]),s.localPosition=s.localPosition,s.localScale.copyFrom(n[2]),s.localScale=s.localScale,this}}const se=class se extends tI{constructor(){super();a(this,"adjustmentTransform");a(this,"_gltfBuffer");se.tempFwd||(se.tempFwd=new I),se.tempUp||(se.tempUp=new I),se.tempRight||(se.tempRight=new I),se.tempPos||(se.tempPos=new I),se.tempQuat||(se.tempQuat=new oe),se.tempSca||(se.tempSca=new I),se.tempMat||(se.tempMat=new NA),this.adjustmentTransform=new NA().identity()}async parse(e){const t=await super.parse(e);this._gltfBuffer=t.glbBytes.slice().buffer;let i=await new cy().parseBinary(this._gltfBuffer),{batchTable:n,featureTable:s}=t;const o=this.adjustmentTransform,u=s.getData("INSTANCES_LENGTH"),l=s.getData("POSITION",u,"FLOAT","VEC3"),c=s.getData("NORMAL_UP",u,"FLOAT","VEC3"),h=s.getData("NORMAL_RIGHT",u,"FLOAT","VEC3"),d=s.getData("SCALE_NON_UNIFORM",u,"FLOAT","VEC3"),f=s.getData("SCALE",u,"FLOAT","SCALAR"),p=new Map,y=[];i.traverse(m=>{let E;if(E=m?m.getComponent(he):null,E){const{geometry:w,material:L}=E,T=new rI(w,L,u);T.localPosition=T.localPosition.copy(m.localPosition),T.localRotation=T.localRotation.copy(m.localRotation),T.localScale=T.localScale.copy(m.localScale),y.push(T),p.set(m,T)}});const _=new I;for(let m=0;m<u;m++)_.x+=l[m*3+0]/u,_.y+=l[m*3+1]/u,_.z+=l[m*3+2]/u;p.forEach((m,E)=>{const w=E.parent?E.parentObject:null;w&&(w.removeChild(E),w.addChild(m),m.transform.updateWorldMatrix(),m.transform.worldMatrix.transformVector4(_,m.localPosition))});const g=se;for(let m=0;m<u;m++){g.tempMat.identity(),g.tempPos.set(l[m*3+0]-_.x,l[m*3+1]-_.y,l[m*3+2]-_.z),c?(g.tempUp.set(c[m*3+0],c[m*3+1],c[m*3+2]),g.tempRight.set(h[m*3+0],h[m*3+1],h[m*3+2]),g.tempRight.crossProduct(g.tempUp,g.tempFwd).normalize(),g.tempMat.makeBasis(g.tempRight,g.tempUp,g.tempFwd),g.tempQuat.setFromRotationMatrix(g.tempMat)):g.tempQuat.set(0,0,0,1),f?g.tempSca.setScalar(f[m]):d?g.tempSca.set(d[m*3+0],d[m*3+1],d[m*3+2]):g.tempSca.set(1,1,1),g.tempMat.compose(g.tempPos,g.tempQuat,g.tempSca),g.tempMat.multiplyMatrices(g.tempMat,o);for(let E=0,w=y.length;E<w;E++)y[E].setMatrixAt(m,g.tempMat)}return i.batchTable=n,i.featureTable=s,i}};a(se,"tempFwd"),a(se,"tempUp"),a(se,"tempRight"),a(se,"tempPos"),a(se,"tempQuat"),a(se,"tempSca"),a(se,"tempMat");let af=se;class hy extends Qt{async parseBuffer(A){let e=new af;e.adjustmentTransform=this.userData,this.data=await e.parse(A)}verification(){if(this.data)return!0;throw new Error("Method not implemented.")}}a(hy,"format",nt.BIN);class dy extends p0{constructor(){super();a(this,"_faceData");a(this,"_url");this.useMipmap=!0,this.format=MA.rgba16float,this._faceData=new sy(this)}get ldrImageUrl(){return this._url}async load(e,t){this._url=e;let i=new Hn(!1);return await i.load(e,t),this.createFromLDRTexture(i),this}createFromLDRTexture(e){let t=Math.log2(e.width/4);return t=Math.pow(2,Math.round(t)),this.createFromTexture(t,e),this}createFromTexture(e,t){this.width=this.height=e,this.textureBindingLayout.viewDimension="cube";let i=this.width;for(this.mipmapCount=1;i>16;)i/=2,this.mipmapCount++;return this.createTextureDescriptor(e,e,this.mipmapCount,this.format),this.textureDescriptor.size={width:e,height:e,depthOrArrayLayers:6},this.textureDescriptor.dimension="2d",this.gpuSampler=iA.device.createSampler(this),this._faceData.uploadErpTexture(t),this}}let iI=`
var<private>PI: f32 = 3.141592653589793;

// fn saturate( x : f32 ) -> f32 {
//     return clamp(x, 0.0, 1.0);
// }

fn hammersley(i : u32, N : u32) -> vec2<f32>
{
    // Radical inverse based on http://holger.dammertz.org/stuff/notes_HammersleyOnHemisphere.html
    var bits = (i << 16u) | (i >> 16u);
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
    var rdi = f32(bits) * 2.3283064365386963e-10;
    return vec2<f32>(f32(i) / f32(N), rdi);
}

fn G_Smith(NoV: f32, NoL : f32, roughness : f32) -> f32
{
    var k = (roughness * roughness) / 2.0;
    var GGXL = NoL / (NoL * (1.0 - k) + k);
    var GGXV = NoV / (NoV * (1.0 - k) + k);
    return GGXL * GGXV;
}

fn V_SmithGGXCorrelated(NoV: f32, NoL : f32, roughness : f32) -> f32
{
    var a2 = pow(roughness, 4.0);
    var GGXV = NoL * sqrt(NoV * NoV * (1.0 - a2) + a2);
    var GGXL = NoV * sqrt(NoL * NoL * (1.0 - a2) + a2);
    return 0.5 / (GGXV + GGXL);
}


// Based on Karis 2014
fn importanceSampleGGX(Xi: vec2<f32>, roughness: f32, N: vec3<f32>) -> vec3<f32>
{
    var a = roughness * roughness;
    // Sample in spherical coordinates
    var Phi = 2.0 * PI * Xi.x;
    var CosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));
    var SinTheta = sqrt(1.0 - CosTheta * CosTheta);
    // Construct tangent space vector
    var H: vec3<f32>;
    H.x = SinTheta * cos(Phi);
    H.y = SinTheta * sin(Phi);
    H.z = CosTheta;

    // Tangent to world space
    var UpVector = vec3<f32>(1.0, 0.0, 0.0);
    if (abs(N.z) < 0.999) {
        UpVector = vec3<f32>(0.0, 0.0, 1.0);
    }
    var TangentX = normalize(cross(UpVector, N));
    var TangentY = cross(N, TangentX);
    return TangentX * H.x + TangentY * H.y + N * H.z;
}


// Karis 2014
fn integrateBRDF(roughness: f32, NoV: f32) -> vec2<f32>
{
    var V: vec3<f32>;
    V.x = sqrt(1.0 - NoV * NoV); // sin
    V.y = 0.0;
    V.z = NoV; // cos

    // N points straight upwards for this integration
    var N = vec3<f32>(0.0, 0.0, 1.0);

    var A = 0.0;
    var B = 0.0;
    var numSamples = 1024u;

    for (var i = 0u; i < numSamples; i += 1u) {
        var Xi = hammersley(i, numSamples);
        // Sample microfacet direction
        var H = importanceSampleGGX(Xi, roughness, N);

        // Get the light direction
        var L = 2.0 * dot(V, H) * H - V;

        var NoL = saturate(dot(N, L));
        var NoH = saturate(dot(N, H));
        var VoH = saturate(dot(V, H));

        if (NoL > 0.0) {
            var V_pdf = V_SmithGGXCorrelated(NoV, NoL, roughness) * VoH * NoL / NoH;
            var Fc = pow(1.0 - VoH, 5.0);
            A += (1.0 - Fc) * V_pdf;
            B += Fc * V_pdf;
        }
    }

    return 4.0 * vec2<f32>(A, B) / f32(numSamples);
}

@group(0) @binding(0) var brdflutTexture: texture_storage_2d<rgba8unorm, write>;
@compute @workgroup_size(8, 8, 1)
// fn CsMain( @builtin(workgroup_id) workgroup_id : vec3<u32> , @builtin(local_invocation_id) local_invocation_id : vec3<u32> ){
fn CsMain(@builtin(global_invocation_id) global_invocation_id : vec3<u32>){
    var fragCoord = vec2<u32>(global_invocation_id.x, global_invocation_id.y);

    var fragColor = vec4<f32>(0.0);
    // Output to screen
    var res = integrateBRDF(f32(fragCoord.y + 1u) / 256.0, f32(fragCoord.x + 1u) / 256.0);
    fragColor = vec4<f32>(res.x, res.y, 0.0, 1.0);

    textureStore(brdflutTexture, vec2<i32>(fragCoord.xy), fragColor);
}
`;class nI{constructor(){a(this,"compute");this.compute=new Ii(iI)}generateBRDFLUTTexture(){let A=new tn(256,256,MA.rgba8unorm,!1,GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.TEXTURE_BINDING);this.compute.setStorageTexture("brdflutTexture",A),this.compute.workerSizeX=256/8,this.compute.workerSizeY=256/8;let e=sA.beginCommandEncoder();return sA.computeCommand(e,[this.compute]),sA.endCommandEncoder(e),A}}class sI extends Tt{constructor(){super(...arguments);a(this,"_dataBuffer")}create(e,t,i,n=!1){let s=iA.device;const o=Math.ceil(e*4/256)*256;this.format=MA.rgba8unorm,this.mipmapCount=Math.floor(n?Math.log2(e):1),this.createTextureDescriptor(e,t,this.mipmapCount,this.format);const u=this._dataBuffer=s.createBuffer({size:i.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});s.queue.writeBuffer(u,0,i);const l=sA.beginCommandEncoder();return l.copyBufferToTexture({buffer:u,bytesPerRow:o},{texture:this.getGPUTexture()},{width:e,height:t,depthOrArrayLayers:1}),sA.endCommandEncoder(l),n&&Us.webGPUGenerateMipmap(this),this}updateTexture(e,t,i){let n=iA.device;const s=Math.ceil(e*4/256)*256;this.mipmapCount=Math.floor(Math.log2(e)),this._dataBuffer&&this._dataBuffer.destroy(),this._dataBuffer=null;const o=this._dataBuffer=n.createBuffer({size:i.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});n.queue.writeBuffer(o,0,i);const u=sA.beginCommandEncoder();u.copyBufferToTexture({buffer:o,bytesPerRow:s},{texture:this.getGPUTexture()},{width:e,height:t,depthOrArrayLayers:1}),sA.endCommandEncoder(u),this.gpuSampler=n.createSampler(this),this.mipmapCount>1&&Us.webGPUGenerateMipmap(this)}}class ac{constructor(A){a(this,"id");a(this,"guiTexture");a(this,"uvRec",new XA(0,0,1,1));a(this,"uvBorder",new XA(0,0,0,0));a(this,"offsetSize",new XA(0,0,4,4));a(this,"borderSize",new XA(0,0,0,0));a(this,"trimSize",new Ge);a(this,"isSliced",!1);a(this,"height",4);a(this,"width",4);a(this,"xadvance",0);a(this,"xoffset",0);a(this,"yoffset",0);this.guiTexture=A||K.res.defaultGUITexture}}const Xa=class Xa{constructor(A){a(this,"_staticId",-1);a(this,"dynamicId",-1);a(this,"texture");a(this,"width",1);a(this,"height",1);A||(A=K.res.whiteTexture),this.texture=A,Xa._maxUid++,this._staticId=Xa._maxUid,this.init()}get staticId(){return this._staticId}init(){this.dynamicId=-1,this.width=this.texture.width,this.height=this.texture.height}};a(Xa,"_maxUid",-1);let lu=Xa;class oI{constructor(){a(this,"fntCache",{});a(this,"fntData",{})}addFontData(A,e,t){this.fntData[`${A}${e}`]=t}getFontData(A,e){return this.fntData[`${A}${e}`]}addFnt(A,e,t,i){let n=`${A}${e}`;this.fntCache[n]||(this.fntCache[n]={}),this.fntCache[n][t]=i}getFnt(A,e,t){let i=`${A}${e}`,n=this.fntCache[i];return n?n[t]:this.fntCache[" "]}}let uf=new oI;class aI{constructor(){a(this,"face","");a(this,"size",0);a(this,"bold",!1);a(this,"italic",!1);a(this,"stretchH",0);a(this,"spacing","");a(this,"outline",0);a(this,"lineHeight",0);a(this,"base",0);a(this,"scaleW",0);a(this,"scaleH",0);a(this,"pages",0);a(this,"packed",0);a(this,"alphaChnl",0);a(this,"redChnl",0);a(this,"greenChnl",0);a(this,"blueChnl",0);a(this,"count",0);a(this,"fontPage",[]);a(this,"fontChar",{})}}class uI{constructor(){a(this,"id",0);a(this,"file","")}}class lI{constructor(){a(this,"id",-1);a(this,"x",0);a(this,"y",0);a(this,"width",0);a(this,"height",0);a(this,"xoffset",0);a(this,"yoffset",0);a(this,"xadvance",0);a(this,"page",0);a(this,"chnl",0)}}const Ui=class Ui extends Qt{static parseSprite(A,e){for(const t in e.fontChar)if(Object.prototype.hasOwnProperty.call(e.fontChar,t)){const i=e.fontChar[t];let n=new ac;n.id=i.id.toString(),n.offsetSize.set(0,0,i.width,i.height),n.trimSize.set(i.width,i.height),n.width=i.width,n.height=i.height,n.xadvance=i.xadvance,n.xoffset=i.xoffset,n.yoffset=i.yoffset,n.guiTexture=A[i.page],n.uvRec.set(i.x/e.scaleW,(e.scaleH-(i.y+i.height))/e.scaleH,i.width/e.scaleW,i.height/e.scaleH),uf.addFnt(e.face,e.size,n.id,n)}}verification(){if(this.data)return!0;throw new Error("Method not implemented.")}async parseString(A){let e=this.getNewLine(A),t=A,i=new aI;t.trim().split(e).forEach((n,s)=>{if(s<2)Ui.readLineProperty(n,i);else if(s<i.pages+2){let o=new uI;Ui.readLineProperty(n,o),i.fontPage.push(o)}else if(s<i.pages+3)Ui.readLineProperty(n,i);else if(i.count>0){let o=new lI;Ui.readLineProperty(n,o),i.fontChar[o.id]=o,i.count--}}),t="",this.data=i,await this.loadFontTextures()}getNewLine(A){return A.indexOf(`\r
`)!=-1?`\r
`:A.indexOf("\r")!=-1?"\r":`
`}async loadFontTextures(){let A=[],e=this.data;for(const t of e.fontPage){let i=this.baseUrl+t.file;await K.res.loadTexture(i,null,!0);let n=K.res.getTexture(i),s=new lu(n);A.push(s)}Ui.parseSprite(A,e),e.fontChar[" "]||Ui.insertSpaceChar(e,A[0])}static insertSpaceChar(A,e){let t=new ac,i=A.size*.5,n=A.lineHeight*.5;t.id=" ",t.offsetSize.set(0,0,A.size,A.size),t.trimSize.set(i,n),t.width=i,t.height=n,t.xadvance=0,t.xoffset=0,t.yoffset=0,t.guiTexture=e,t.uvRec.set(0,0,1e-6,1e-6),uf.addFnt(A.face,A.size,t.id,t)}static readLineProperty(A,e){A.trim().split(" ").forEach((t,i)=>{let n=t.split("=");if(n.length>1){let s=n[0],o=n[1];Object.prototype.hasOwnProperty.call(e,s)&&(o.indexOf('"')==-1?e[s]=parseFloat(n[1]):e[s]=o.replace('"',"").replace('"',""))}})}};a(Ui,"format",nt.TEXT);let lf=Ui;function cI(r,A,e){let t=new ac;t.guiTexture=r,t.id=A,t.uvRec.copyFrom(e.textureRect),t.trimSize.x=e.textureRect.z,t.trimSize.y=e.textureRect.w,t.offsetSize.x=e.textureRectOffset.x,t.offsetSize.y=e.textureRectOffset.y,t.offsetSize.z=e.size.x,t.offsetSize.w=e.size.y,t.width=e.size.x,t.height=e.size.y;let i=1/r.width,n=1/r.height;t.uvRec.set(t.uvRec.x*i,t.uvRec.y*n,t.uvRec.z*i,t.uvRec.w*n);let s=.1;return e.border.x<=s&&e.border.y<=s&&e.border.z<=s&&e.border.x<=s?t.isSliced=!1:(t.borderSize.copyFrom(e.border),t.uvBorder.copyFrom(e.border),t.uvBorder.x-=e.textureRectOffset.x,t.uvBorder.y-=e.textureRectOffset.y,t.uvBorder.z=e.border.z-(e.size.x-e.textureRect.z-e.textureRectOffset.x),t.uvBorder.w=e.border.w-(e.size.y-e.textureRect.w-e.textureRectOffset.y),t.uvBorder.x/=e.textureRect.z,t.uvBorder.z/=e.textureRect.z,t.uvBorder.y/=e.textureRect.w,t.uvBorder.w/=e.textureRect.w,t.isSliced=!0),t}class hI{constructor(A){a(this,"_spriteMap",new Map);a(this,"_spriteList",[]);a(this,"textureSize",new Ge);a(this,"name");this.textureSize.set(A.x,A.y)}setTexture(A,e,t){let i=cI(A,e,t);return this._spriteMap.set(i.id,i),this._spriteList.push(i),i}getSprite(A){return this._spriteMap.get(A)}get spriteList(){return this._spriteList}}class fy extends Qt{constructor(){super(...arguments);a(this,"_json");a(this,"_texture")}async parseString(e){this._json=JSON.parse(e);let t=this.userData.replace(".json",".png");this._texture=await K.res.loadTexture(t,null,!0),this.data={json:this._json,texture:this._texture},this.parseAtlas()}verification(){if(this.data)return!0;throw new Error("verify failed.")}parseAtlas(){let e=new hI(this._json.size),t=new lu(this._texture),i=this._json.atlas;for(const n in i)e.setTexture(t,n,i[n]);K.res.addAtlas(this.baseUrl,e),this.data=e}}a(fy,"format",nt.TEXT);class dI{constructor(){a(this,"_texturePool");a(this,"_materialPool");a(this,"_prefabPool");a(this,"_gltfPool");a(this,"_geometryPool");a(this,"_atlasList");a(this,"_obj");a(this,"normalTexture");a(this,"maskTexture");a(this,"whiteTexture");a(this,"blackTexture");a(this,"redTexture");a(this,"blueTexture");a(this,"greenTexture");a(this,"yellowTexture");a(this,"grayTexture");a(this,"defaultSky");a(this,"defaultGUITexture");a(this,"defaultGUISprite");a(this,"defaultMaterial");this._texturePool=new Map,this._materialPool=new Map,this._prefabPool=new Map,this._geometryPool=new Map,this._gltfPool=new Map,this._atlasList=new Map,this._obj=new Map}getGltf(A){return this._gltfPool.get(A)}addObj(A,e){this._obj.set(A,e)}getObj(A){return this._obj.get(A)}addTexture(A,e){this._texturePool.set(A,e)}getTexture(A){return this._texturePool.get(A)}addGeometry(A,e){this._geometryPool.set(A,e)}getGeometry(A){return this._geometryPool.get(A)}addMat(A,e){return this._materialPool.set(A,e)}getMat(A){return this._materialPool.get(A)}addPrefab(A,e){this._prefabPool.set(A,e)}getPrefab(A){return this._prefabPool.get(A).instantiate()}addAtlas(A,e){e.name=A,this._atlasList.set(A,e)}getAtlas(A){return this._atlasList.get(A)}getGUISprite(A){for(let e of this._atlasList.values()){let t=e.getSprite(A);if(t)return t}return null}async load(A,e,t){return(await new Yt().load(A,e,t)).data}async loadGltf(A,e){if(this._prefabPool.has(A))return this._prefabPool.get(A);let t,i=A.substring(A.lastIndexOf(".")).toLowerCase(),n=new Yt;i==".gltf"?t=await n.load(A,Nt,e):t=await n.load(A,f0,e);let s=t.data;return this._prefabPool.set(A,s),this._gltfPool.set(A,t.gltf),s}async loadObj(A,e){if(this._prefabPool.has(A))return this._prefabPool.get(A);let t,i=A.substring(A.lastIndexOf(".")).toLowerCase(),n=new Yt;i==".obj"&&(t=await n.load(A,ey,e));let s=t.data;return this._prefabPool.set(A,s),s}async loadB3DM(A,e,t){if(this._prefabPool.has(A))return this._prefabPool.get(A);let i=(await new Yt().load(A,uy,e,t)).data;return this._prefabPool.set(A,i),i}async loadI3DM(A,e,t){if(this._prefabPool.has(A))return this._prefabPool.get(A);let i=(await new Yt().load(A,hy,e,t)).data;return this._prefabPool.set(A,i),i}async loadTexture(A,e,t){if(this._texturePool.has(A))return this._texturePool.get(A);let i=new Hn;return i.flipY=t,await i.load(A,e),this._texturePool.set(A,i),i}async loadTextureCount(A,e,t,i){return new Promise(async(n,s)=>{let o=0,u=[];e==0&&n(u);for(let l=0;l<e;l++){const c=A.shift();this.loadTexture(c,t,i).then(h=>{u.push(h),o++,o==e&&n(u)})}})}async loadBitmapTextures(A,e=5,t,i){let n=[],s=Math.floor(A.length/e)+1,o=Math.floor(A.length%e);for(let u=0;u<s;u++){let l=await this.loadTextureCount(A,u==s-1?o:e,t,i);n.push(...l)}return n}async loadHDRTexture(A,e){if(this._texturePool.has(A))return this._texturePool.get(A);let t=new ry;return t=await t.load(A,e),this._texturePool.set(A,t),t}async loadHDRTextureCube(A,e){if(this._texturePool.has(A))return this._texturePool.get(A);let t=new sf;return t=await t.load(A,e),this._texturePool.set(A,t),t}async loadLDRTextureCube(A,e){if(this._texturePool.has(A))return this._texturePool.get(A);let t=new dy;return t=await t.load(A,e),this._texturePool.set(A,t),t}async loadTextureCubeMaps(A){let e=A[0];if(this._texturePool.has(e))return this._texturePool.get(e);let t=new Tg;return await t.load(A),this._texturePool.set(A[0],t),t}async loadTextureCubeStd(A,e){if(this._texturePool.has(A))return this._texturePool.get(A);let t=new Tg;return await t.loadStd(A),t}async loadJSON(A,e){return await new Yt().loadJson(A,e).then(async t=>t).catch(t=>{console.log(t)})}async loadFont(A,e,t){let i=await new Yt().load(A,lf,e,t),n=i.data;return uf.addFontData(n.face,n.size,n),i.data}async loadAtlas(A,e){return(await new Yt().load(A,fy,e,A)).data}createTexture(A,e,t,i,n,s,o){let u=32,l=32,c=new Uint8Array(u*l*4);this.fillColor(c,A,e,t,i,n,s);let h=new sI;return h.name=o,h.create(16,16,c,!0),o&&this.addTexture(o,h),h}fillColor(A,e,t,i,n,s,o){for(let u=0;u<e;u++)for(let l=0;l<t;l++){let c=l*e+u;A[c*4+0]=i,A[c*4+1]=n,A[c*4+2]=s,A[c*4+3]=o}}initDefault(){this.normalTexture=this.createTexture(32,32,255*.5,255*.5,255,255,"default-normalTexture"),this.maskTexture=this.createTexture(32,32,255,255*.5,255,255,"default-maskTexture"),this.whiteTexture=this.createTexture(32,32,255,255,255,255,"default-whiteTexture"),this.blackTexture=this.createTexture(32,32,0,0,0,255,"default-blackTexture"),this.redTexture=this.createTexture(32,32,255,0,0,255,"default-redTexture"),this.blueTexture=this.createTexture(32,32,0,0,255,255,"default-blueTexture"),this.greenTexture=this.createTexture(32,32,0,255,0,255,"default-greenTexture"),this.yellowTexture=this.createTexture(32,32,0,255,255,255,"default-yellowTexture"),this.grayTexture=this.createTexture(32,32,128,128,128,255,"default-grayTexture");let A=new nI().generateBRDFLUTTexture(),e=A.name="BRDFLUT";this.addTexture(e,A),this.defaultSky=new sf,this.defaultSky.createFromTexture(128,this.blackTexture),te.getInstance().attached(this.defaultSky,this),te.getInstance().attached(A,this),te.getInstance().attached(this.normalTexture,this),te.getInstance().attached(this.maskTexture,this),te.getInstance().attached(this.whiteTexture,this),te.getInstance().attached(this.blackTexture,this),te.getInstance().attached(this.redTexture,this),te.getInstance().attached(this.blueTexture,this),te.getInstance().attached(this.greenTexture,this),te.getInstance().attached(this.yellowTexture,this),te.getInstance().attached(this.grayTexture,this),this.defaultGUITexture=new lu(this.whiteTexture),this.defaultGUISprite=new ac(this.defaultGUITexture),this.defaultGUISprite.trimSize.set(4,4),this.defaultMaterial=new ks}}class go extends Jd{constructor(){super();let A=iA.presentationSize;CA.register("FXAA_Shader",vI);let e=this.createRTTexture("FXAAPost",A[0],A[1],MA.rgba16float),t=this.createViewQuad("fxaa","FXAA_Shader",e);t.quadShader.setUniform("u_texel",new Ge(1/A[0],1/A[1])),t.quadShader.setUniform("u_strength",4)}onAttach(A){K.setting.render.postProcessing.fxaa.enable=!0}onDetach(A){K.setting.render.postProcessing.fxaa.enable=!1}}class Og extends Jt{constructor(){super(...arguments);a(this,"_postList")}init(e){this._postList=new Map}start(){}stop(){}onEnable(){this.activePost()}onDisable(){this.unActivePost()}activePost(){let e=this.transform.view3D,t=K.getRenderJob(e);this._postList.forEach(i=>{t.addPost(i)})}unActivePost(){let e=this.transform.view3D,t=K.getRenderJob(e);this._postList.forEach(i=>{t.removePost(i)})}addPost(e){if(this._postList.has(e))return;if(!this._postList.has(go)){let i=new go;if(this._postList.set(go,i),this._enable&&this.activePost(),e===go)return i}let t=new e;return this._postList.set(e,t),this._enable&&this.activePost(),t}removePost(e){if(!this._postList.has(e))return;let t=this._postList.get(e);this._postList.delete(e);let i=this.transform.view3D;K.getRenderJob(i).removePost(t)}getPost(e){return this._postList.has(e)?this._postList.get(e):null}}var qe;let K=(qe=class{static get frameRate(){return this._frameRate}static set frameRate(A){this._frameRate=A,this._frameRateValue=1/A,A>=360&&(this._frameRateValue=0)}static get size(){return iA.presentationSize}static get aspect(){return iA.aspect}static get width(){return iA.windowWidth}static get height(){return iA.windowHeight}static async init(A={}){console.log("Engine Version",sw),this.setting={...this.setting,...A.engineSetting},await ce.init(NA.allocCount),await iA.init(A.canvasConfig),CA.init(),di.init(),Le.init(),Gt.init(),Ir.init(),this.res=new dI,this.res.initDefault(),this._beforeRender=A.beforeRender,this._renderLoop=A.renderLoop,this._lateRender=A.lateRender,this.inputSystem=new nw,this.inputSystem.initCanvas(iA.canvas)}static startRenderView(A){this.renderJobs||(this.renderJobs=new Map),this.views=[A];let e=new wg(A);return this.renderJobs.set(A,e),iA.presentationSize,this.setting.pick.mode=="pixel"&&A.scene.getOrAddComponent(Og).addPost(go),(this.setting.pick.mode=="pixel"||this.setting.pick.mode=="bound")&&(A.enablePick=!0),this.resume(),e}static startRenderViews(A){this.renderJobs||(this.renderJobs=new Map),this.views=A;for(let e=0;e<A.length;e++){const t=A[e];let i=new wg(t);this.renderJobs.set(t,i);let n=iA.presentationSize;this.setting.pick.mode=="pixel"?t.scene.addComponent(Og).addPost(go):Gt.createRTTexture(Ye.colorBufferTex_NAME,n[0],n[1],MA.rgba16float,!1),(this.setting.pick.mode=="pixel"||this.setting.pick.mode=="bound")&&(t.enablePick=!0)}this.resume()}static getRenderJob(A){return this.renderJobs.get(A)}static pause(){this._requestAnimationFrameID!=0&&(cancelAnimationFrame(this._requestAnimationFrameID),this._requestAnimationFrameID=0)}static resume(){this._requestAnimationFrameID=requestAnimationFrame(A=>this.render(A))}static render(A){this._deltaTime=A-this._time,this._time=A,this._frameRateValue>0?(this._frameTimeCount+=this._deltaTime*.001,this._frameTimeCount>=this._frameRateValue*.95&&(this._frameTimeCount=0,this.updateFrame(A))):this.updateFrame(A),this.resume()}static updateFrame(A){be.delta=A-be.time,be.time=A,be.frame+=1,Zd.tick(be.delta);let e=this.views,t=0;for(t=0;t<e.length;t++){const n=e[t];n.scene.waitUpdate(),n.camera.resetPerspective(iA.aspect)}this._beforeRender&&this._beforeRender();for(const n of Ee.componentsBeforeUpdateList){let s=n[0],o=n[1];for(const u of o){let l=u[0],c=u[1];l.enable&&c(s)}}let i=iA.device.createCommandEncoder();for(const n of Ee.componentsComputeList){let s=n[0],o=n[1];for(const u of o){let l=u[0],c=u[1];l.enable&&c(s,i)}}iA.device.queue.submit([i.finish()]);for(const n of Ee.componentsUpdateList){let s=n[0],o=n[1];for(const u of o){let l=u[0],c=u[1];l.enable&&c(s)}}for(const n of Ee.graphicComponent){let s=n[0],o=n[1];for(const u of o){let l=u[0],c=u[1];s&&l.enable&&c(s)}}this._renderLoop&&this._renderLoop(),ce.updateAllContinueTransform(0,NA.useCount,16),Le.modelMatrixBindGroup.writeBuffer(NA.useCount*16),this.renderJobs.forEach((n,s)=>{n.renderState||n.start(),n.renderFrame()});for(const n of Ee.componentsLateUpdateList){let s=n[0],o=n[1];for(const u of o){let l=u[0],c=u[1];l.enable&&c(s)}}this._lateRender&&this._lateRender()}},a(qe,"res"),a(qe,"inputSystem"),a(qe,"views"),a(qe,"_frameRateValue",0),a(qe,"_frameRate",360),a(qe,"_frameTimeCount",0),a(qe,"_deltaTime",0),a(qe,"_time",0),a(qe,"_beforeRender"),a(qe,"_renderLoop"),a(qe,"_lateRender"),a(qe,"_requestAnimationFrameID",0),a(qe,"Engine3D"),a(qe,"divB"),a(qe,"setting",{occlusionQuery:{enable:!0,debug:!1},pick:{enable:!0,mode:"bound",detail:"mesh"},render:{debug:!1,renderPassState:4,renderState_left:5,renderState_right:5,renderState_split:.5,quadScale:1,hdrExposure:1.5,debugQuad:-1,maxPointLight:1e3,maxDirectLight:4,maxSportLight:1e3,drawOpMin:0,drawOpMax:Number.MAX_SAFE_INTEGER,drawTrMin:0,drawTrMax:Number.MAX_SAFE_INTEGER,zPrePass:!1,useLogDepth:!1,gi:!1,postProcessing:{bloom:{downSampleStep:5,downSampleBlurSize:5,downSampleBlurSigma:1,upSampleBlurSize:5,upSampleBlurSigma:1,luminanceThreshole:1,bloomIntensity:1},globalFog:{debug:!1,enable:!1,fogType:0,fogHeightScale:.1,start:400,end:10,density:.02,ins:.5,skyFactor:.5,skyRoughness:.4,overrideSkyFactor:.8,fogColor:new fA(96/255,117/255,133/255,1),falloff:.7,rayLength:200,scatteringExponent:2.7,dirHeightLine:10},godRay:{blendColor:!0,rayMarchCount:16,scatteringExponent:5,intensity:.5},ssao:{enable:!1,radius:.15,bias:-.1,aoPower:2,debug:!0},outline:{enable:!1,strength:1,groupCount:4,outlinePixel:2,fadeOutlinePixel:4,textureScale:.7,useAddMode:!1,debug:!0},taa:{enable:!1,jitterSeedCount:8,blendFactor:.1,sharpFactor:.6,sharpPreBlurFactor:.5,temporalJitterScale:.13,debug:!0},gtao:{enable:!1,darkFactor:1,maxDistance:5,maxPixel:50,rayMarchSegment:6,multiBounce:!1,usePosFloat32:!0,blendColor:!0,debug:!0},ssr:{enable:!1,pixelRatio:1,fadeEdgeRatio:.2,rayMarchRatio:.5,fadeDistanceMin:600,fadeDistanceMax:2e3,roughnessThreshold:.5,powDotRN:.2,mixThreshold:.1,debug:!0},fxaa:{enable:!1},depthOfView:{enable:!1,iterationCount:3,pixelOffset:1,near:150,far:300}}},shadow:{enable:!0,type:"HARD",pointShadowBias:.002,shadowSize:1024,pointShadowSize:1024,shadowSoft:.005,shadowBias:1e-4,needUpdate:!0,autoUpdate:!0,updateFrameRate:2,csmMargin:.1,csmScatteringExp:.7,csmAreaScale:.4,debug:!1},gi:{enable:!1,offsetX:0,offsetY:0,offsetZ:0,probeSpace:64,probeXCount:4,probeYCount:2,probeZCount:4,probeSize:32,probeSourceTextureSize:2048,octRTMaxSize:2048,octRTSideSize:16,maxDistance:64*1.73,normalBias:.25,depthSharpness:1,hysteresis:.98,lerpHysteresis:.01,irradianceChebyshevBias:.01,rayNumber:144,irradianceDistanceBias:32,indirectIntensity:1,ddgiGamma:2.2,bounceIntensity:.025,probeRoughness:1,realTimeGI:!1,debug:!1,autoRenderProbe:!1},sky:{type:"HDRSKY",sky:null,skyExposure:1,defaultFar:65536,defaultNear:1},light:{maxLight:4096},material:{materialChannelDebug:!1,materialDebug:!1},loader:{numConcurrent:20}}),a(qe,"renderJobs"),qe),fI=`

    #include "GlobalUniform"

    struct PickResult{
        pick_meshID:f32,
        pick_meshID2:f32,
        pick_UV:vec2<f32>,
        pick_Position:vec4<f32>,
        pick_Normal:vec4<f32>,
        pick_Tangent:vec4<f32>,
    }

    //@group(0) @binding(0) var<uniform> globalUniform: GlobalUniform;
    @group(0) @binding(1) var<storage,read_write> outBuffer: PickResult;
    @group(0) @binding(2) var visibleMap : texture_2d<f32>;

    @compute @workgroup_size( 1 )
    fn CsMain( @builtin(workgroup_id) workgroup_id : vec3<u32> , @builtin(global_invocation_id) globalInvocation_id : vec3<u32>)
    {
    var result:PickResult ;
    // result.pick_meshID
    let texSize = textureDimensions(visibleMap).xy;
    let screenPoint = vec2<f32>(globalUniform.mouseX/globalUniform.windowWidth,globalUniform.mouseY/globalUniform.windowHeight);

    let mouseUV = screenPoint * vec2<f32>(texSize.xy); 
    let info = textureLoad(visibleMap, vec2<i32>(mouseUV) , 0);

    outBuffer.pick_meshID = f32(info.w) ;
    outBuffer.pick_meshID2 = f32(info.w) ;
    outBuffer.pick_Tangent = vec4<f32>(2.0,2.0,2.0,2.0) ;
    outBuffer.pick_UV = vec2<f32>(globalUniform.mouseX,globalUniform.mouseY) ;
    outBuffer.pick_Position = vec4<f32>(info.xyzw) ;
    outBuffer.pick_Normal = vec4<f32>(info.xyzw) ;
    }
`,pI=`
var<private>PI: f32 = 3.141592653589793;

fn Scatter( r:f32) -> vec3f
{
    return Gaussian(0.0064 * 1.414, r) * vec3f(0.233, 0.455, 0.649)
           + Gaussian(0.0484 * 1.414, r) * vec3f(0.100, 0.336, 0.344)
           + Gaussian(0.1870 * 1.414, r) * vec3f(0.118, 0.198, 0.000)
           + Gaussian(0.5670 * 1.414, r) * vec3f(0.113, 0.007, 0.007)
           + Gaussian(1.9900 * 1.414, r) * vec3f(0.358, 0.004, 0.00001)
           + Gaussian(7.4100 * 1.414, r) * vec3f(0.078, 0.00001, 0.00001);
}

fn Gaussian( v:f32 , r:f32 ) -> f32
{
    return 1.0 / sqrt(2.0 * PI * v) * exp(-(r * r) / (2.0 * v));
}

fn Integrate( cosTheta : f32 ,  skinRadius: f32 ) -> vec3f
{
    var theta = acos(cosTheta);  // theta -> the angle from lighting direction
    var totalWeights = vec3f(0.0);
    var totalLight = vec3f(0.0);

    var a = -(PI / 2.0);
    let inc = 0.05;

    while ( a <= (PI / 2.0) ) {
        var sampleAngle = theta + a;
        var diffuse = clamp(cos(sampleAngle),0.0,1.0);

        // calc distance
        var sampleDist = abs(2.0 * skinRadius * sin(a * 0.5));

        // estimated by Gaussian pdf
        var weights = Scatter(sampleDist);

        totalWeights += weights;
        totalLight += diffuse * weights;
        a += inc;
    }

    var result = vec3f(totalLight.x / totalWeights.x, totalLight.y / totalWeights.y, totalLight.z / totalWeights.z);
    return result;
}

@group(0) @binding(0) var sssMap: texture_storage_2d<rgba8unorm, write>;

@compute @workgroup_size(8, 8, 1)
// fn CsMain( @builtin(workgroup_id) workgroup_id : vec3<u32> , @builtin(local_invocation_id) local_invocation_id : vec3<u32> ){
fn CsMain(@builtin(global_invocation_id) global_invocation_id : vec3<u32>){
    var fragCoord = vec2<u32>(global_invocation_id.x, global_invocation_id.y);

    var fragColor = vec4<f32>(1.0,1.0,0.0,1.0);
    // // Output to screen
    // var res = integrateBRDF(f32(fragCoord.y + 1u) / 256.0, f32(fragCoord.x + 1u) / 256.0);
    // fragColor = vec4<f32>(res.x, res.y, 0.0, 1.0);

    var NDotL = mix(-1.0, 1.0, f32(fragCoord.x) / 256.0) ; 
    var oneOverR = 2.0 * 1.0 / (f32((fragCoord.y + 1u)) / 256.0);  

    //Integrate Diffuse Scattering
    var diff = Integrate(NDotL, oneOverR);
    // fragColor = vec4f(diff,1.0);
    fragColor = vec4f(vec3f(diff),1.0);
    textureStore(sssMap, vec2<i32>(fragCoord.xy), fragColor);
}
`,gI=`
    #include "WorldMatrixUniform"
    struct VertexAttributes{
        @builtin(instance_index) index : u32,

        @location(auto) position: vec3<f32>,
        @location(auto) normal: vec3<f32>,
        @location(auto) uv: vec2<f32>,
        @location(auto) TEXCOORD_1: vec2<f32>,
        @location(auto) vIndex: f32,
        @location(auto) index2: f32,
        
    }

    struct VertexOutput {
        @location(auto) index: f32,
        @location(auto) varying_UV0: vec2<f32>,
        @location(auto) varying_UV1: vec2<f32>,
        @location(auto) varying_ViewPos: vec4<f32>,
        @location(auto) varying_Clip: vec4<f32>,
        @location(auto) varying_WPos: vec4<f32>,
        @location(auto) varying_WNormal: vec3<f32>,
        @location(auto) varying_Color: vec4<f32>,
        #if USE_SHADOWMAPING
            @location(auto) varying_ShadowPos: vec4<f32>,
        #endif
        @builtin(position) member: vec4<f32>
    };

    struct TransformVertex{
        position:vec3<f32>,
        normal:vec3<f32>,
    }

    struct GraphicNodeStruct{
        matrixIndex:f32,
        texIndex:f32,
        tex2Index:f32,
        tex3Index:f32,

        fillRotation:f32,
        empty0:f32,
        empty1:f32,
        empty2:f32,

        baseColor:vec4f,
        lineColor:vec4f,
        emissiveColor:vec4f,
        uvRect:vec4f,
        uvRect2:vec4f,
        uvSpeed:vec4f,
    }

    var<private> ORI_VertexOut: VertexOutput ;
    var<private> worldMatrix: mat4x4<f32> ;
    var<private> graphicNode: GraphicNodeStruct ;

    fn ORI_Vert(vertex:VertexAttributes){
        var vertexPosition = vertex.position;
        var vertexNormal = vertex.normal;

        ORI_VertexOut.index = f32(vertex.vIndex) ;
        graphicNode = graphicBuffer[u32(round(vertex.vIndex))];
        let node_Matrix_M = models.matrix[u32(round(graphicNode.matrixIndex))];

        #if USE_TANGENT
            ORI_VertexOut.varying_Tangent = vertex.TANGENT ;
        #endif

        ORI_MATRIX_M = node_Matrix_M * ORI_MATRIX_M ;

        #if USE_BILLBOARD
            let billboardMatrix: mat3x3<f32> = calculateBillboardMatrix2(globalUniform.CameraPos.xyz,ORI_MATRIX_M[3].xyz,globalUniform.cameraWorldMatrix[1].xyz);
            vertexPosition = billboardMatrix * vertexPosition.xyz;
        #endif

        worldMatrix = ORI_MATRIX_M ;

        let nMat = mat3x3<f32>(ORI_MATRIX_M[0].xyz,ORI_MATRIX_M[1].xyz,ORI_MATRIX_M[2].xyz) ;
        ORI_NORMALMATRIX = transpose(inverse( nMat ));

        var worldPos = (ORI_MATRIX_M * vec4<f32>(vertexPosition.xyz, 1.0));

        #if TRANSFORMVERTEX
            var transformVertex = transformVertex(worldPos.xyz,vertexNormal,vertex);
            worldPos = vec4<f32>(transformVertex.position ,worldPos.w);
            vertexNormal = transformVertex.normal ;
        #endif

        var viewPosition = ORI_MATRIX_V * worldPos;
        var clipPosition = ORI_MATRIX_P * viewPosition ;

        ORI_VertexOut.varying_UV0 = vertex.uv.xy ;
        ORI_VertexOut.varying_UV1 = vertex.TEXCOORD_1.xy;
        ORI_VertexOut.varying_ViewPos = viewPosition / viewPosition.w;
        ORI_VertexOut.varying_Clip = clipPosition;
        ORI_VertexOut.varying_WPos = worldPos;
        ORI_VertexOut.varying_WNormal = normalize( vertexNormal.xyz);
        ORI_VertexOut.member = clipPosition ;
    }
`,mI=`
    #include "WorldMatrixUniform"
    #include "GlobalUniform"

    struct VertexAttributes {
        @location(auto) position: vec4<f32>,
        @location(auto) color: vec4<f32>,
    }

    struct VertexOutput {
        @location(auto) varying_WPos: vec4<f32>,
        @location(auto) varying_Color: vec4<f32>,
        @builtin(position) member: vec4<f32>
    };

    @vertex
    fn VertMain( vertex:VertexAttributes ) -> VertexOutput {
        var worldMatrix = models.matrix[u32(vertex.position.w)];
        var worldPos = (worldMatrix * vec4<f32>(vertex.position.xyz, 1.0));
        var viewPosition = ((globalUniform.viewMat) * worldPos);
        var clipPosition = globalUniform.projMat * viewPosition;

        var ORI_VertexOut: VertexOutput; 
        ORI_VertexOut.varying_WPos = worldPos;
        ORI_VertexOut.varying_Color = vertex.color;
        ORI_VertexOut.member = clipPosition;
        return ORI_VertexOut;
    }

    struct FragmentOutput {
        @location(auto) color: vec4<f32>,
        // #if USE_WORLDPOS
            @location(auto) worldPos: vec4<f32>,
        // #endif
        // #if USEGBUFFER
            @location(auto) worldNormal: vec4<f32>,
            @location(auto) material: vec4<f32>,
        // #endif
        @builtin(frag_depth) out_depth: f32
    };

    @fragment
    fn FragMain(  
        @location(auto) vWorldPos: vec4<f32>,
        @location(auto) varying_Color: vec4<f32>,
    ) -> FragmentOutput {
        var result: FragmentOutput;

        // #if USE_WORLDPOS
            result.worldPos = vWorldPos;
        // #endif

        // #if USEGBUFFER
            // result.worldNormal = vec4<f32>(0.0, 0.0, 0.0, 1.0); 
            result.material = vec4<f32>(0.0, 1.0, 0.0, 0.0);
        // #endif

        result.color = varying_Color;

        // let n = globalUniform.near ;
        // let f = globalUniform.far ;
        // let z = ORI_VertexVarying.fragCoord.z ;
        // let pt = pow((f / n),z);
        // let ratio = n * pt / (f / n);
        // result.out_depth =  ratio ;
        return result;
    }
`,yI=r=>`
    #include "GlobalUniform"
    struct VertexInfo{
        position:vec3f,
        // px:f32,
        // py:f32,
        // pz:f32,
        nx:f32,
        ny:f32,
        nz:f32,
        uv_x:f32,
        uv_y:f32,
        uv2_x:f32,
        uv2_y:f32,
        index:f32,
        index2:f32
    }

    struct TrailInfo{
        index : f32 ,
        segment : f32 ,
        visible : f32 ,
        width: f32,

        uv: vec4f,

        uvSpeed: vec2f,
        smoothLine: f32,
        faceMode: f32,
        up: vec4f,
        ids:array<f32,${r}>
    }

    @group(0) @binding(1) var<storage, read_write> vertexBuffer : array<VertexInfo>;
    @group(0) @binding(2) var<storage, read> trailBuffer : array<TrailInfo>;
    @group(0) @binding(3) var<storage, read> models : array<mat4x4<f32>>;

    var<private> time:f32;
    var<private> viewDir:vec3f;

    @compute @workgroup_size(256)
    fn CsMain(@builtin(workgroup_id) workgroup_id : vec3<u32> , @builtin(global_invocation_id) global_invocation_id : vec3<u32>){
        let rID = workgroup_id.x ;
        let trailInfo = trailBuffer[rID];
        let vLen = u32(trailInfo.segment+1.0) ;
        let vID = global_invocation_id.x ;

        // if(vID < vLen ){
            time = globalUniform.time * 0.001;
            var right:vec3f ;
            
            switch (u32(trailInfo.faceMode)) {
                case 0u:{
                    right = getRightByMode(vID,vLen,viewDir,trailInfo) ;
                    break;
                }
                case 1u:{
                    right = vec3f(0.0,0.0,1.0) ;
                    break;
                }
                case 2u:{
                    right = getRightByMode(vID,vLen,trailInfo.up.xyz,trailInfo) ;
                    break;
                }
                default:{
                    break;
                }
            }
            writeTOBuffer(rID,vID,vLen,right,trailInfo);
        // }
    }

 

    fn writeTOBuffer(rID:u32, vID:u32 , vLen:u32, right:vec3f , trailInfo:TrailInfo ){
        let i0 = (vID + (vLen * rID)) * 2u ;
        let li = i0 + 0u ;
        let ri = i0 + 1u ;

        let worldPos = models[i32(trailInfo.ids[vID])][3].xyz ;
        let leftPos = worldPos - right.xyz * trailInfo.width ;
        let rightPos = worldPos + right.xyz * trailInfo.width ;

        vertexBuffer[li].position = leftPos ;
        vertexBuffer[ri].position = rightPos ;

        let uvS = time * trailInfo.uvSpeed ;

        vertexBuffer[li].uv_x = (trailInfo.uv.x) + uvS.x ;
        vertexBuffer[ri].uv_x = (trailInfo.uv.z + trailInfo.uv.x) + uvS.x ;

        // var ld = 0.0 ;
        // var rd = 0.0 ;
        // if(vID>0u){
        //     let vid0 = getVID(vID,vLen,rID);
        //     let vid1 = getVID(vID-1u,vLen,rID);
        
        //     ld = distance( vertexBuffer[li].position , vertexBuffer[vid1.x].position ) ;
        //     rd = distance( vertexBuffer[ri].position , vertexBuffer[vid1.y].position ) ;

        //     vertexBuffer[li].uv_y = vertexBuffer[vid1.x].uv_y + 1.0 / ld * 100.0 ;//+ uvS.y ;
        //     vertexBuffer[ri].uv_y = vertexBuffer[vid1.y].uv_y + 1.0 / rd * 100.0 ;//+ uvS.y ;
        // }else{
            let v = (1.0 - f32(vID) / trailInfo.segment) * trailInfo.uv.w + trailInfo.uv.y;
            vertexBuffer[li].uv_y = v + uvS.y ;
            vertexBuffer[ri].uv_y = v + uvS.y ;
        // }
    }

    fn getRight(p0:vec3f,p1:vec3f,p2:vec3f,up:vec3f) -> vec3f {
        let d0 = normalize(p1 - p0) ;
        let d1 = normalize(p2 - p1) ;
        // var a = dot(d0,d1) ;
        // var ep = 0.0 ;
        // if(a<0.0){
        //     a = -a ;
        //     ep = 1.0/sin(a*0.25) ;
        // }else if(a == 0.0){
        //     ep = 1.414 ;
        // }else{
        //     ep = 1.0 ;
        // }
        let forward = normalize((d0 + d1)+ vec3f(0.000001,0.000001,0.000001)) ;
        return normalize(cross(forward,up)) ;//* ep ;
    }

    fn getVID(vID:u32,vLen:u32,rID:u32) -> vec2<u32> {
        let i0 = (vID + (vLen * rID)) * 2u ;
        let li = i0 + 0u ;
        let ri = i0 + 1u ;
        return vec2<u32>(li,ri);
    }

    fn getRightByMode( vID:u32 , vLen:u32, up:vec3f, trailInfo:TrailInfo ) -> vec3f{
        var right:vec3f;
        if(vID==0u){
            // first
            let sp0 = models[i32(trailInfo.ids[ 0 ])][3].xyz ;
            let sp1 = models[i32(trailInfo.ids[ 1 ])][3].xyz ;
            let firstFront = normalize(sp1 - sp0) ;
            viewDir = -normalize(globalUniform.CameraPos.xyz - sp0) ;
            right = normalize(cross(firstFront,viewDir));
        }else if( vID < (vLen-1) ){
            // body
            let bp0 = models[i32(trailInfo.ids[vID-1])][3].xyz ;
            let bp1 = models[i32(trailInfo.ids[vID])][3].xyz ;
            let bp2 = models[i32(trailInfo.ids[vID+1])][3].xyz ;
            viewDir = -normalize(globalUniform.CameraPos.xyz - bp1) ;
            right = getRight(bp0,bp1,bp2,viewDir) ;
        }else{
            // last
            let ep0 = models[i32(trailInfo.ids[u32(trailInfo.segment)-1u])][3].xyz ;
            let ep1 = models[i32(trailInfo.ids[u32(trailInfo.segment)])][3].xyz ;
            let endFront = normalize(ep1 - ep0) ;
            viewDir = -normalize(globalUniform.CameraPos.xyz - ep1) ;
            right = normalize(cross(endFront,viewDir));
        }
        return normalize(right) ; 
    }
    `,EI=`
    #include "Common_vert"
    #include "Common_frag"
    #include "Hair_frag"

    @group(1) @binding(auto)
    var baseMapSampler: sampler;
    @group(1) @binding(auto)
    var baseMap: texture_2d<f32>;

    @group(1) @binding(auto)
    var idMapSampler: sampler;
    @group(1) @binding(auto)
    var idMap: texture_2d<f32>;

    @group(1) @binding(auto)
    var depthMapSampler: sampler;
    @group(1) @binding(auto)
    var depthMap: texture_2d<f32>;

    @group(1) @binding(auto)
    var rootMapSampler: sampler;
    @group(1) @binding(auto)
    var rootMap: texture_2d<f32>;

    @group(1) @binding(auto)
    var alphaMapSampler: sampler;
    @group(1) @binding(auto)
    var alphaMap: texture_2d<f32>;

    #if USE_CUSTOMUNIFORM
    struct MaterialUniform {
      transformUV1:vec4<f32>,
      transformUV2:vec4<f32>,

      baseColor0: vec4<f32>,
      baseColor1: vec4<f32>,
      emissiveColor: vec4<f32>,
      materialF0: vec4<f32>,
      specularColor: vec4<f32>,
      envIntensity: f32,
      normalScale: f32,
      roughness: f32,
      metallic: f32,

      ao: f32,
      roughness_min: f32,
      roughness_max: f32,
      metallic_min: f32,

      metallic_max: f32,
      emissiveIntensity: f32,
      alphaCutoff: f32,
      ior: f32,

      backlit: f32,
      area: f32,
    };
#endif
    
    var<private> debugOut : vec4f = vec4f(0.0) ;
    var<private> uv : vec2f = vec2f(0.0) ;

    fn vert(inputData:VertexAttributes) -> VertexOutput {
        ORI_Vert(inputData) ;
        return ORI_VertexOut ;
    }

    fn frag(){
        var transformUV1 = materialUniform.transformUV1;
        var transformUV2 = materialUniform.transformUV2;
        uv = transformUV1.zw * ORI_VertexVarying.fragUV0 + transformUV1.xy; 

        ORI_ShadingInput.Roughness = materialUniform.roughness;
        ORI_ShadingInput.Metallic = materialUniform.metallic;
        

        #if USE_HAIRCOLOR
            let root = textureSample(rootMap, rootMapSampler, uv ).r ;
            ORI_ShadingInput.BaseColor = mix(materialUniform.baseColor0,materialUniform.baseColor1,root)  ;
        #else
            #if USE_SRGB_ALBEDO
                ORI_ShadingInput.BaseColor = textureSample(baseMap, baseMapSampler, uv )  ;
            #else 
                ORI_ShadingInput.BaseColor = textureSample(baseMap, baseMapSampler, uv )  ;
            #endif
        #endif

        fragData.Alpha = 1.0 ;
        #if USE_ALPHA_A
        // fragData.Alpha =  textureSampleLevel(alphaMap, alphaMapSampler, uv , 0.0 ).r ;
            // let shake = (globalUniform.frame % 5.0) / 5.0 * 2.0 ;
            fragData.Alpha =  textureSample(alphaMap, alphaMapSampler, uv ).r ;
        #endif

        #if USE_ALPHACUT 
            if( (fragData.Alpha - materialUniform.alphaCutoff) < 0.0 ){
                #if USEGBUFFER
                    ORI_FragmentOutput.worldPos = vec4<f32>(0.0,0.0,0.0,1.0);
                    ORI_FragmentOutput.worldNormal = vec4<f32>(0.0,0.0,0.0,1.0);
                    ORI_FragmentOutput.material = vec4<f32>(0.0,0.0,0.0,1.0);
                #endif
                discard;
            }
        #endif

        useShadow();

        ORI_ShadingInput.Specular = 1.0 ;

        let idMap = textureSampleLevel(idMap, idMapSampler, uv , 0.0 );
        var hairNormal = HairNormal(idMap.r).rgb ;
        hairNormal = transformHairNormal( hairNormal) ;  
        ORI_ShadingInput.HairNormal = hairNormal ;

        ORI_ShadingInput.Normal = unPackRGNormal(vec3f(0.5,0.5,1.0),1.0,1.0) ;

        ORI_ShadingInput.BaseColor.a = fragData.Alpha;
        
        BSSSRDFShading();
    }
`,CI=`
#include "Common_vert"
#include "Common_frag"
#include "Hair_frag"

@group(1) @binding(auto)
var baseMapSampler: sampler;
@group(1) @binding(auto)
var baseMap: texture_2d<f32>;

@group(1) @binding(auto)
var idMapSampler: sampler;
@group(1) @binding(auto)
var idMap: texture_2d<f32>;

@group(1) @binding(auto)
var depthMapSampler: sampler;
@group(1) @binding(auto)
var depthMap: texture_2d<f32>;

@group(1) @binding(auto)
var rootMapSampler: sampler;
@group(1) @binding(auto)
var rootMap: texture_2d<f32>;

@group(1) @binding(auto)
var alphaMapSampler: sampler;
@group(1) @binding(auto)
var alphaMap: texture_2d<f32>;

#if USE_CUSTOMUNIFORM
struct MaterialUniform {
  transformUV1:vec4<f32>,
  transformUV2:vec4<f32>,

  baseColor0: vec4<f32>,
  baseColor1: vec4<f32>,
  emissiveColor: vec4<f32>,
  materialF0: vec4<f32>,
  specularColor: vec4<f32>,
  envIntensity: f32,
  normalScale: f32,
  roughness: f32,
  metallic: f32,

  ao: f32,
  roughness_min: f32,
  roughness_max: f32,
  metallic_min: f32,

  metallic_max: f32,
  emissiveIntensity: f32,
  alphaCutoff: f32,
  ior: f32,

  backlit: f32,
  area: f32,
};
#endif

var<private> debugOut : vec4f = vec4f(0.0) ;
var<private> uv : vec2f = vec2f(0.0) ;

fn vert(inputData:VertexAttributes) -> VertexOutput {
    ORI_Vert(inputData) ;
    return ORI_VertexOut ;
}

fn frag(){
    var transformUV1 = materialUniform.transformUV1;
    var transformUV2 = materialUniform.transformUV2;
    uv = transformUV1.zw * ORI_VertexVarying.fragUV0 + transformUV1.xy; 

    ORI_ShadingInput.Roughness = materialUniform.roughness;
    ORI_ShadingInput.Metallic = materialUniform.metallic;

    #if USE_HAIRCOLOR
        let root = textureSample(rootMap, rootMapSampler, uv ).r ;
        ORI_ShadingInput.BaseColor = mix(materialUniform.baseColor0,materialUniform.baseColor1,root)  ;
    #else
        #if USE_SRGB_ALBEDO
            ORI_ShadingInput.BaseColor = textureSample(baseMap, baseMapSampler, uv )  ;
        #else 
            ORI_ShadingInput.BaseColor = textureSample(baseMap, baseMapSampler, uv )  ;
        #endif
    #endif

    fragData.Alpha = 1.0 ;
    #if USE_ALPHA_A
        fragData.Alpha =  textureSampleLevel(alphaMap, alphaMapSampler, uv , 0.0 ).r ;
    #endif

    #if USE_ALPHACUT 
        if( (((1.0 - fragData.Alpha) - (1.0 - materialUniform.alphaCutoff))) < 0.0 ){
            #if USEGBUFFER
                ORI_FragmentOutput.worldPos = vec4<f32>(0.0,0.0,0.0,1.0);
                ORI_FragmentOutput.worldNormal = vec4<f32>(0.0,0.0,0.0,1.0);
                ORI_FragmentOutput.material = vec4<f32>(0.0,0.0,0.0,1.0);
            #endif
            discard;
        }
    #endif

    #if USE_SHADOWMAPING
        useShadow();
    #endif

    ORI_ShadingInput.Specular = 1.0 ;

    let idMap = textureSampleLevel(idMap, idMapSampler, uv , 0.0 );
    var hairNormal = HairNormal(idMap.r).rgb ;
    hairNormal = transformHairNormal( hairNormal) ;  
    ORI_ShadingInput.HairNormal = hairNormal ;

    ORI_ShadingInput.Normal = unPackRGNormal(vec3f(0.5,0.5,1.0),1.0,1.0) ;

    ORI_ShadingInput.BaseColor.a = fragData.Alpha;
    
    BSSSRDFShading();
}
`,_I=`
    #include "Common_vert"
    #include "Common_frag"
    #include "BsDF_frag"

    @group(1) @binding(auto)
    var baseMapSampler: sampler;
    @group(1) @binding(auto)
    var baseMap: texture_2d<f32>;

    @group(1) @binding(auto)
    var normalMapSampler: sampler;
    @group(1) @binding(auto)
    var normalMap: texture_2d<f32>;

    #if USE_CUSTOMUNIFORM
        struct MaterialUniform {
          transformUV1:vec4<f32>,
          transformUV2:vec4<f32>,

          baseColor: vec4<f32>,
          emissiveColor: vec4<f32>,
          materialF0: vec4<f32>,
          specularColor: vec4<f32>,
          envIntensity: f32,
          normalScale: f32,
          roughness: f32,
          metallic: f32,

          ao: f32,
          roughness_min: f32,
          roughness_max: f32,
          metallic_min: f32,

          metallic_max: f32,
          emissiveIntensity: f32,
          alphaCutoff: f32,
          ior: f32,

          clearcoatColor: vec4<f32>,

          clearcoatWeight: f32,
          clearcoatFactor: f32,
          clearcoatRoughnessFactor: f32,
          skinPower: f32,
          
          skinColor: vec4<f32>,
          skinColorIns: f32,
          curveFactor: f32,
        };
    #endif
    // #if USE_ARMC
        // @group(1) @binding(auto)
        // var maskMapSampler: sampler;
        // @group(1) @binding(auto)
        // var maskMap: texture_2d<f32>;
    // #endif

    // #if USE_MR
        @group(1) @binding(auto)
        var maskMapSampler: sampler;
        @group(1) @binding(auto)
        var maskMap: texture_2d<f32>;
    // #endif

    #if USE_AOTEX
        @group(1) @binding(auto)
        var aoMapSampler: sampler;
        @group(1) @binding(auto)
        var aoMap: texture_2d<f32>;
    #endif

    @group(1) @binding(auto)
    var emissiveMapSampler: sampler;
    @group(1) @binding(auto)
    var emissiveMap: texture_2d<f32>;

    @group(1) @binding(auto)
    var sssMapSampler: sampler;
    @group(1) @binding(auto)
    var sssMap: texture_2d<f32>;

    @group(1) @binding(auto)
    var lutMapSampler: sampler;
    @group(1) @binding(auto)
    var lutMap: texture_2d<f32>;

    var<private> debugOut : vec4f = vec4f(0.0) ;

    fn vert(inputData:VertexAttributes) -> VertexOutput {
        ORI_Vert(inputData) ;
        return ORI_VertexOut ;
    }

    fn frag(){
        var transformUV1 = materialUniform.transformUV1;
        var transformUV2 = materialUniform.transformUV2;

        var uv = transformUV1.zw * ORI_VertexVarying.fragUV0 + transformUV1.xy; 

        #if USE_SRGB_ALBEDO
            ORI_ShadingInput.BaseColor = textureSample(baseMap, baseMapSampler, uv )  ;
            ORI_ShadingInput.BaseColor = vec4f(ORI_ShadingInput.BaseColor.rgb/ORI_ShadingInput.BaseColor.a,ORI_ShadingInput.BaseColor.a)  ;
            ORI_ShadingInput.BaseColor = vec4<f32>(gammaToLiner(ORI_ShadingInput.BaseColor.rgb) * materialUniform.baseColor.rgb, ORI_ShadingInput.BaseColor.w * materialUniform.baseColor.a)  ;
        #else
            ORI_ShadingInput.BaseColor = textureSample(baseMap, baseMapSampler, uv )  ;
            ORI_ShadingInput.BaseColor = vec4f(ORI_ShadingInput.BaseColor.rgb/ORI_ShadingInput.BaseColor.a,ORI_ShadingInput.BaseColor.a)  ;
            ORI_ShadingInput.BaseColor = vec4<f32>(gammaToLiner(ORI_ShadingInput.BaseColor.rgb) * materialUniform.baseColor.rgb, ORI_ShadingInput.BaseColor.w * materialUniform.baseColor.a)  ;
        #endif

        var maskTex = textureSample(maskMap, maskMapSampler, uv ) ;
       
        #if USE_ALPHA_A
            ORI_ShadingInput.BaseColor.a =  ORI_ShadingInput.BaseColor.a * (maskTex.a) ;
            ORI_ShadingInput.BaseColor =  vec4f(ORI_ShadingInput.BaseColor.rgb/ORI_ShadingInput.BaseColor.a,ORI_ShadingInput.BaseColor.a) ;
        #endif

        #if USE_ALPHACUT 
            if( (ORI_ShadingInput.BaseColor.a - materialUniform.alphaCutoff) <= 0.0 ){
                ORI_FragmentOutput.color = vec4<f32>(0.0,0.0,0.0,1.0);
                ORI_FragmentOutput.worldPos = vec4<f32>(0.0,0.0,0.0,1.0);
                ORI_FragmentOutput.worldNormal = vec4<f32>(0.0,0.0,0.0,1.0);
                ORI_FragmentOutput.material = vec4<f32>(0.0,0.0,0.0,1.0);
                discard;
            }
        #endif

        useShadow();

        // maskTex =vec4f( gammaToLiner(maskTex.rgb), maskTex.a );

        var roughnessChannel:f32 = 1.0 ;
        #if USE_ROUGHNESS_A
            roughnessChannel = maskTex.a ;
        #else if USE_ROUGHNESS_R
            roughnessChannel = maskTex.r ;
        #else if USE_ROUGHNESS_G
            roughnessChannel = maskTex.g ;
        #else if USE_ROUGHNESS_B
            roughnessChannel = maskTex.b ;
        #else if USE_ALBEDO_A
            roughnessChannel = ORI_ShadingInput.BaseColor.a ;
        #endif  

        #if USE_SMOOTH
            var roughness = ( 1.0 - roughnessChannel ) * materialUniform.roughness;
            ORI_ShadingInput.Roughness = clamp(roughness , 0.0001 , 1.0);
        #else
            ORI_ShadingInput.Roughness = clamp(roughnessChannel * materialUniform.roughness ,0.0001,1.0);
        #endif 

        var metallicChannel:f32 = 1.0 ;
        #if USE_METALLIC_A
            metallicChannel = maskTex.a ;
        #else if USE_METALLIC_R
            metallicChannel = maskTex.r ;
        #else if USE_METALLIC_G
            metallicChannel = maskTex.g ;
        #else if USE_METALLIC_B
            metallicChannel = maskTex.b ;
        #endif    
        ORI_ShadingInput.Metallic = metallicChannel * metallicChannel * materialUniform.metallic ;
   
        var aoChannel:f32 = 1.0 ;
        #if USE_AOTEX
            var aoMap = textureSample(aoMap, aoMapSampler, uv );
            aoChannel = aoMap.g ;
        #else
            #if USE_AO_A
                aoChannel = maskTex.a ;
            #else if USE_AO_R
                aoChannel = maskTex.r ;
            #else if USE_AO_G
                aoChannel = maskTex.g ;
            #else if USE_AO_B
                aoChannel = maskTex.b ;
            #endif  
        #endif

        // ORI_ShadingInput.BaseColor.a = maskTex.a ;

        ORI_ShadingInput.AmbientOcclusion = aoChannel ;

        ORI_ShadingInput.Specular = 1.0 ;

        var emissiveColor = textureSample(emissiveMap, emissiveMapSampler , ORI_VertexVarying.fragUV0.xy) ;

        emissiveColor = vec4<f32>(gammaToLiner(emissiveColor.rgb),emissiveColor.w);

        ORI_ShadingInput.EmissiveColor = vec4<f32>(materialUniform.emissiveColor.rgb * emissiveColor.rgb * materialUniform.emissiveIntensity,1.0);

     

        var Normal = textureSample(normalMap,normalMapSampler,uv).rgb ;

        let normal = unPackRGNormal(Normal,1.0,1.0) ;  
        
        ORI_ShadingInput.Normal = normal ;

        var sssColor = vec3f(pow(textureSample(sssMap, sssMapSampler, uv ).r,materialUniform.skinPower)) * materialUniform.skinColor.rgb ;
        let sunLight = lightBuffer[0] ;
        let sunLightIntensity = (sunLight.intensity / LUMEN)  ;
        let ndl = 1.0 - clamp(dot(normalize(normal),-normalize(sunLight.direction)),0.0,1.0) * 0.5 + 0.5 ;//1.0 - saturate( dot(normalize(normal),normalize(sunLight.direction)) ) * 0.5 + 0.5 ;
        ORI_ShadingInput.SSS += 0.5 * vec3f(sssColor * sunLightIntensity * materialUniform.skinColorIns * ndl * sunLight.lightColor.rgb ) ;
     
        var curve = clamp(materialUniform.curveFactor * (length(fwidth(ORI_ShadingInput.Normal.xyz)) / length(fwidth(ORI_VertexVarying.vWorldPos.xyz*100.0))),0.0,1.0);
        var NDotL = dot(ORI_ShadingInput.Normal, -sunLight.direction );
        var sssColor2 = textureSample(lutMap, lutMapSampler ,vec2f(NDotL * 0.5 + 0.5, materialUniform.curveFactor * sssColor.r)).rgb * sunLight.lightColor.rgb * sunLightIntensity ;
        ORI_ShadingInput.SSS = sssColor2.rgb * ORI_ShadingInput.BaseColor.rgb ;
     
        BsDFShading();

        // ORI_FragmentOutput.color = vec4f(vec3f(0.5*ORI_ShadingInput.SSS),1.0)  ;
    }
`,SI=`
    // #include "Common_vert"
    #include "Common_frag"
    #include "UnLit_frag"
    #include "UnLitMaterialUniform_frag"

    #include "WorldMatrixUniform"
    #include "VertexAttributeIndexShader"
    #include "GlobalUniform"
    #include "Inline_vert"
    #include "EnvMap_frag"
    #include "ColorUtil_frag"

    const DEGREES_TO_RADIANS : f32 = 3.1415926 / 180.0 ;
    const PI : f32 = 3.1415926 ;

    #if USE_CUSTOMUNIFORM
        struct MaterialUniform {
            transformUV1:vec4<f32>,
            transformUV2:vec4<f32>,
            baseColor: vec4<f32>,
            alphaCutoff: f32,
        };
    #endif

    @group(1) @binding(0)
    var baseMapSampler: sampler;
    @group(1) @binding(1)
    var baseMap: texture_2d_array<f32>;

    @group(2) @binding(5)
    var<storage,read> graphicBuffer : array<GraphicNodeStruct>;
    
    @vertex
    fn VertMain( vertex:VertexAttributes ) -> VertexOutput {
        vertex_inline(vertex);
        vert(vertex);
        return ORI_VertexOut ;
    }

    fn vert(inputData:VertexAttributes) -> VertexOutput {
        ORI_Vert(inputData) ;
        return ORI_VertexOut ;
    }

    fn frag(){
        var transformUV1 = materialUniform.transformUV1;
        var transformUV2 = materialUniform.transformUV2;

        // var irradiance = vec3<f32>(0.0) ;
        // let MAX_REFLECTION_LOD  = f32(textureNumLevels(prefilterMap)) ;
        // irradiance += (globalUniform.skyExposure * textureSampleLevel(prefilterMap, prefilterMapSampler, ORI_VertexVarying.vWorldNormal.xyz, 0.8 * (MAX_REFLECTION_LOD) ).rgb);

        graphicNode = graphicBuffer[u32(round(ORI_VertexVarying.index))];
        
        var uv = transformUV1.zw * ORI_VertexVarying.fragUV0 + transformUV1.xy;
        //The fragUV1.x is 1.0 when the vertex belongs to line.
        if(ORI_VertexVarying.fragUV1.x > 0.5){
            uv = graphicNode.uvRect2.zw * uv.xy + graphicNode.uvRect2.xy;
            uv += graphicNode.uvSpeed.zw * globalUniform.time;
        }else{
            uv = graphicNode.uvRect.zw * uv.xy + graphicNode.uvRect.xy;
            uv += graphicNode.uvSpeed.xy * globalUniform.time;
            let rad = graphicNode.fillRotation;
            if(rad != 0.0){
                let zrot = mat3x3<f32>(
                    cos(rad),-sin(rad),0.0,
                    sin(rad), cos(rad),0.0,
                    0.0,0.0,1.0
                );
                uv = (zrot * vec3f(uv, 0.0)).xy;
            }
        }
        var graphicTextureID = graphicNode.texIndex;
        var graphicNodeColor = graphicNode.baseColor;
        if(ORI_VertexVarying.fragUV1.x > 0.5){
            graphicTextureID = graphicNode.tex2Index;
            graphicNodeColor = graphicNode.lineColor;
        }
        var color = textureSample(baseMap,baseMapSampler,uv, u32(round(graphicTextureID)) ) * materialUniform.baseColor * graphicNodeColor ;
        // let color = textureSample(baseMap,baseMapSampler,uv, u32(round(ORI_VertexVarying.index)));

        // ORI_ViewDir = normalize( globalUniform.CameraPos.xyz - ORI_VertexVarying.vWorldPos.xyz);
        // let att = dot( ORI_ViewDir , ORI_VertexVarying.vWorldNormal.xyz );

        // irradiance = LinearToGammaSpace(irradiance.rgb) * color.rgb ;//* att ;

        color += graphicNode.emissiveColor ;
        if(color.w < 0.5){
            discard ;
        }

        // let outColor = vec4f( color.rgb * (att * 0.5 + 0.5 ) , 1.0 ) * materialUniform.baseColor ;
        let outColor = vec4f( color.rgb , 1.0 ) * materialUniform.baseColor ;
        
        // ORI_ShadingInput.BaseColor = color  ;
        ORI_ShadingInput.BaseColor = vec4f(outColor.xyz,1.0)  ;
        UnLit();
    }
`,vI=`
    struct FragmentOutput {
        @location(auto) o_Target: vec4<f32>
    };

    var<private> varying_uv: vec2<f32>;
    @group(1) @binding(0)
    var baseMapSampler: sampler;
    @group(1) @binding(1)
    var baseMap: texture_2d<f32>;

    struct MaterialUniform{
        u_texel: vec2<f32>,
        u_strength: f32,
    }

    @group(2) @binding(0)
    var<uniform> materialUniform: MaterialUniform;


    fn LinearToGammaSpace(linRGB0: vec3<f32>) -> vec3<f32> {
        var linRGB = max(linRGB0, vec3(0.0, 0.0, 0.0));
        linRGB.r = pow(linRGB.r,0.416666667);
        linRGB.g = pow(linRGB.g,0.416666667);
        linRGB.b = pow(linRGB.b,0.416666667);
        return max(1.055 * linRGB - 0.055, vec3(0.0, 0.0, 0.0));
    }

    fn texture2D( uv:vec2<f32> , offset:vec2<f32> ) -> vec4<f32> {
        return textureSample(baseMap, baseMapSampler, uv.xy + offset ).rgba ;
    }

    @fragment
    fn main(@location(auto) fragUV: vec2<f32>) -> FragmentOutput {
        var v_vTexcoord = fragUV ;
        // v_vTexcoord.x = 1.0 - v_vTexcoord.x ;
        v_vTexcoord.y = 1.0 - v_vTexcoord.y ;

        var reducemul = 1.0 / 8.0;
        var reducemin = 1.0 / 128.0;

        var basecol = texture2D(v_vTexcoord , vec2<f32>(0.0)).rgba;
        var baseNW = texture2D(v_vTexcoord , -materialUniform.u_texel).rgb;
        var baseNE = texture2D(v_vTexcoord , vec2<f32>(materialUniform.u_texel.x, -materialUniform.u_texel.y)).rgb;
        var baseSW = texture2D(v_vTexcoord , vec2<f32>(-materialUniform.u_texel.x, materialUniform.u_texel.y)).rgb;
        var baseSE = texture2D(v_vTexcoord , materialUniform.u_texel ).rgb;

        // var gray = vec3<f32>(0.299, 0.587, 0.114);
        var gray = vec3<f32>(0.213, 0.715, 0.072);
        var monocol = dot(basecol.rgb, gray);
        var monoNW = dot(baseNW, gray);
        var monoNE = dot(baseNE, gray);
        var monoSW = dot(baseSW, gray);
        var monoSE = dot(baseSE, gray);

        var monomin = min(monocol, min(min(monoNW, monoNE), min(monoSW, monoSE)));
        var monomax = max(monocol, max(max(monoNW, monoNE), max(monoSW, monoSE)));

        var dir = vec2<f32>(-((monoNW + monoNE) - (monoSW + monoSE)), ((monoNW + monoSW) - (monoNE + monoSE)));
        var dirreduce = max((monoNW + monoNE + monoSW + monoSE) * reducemul * 0.25, reducemin);
        var dirmin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirreduce);
        dir = min(vec2<f32>(materialUniform.u_strength), max(vec2<f32>(-materialUniform.u_strength), dir * dirmin)) * materialUniform.u_texel;

        var resultA = 0.5 * (texture2D(v_vTexcoord , dir * -0.166667).rgb  +
                            texture2D(v_vTexcoord , dir * 0.166667).rgb);
        var resultB = resultA * 0.5 + 0.25 * (texture2D( v_vTexcoord , dir * -0.5).rgb +
                                            texture2D( v_vTexcoord , dir * 0.5).rgb);
        var monoB = dot(resultB.rgb, gray);
        
        var color:vec3<f32> ;
        if(monoB < monomin || monoB > monomax) {
            color = resultA ;//* v_vColour;
        } else {
            color = resultB ;//* v_vColour;
        }
        return FragmentOutput(vec4<f32>(color.rgb,basecol.a));
    }
`;var wI=Object.defineProperty,bI=Object.getOwnPropertyDescriptor,II=(r,A,e,t)=>{for(var i=t>1?void 0:t?bI(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&wI(A,e,i),i};let cf=class extends Pr{constructor(){super();let r=new ot("sky_vs_frag_wgsl","sky_fs_frag_wgsl");this.addRenderPass(r),r.setUniformVector3("eyesPos",new I),r.setUniformFloat("exposure",1),r.setUniformFloat("roughness",0);let A=r.shaderState;A.frontFace="cw",A.cullMode=ar.back,A.depthWriteEnabled=!1,A.depthCompare=en.less}};cf=II([$n],cf);class BI extends an{constructor(){super(),this.shader=new cf,this.shader.setUniformVector3("eyesPos",new I),this.shader.setUniformFloat("exposure",1),this.shader.setUniformFloat("roughness",0)}set baseMap(A){this.setTexture("baseMap",A);const e="IS_HDR_SKY";this._shader.getDefaultShaders()[0].defineValue[e]!=(A==null?void 0:A.isHDRTexture)&&this._shader.setDefine(e,!!(A!=null&&A.isHDRTexture))}get baseMap(){return this._shader.getDefaultColorShader().getTexture("baseMap")}set envMap(A){}set shadowMap(A){}get exposure(){return K.setting.sky.skyExposure}set exposure(A){K.setting.sky.skyExposure=A}get roughness(){return this._shader.getDefaultColorShader().uniforms.roughness.value}set roughness(A){let e=this._shader.getDefaultColorShader();"roughness"in e.uniforms&&(e.uniforms.roughness.value=A)}}class TI extends ti{constructor(e,t,i,n,s,o,u){super();a(this,"shape_vertices",[]);a(this,"shape_indices",[]);a(this,"radius");a(this,"widthSegments");a(this,"heightSegments");a(this,"phiStart");a(this,"phiLength");a(this,"thetaStart");a(this,"thetaLength");this.radius=e,this.widthSegments=t,this.heightSegments=i,this.phiStart=n,this.phiLength=s,this.thetaStart=o,this.thetaLength=u,this.buildGeometry()}buildGeometry(){var e,t,i=0;let n=this.heightSegments,s=this.widthSegments,o=this.radius;var u=(n+1)*(s+1);let l=new Float32Array(u*3),c=new Float32Array(u*3),h=new Float32Array(u*2),d=new Uint16Array(s*n*2*3),f=0,p=0,y=0;for(t=0;t<=n;++t){var _=Math.PI*t/n,g=-o*Math.cos(_),m=o*Math.sin(_);for(e=0;e<=s;++e){var E=2*Math.PI*e/s,w=m*Math.cos(E),L=m*Math.sin(E),T=1/Math.sqrt(w*w+L*L+g*g);if(l[f++]=w,l[f++]=L,l[f++]=g,c[p++]=w*T,c[p++]=L*T,c[p++]=g*T,h[y++]=e/s,h[y++]=1-t/n,e>0&&t>0){var R=(s+1)*t+e,P=(s+1)*t+e-1,F=(s+1)*(t-1)+e-1,H=(s+1)*(t-1)+e;t==n?(d[i++]=R,d[i++]=F,d[i++]=H):t==1?(d[i++]=R,d[i++]=P,d[i++]=F):(d[i++]=R,d[i++]=P,d[i++]=F,d[i++]=R,d[i++]=F,d[i++]=H)}}}this.setIndices(d),this.setAttribute(pA.position,l),this.setAttribute(pA.normal,c),this.setAttribute(pA.uv,h),this.setAttribute(pA.TEXCOORD_1,h),this.addSubGeometry({indexStart:0,indexCount:d.length,vertexStart:0,vertexCount:0,firstStart:0,index:0,topology:0}),this.bounds=new Qe(I.ZERO,new I(this.radius*2,this.radius*2,this.radius*2))}}class DI extends he{constructor(){super(...arguments);a(this,"skyMaterial")}init(){super.init(),this.castShadow=!1,this.castGI=!0,this.addRendererMask(It.Sky),this.alwaysRender=!0,this.object3D.bound=new Qe(I.ZERO.clone(),I.MAX),this.geometry=new TI(K.setting.sky.defaultFar,20,20),this.skyMaterial||(this.skyMaterial=new BI)}onEnable(){this._readyPipeline?(this.castNeedPass(),!this._inRenderer&&this.transform.scene3D&&(IA.instance.sky=this,this._inRenderer=!0)):this.initPipeline()}onDisable(){this._inRenderer&&this.transform.scene3D&&(this._inRenderer=!1,IA.instance.sky=null),super.onDisable()}renderPass2(e,t,i,n,s,o=!1){super.renderPass2(e,t,i,n,s,o)}set map(e){this.skyMaterial.baseMap=e,this.skyMaterial.name==null&&(this.skyMaterial.name="skyMaterial"),this.material=this.skyMaterial}get map(){return this.skyMaterial.baseMap}get exposure(){return this.skyMaterial.exposure}set exposure(e){this.skyMaterial&&(this.skyMaterial.exposure=e)}get roughness(){return this.skyMaterial.roughness}set roughness(e){this.skyMaterial&&(this.skyMaterial.roughness=e)}}class _r{}a(_r,"panelRatio",1),a(_r,"quadMaxCountForWorld",256),a(_r,"quadMaxCountForView",2048),a(_r,"SortOrderStartWorld",7e3),a(_r,"SortOrderStartView",8e3),a(_r,"SortOrderCanvasSpan",1e4);var mi=(r=>(r[r.View=0]="View",r[r.World=2]="World",r))(mi||{}),uc=(r=>(r[r.Simple=0]="Simple",r[r.Sliced=1]="Sliced",r[r.Tiled=2]="Tiled",r[r.Filled=3]="Filled",r))(uc||{}),vs=(r=>(r[r.None=0]="None",r[r.BillboardY=9]="BillboardY",r[r.BillboardXYZ=10]="BillboardXYZ",r))(vs||{});class lc extends Jt{constructor(){super();a(this,"type");a(this,"camera");a(this,"_cameraPosition");this._cameraPosition=new I}onUpdate(){this.enable&&this.transform.view3D.camera&&this.updateBillboardMatrix()}updateBillboardMatrix(){let e=this.transform.view3D.camera;this._cameraPosition.copyFrom(e.transform.back),this.type==vs.BillboardXYZ||this.type==vs.BillboardY&&(this._cameraPosition.y=0),this._cameraPosition.normalize(),this._cameraPosition.add(this.object3D.localPosition,this._cameraPosition),this.transform.lookAt(this.object3D.localPosition,this._cameraPosition,e.transform.up)}cloneTo(e){let t=e.addComponent(lc);t.type=this.type}}var py=(r=>(r[r.None=0]="None",r[r.Box=1]="Box",r[r.Capsule=2]="Capsule",r[r.Sphere=3]="Sphere",r[r.Mesh=4]="Mesh",r))(py||{});const jt=class jt{constructor(){a(this,"_center");a(this,"_size");a(this,"_halfSize");a(this,"_shapeType",0);jt.v3_help_0||(jt.v3_help_0=new I),jt.helpMatrix||(jt.helpMatrix=new NA),jt.helpRay||(jt.helpRay=new $o),this._center=new I,this._size=new I,this._halfSize=new I}get shapeType(){return this._shapeType}setFromCenterAndSize(A,e){return A&&this._center.copy(A),e&&this._size.copy(e),this}get center(){return this._center}set center(A){this._center.copy(A)}get size(){return this._size}set size(A){this._size.copy(A),this._halfSize.copy(A).multiplyScalar(.5)}get halfSize(){return this._halfSize}rayPick(A,e){return null}};a(jt,"v3_help_0"),a(jt,"helpMatrix"),a(jt,"helpRay");let ms=jt;class gy extends ms{constructor(){super();a(this,"_pickRet");a(this,"box");this._shapeType=py.Box,this.box=new Qe(new I,new I)}rayPick(e,t){this.box.setFromCenterAndSize(this.center,this.size);let i=ms.helpMatrix;i.copyFrom(t).invert();let n=ms.helpRay.copy(e);n.applyMatrix(i);let s=n.intersectBox(this.box,ms.v3_help_0);return s?(this._pickRet||(this._pickRet={intersectPoint:new I,distance:0}),this._pickRet.intersectPoint=s,this._pickRet.distance=I.distance(n.origin,ms.v3_help_0),this._pickRet):null}}class xI extends Jt{constructor(){super();a(this,"_shape");this._shape=new gy}start(){K.setting.pick.mode=="pixel"&&this.transform.scene3D.view.pickFire.mouseEnableMap.set(this.transform.worldMatrix.index,this)}onEnable(e){Ee.bindEnablePick(e,this,null)}onDisable(e){Ee.unBindEnablePick(e,this)}get shape(){return this._shape}set shape(e){this._shape=e}rayPick(e){return this._enable?this._shape.rayPick(e,this.transform.worldMatrix):null}beforeDestroy(e){K.setting.pick.mode=="pixel"&&this.transform.scene3D.view.pickFire.mouseEnableMap.delete(this.transform.worldMatrix.index),super.beforeDestroy(e)}}var OI=Object.defineProperty,MI=Object.getOwnPropertyDescriptor,RI=(r,A,e,t)=>{for(var i=t>1?void 0:t?MI(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&OI(A,e,i),i};let Ms=class extends Jt{constructor(){super(...arguments);a(this,"jointMatrixIndexTableBuffer");a(this,"playBlendShapeLoop",!1);a(this,"inverseBindMatrices");a(this,"_avatar");a(this,"_rendererList");a(this,"propertyCache");a(this,"_clips");a(this,"_clipsMap");a(this,"_currentSkeletonClip");a(this,"_currentBlendAnimClip");a(this,"_skeletonTime",0);a(this,"_blendShapeTime",0);a(this,"_skeletonSpeed",1);a(this,"_blendShapeSpeed",1);a(this,"_skeletonStart",!0);a(this,"_blendShapeStart",!0);a(this,"root");a(this,"_avatarName");a(this,"skeltonPoseObject3D",{});a(this,"skeltonTPoseObject3D",{})}init(A){this.propertyCache=new Map,this._clipsMap=new Map,this._clips=[]}start(){this._rendererList=this.object3D.getComponentsInChild(ja)}debug(){}playAnim(A,e=0,t=1){this._clipsMap.has(A)?(this._currentSkeletonClip=this._clipsMap.get(A),this._skeletonTime=e,this._skeletonSpeed=t,this._skeletonStart=!0):console.warn(`not has anim ${A}`)}playBlendShape(A,e=0,t=1){this._clipsMap.has(A)?(this._currentBlendAnimClip=this._clipsMap.get(A),this._blendShapeTime=e,this._blendShapeSpeed=t,this._blendShapeStart=!0):console.warn(`not has blendShape ${A}`)}set avatar(A){this._avatarName=A,this.inverseBindMatrices=[],this._avatar=K.res.getObj(A);let e=this.buildSkeletonPose();const t=new Float32Array(e);this.jointMatrixIndexTableBuffer=new Bt(this._avatar.count,0,t)}getJointIndexTable(A){let e=new Array;for(let t=0;t<A.length;t++){let i=this._avatar.boneMap.get(A[t]);e[t]=i?i.boneID:-1}return e}buildSkeletonPose(){let A=[];for(const e of this._avatar.boneData){let t=new de;NA.getEuler(I.HELP_6,e.q,!0,"ZYX"),t.localPosition=e.t.clone(),t.localRotation=I.HELP_6.clone(),t.localScale=I.ONE,e.s.clone(),this.skeltonPoseObject3D[e.boneName]=t,this.skeltonTPoseObject3D[e.bonePath]=t.clone(),e.parentBoneName&&e.parentBoneName!=""?this.skeltonPoseObject3D[e.parentBoneName].addChild(t):(this.object3D.transform.scene3D&&this.object3D.transform.scene3D.addChild(t),this.root=t),A.push(t.transform.worldMatrix.index);let i=new NA;i.copyFrom(t.transform.worldMatrix),i.invert(),this.inverseBindMatrices.push(i.rawData)}return A}set clips(A){this._clips=A;for(const e of A)this._clipsMap.set(e.clipName,e)}get clips(){return this._clips}cloneTo(A){let e=A.addComponent(Ms);e.avatar=this._avatarName,e.clips=this._clips}updateTime(){this._skeletonStart&&(this._skeletonTime+=be.delta*.001*this._skeletonSpeed,this._currentSkeletonClip&&this._currentSkeletonClip.loopTime&&(this._skeletonTime=this._skeletonTime%this._currentSkeletonClip.stopTime)),this._blendShapeStart&&(this._blendShapeTime+=be.delta*.001*this._blendShapeSpeed,this._currentBlendAnimClip&&(this._currentBlendAnimClip.loopTime&&this.playBlendShapeLoop?this._blendShapeTime=this._blendShapeTime%this._currentBlendAnimClip.stopTime:this._blendShapeTime=Math.min(this._blendShapeTime,this._currentBlendAnimClip.stopTime)-1e-4))}onUpdate(A){this.transform.worldMatrix,this.updateTime(),this.updateSkeletonAnim(),this.updateMorphAnim()}updateSkeletonAnim(){if(this._currentSkeletonClip){let A=this._avatar.boneData,e=0,t=A.length;for(e=0;e<t;e++){const i=A[e];let n=this.skeltonPoseObject3D[i.boneName];if(this._currentSkeletonClip.useSkeletonPos){let o=this.getPosition(i.bonePath,this._skeletonTime);n.transform.localPosition=o}let s=this.getRotation(i.bonePath,this._skeletonTime);if(n.transform.localRotation=s,this._currentSkeletonClip.useSkeletonScale){let o=this.getScale(i.bonePath,this._skeletonTime);n.transform.localScale=o}}}}updateMorphAnim(){if(this._currentBlendAnimClip&&this._currentBlendAnimClip.floatCurves&&this._currentBlendAnimClip.floatCurves.size>0&&this._rendererList)for(const A of this._currentBlendAnimClip.floatCurves){let e=A[0],t=A[1].propertys,i=this._currentBlendAnimClip.floatCurves.get(e).getValue(this._blendShapeTime)/100;for(const n of this._rendererList)if(n.blendShape){let s=this.propertyCache.get(n);if(s&&e in s)s[e](i);else{s=n;for(const o of t){if(!s[o])break;s=s[o]}if(!s||s==n)break;this.propertyCache.get(n)||this.propertyCache.set(n,{}),this.propertyCache.get(n)[e]=s,s(i)}}}}updateBlendShape(A,e,t){for(const i of this._rendererList)if(i.blendShape){let n=this.propertyCache.get(i);if(n&&e in n)n[e](t);else{n=i;for(const s of A){if(!n[s])break;n=n[s]}if(!n||n==i)break;this.propertyCache.get(i)||this.propertyCache.set(i,{}),this.propertyCache.get(i)[e]=n,n(t)}}}getPosition(A,e){return this._currentSkeletonClip.positionCurves.has(A)?this._currentSkeletonClip.positionCurves.get(A).getValue(e):this.skeltonTPoseObject3D[A].localPosition}getRotation(A,e){if(this._currentSkeletonClip.rotationCurves.has(A)){let t=this._currentSkeletonClip.rotationCurves.get(A).getValue(e);return oe.HELP_2.set(t.x,t.y,t.z,t.w),NA.getEuler(I.HELP_6,oe.HELP_2,!0,"ZYX"),I.HELP_6}return this.skeltonTPoseObject3D[A].localRotation}getScale(A,e){return this._currentSkeletonClip.scaleCurves.has(A)?this._currentSkeletonClip.scaleCurves.get(A).getValue(e):this.skeltonTPoseObject3D[A].localScale}getFloat(A,e){return this._currentSkeletonClip.floatCurves.get(A).getValue(e)}};Ms=RI([ri(Ms,"AnimatorComponent")],Ms);class PI{constructor(){a(this,"index");a(this,"time");a(this,"timeEnd");a(this,"coeff",[])}}var ls=(r=>(r[r.PingPong=0]="PingPong",r[r.Repeat=1]="Repeat",r[r.Clamp=2]="Clamp",r))(ls||{});class hf{constructor(A=0,e=0){a(this,"serializedVersion","2");a(this,"time");a(this,"value");a(this,"inSlope",0);a(this,"outSlope",0);a(this,"tangentMode",0);a(this,"weightedMode",0);a(this,"inWeight");a(this,"outWeight");this.time=A,this.value=e}unSerialized(A){this.serializedVersion=A.serializedVersion,this.time=A.time,this.value=A.value,this.tangentMode=A.tangentMode,this.inSlope=A.inSlope=="Infinity"?NaN:A.inSlope,this.outSlope=A.outSlope=="Infinity"?NaN:A.outSlope}unSerialized2(A){this.serializedVersion=A.serializedVersion,this.time=A.time,this.value=A.value,this.tangentMode=A.tangentMode,this.inSlope=A.inTangent=="Infinity"?NaN:A.inTangent,this.outSlope=A.outTangent=="Infinity"?NaN:A.outTangent}}class FI{constructor(A,e=ls.Repeat,t=ls.Repeat){a(this,"_totalTime",1);a(this,"_cache",new PI);a(this,"_cacheOut",{lhsIndex:0,rhsIndex:0});a(this,"_InvalidateCache",!1);a(this,"curve",[]);a(this,"serializedVersion");a(this,"preWarpMode");a(this,"postWarpMode");a(this,"rotationOrder");if(A)for(let i=0;i<A.length;i++){const n=A[i];this.addKeyFrame(n)}this.preWarpMode=e,this.postWarpMode=t}get totalTime(){return this._totalTime}get first(){return this.curve[0]}get last(){return this.curve[this.curve.length-1]}addKeyFrame(A){this.curve.indexOf(A)==-1&&this.curve.push(A),this.calcTotalTime()}removeKeyFrame(A){let e=this.curve.indexOf(A);e!=-1&&this.curve.splice(e,1),this.calcTotalTime()}calculateCacheData(A,e,t,i=0){let n=this.curve,s=n[e],o=n[t];A.index=e,A.time=s.time+i,A.timeEnd=o.time+i,A.index=e;let u,l,c,h,d,f,p;u=o.time-s.time,u=Math.max(u,1e-4),c=o.value-s.value,l=1/(u*u),h=s.outSlope,d=o.inSlope,f=h*u,p=d*u,A.coeff[0]=(f+p-c-c)*l/u,A.coeff[1]=(c+c+c-f-f-p)*l,A.coeff[2]=h,A.coeff[3]=s.value,this.setupStepped(A.coeff,s,o)}getValue(A){return A=this.wrapTime(A),this.findCurve(A,this._cacheOut),this.calculateCacheData(this._cache,this._cacheOut.lhsIndex,this._cacheOut.rhsIndex,0),this.evaluateCache(this._cache,A)}getKeyCount(){return this.curve.length}getKey(A){return this.curve[A]}unSerialized(A){this.preWarpMode=A.m_PreInfinity,this.postWarpMode=A.m_PostInfinity,this.rotationOrder=A.m_RotationOrder;let e=A.m_Curve.length;for(let t=0;t<e;t++)this.curve[t]=new hf,this.curve[t].unSerialized(A.m_Curve[t.toString()]);return this.calcTotalTime(),this}unSerialized2(A){this.preWarpMode=A.preWrapMode,this.postWarpMode=A.postWrapMode;let e=A.keyFrames||A.keys,t=e.length;for(let i=0;i<t;i++)this.curve[i]=new hf,this.curve[i].unSerialized2(e[i.toString()]);return this.calcTotalTime(),this}wrapTime(A){let e=this.curve,t=e[0].time,i=e[e.length-1].time;return A<t?this.preWarpMode==ls.Clamp?A=t:this.preWarpMode==ls.PingPong?A=pg(A,t,i):A=gg(A,t,i):A>i&&(this.postWarpMode==ls.Clamp?A=i:this.postWarpMode==ls.PingPong?A=pg(A,t,i):A=gg(A,t,i)),A}evaluateCache(A,e){let t=e-A.time;return t*(t*(t*A.coeff[0]+A.coeff[1])+A.coeff[2])+A.coeff[3]}findCurve(A,e){let t=this.curve;for(let i=1;i<t.length;i++){let n=t[i-1],s=t[i];n.time<=A&&s.time>A&&(e.lhsIndex=i-1,e.rhsIndex=i)}}setupStepped(A,e,t){(isNaN(e.outSlope)||isNaN(t.inSlope))&&(A[0]=0,A[1]=0,A[2]=0,A[3]=e.value)}invalidateCache(){this._InvalidateCache=!0}calcTotalTime(){let A=0;for(let e of this.curve)e?A=Math.max(A,e.time):console.error(e);this._totalTime=A}static scaleCurveValue(A,e){if(!A._InvalidateCache)for(let t=0;t<A.curve.length;t++){let i=A.curve[t];i.value*=e,i.inSlope*=e,i.outSlope*=e}A.invalidateCache()}}var NI=(r=>(r[r.Default=0]="Default",r[r.Clamp=1]="Clamp",r[r.Once=1]="Once",r[r.Loop=2]="Loop",r[r.PingPong=4]="PingPong",r[r.ClampForever=8]="ClampForever",r))(NI||{}),LI=Object.defineProperty,UI=Object.getOwnPropertyDescriptor,kI=(r,A,e,t)=>{for(var i=t>1?void 0:t?UI(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&LI(A,e,i),i};let ja=class extends he{constructor(){super();a(this,"skinJointsName");a(this,"mInverseBindMatrixData");a(this,"mInverseBindMatrixBuffer");a(this,"mSkeletonAnimation");a(this,"mJointIndexTableBuffer");this.addRendererMask(It.SkinnedMesh)}get geometry(){return this._geometry}set geometry(A){this.skinJointsName=A.skinNames;let e=[];for(let t=0;t<A.bindPose.length;t++)e.push(A.bindPose[t].rawData.slice(0,16));this.skinInverseBindMatrices=e,super.geometry=A}start(){if(super.start(),this.skeletonAnimation=this.object3D.getComponent(Ms),!this.skeletonAnimation){let A=this.object3D.parentObject.parentObject.getComponentsInChild(Ms);A.length>0&&(this.skeletonAnimation=A[0]);let e=this.object3D;for(;!this.skeletonAnimation&&e;)this.skeletonAnimation=e.getComponentFromParent(Ms),e.parent&&(e=e.parent.object3D)}}get blendShape(){return this.morphData}onEnable(){super.onEnable()}get skeletonAnimation(){return this.mSkeletonAnimation}set skeletonAnimation(A){if(this.mSkeletonAnimation=A,!!A&&!this.mJointIndexTableBuffer){let e=this.mSkeletonAnimation.getJointIndexTable(this.skinJointsName);this.mJointIndexTableBuffer=new Bt(e.length,0,new Float32Array(e)),this.mJointIndexTableBuffer.visibility=GPUShaderStage.VERTEX|GPUShaderStage.COMPUTE}}get skinInverseBindMatrices(){return this.mInverseBindMatrixData}set skinInverseBindMatrices(A){this.mInverseBindMatrixData=A;var e=new Float32Array(A.length*16);for(let t=0;t<A.length;t++){let i=t*16,n=A[t];e.set(n,i)}this.mInverseBindMatrixBuffer=new Bt(e.byteLength,0,e),this.mInverseBindMatrixBuffer.visibility=GPUShaderStage.VERTEX|GPUShaderStage.COMPUTE}get inverseBindMatrixBuffer(){return this.mInverseBindMatrixBuffer}get jointIndexTableBuffer(){return this.mJointIndexTableBuffer.buffer}cloneTo(A){let e=A.addComponent(ja),t=[];for(const i of this.materials)t.push(i.clone());e.materials=t,e.geometry=this.geometry,e.castShadow=this.castShadow,e.castGI=this.castGI,e.receiveShadow=this.receiveShadow,e.rendererMask=this.rendererMask,e.skinJointsName=this.skinJointsName,e.skinInverseBindMatrices=this.skinInverseBindMatrices,e.mJointIndexTableBuffer=this.mJointIndexTableBuffer}nodeUpdate(A,e,t,i){for(let n=0;n<this.materials.length;n++){let s=this.materials[n].getPass(e);if(s)for(let o=0;o<s.length;o++){const u=s[o];!u.pipeline&&this.mSkeletonAnimation&&(u.setStorageBuffer("jointsMatrixIndexTable",this.mSkeletonAnimation.jointMatrixIndexTableBuffer),u.setStorageBuffer("jointsInverseMatrix",this.mInverseBindMatrixBuffer),u.setStorageBuffer("jointsIndexMapingTable",this.mJointIndexTableBuffer))}}super.nodeUpdate(A,e,t,i)}};ja=kI([ri(ja,"SkinnedMeshRenderer2")],ja);var zI=(r=>(r.mouthRollLower="mouthRollLower",r.browOuterUp_L="browOuterUpLeft",r.mouthSmile_L="mouthSmileLeft",r.jawRight="jawRight",r.eyeLookOut_L="eyeLookOutLeft",r.mouthFunnel="mouthFunnel",r.mouthUpperUp_R="mouthUpperUpRight",r.browDown_L="browDownLeft",r.jawLeft="jawLeft",r.mouthLowerDown_L="mouthLowerDownLeft",r.noseSneer_R="noseSneerRight",r.jawForward="jawForward",r.mouthLowerDown_R="mouthLowerDownRight",r.browInnerUp="browInnerUp",r.mouthRollUpper="mouthRollUpper",r.mouthStretch_R="mouthStretchRight",r.mouthPucker="mouthPucker",r.eyeBlink_L="eyeBlinkLeft",r.mouthUpperUp_L="mouthUpperUpLeft",r.mouthShrugUpper="mouthShrugUpper",r.eyeLookIn_R="eyeLookInRight",r.noseSneer_L="noseSneerLeft",r.mouthFrown_L="mouthFrownLeft",r.cheekSquint_L="cheekSquintLeft",r.eyeLookDown_L="eyeLookDownLeft",r.mouthDimple_L="mouthDimpleLeft",r.mouthFrown_R="mouthFrownRight",r.eyeLookIn_L="eyeLookInLeft",r.eyeLookOut_R="eyeLookOutRight",r.mouthLeft="mouthLeft",r.mouthStretch_L="mouthStretchLeft",r.mouthPress_L="mouthPressLeft",r.mouthDimple_R="mouthDimpleRight",r.eyeWide_R="eyeWideRight",r.browDown_R="browDownRight",r.eyeLookUp_R="eyeLookUpRight",r.eyeBlink_R="eyeBlinkRight",r.cheekSquint_R="cheekSquintRight",r.mouthRight="mouthDimpleRight",r.eyeLookDown_R="eyeLookDownRight",r.eyeLookUp_L="eyeLookUpLeft",r.eyeSquint_L="eyeSquintLeft",r.jawOpen="jawOpen",r.browOuterUp_R="browOuterUpRight",r.mouthClose="mouthClose",r.mouthShrugLower="mouthShrugLower",r.eyeWide_L="eyeWideLeft",r.tongueOut="tongueOut",r.eyeSquint_R="eyeSquintRight",r.cheekPuff="cheekPuff",r.mouthPress_R="mouthPressRight",r.mouthSmile_R="mouthSmileRight",r))(zI||{}),GI=(r=>(r[r.Key_BackSpace=8]="Key_BackSpace",r[r.Key_Tab=9]="Key_Tab",r[r.Key_Clear=12]="Key_Clear",r[r.Key_Enter=13]="Key_Enter",r[r.Key_Shift_L=16]="Key_Shift_L",r[r.Key_Control_L=17]="Key_Control_L",r[r.Key_Alt_L=18]="Key_Alt_L",r[r.Key_Pause=19]="Key_Pause",r[r.Key_CapsLock=20]="Key_CapsLock",r[r.Key_Escape=21]="Key_Escape",r[r.Key_Esc=27]="Key_Esc",r[r.Key_Space=32]="Key_Space",r[r.Key_Prior=33]="Key_Prior",r[r.Key_Next=34]="Key_Next",r[r.Key_End=35]="Key_End",r[r.Key_Home=36]="Key_Home",r[r.Key_Left=37]="Key_Left",r[r.Key_Up=38]="Key_Up",r[r.Key_Right=39]="Key_Right",r[r.Key_Down=40]="Key_Down",r[r.Key_Select=41]="Key_Select",r[r.Key_Print=42]="Key_Print",r[r.Key_Execute=43]="Key_Execute",r[r.Key_Insert=45]="Key_Insert",r[r.Key_Delete=46]="Key_Delete",r[r.Key_Help=47]="Key_Help",r[r.Key_0=48]="Key_0",r[r.Key_1=49]="Key_1",r[r.Key_2=50]="Key_2",r[r.Key_3=51]="Key_3",r[r.Key_4=52]="Key_4",r[r.Key_5=53]="Key_5",r[r.Key_6=54]="Key_6",r[r.Key_7=55]="Key_7",r[r.Key_8=56]="Key_8",r[r.Key_9=57]="Key_9",r[r.Key_A=65]="Key_A",r[r.Key_B=66]="Key_B",r[r.Key_C=67]="Key_C",r[r.Key_D=68]="Key_D",r[r.Key_E=69]="Key_E",r[r.Key_F=70]="Key_F",r[r.Key_G=71]="Key_G",r[r.Key_H=72]="Key_H",r[r.Key_I=73]="Key_I",r[r.Key_J=74]="Key_J",r[r.Key_K=75]="Key_K",r[r.Key_L=76]="Key_L",r[r.Key_M=77]="Key_M",r[r.Key_N=78]="Key_N",r[r.Key_O=79]="Key_O",r[r.Key_P=80]="Key_P",r[r.Key_Q=81]="Key_Q",r[r.Key_R=82]="Key_R",r[r.Key_S=83]="Key_S",r[r.Key_T=84]="Key_T",r[r.Key_U=85]="Key_U",r[r.Key_V=86]="Key_V",r[r.Key_W=87]="Key_W",r[r.Key_X=88]="Key_X",r[r.Key_Y=89]="Key_Y",r[r.Key_Z=90]="Key_Z",r[r.Key_KP_0=96]="Key_KP_0",r[r.Key_KP_1=97]="Key_KP_1",r[r.Key_KP_2=98]="Key_KP_2",r[r.Key_KP_3=99]="Key_KP_3",r[r.Key_KP_4=100]="Key_KP_4",r[r.Key_KP_5=101]="Key_KP_5",r[r.Key_KP_6=102]="Key_KP_6",r[r.Key_KP_7=103]="Key_KP_7",r[r.Key_KP_8=104]="Key_KP_8",r[r.Key_KP_9=105]="Key_KP_9",r[r.Key_Multiply=106]="Key_Multiply",r[r.Key_Add=107]="Key_Add",r[r.Key_Separator=108]="Key_Separator",r[r.Key_Subtract=109]="Key_Subtract",r[r.Key_Decimal=110]="Key_Decimal",r[r.Key_Divide=111]="Key_Divide",r[r.Key_F1=112]="Key_F1",r[r.Key_F2=113]="Key_F2",r[r.Key_F3=114]="Key_F3",r[r.Key_F4=115]="Key_F4",r[r.Key_F5=116]="Key_F5",r[r.Key_F6=117]="Key_F6",r[r.Key_F7=118]="Key_F7",r[r.Key_F8=119]="Key_F8",r[r.Key_F9=120]="Key_F9",r[r.Key_F10=121]="Key_F10",r[r.Key_F11=122]="Key_F11",r[r.Key_F12=123]="Key_F12",r[r.Key_F13=124]="Key_F13",r[r.Key_F14=125]="Key_F14",r[r.Key_F15=126]="Key_F15",r[r.Key_F16=127]="Key_F16",r[r.Key_F17=128]="Key_F17",r[r.Key_F18=129]="Key_F18",r[r.Key_F19=130]="Key_F19",r[r.Key_F20=131]="Key_F20",r[r.Key_F21=132]="Key_F21",r[r.Key_F22=133]="Key_F22",r[r.Key_F23=134]="Key_F23",r[r.Key_F24=135]="Key_F24",r[r.Key_Num_Lock=136]="Key_Num_Lock",r[r.Key_Scroll_Lock=137]="Key_Scroll_Lock",r))(GI||{});class Mg{static add(A,e,t){return t||(t=new I),t.x=A.x+e.x,t.y=A.y+e.y,t.z=A.z+e.z,t}static sub(A,e,t){return t||(t=new I),t.x=A.x-e.x,t.y=A.y-e.y,t.z=A.z-e.z,t}static mul(A,e,t){return t||(t=new I),t.x=A.x*e.x,t.y=A.y*e.y,t.z=A.z*e.z,t}static mulScale(A,e,t){return t||(t=new I),t.x=A.x*e,t.y=A.y*e,t.z=A.z*e,t}static div(A,e,t){return t||(t=new I),t.x=A.x/e.x,t.y=A.y/e.y,t.z=A.z/e.z,t}static normalize(A){return A.clone().normalize()}static dot(A,e){let t=I.HELP_0;return t.copyFrom(A),t.dotProduct(e)}static calculateVectorAngle_xz(A,e){return Math.acos((A.x*e.x+A.y*e.y)/Math.sqrt((A.x*A.x+A.y*A.y)*(e.x*e.x+e.y*e.y)))}static distance(A,e){return I.distance(A,e)}static getRandomXYZ(A=-100,e=100){return new I(Math.random()*(e-A)+A,Math.random()*(e-A)+A,Math.random()*(e-A)+A)}static getRandomV3(A=-100,e=100,t,i){return new I(Math.random()*e+A,Math.random()*i+t,Math.random()*e+A)}static sphere(A){let e=A*Math.random(),t=new I(Math.random()*1-.5,Math.random()*1-.5,Math.random()*1-.5);return t.normalize(),t.scaleBy(e),t}static sphereXYZ(A,e,t=1,i=1,n=1){let s=A+(e-A)*Math.random(),o=new I(Math.random()*t-t*.5,Math.random()*i-i*.5,Math.random()*n-n*.5);return o.normalize(),o.scaleBy(s),o}}class VI extends Jt{constructor(){super();a(this,"_camera");a(this,"autoRotate",!1);a(this,"autoRotateSpeed",.1);a(this,"rotateFactor",.5);a(this,"zoomFactor",.1);a(this,"panFactor",.25);a(this,"_smooth",5);a(this,"_minDistance",1);a(this,"_maxDistance",1e5);a(this,"_maxPolarAngle",90);a(this,"_minPolarAngle",-90);a(this,"_target",new I(0,0,0));a(this,"_cTarget",new I(0,0,0));a(this,"_position",new I(0,0,0));a(this,"_cPosition",new I(0,0,0));a(this,"_spherical",new QI);a(this,"_isMouseDown",!1);a(this,"_lastMouseX",-1);a(this,"_lastMouseY",-1);a(this,"_isPanning",!1)}get target(){return this._target}set target(e){this._target=e}get smooth(){return this._smooth}set smooth(e){this._smooth=Math.max(e,1)}get minDistance(){return this._minDistance}set minDistance(e){this._minDistance=vt(e,2e-6,this._maxDistance)}get maxDistance(){return this._maxDistance}set maxDistance(e){this._maxDistance=vt(e,this._minDistance,1/0)}get minPolarAngle(){return this._minPolarAngle}set minPolarAngle(e){this._minPolarAngle=vt(e,-90,this._maxPolarAngle)}get maxPolarAngle(){return this._maxPolarAngle}set maxPolarAngle(e){this._maxPolarAngle=vt(e,this._minPolarAngle,90)}start(){this._camera=this.object3D.getComponent(n0),this._position=this.object3D.transform.localPosition.clone(),this._cPosition=this._position.clone(),this._target=this._camera.lookTarget.clone(),this._cTarget=this._target.clone(),this._spherical.setCoords(this._position.x-this._target.x,this._position.y-this._target.y,this._position.z-this._target.z),this._camera.lookAt(this._cPosition,this._cTarget,I.UP),this.addEventListener()}onEnable(){this.addEventListener()}onDisable(){this.removeEventListener()}onUpdate(){let e=this._isPanning?1:this.smooth,t=!1;this._cPosition.equals(this.object3D.transform.localPosition)||(this._position.copyFrom(this.object3D.transform.localPosition),e=1,t=!0),this._cTarget.equals(this._target)||(this._cTarget.copyFrom(this._target),e=1,t=!0),t?this._spherical.setCoords(this._position.x-this._target.x,this._position.y-this._target.y,this._position.z-this._target.z):!this._isMouseDown&&this.autoRotate&&(this._spherical.theta-=this.autoRotateSpeed*Math.PI/180,this.updateCamera());let i=(this._position.x-this._cPosition.x)/e,n=(this._position.y-this._cPosition.y)/e,s=(this._position.z-this._cPosition.z)/e;this._cPosition.x=Math.abs(i)>1e-10?this._cPosition.x+i:this._position.x,this._cPosition.y=Math.abs(n)>1e-10?this._cPosition.y+n:this._position.y,this._cPosition.z=Math.abs(s)>1e-10?this._cPosition.z+s:this._position.z,this._camera.lookAt(this._cPosition,this._cTarget,I.UP)}onWheel(e){e.deltaY=vt(e.deltaY,-this._spherical.radius,this._spherical.radius),this._spherical.radius+=e.deltaY*this.zoomFactor,this._spherical.radius=vt(this._spherical.radius,this.minDistance,this.maxDistance),this.updateCamera()}onPointerDown(e){this._isMouseDown=!0,this._lastMouseX=e.mouseX,this._lastMouseY=e.mouseY,e.mouseCode===2&&(this._isPanning=!0)}onPointerMove(e){if(!this._isMouseDown||!this.enable)return;let t=e.mouseX,i=e.mouseY;if(e.mouseCode===0&&this._lastMouseX>0&&this._lastMouseY>0){const n=-(t-this._lastMouseX)*this.rotateFactor,s=(i-this._lastMouseY)*this.rotateFactor;this._spherical.theta+=n*Math.PI/180,this._spherical.phi-=s*Math.PI/180,this._spherical.phi=vt(this._spherical.phi,this.minPolarAngle,this.maxPolarAngle),this.updateCamera()}else e.mouseCode===2&&(Mg.mulScale(this.object3D.transform.up,e.movementY*this.panFactor*this._camera.aspect,I.HELP_1),this._target.y+=I.HELP_1.y,Mg.mulScale(this.object3D.transform.right,-e.movementX*this.panFactor,I.HELP_1),this._target.x-=I.HELP_1.x,this._target.z-=I.HELP_1.z,this._cTarget.copyFrom(this._target),this.updateCamera());this._lastMouseX=t,this._lastMouseY=i}onPointerUp(e){this._isMouseDown=!1,e.mouseCode===2&&(this._isPanning=!1)}onPointerLeave(){this._isMouseDown=!1,this._isPanning=!1}updateCamera(){this._spherical.makeSafe();let e=this._spherical.getCoords();this._position.set(e.x+this._target.x,e.y+this._target.y,e.z+this._target.z)}addEventListener(){K.inputSystem.addEventListener(mA.POINTER_WHEEL,this.onWheel,this),K.inputSystem.addEventListener(mA.POINTER_DOWN,this.onPointerDown,this),K.inputSystem.addEventListener(mA.POINTER_MOVE,this.onPointerMove,this),K.inputSystem.addEventListener(mA.POINTER_UP,this.onPointerUp,this),K.inputSystem.addEventListener(mA.POINTER_OUT,this.onPointerLeave,this)}removeEventListener(){K.inputSystem.removeEventListener(mA.POINTER_WHEEL,this.onWheel,this),K.inputSystem.removeEventListener(mA.POINTER_DOWN,this.onPointerDown,this),K.inputSystem.removeEventListener(mA.POINTER_MOVE,this.onPointerMove,this),K.inputSystem.removeEventListener(mA.POINTER_UP,this.onPointerUp,this),K.inputSystem.removeEventListener(mA.POINTER_OUT,this.onPointerLeave,this)}}class QI{constructor(A=1,e=0,t=0){a(this,"radius");a(this,"phi");a(this,"theta");a(this,"coords");return this.radius=A,this.phi=e,this.theta=t,this.coords=new I,this}set(A,e,t){return this.radius=A,this.phi=e,this.theta=t,this}makeSafe(){return this.phi=Math.max(2e-4,Math.min(Math.PI-2e-4,this.phi)),this}setFromVector3(A){return this.setCoords(A.x,A.y,A.z)}setCoords(A,e,t){return this.radius=Math.sqrt(A*A+e*e+t*t),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(A,t),this.phi=Math.acos(vt(e/this.radius,-1,1))),this}getCoords(){const A=Math.sin(this.phi)*this.radius;return this.coords.x=A*Math.sin(this.theta),this.coords.y=Math.cos(this.phi)*this.radius,this.coords.z=A*Math.cos(this.theta),this.coords}}var Na=(r=>(r[r.NORMAL=0]="NORMAL",r[r.DOWN=1]="DOWN",r[r.OVER=2]="OVER",r[r.DISABLE=3]="DISABLE",r))(Na||{});let HI=Math.PI,Rg=HI*2;class Po{constructor(A=1,e=0,t=0,i=1,n=0,s=0){a(this,"a");a(this,"b");a(this,"c");a(this,"d");a(this,"tx");a(this,"ty");this.a=A,this.b=e,this.c=t,this.d=i,this.tx=n,this.ty=s}clone(){return new Po(this.a,this.b,this.c,this.d,this.tx,this.ty)}concat(A){let e=this.a,t=this.c,i=this.tx;this.a=e*A.a+this.b*A.c,this.b=e*A.b+this.b*A.d,this.c=t*A.a+this.d*A.c,this.d=t*A.b+this.d*A.d,this.tx=i*A.a+this.ty*A.c+A.tx,this.ty=i*A.b+this.ty*A.d+A.ty}copyFrom(A){return this.a=A.a,this.b=A.b,this.c=A.c,this.d=A.d,this.tx=A.tx,this.ty=A.ty,this}identity(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this}invert(){this._invertInto(this)}rotate(A){if(A=+A,A!==0){A=A*Ie;let e=Math.cos(A),t=Math.sin(A),i=this.a,n=this.b,s=this.c,o=this.d,u=this.tx,l=this.ty;this.a=i*e-n*t,this.b=i*t+n*e,this.c=s*e-o*t,this.d=s*t+o*e,this.tx=u*e-l*t,this.ty=u*t+l*e}}scale(A,e){A!==1&&(this.a*=A,this.c*=A,this.tx*=A),e!==1&&(this.b*=e,this.d*=e,this.ty*=e)}setTo(A,e,t,i,n,s){return this.a=A,this.b=e,this.c=t,this.d=i,this.tx=n,this.ty=s,this}transformPoint(A,e,t){let i=this.a*A+this.c*e+this.tx,n=this.b*A+this.d*e+this.ty;return t?(t.setTo(i,n,0,1),t):new I(i,n,0,1)}setTranslate(A,e){this.tx=A,this.ty=e}translate(A,e){this.tx+=A,this.ty+=e}mul(A){let e=this,t=A,i=e.a,n=e.b,s=e.c,o=e.d,u=e.tx,l=e.ty,c=t.a,h=t.b,d=t.c,f=t.d,p=t.tx,y=t.ty;h!==0||d!==0?(this.a=i*c+n*d,this.b=i*h+n*f,this.c=s*c+o*d,this.d=s*h+o*f,this.tx=c*u+d*l+p,this.ty=h*u+f*l+y):(this.a=i*c,this.b=n*f,this.c=s*c,this.d=o*f,this.tx=c*u+p,this.ty=f*l+y)}equals(A){return this.a==A.a&&this.b==A.b&&this.c==A.c&&this.d==A.d&&this.tx==A.tx&&this.ty==A.ty}prepend(A,e,t,i,n,s){let o=this.tx;if(A!=1||e!=0||t!=0||i!=1){let u=this.a,l=this.c;this.a=u*A+this.b*t,this.b=u*e+this.b*i,this.c=l*A+this.d*t,this.d=l*e+this.d*i}return this.tx=o*A+this.ty*t+n,this.ty=o*e+this.ty*i+s,this}append(A){let e=this.a,t=this.b,i=this.c,n=this.d;return(A.a!=1||A.b!=0||A.c!=0||A.d!=1)&&(this.a=A.a*e+A.b*i,this.b=A.a*t+A.b*n,this.c=A.c*e+A.d*i,this.d=A.c*t+A.d*n),this.tx=A.tx*e+A.ty*i+this.tx,this.ty=A.tx*t+A.ty*n+this.ty,this}deltaTransformPoint(A){let e=this,t=e.a*A.x+e.c*A.y,i=e.b*A.x+e.d*A.y;return new I(t,i)}toString(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}createBox(A,e,t=0,i=0,n=0){let s=this;if(t!==0){t=t*Ie;let o=Math.cos(t),u=Math.sin(t);s.a=o*A,s.b=u*e,s.c=-u*A,s.d=o*e}else s.a=A,s.b=0,s.c=0,s.d=e;s.tx=i,s.ty=n}createGradientBox(A,e,t=0,i=0,n=0){this.createBox(A/1638.4,e/1638.4,t,i+A/2,n+e/2)}_invertInto(A){let e=this.a,t=this.b,i=this.c,n=this.d,s=this.tx,o=this.ty;if(t==0&&i==0){A.b=A.c=0,e==0||n==0?A.a=A.d=A.tx=A.ty=0:(e=A.a=1/e,n=A.d=1/n,A.tx=-e*s,A.ty=-n*o);return}let u=e*n-t*i;if(u==0){A.identity();return}u=1/u;let l=A.a=n*u;t=A.b=-t*u,i=A.c=-i*u,n=A.d=e*u,A.tx=-(l*s+i*o),A.ty=-(t*s+n*o)}getScaleX(){let A=this;if(A.a==1&&A.b==0)return 1;let e=Math.sqrt(A.a*A.a+A.b*A.b);return this.getDeterminant()<0?-e:e}getScaleY(){let A=this;if(A.c==0&&A.d==1)return 1;let e=Math.sqrt(A.c*A.c+A.d*A.d);return this.getDeterminant()<0?-e:e}getSkewX(){return Math.atan2(this.d,this.c)-Math.PI/2}getSkewY(){return Math.atan2(this.b,this.a)}updateScaleAndRotation(A,e,t,i){if((t==0||t==Rg)&&(i==0||i==Rg)){this.a=A,this.b=this.c=0,this.d=e;return}t=t*Ie,i=i*Ie;let n=Math.cos(t),s=Math.sin(t);t==i?(this.a=n*A,this.b=s*A):(this.a=Math.cos(i)*A,this.b=Math.sin(i)*A),this.c=-s*e,this.d=n*e}preMultiplyInto(A,e){let t=A.a*this.a,i=0,n=0,s=A.d*this.d,o=A.tx*this.a+this.tx,u=A.ty*this.d+this.ty;(A.b!==0||A.c!==0||this.b!==0||this.c!==0)&&(t+=A.b*this.c,s+=A.c*this.b,i+=A.a*this.b+A.b*this.d,n+=A.c*this.a+A.d*this.c,o+=A.ty*this.c,u+=A.tx*this.b),e.a=t,e.b=i,e.c=n,e.d=s,e.tx=o,e.ty=u}$transformBounds(A){let e=this.a,t=this.b,i=this.c,n=this.d,s=this.tx,o=this.ty,u=A.x,l=A.y,c=u+A.width,h=l+A.height,d=e*u+i*l+s,f=t*u+n*l+o,p=e*c+i*l+s,y=t*c+n*l+o,_=e*c+i*h+s,g=t*c+n*h+o,m=e*u+i*h+s,E=t*u+n*h+o,w=0;d>p&&(w=d,d=p,p=w),_>m&&(w=_,_=m,m=w),A.x=Math.floor(d<_?d:_),A.width=Math.ceil((p>m?p:m)-A.x),f>y&&(w=f,f=y,y=w),g>E&&(w=g,g=E,E=w),A.y=Math.floor(f<g?f:g),A.height=Math.ceil((y>E?y:E)-A.y)}getDeterminant(){return this.a*this.d-this.b*this.c}}class a1 extends Jt{constructor(){super(...arguments);a(this,"isGUICanvas",!0);a(this,"index",0)}addChild(e){return this.object3D.addChild(e),this}removeChild(e){return this.object3D.removeChild(e),this}cloneTo(e){e.getOrAddComponent(a1).copyComponent(this)}copyComponent(e){return e.index=e.index,this}}var je=(r=>(r[r.NONE=0]="NONE",r[r.POSITION=1]="POSITION",r[r.SPRITE=2]="SPRITE",r[r.COLOR=4]="COLOR",r[r.MAX=7]="MAX",r))(je||{});class vh{constructor(A){a(this,"array");a(this,"buffer");this.buffer=new Bt(A,0),this.array=new Float32Array(this.buffer.memory.shareDataBuffer)}}class jI extends ti{constructor(e){super();a(this,"_attributeUV");a(this,"_attributeVIndex");a(this,"_faceIndexes");a(this,"_uvSize",2);a(this,"_vIndexSize",1);a(this,"_posAttribute");a(this,"_spriteAttribute");a(this,"_colorAttribute");a(this,"_onPositionChange",!0);a(this,"_onSpriteChange",!0);a(this,"_onColorChange",!0);a(this,"maxQuadCount");this.maxQuadCount=e}updateSubGeometry(e,t,i){let n=this.subGeometries[e];if(n){let s=n.lodLevels[0];s.indexStart=t,s.indexCount=i,s.index=e}else n=this.addSubGeometry({indexStart:t,indexCount:i,vertexStart:0,vertexCount:0,firstStart:0,index:e,topology:0});return n}resetSubGeometries(){for(let e of this.subGeometries){let t=e.lodLevels[0];t.indexStart=0,t.indexCount=0,t.index=0}}updateBounds(e,t){let i=Number.MAX_VALUE*.1;return e=new I(-i,-i,-i),t=new I(i,i,i),this.bounds.setFromMinMax(e,t),this}getPositionBuffer(){return this._onPositionChange&&(this._posAttribute.buffer.apply(),this._onPositionChange=!1),this._posAttribute.buffer}getSpriteBuffer(){return this._onSpriteChange&&(this._spriteAttribute.buffer.apply(),this._onSpriteChange=!1),this._spriteAttribute.buffer}getColorBuffer(){return this._onColorChange&&(this._colorAttribute.buffer.apply(),this._onColorChange=!1),this._colorAttribute.buffer}create(){this.createBuffer(),this.updateBounds();let e=this.maxQuadCount,t=[],i=[];for(let s=0;s<e;s++)t.push(...Vi.attUV);for(let s=0,o=this.maxQuadCount*Vi.vertexCount;s<o;s++)i[s]=s;this._attributeUV=new Float32Array(Vi.vertexCount*e*this._uvSize),this._attributeVIndex=new Float32Array(Vi.vertexCount*e*this._vIndexSize),this._attributeUV.set(t,0),this._attributeVIndex.set(i,0);let n=[];for(let s=0;s<e;s++)for(let o=0;o<Vi.indecies.length;o++){const u=Vi.indecies[o]+s*4;n.push(u)}return this._faceIndexes=new Uint32Array(e*6),this._faceIndexes.set(n,0),this.setIndices(this._faceIndexes),this.setAttribute(pA.uv,this._attributeUV),this.setAttribute(pA.vIndex,this._attributeVIndex),this.updateSubGeometry(0,0,this._faceIndexes.length),this}createBuffer(){let e=this.maxQuadCount;this._posAttribute=new vh(e*4),this._spriteAttribute=new vh(e*12),this._colorAttribute=new vh(e*4)}fillQuad(e,t){e.dirtyAttributes&je.POSITION&&this.fillQuadPosition(e,t),e.dirtyAttributes&je.COLOR&&this.fillQuadColor(e,t),e.dirtyAttributes&je.SPRITE&&this.fillQuadSprite(e,t)}fillQuadPosition(e,t){Pg.setXYZW(this._posAttribute.array,e.z,e.left,e.bottom,e.right,e.top),this._onPositionChange=!0}fillQuadColor(e,t){let i=e.color,n=this._colorAttribute.array;Pg.setXYZW(n,e.z,i.r,i.g,i.b,i.a),this._onColorChange=!0}fillQuadSprite(e,t){let i=e.sprite,n=0,s=0;i.isSliced&&e.imageType==uc.Sliced&&(n=i.trimSize.x,n=(t.width-(i.offsetSize.z-i.trimSize.x))/n,s=i.trimSize.y,s=(t.height-(i.offsetSize.w-i.trimSize.y))/s);let o=i.guiTexture.dynamicId,u=i.uvRec,l=i.uvBorder,c=this._spriteAttribute.array,h=12*e.z;c[h+0]=u.x,c[h+1]=u.y,c[h+2]=u.z,c[h+3]=u.w,c[h+4]=l.x,c[h+5]=l.y,c[h+6]=l.z,c[h+7]=l.w,c[h+8]=n,c[h+9]=s,c[h+10]=o,c[h+11]=e.visible?1:0,this._onSpriteChange=!0}}class WI{static set(A,e,t,i,...n){let s=e*i+t;for(let o=0,u=n.length;o<u;o++)A[s+o]=n[o]}}class Pg extends WI{static setXYZW(A,e,t,i,n,s){this.set(A,e,0,4,t,i,n,s)}static setXYZ(A,e,t,i,n){this.set(A,e,0,4,t,i,n)}static setZ(A,e,t){this.set(A,e,3,4,t)}}class Vi{}a(Vi,"vertexCount",4),a(Vi,"attUV",[0,0,1,0,1,1,0,1]),a(Vi,"indecies",[0,1,2,0,2,3]);class YI{constructor(){a(this,"_textureMap",new Map);a(this,"_textureList",[])}build(A,e,t){let i=e._geometry;i.resetSubGeometries();let n=-1,s=0,o=0,u=0,l=0,c=this._textureList,h=this._textureMap;function d(){u>0&&(e.updateDrawCallSegment(l,o,u),e._uiRenderer.materials[l].setTextures(c),h.clear(),c.length=0,l++,o+=u,u=0,s=0)}h.clear(),c.length=0;let f=[],p=e.quadMaxCount-1;for(let y of A){let _=y.needUpdateQuads;f.length=0;const g=this.collectQuads(y.object3D,f);for(let m of g){let E=m.sprite.guiTexture;if(h.has(E.staticId)||(s==7&&d(),h.set(E.staticId,E),E.dynamicId=s,c[s]=E.texture,s+=1),m.z=++n,u+=6,m.cacheTextureId!=E.dynamicId&&(m.dirtyAttributes=je.MAX,m.cacheTextureId=E.dynamicId),(_||t)&&(m.dirtyAttributes=je.MAX),m.dirtyAttributes&je.POSITION&&m.applyTransform(y),m.dirtyAttributes&&m.writeToGeometry(i,y),n==p)return d(),!0}}return d(),!1}collectQuads(A,e){e||(e=[]);let t=A.components.values();for(let i of t){let n=i;if(n.isUIShadow||!n.mainQuads)continue;let s=n.getShadowRender();s&&this.push(s.mainQuads,e),this.push(n.mainQuads,e)}return e}push(A,e){A&&A.length>0&&e.push(...A)}}const Ze=class Ze{static bindTextureArray(){let A="";for(let e=0;e<7;e++)A+=`
        @group(1) @binding(auto)
        var tex_${e}Sampler: sampler;
        @group(1) @binding(auto)
#if VideoTexture${e}
        var tex_${e}: texture_external;
#else
        var tex_${e}: texture_2d<f32>;
#endif
`;return A}static sampleTexture(A){return`
#if VideoTexture${A}
            let size = textureDimensions(tex_${A}).xy - 1;
            uv.y = 1.0 - uv.y;
            let iuv = vec2<i32>(uv * vec2<f32>(size));
            color = textureLoad(tex_${A}, iuv) ;
#else
            color = textureSampleLevel(tex_${A}, tex_${A}Sampler, uv, 0.0);
#endif        `}};a(Ze,"fs",`
        ${q3}
        ${Ze.bindTextureArray()}

        var<private> fragmentOutput: FragmentOutput;
        var<private> uvSlice: vec2<f32>;
        var<private> EPSILON: f32 = 0.001;
        
        fn sliceBorder(uv:f32, scale:f32, border:vec2<f32>) -> f32 
        {
            var s = uv * scale;
            if(s > border.x){
                s -= border.x;
                let centerPartMax = scale - border.x - border.y;
                let centerPartMin = 1.0 - border.x - border.y;
                if(s < centerPartMax){
                    s = border.x + (s / centerPartMax) * centerPartMin;
                }else{
                    s = s - centerPartMax + border.x + centerPartMin;
                }
            }
            return s;
        }

        fn isInsideAlpha(coord:vec2<f32>, rect:vec4<f32>, cornerRadius0:f32, fadeOutSize0:f32) -> f32
        {
            var minX = min(rect.x, rect.z);
            var maxX = max(rect.x, rect.z);
            var minY = min(rect.y, rect.w);
            var maxY = max(rect.y, rect.w);

            var cornerRadius = max(EPSILON, cornerRadius0);

            var center = vec2<f32>(minX + maxX, minY + maxY) * 0.5;
            var extents = vec2<f32>(maxX - minX, maxY - minY) * 0.5;

            cornerRadius = min(extents.x, cornerRadius);
            cornerRadius = min(extents.y, cornerRadius);
            
            var extendsMin = max(vec2<f32>(0.0), extents - cornerRadius);
            
            var toCenter = abs(coord - center);
            var outerDist = toCenter - extents;
            var innerDist = toCenter - extendsMin;
            
            if(innerDist.x <= 0 && innerDist.y <= 0){
                return 1.0;
            }else if(outerDist.x <= 0 && outerDist.y <= 0){
                var fadeOutPercent = clamp(fadeOutSize0, EPSILON, cornerRadius) / cornerRadius;
                innerDist = max(vec2(EPSILON), innerDist);
                var distance = min(cornerRadius, length(innerDist));
                var alpha = 1.0 - distance / cornerRadius;
                alpha /= fadeOutPercent;
                alpha = clamp(alpha, 0.0, 1.0);
                return alpha;
            }
            return 0.0;
        }
        
        @fragment
        fn FragMain( 
            @location(auto) vUV: vec2<f32>,
            @location(auto) vColor4: vec4<f32>,
            @location(auto) vLocalPos: vec2<f32>,
            @location(auto) vUvRec: vec4<f32>,
            @location(auto) vUvBorder: vec4<f32>,
            @location(auto) vUvSlice: vec2<f32>,
            @location(auto) vTextureID: f32,
            @builtin(front_facing) face: bool,
            @builtin(position) fragCoord : vec4<f32> 
        ) -> FragmentOutput {

            var scissorAlpha = 1.0;
#if SCISSOR_ENABLE
            scissorAlpha = isInsideAlpha(
                vLocalPos.xy,
                materialUniform.scissorRect,
                materialUniform.scissorCornerRadius,
                materialUniform.scissorFadeOutSize);

            if(scissorAlpha < EPSILON){
                discard;
            }
#endif

            uvSlice = vUvSlice;
            
            var uv:vec2<f32> = vUV;
            if(uvSlice.x > 1.0){ uv.x = sliceBorder(uv.x, uvSlice.x, vUvBorder.xz);}
            if(uvSlice.y > 1.0){ uv.y = sliceBorder(uv.y, uvSlice.y, vUvBorder.yw);}
            uv = uv * vUvRec.zw + vUvRec.xy;
            
            var color = vec4<f32>(0.0,0.0,0.0,1.0);
            let texId = i32(vTextureID + 0.5);
            
            var texSize = vec2<i32>(0);
            var coord = vec2<i32>(0);
            
            if(texId == 0){
                ${Ze.sampleTexture(0)}
            }else if(texId == 1){
                ${Ze.sampleTexture(1)}
            }else if(texId == 2){
                ${Ze.sampleTexture(2)}
            }else if(texId == 3){            
                ${Ze.sampleTexture(3)}
            }else if(texId == 4){            
                ${Ze.sampleTexture(4)}
            }else if(texId == 5){            
                ${Ze.sampleTexture(5)}
            }else if(texId == 6){            
                ${Ze.sampleTexture(6)}
            }
            color *= vColor4;
            color.a *= scissorAlpha;
            if(color.a < EPSILON)
            { 
                discard;
            }

            fragmentOutput.color = color;
            return fragmentOutput ;
        }`),a(Ze,"GUI_common_vs",`
        ${K3}
        ${$3}

        struct VertexSpriteBuffer {
            vUvRec: vec4<f32>,
            vUvBorder: vec4<f32>,
            vUvSlice: vec2<f32>,
            vTextureID: f32,
            vVisible: f32
        }
                
        struct MaterialUniform{
            scissorRect:vec4<f32>,

            screenSize:vec2<f32>,
            scissorCornerRadius:f32,
            scissorFadeOutSize:f32,

            pixelRatio:f32,
            v3:vec3<f32>
        }
        
        struct VertexOutput {
            @location(auto) vUV: vec2<f32>,
            @location(auto) vColor4: vec4<f32>,
            @location(auto) vLocalPos: vec2<f32>,
            @location(auto) vUvRec: vec4<f32>,
            @location(auto) vUvBorder: vec4<f32>,
            @location(auto) vUvSlice: vec2<f32>,
            @location(auto) vTextureID: f32,
            
            @builtin(position) member: vec4<f32>
        };
        
         struct VertexInput{
            @builtin(instance_index) index : u32,
            @location(auto) uv: vec2<f32>,
            @location(auto) vIndex: f32,
        }

        @group(2) @binding(0)
        var<uniform> materialUniform : MaterialUniform;
        @group(3) @binding(1)
        var<storage, read> vPositionBuffer: array<vec4<f32>>;
        @group(3) @binding(2)
        var<storage, read> vSpriteBuffer: array<VertexSpriteBuffer>;
        @group(3) @binding(3)
        var<storage, read> vColorBuffer: array<vec4<f32>>;

        var<private> vertexOut: VertexOutput ;

        //quad: (left, bottom, right, top)
        //index: 0~3
        fn getVertexXY(quad:vec4<f32>, index:u32) -> vec2<f32>
        {
            var ret = vec2<f32>(0.0);
            if(index == 0 || index == 3){
                ret.x = quad.x;
            }else{
                ret.x = quad.z;
            }
            if(index == 0 || index == 1){
                ret.y = quad.w;
            }else{
                ret.y = quad.y;
            }
            return ret;
        }
    `),a(Ze,"GUI_shader_view",`
        ${Ze.GUI_common_vs}

        @vertex
        fn VertMain( vertex:VertexInput ) -> VertexOutput {
            var _m = models.matrix[0];
            var _n = globalUniform.frame;
            
            let vertexIndex = vertex.vIndex;
            let quadIndex = u32(vertex.vIndex * 0.25);
            let vertexPosition = getVertexXY(vPositionBuffer[quadIndex], u32(vertexIndex) % 4u);
            var vSpriteData = vSpriteBuffer[quadIndex];
            
            var op = vec2<f32>(0.0001);
            let isValidVertex = vSpriteData.vVisible > 0.5;
            if(isValidVertex){
                op = 2.0 * vertexPosition * materialUniform.pixelRatio  / materialUniform.screenSize;
            }

            vertexOut.vLocalPos = vertexPosition;
            vertexOut.member = vec4<f32>(op.x, op.y, vertexIndex * 0.0001, 1.0);

            vertexOut.vUV = vec2<f32>(vertex.uv);
            vertexOut.vUvRec = vSpriteData.vUvRec;
            vertexOut.vUvBorder = vSpriteData.vUvBorder;
            vertexOut.vUvSlice = vSpriteData.vUvSlice;
            vertexOut.vTextureID = vSpriteData.vTextureID;
            vertexOut.vColor4 = vColorBuffer[quadIndex];

            return vertexOut;
         }
         
         ${Ze.fs}
        `),a(Ze,"GUI_shader_world",`
        ${Ze.GUI_common_vs}
        @vertex
        fn VertMain( vertex:VertexInput ) -> VertexOutput {
            var modelMatrix = models.matrix[vertex.index];
            
            let vertexIndex = vertex.vIndex;
            let quadIndex = u32(vertex.vIndex * 0.25);
            let vertexPosition = getVertexXY(vPositionBuffer[quadIndex], u32(vertexIndex) % 4u);
            var localPos = vec4<f32>(vertexPosition.xy, vertexIndex * 0.0001, 1.0) ;
            var op = vec4<f32>(0.0001);
            var vSpriteData = vSpriteBuffer[quadIndex];

            let isValidVertex = vSpriteData.vVisible > 0.5;
            if(isValidVertex){
                op = globalUniform.projMat * globalUniform.viewMat * modelMatrix * localPos ;
            }

            vertexOut.vLocalPos = vertexPosition;
            vertexOut.member = op;

            vertexOut.vUV = vec2<f32>(vertex.uv);
            vertexOut.vUvRec = vSpriteData.vUvRec;
            vertexOut.vUvBorder = vSpriteData.vUvBorder;
            vertexOut.vUvSlice = vSpriteData.vUvSlice;
            vertexOut.vTextureID = vSpriteData.vTextureID;
            vertexOut.vColor4 = vColorBuffer[quadIndex];

            return vertexOut;
         }
         
         ${Ze.fs}

        `);let cc=Ze;class Fg extends an{constructor(e){super();a(this,"_scissorRect");a(this,"_screenSize",new Ge(1024,768));a(this,"_scissorEnable",!1);a(this,"_videoTextureFlags",{});CA.register("GUI_shader_view",cc.GUI_shader_view),CA.register("GUI_shader_world",cc.GUI_shader_world);let t=new Pr,i=e==mi.View?"GUI_shader_view":"GUI_shader_world",n=new ot(i,i);n.passType=QA.COLOR,n.setShaderEntry("VertMain","FragMain"),n.setUniformVector4("scissorRect",new XA),n.setUniformVector2("screenSize",this._screenSize),n.setUniformFloat("scissorCornerRadius",0),n.setUniformFloat("scissorFadeOutSize",0),n.setUniformFloat("pixelRatio",1),n.setUniformVector3("v3",I.ZERO);let s=n.shaderState;s.depthWriteEnabled=!1,n.blendMode=ee.ALPHA,n.depthCompare=e==mi.View?en.always:en.less_equal,n.cullMode=ar.back,t.addRenderPass(n),this.shader=t}setPanelRatio(e){this.shader.setUniformFloat("pixelRatio",e)}setScissorRect(e,t,i,n){this._scissorRect||(this._scissorRect=new XA),this._scissorRect.set(e,t,i,n),this.shader.setUniformVector4("scissorRect",this._scissorRect)}setScissorEnable(e){this._scissorEnable!=e&&(this._scissorEnable=e,e?this.shader.setDefine("SCISSOR_ENABLE",!0):this.shader.deleteDefine("SCISSOR_ENABLE"),this.shader.noticeValueChange())}setScissorCorner(e,t){this.shader.setUniformFloat("scissorCornerRadius",e),this.shader.setUniformFloat("scissorFadeOutSize",t)}setScreenSize(e,t){return this._screenSize.set(e,t),this.shader.setUniformVector2("screenSize",this._screenSize),this}setTextures(e){for(let t=0;t<7;t++){let i=e[t]||K.res.whiteTexture;this.shader.setTexture(`tex_${t}`,i),this.setVideoTextureDefine(t,i.isVideoTexture)}}setVideoTextureDefine(e,t){let i=!1;t!=this._videoTextureFlags[e]&&(t?this.shader.setDefine(`VideoTexture${e}`,!0):this.shader.deleteDefine(`VideoTexture${e}`),this._videoTextureFlags[e]=t,i=!0),i&&this.shader.noticeValueChange()}set envMap(e){}set shadowMap(e){}set baseMap(e){}set normalMap(e){}set emissiveMap(e){}set irradianceMap(e){}set irradianceDepthMap(e){}}class $I extends he{constructor(){super(...arguments);a(this,"_guiGeometry")}init(e){super.init(),this.addRendererMask(It.UI),this.removeRendererMask(It.Default),this.castGI=!1,this.castShadow=!1,this.alwaysRender=!0,this._ignoreEnvMap=this._ignorePrefilterMap=!0}get geometry(){return super.geometry}set geometry(e){super.geometry=e,this._guiGeometry=e}nodeUpdate(e,t,i,n){for(let s=0;s<this.materials.length;s++){let o=this.materials[s].getPass(t),u=this._guiGeometry.getPositionBuffer(),l=this._guiGeometry.getSpriteBuffer(),c=this._guiGeometry.getColorBuffer();if(o)for(let h=0;h<o.length;h++){const d=o[h];d.pipeline||(d.setStorageBuffer("vPositionBuffer",u),d.setStorageBuffer("vSpriteBuffer",l),d.setStorageBuffer("vColorBuffer",c))}}super.nodeUpdate(e,t,i,n)}onUpdate(e){}}class KI{constructor(){a(this,"_use");a(this,"_unUse");this._use=[],this._unUse=[]}pushBack(A){let e=this._use.indexOf(A);e!=-1&&(this._use.splice(e,1),this._unUse.push(A))}getUseList(){return this._use}getOne(A,e){let t;return this._unUse.length>0?(t=this._unUse[0],this._unUse.splice(0,1),this._use.push(t),t):(t=new A(e),this._use.push(t),t)}hasFree(){return this._unUse.length>0}}let ya;const wo=class wo{constructor(){a(this,"x",0);a(this,"y",0);a(this,"z",0);a(this,"width",1);a(this,"height",1);a(this,"_globalX",0);a(this,"_globalY",0);a(this,"_globalWidth",0);a(this,"_globalHeight",0);a(this,"_visible",!0);a(this,"_offsetX",0);a(this,"_offsetY",0);a(this,"_sprite",K.res.defaultGUISprite);a(this,"_color",new fA(1,1,1,1));a(this,"_imageType",uc.Simple);a(this,"dirtyAttributes",je.MAX);a(this,"cacheTextureId",-1)}static get quadPool(){return this.textPool||(this.textPool=new KI),this.textPool}static recycleQuad(A){A.sprite=null,A.dirtyAttributes=je.MAX,A.x=0,A.y=0,A.z=-1,A.cacheTextureId=-1,wo.quadPool.pushBack(A)}static spawnQuad(){return wo.quadPool.getOne(wo)}get imageType(){return this._imageType}set imageType(A){this._imageType=A,this.setAttrChange(je.SPRITE|je.POSITION)}get color(){return this._color}set color(A){this._color.copyFrom(A),this.setAttrChange(je.COLOR)}get visible(){return this._visible}set visible(A){A!=this._visible&&(this._visible=A,this.setAttrChange(je.SPRITE))}get sprite(){return this._sprite}set sprite(A){this._sprite!=A&&(this._sprite=A,this.setAttrChange(je.SPRITE|je.POSITION))}get left(){return this._globalX-this._offsetX}get right(){return this.left+this._globalWidth}get top(){return this._globalY-this._offsetY}get bottom(){return this.top+this._globalHeight}setSize(A,e){this.width=A,this.height=e,this.setAttrChange(je.POSITION)}setXY(A,e){this.x=A,this.y=e,this.setAttrChange(je.POSITION)}setAttrChange(A){this.dirtyAttributes=this.dirtyAttributes|A}applyTransform(A){this.setAttrChange(je.POSITION);let e=this._sprite,t=A.getWorldMatrix();(this.x!=0||this.y!=0)&&(t=this.getQuadMatrix(t));let i=t.getScaleX(),n=t.getScaleY(),s=e.isSliced&&this._imageType==uc.Sliced;if(this._offsetX=A.width*.5*i,this._offsetY=A.height*.5*n,s)this._globalWidth=i*(A.width-(e.offsetSize.z-e.trimSize.x)),this._globalHeight=n*(A.height-(e.offsetSize.w-e.trimSize.y)),this._globalX=t.tx+e.offsetSize.x*i,this._globalY=t.ty+e.offsetSize.y*n;else{let o=this.width/e.offsetSize.z,u=this.height/e.offsetSize.w;this._globalWidth=i*e.trimSize.x*o,this._globalHeight=n*e.trimSize.y*u,this._globalX=t.tx+e.offsetSize.x*o*i,this._globalY=t.ty+e.offsetSize.y*u*n}return this}getQuadMatrix(A){return ya||(ya=new Po),ya.identity(),ya.setTranslate(this.x,this.y),ya.mul(A),ya}writeToGeometry(A,e){return A.fillQuad(this,e),this.dirtyAttributes=je.NONE,this}};a(wo,"textPool");let hc=wo;class qI extends Jt{constructor(){super(...arguments);a(this,"_uiTransform");a(this,"_visible",!0)}destroy(){this._uiTransform.setNeedUpdateUIPanel(),super.destroy()}get uiTransform(){return this._uiTransform}get visible(){return this._visible}set visible(e){var t;this._visible!=e&&(this._visible=e,(t=this.onUIComponentVisible)==null||t.call(this,this._visible))}init(e){var t;(t=super.init)==null||t.call(this,e),this._uiTransform=this.object3D.getOrAddComponent(Mn),this._uiTransform.setNeedUpdateUIPanel()}copyComponent(e){return this.visible=e.visible,this}}class XI extends qI{constructor(){super(...arguments);a(this,"_mainQuads");a(this,"_shadowRender");a(this,"_shadowSource");a(this,"isUIShadow");a(this,"isShadowless");a(this,"needUpdateShadow")}init(e){var t;(t=super.init)==null||t.call(this,e),this._mainQuads=[]}destroy(){var e,t;this.detachQuads(),(e=this._shadowRender)==null||e.setShadowSource(null),(t=this._shadowSource)==null||t.setShadowRenderer(null),super.destroy(),this._shadowRender=null,this._shadowSource=null}start(){var e;(e=super.start)==null||e.call(this),this.isUIShadow?this.autoBindShadow(null,this):this.isShadowless||this.autoBindShadow(this,null),this.setShadowDirty()}setShadowDirty(){this._shadowRender&&(this._shadowRender.needUpdateShadow=!0)}get mainQuads(){return this._mainQuads}setShadowRenderer(e){this._shadowRender=e}setShadowSource(e){this._shadowSource=e}getShadowRender(){return this._shadowRender}autoBindShadow(e,t){let i=this.object3D.components.values();if(!e)for(let n of i){let s=n;if(!(s.isShadowless||s.isUIShadow)&&s.mainQuads){e=s;break}}if(!t)for(let n of i){let s=n;if(s.isUIShadow&&s.mainQuads){t=s;break}}return e&&t?(e.setShadowRenderer(t),t.setShadowSource(e),!0):!1}recycleQuad(e){if(e&&this._mainQuads){let t=this._mainQuads.indexOf(e);t>=0?(this._mainQuads.splice(t,1),hc.recycleQuad(e)):e=null}return e}attachQuad(e){return this._mainQuads&&this._mainQuads.push(e),this}detachQuads(){if(this._mainQuads)for(;this._mainQuads.length>0;){let e=this._mainQuads.shift();this.recycleQuad(e)}return this}copyComponent(e){return super.copyComponent(e),this.isUIShadow=e.isUIShadow,this.isShadowless=e.isShadowless,this}}class m0 extends XI{init(A){var e;(e=super.init)==null||e.call(this,A),this.attachQuad(hc.spawnQuad()),this.sprite=K.res.defaultGUISprite}cloneTo(A){A.getOrAddComponent(m0).copyComponent(this)}copyComponent(A){return super.copyComponent(A),this.sprite=A.sprite,this.color=A.color,this.imageType=A.imageType,this}set sprite(A){A||(A=K.res.defaultGUISprite);for(let e of this._mainQuads)e.sprite=A,e.setSize(this._uiTransform.width,this._uiTransform.height);this.setShadowDirty()}onTransformResize(){this.applyTransformSize()}applyTransformSize(){for(let A of this._mainQuads)A.setSize(this._uiTransform.width,this._uiTransform.height);this.setShadowDirty()}get sprite(){return this._mainQuads[0].sprite}onUIComponentVisible(A){this.applyComponentVisible()}onUITransformVisible(A){this.applyComponentVisible()}applyComponentVisible(){let A=!this._visible||!this._uiTransform.globalVisible;for(let e of this._mainQuads)e.visible=!A;this.setShadowDirty()}get color(){return this._mainQuads[0].color}set color(A){for(let e of this._mainQuads)e.color=A;this.setShadowDirty()}get imageType(){return this._mainQuads[0].imageType}set imageType(A){for(let e of this._mainQuads)e.imageType=A;this.setShadowDirty()}}class u1 extends m0{constructor(){super(...arguments);a(this,"space",mi.World);a(this,"needUpdateGeometry",!0);a(this,"panelOrder",0);a(this,"needSortOnCameraZ");a(this,"_billboard");a(this,"_rebuild");a(this,"scissorEnable",!1);a(this,"scissorCornerRadius",0);a(this,"scissorFadeOutSize",0);a(this,"_uiRenderer");a(this,"_geometry");a(this,"_maxCount",128);a(this,"panelRatio",1);a(this,"isUIPanel",!0);a(this,"_collectTransform",[])}cloneTo(e){e.getOrAddComponent(u1).copyComponent(this)}copyComponent(e){return super.copyComponent(e),this.panelOrder=e.panelOrder,this.needSortOnCameraZ=e.needSortOnCameraZ,this.cullMode=e.cullMode,this.billboard=e.billboard,this.scissorEnable=e.scissorEnable,this.scissorCornerRadius=e.scissorCornerRadius,this.scissorFadeOutSize=e.scissorFadeOutSize,this}init(e){super.init(e),this._uiTransform.resize(iA.canvas.width,iA.canvas.height),this.create(this.space),this.visible=!1}updateDrawCallSegment(e,t,i){this._geometry.updateSubGeometry(e,t,i);let n=this._uiRenderer.material,s=this._uiRenderer.materials[e];if(!s){s=new Fg(this.space);let o=this._uiRenderer.materials.slice();o.push(s),this._uiRenderer.materials=o,s.cullMode=n.cullMode,s.depthCompare=n.depthCompare}}create(e){this._maxCount=this.space==mi.World?_r.quadMaxCountForWorld:_r.quadMaxCountForView,this._uiRenderer=this.object3D.addComponent($I),this._geometry=this._uiRenderer.geometry=new jI(this._maxCount).create(),this._uiRenderer.material=new Fg(e),this._uiRenderer.renderOrder=_r.SortOrderStartWorld,this._rebuild=new YI,this.object3D.bound=new Qe(new I,new I(1,1,1).multiplyScalar(Number.MAX_VALUE*.1))}get quadMaxCount(){return this._maxCount}set billboard(e){this.space==mi.View?e=vs.None:console.warn("Cannot enable billboard in view space"),e==vs.BillboardXYZ||e==vs.BillboardY?(this._billboard=this.object3D.getOrAddComponent(lc),this._billboard.type=e):(this.object3D.removeComponent(lc),this._billboard=null)}get billboard(){return this._billboard?this._billboard.type:vs.None}set cullMode(e){if(this.space==mi.World)for(let t of this._uiRenderer.materials)t.cullMode=e;else console.warn("Cannot change cullMode in view space")}get cullMode(){return this._uiRenderer.material.cullMode}onUpdate(e){var t;(t=super.onUpdate)==null||t.call(this,e),this.rebuildGUIMesh(e)}rebuildGUIMesh(e){let t=this,i=t._collectTransform;if(i.length=0,t.object3D.getComponents(Mn,i),i.length>0){t._rebuild.build(i,t,t.needUpdateGeometry);for(const u of i)u.needUpdateQuads=!1}let n=t.object3D.getComponentFromParent(a1),s=n?n.index:0;t._uiRenderer.enable=i.length>0;let o=t.isViewPanel?_r.SortOrderStartView:_r.SortOrderStartWorld;if(t._uiRenderer.renderOrder=s*_r.SortOrderCanvasSpan+o+t.panelOrder,t._uiRenderer.needSortOnCameraZ=t.needSortOnCameraZ,this.space==mi.View){let u=iA.canvas.clientWidth,l=iA.canvas.clientHeight,c=this._uiTransform.width,h=this._uiTransform.height;this.panelRatio=this.updateGUIPixelRatio(u,l,c,h)}else this.panelRatio=1;for(let u of t._uiRenderer.materials){let l=u;if(l.setPanelRatio(this.panelRatio),l.setScreenSize(iA.canvas.clientWidth,iA.canvas.clientHeight),l.setScissorEnable(t.scissorEnable),t.scissorEnable){let c=t.mainQuads[0];l.setScissorRect(c.left,c.bottom,c.right,c.top),l.setScissorCorner(t.scissorCornerRadius,t.scissorFadeOutSize)}}t.needUpdateGeometry=!1}updateGUIPixelRatio(e,t,i,n){let s=i/n,o=e/t,u=1;return s<o?u=t/n:u=e/i,u}}class y0 extends u1{constructor(){super();a(this,"isViewPanel",!0);a(this,"space",mi.View)}cloneTo(e){e.getOrAddComponent(y0).copyComponent(this)}}class E0 extends u1{constructor(){super();a(this,"isWorldPanel",!0);a(this,"space",mi.World);a(this,"_depthTest",!0)}cloneTo(e){e.getOrAddComponent(E0).copyComponent(this)}copyComponent(e){return super.copyComponent(e),this.depthTest=e.depthTest,this}get depthTest(){return this._depthTest}set depthTest(e){if(this._depthTest!=e){this._depthTest=e;let t=this.depthTest?en.less_equal:en.always;for(let i of this._uiRenderer.materials)i.depthCompare=t}}}let Ng;class Mn extends Jt{constructor(){super();a(this,"useParentPivot",!1);a(this,"parent");a(this,"pivotX",.5);a(this,"pivotY",.5);a(this,"_width",100);a(this,"_height",100);a(this,"_localVisible",!0);a(this,"_globalVisible",!0);a(this,"_uiInteractiveList");a(this,"_localMatrix");a(this,"_worldMatrix");a(this,"_onChange",!0);a(this,"needUpdateQuads",!0);a(this,"_tempTransforms",[]);this._localMatrix=new Po,this._worldMatrix=new Po}get uiInteractiveList(){return this._uiInteractiveList}init(e){var t;super.init(e),this.transform.eventDispatcher.addEventListener(this.transform.eventLocalChange.type,this.onTransformChange,this),this.onParentChange(null,(t=this.object3D.parent)==null?void 0:t.object3D)}onTransformChange(e){this.onChange=!0}addUIInteractive(e){return this._uiInteractiveList||(this._uiInteractiveList=[]),this._uiInteractiveList.push(e),this}removeUIInteractive(e){if(this._uiInteractiveList){let t=this._uiInteractiveList.indexOf(e);if(t>=0)return this._uiInteractiveList.slice(t,1),e}return null}get globalVisible(){return this._globalVisible}set visible(e){if(this._localVisible!=e){this._localVisible=e;let t=this.parent?this.parent._globalVisible:!0;this.onUITransformVisible(this._localVisible&&t)}}get visible(){return this._localVisible}onUITransformVisible(e){let t=this._localVisible&&e;t!=this._globalVisible&&(this._globalVisible=t,this.object3D.components.forEach((i,n)=>{let s=i;if(s.onUITransformVisible)if(s==this)for(let o of this.object3D.entityChildren){let u=o.getComponent(Mn);u&&u.onUITransformVisible(this._globalVisible)}else s.onUITransformVisible(this._globalVisible)}))}onParentChange(e,t){var i,n;(i=this.parent)==null||i.setNeedUpdateUIPanel(),this.parent=t==null?void 0:t.getComponent(Mn),(n=this.parent)==null||n.setNeedUpdateUIPanel()}get width(){return this._width}get height(){return this._height}resize(e,t){var i;if(this._width!=e||this._height!=t){this._width=e,this._height=t,this.onChange=!0;for(let n of this.object3D.components.values())(i=n.onTransformResize)==null||i.call(n);return!0}return!1}get x(){return this.object3D.x}set x(e){e!=this.object3D.x&&(this.object3D.x=e,this.onChange=!0)}get y(){return this.object3D.y}set y(e){e!=this.object3D.y&&(this.object3D.y=e,this.onChange=!0)}setXY(e,t){let i=this.object3D.localPosition;i.set(e,t,i.z),this.object3D.localPosition=i,this.onChange=!0}get z(){return this.object3D.z}set z(e){e!=this.object3D.z&&(this.object3D.z=e,this.onChange=!0)}get scaleX(){return this.object3D.scaleX}set scaleX(e){this.onChange=!0,this.object3D.scaleX=e}get scaleY(){return this.object3D.scaleY}set scaleY(e){this.onChange=!0,this.object3D.scaleY=e}get scaleZ(){return this.object3D.scaleZ}set scaleZ(e){this.onChange=!0,this.object3D.scaleZ=e}get onChange(){return this._onChange}set onChange(e){if(this._onChange!=e&&(this._onChange=e,e)){this._tempTransforms.length=0;let t=this.object3D.getComponents(Mn,this._tempTransforms,!0);for(let i of t)i._onChange=!0,i.needUpdateQuads=!0}}onEnable(){this.setNeedUpdateUIPanel(),this.onChange=!0}onDisable(){this.setNeedUpdateUIPanel(),this.onChange=!0}setNeedUpdateUIPanel(){let e;e=this.object3D.getComponentFromParent(E0),e||(e=this.object3D.getComponentFromParent(y0)),e&&(e.needUpdateGeometry=!0)}cloneTo(e){let t=e.getOrAddComponent(Mn);t.visible=this.visible,t.x=this.x,t.y=this.y,t.z=this.z,t.resize(this.width,this.height),t.pivotX=this.pivotX,t.pivotY=this.pivotY,t.scaleX=this.scaleX,t.scaleY=this.scaleY}matrix(){let e=this._localMatrix,t=this.object3D.rotationZ;return this.parent?(e.updateScaleAndRotation(this.object3D.scaleX,this.object3D.scaleY,t,t),e.tx=this.object3D.x,e.ty=this.object3D.y):e.updateScaleAndRotation(1,1,0,0),(this.pivotX!=.5||this.pivotY!=.5)&&(Ng||(Ng=new Po().identity()),e.mul(Ng.setTo(1,0,0,1,-(this.pivotX-.5)*this.width,-(this.pivotY-.5)*this.height))),e}getWorldMatrix(){let e=this,t=e._worldMatrix;return this._onChange&&(t.copyFrom(e.matrix()),e.parent&&t.mul(e.parent.getWorldMatrix()),e._onChange=!1),t}beforeDestroy(e){var t;this.transform.eventDispatcher.addEventListener(this.transform.eventLocalChange.type,this.onTransformChange,this),(t=super.beforeDestroy)==null||t.call(this,e)}}class JI{constructor(){a(this,"_ray");a(this,"_mouseCode");a(this,"_clickEvent");a(this,"_outEvent");a(this,"_overEvent");a(this,"_upEvent");a(this,"_downEvent");a(this,"_view");a(this,"_lastDownTarget");a(this,"_lastOverTarget");a(this,"_lastDownPosition",new Ge);a(this,"_calcDistanceVec2",new Ge);a(this,"_lastDownTime",0);a(this,"_clickTimeSpan",200);a(this,"_clickDistanceSpan",10);a(this,"_colliderOut",[]);a(this,"_transformList",[]);a(this,"_sortWorldPanelList",[]);a(this,"_iteractive2PanelDict",new Map)}init(A){this._view=A,this._ray=new $o,this._clickEvent=new mA(mA.PICK_CLICK_GUI),this._outEvent=new mA(mA.PICK_OUT_GUI),this._overEvent=new mA(mA.PICK_OVER_GUI),this._upEvent=new mA(mA.PICK_UP_GUI),this._downEvent=new mA(mA.PICK_DOWN_GUI),K.inputSystem.addEventListener(mA.POINTER_DOWN,this.onTouchDown,this,null,1),K.inputSystem.addEventListener(mA.POINTER_UP,this.onTouchUp,this,null,1),K.inputSystem.addEventListener(mA.POINTER_MOVE,this.onTouchMove,this,null,1),K.inputSystem.addEventListener(mA.POINTER_CLICK,this.onTouchClick,this,null,1)}onTouchClick(A){this._lastOverTarget&&A.stopImmediatePropagation()}onTouchMove(A){this._mouseCode=A.mouseCode,this.collectEntities();let e=this.pick(this._colliderOut);e&&A.stopImmediatePropagation();let t=e?e.collider:null;t!=this._lastOverTarget&&(this._lastOverTarget&&this._lastOverTarget.enable&&(this._lastOverTarget.mouseStyle=Na.NORMAL,this._outEvent.data=this._lastOverTarget,this._lastOverTarget.object3D.dispatchEvent(this._outEvent)),t&&(t.mouseStyle=Na.OVER,this._overEvent.data=t,t.object3D.dispatchEvent(this._overEvent)),this._lastOverTarget=t)}onTouchDown(A){this._lastDownTime=be.time,this._lastDownPosition.set(A.mouseX,A.mouseY),this._mouseCode=A.mouseCode,this.collectEntities();let e=this.pick(this._colliderOut);e&&A.stopImmediatePropagation();let t=e?e.collider:null;t&&(t.mouseStyle=Na.DOWN,this._overEvent.data=t,t.object3D.dispatchEvent(this._overEvent)),this._lastDownTarget=t}onTouchUp(A){this._calcDistanceVec2.set(A.mouseX,A.mouseY),this._mouseCode=A.mouseCode,this.collectEntities();let e=this.pick(this._colliderOut);e&&A.stopImmediatePropagation();let t=e?e.collider:null;this._lastDownTarget&&this._lastDownTarget.enable&&(this._lastDownTarget.mouseStyle=Na.NORMAL),t&&t==this._lastDownTarget&&be.time-this._lastDownTime<=this._clickTimeSpan&&(this._calcDistanceVec2.set(A.mouseX,A.mouseY),this._calcDistanceVec2.distance(this._lastDownPosition)<=this._clickDistanceSpan&&(this._clickEvent.data={pick:t,pickInfo:e,mouseCode:this._mouseCode},t.object3D.dispatchEvent(this._clickEvent))),this._lastDownTarget=null}collectEntities(){return this._colliderOut.length=0,this._sortWorldPanelList.length=0,this._iteractive2PanelDict.clear(),this._view.canvasList.slice().reverse().forEach(A=>{if(A&&A.transform&&A.transform.parent){let e=A.object3D.getComponentsByProperty("isUIPanel",!0,!0);e.sort((t,i)=>{let n=t._uiRenderer.__renderOrder,s=i._uiRenderer.__renderOrder;return n>s?-1:1});for(let t of e){this._transformList.length=0,t.object3D.getComponents(Mn,this._transformList),this._transformList.reverse();for(const i of this._transformList){let n=i.uiInteractiveList;if(n&&n.length>0)for(let s of n)this._colliderOut.push(s),this._iteractive2PanelDict.set(s,t)}}}}),this._colliderOut}pick(A){this._ray=this._view.camera.screenPointToRay(K.inputSystem.mouseX,K.inputSystem.mouseY);let e=new Ge(K.inputSystem.mouseX,K.inputSystem.mouseY),t=new Ge(iA.canvas.clientWidth,iA.canvas.clientHeight),i;for(const n of A)if(n.interactive&&n.enable&&n.interactiveVisible){let s=this._iteractive2PanelDict.get(n);if(i=n.rayPick(this._ray,s,e,t),i)return i.collider=n,i}return null}}var ZI=(r=>(r[r.COLLINEAR=0]="COLLINEAR",r[r.LINES_INTERSECT=1]="LINES_INTERSECT",r[r.SEGMENTS_INTERSECT=2]="SEGMENTS_INTERSECT",r[r.A_BISECTS_B=3]="A_BISECTS_B",r[r.B_BISECTS_A=4]="B_BISECTS_A",r[r.PARALELL=5]="PARALELL",r))(ZI||{}),AB=(r=>(r[r.ON_LINE=0]="ON_LINE",r[r.LEFT_SIDE=1]="LEFT_SIDE",r[r.RIGHT_SIDE=2]="RIGHT_SIDE",r))(AB||{});const Et=class Et{constructor(A,e){a(this,"start");a(this,"end");a(this,"color",new fA(1,1,1,1));a(this,"_normal");a(this,"_normalCalculated",!1);this.start=A,this.end=e}set(A,e){this.start=A,this.end=e}getCenter(){let A=I.HELP_0;return this.start.subtract(this.end,A),A.scaleBy(.5),A.add(this.end),A}inverse(){let A=this.start;this.start=this.end,this.end=A}equals(A){return this.start==A.start&&this.end==A.end||this.start==A.end&&this.end==A.start}toArray(){return[this.start.x,this.start.y,this.start.z,this.end.x,this.end.y,this.end.z]}static getLines(A){let e=[];for(let t=0;t<A.length;t++){let i=t,n=h4(t+1,A.length),s=A[i],o=A[n];e.push(new Et(s,o))}return e}intersection(A,e=null){var t=(A.end.z-A.start.z)*(this.end.x-this.start.x)-(A.end.x-A.start.x)*(this.end.z-this.start.z),i=(A.end.x-A.start.x)*(this.start.z-A.start.z)-(A.end.z-A.start.z)*(this.start.x-A.start.x),n=(A.start.x-this.start.x)*(this.end.z-this.start.z)-(A.start.z-this.start.z)*(this.end.x-this.start.x);if(t==0)return i==0&&n==0?0:5;i=i/t,n=n/t;var s=this.start.x+i*(this.end.x-this.start.x),o=this.start.z+i*(this.end.z-this.start.z);return e!=null&&(e.x=s,e.y=0,e.z=o),i>=0&&i<=1&&n>=0&&n<=1?2:n>=0&&n<=1?3:i>=0&&i<=1?4:1}getDirection(){var A=this.end.subtract(this.start),e=new I(A.x,A.y);return e.normalize()}copyFrom(A){this.start||(this.start=new I),this.end||(this.end=new I),this.start.copyFrom(A.start),this.end.copyFrom(A.end)}static IsEqual(A,e){return Math.abs(A-e)<1e-7}static squreDistanceSegmentToSegment(A,e,t){let i=A.start,n=A.end,s=e.start,o=e.end,u=i.x,l=i.y,c=i.z,h=n.x,d=n.y,f=n.z,p=s.x,y=s.y,_=s.z,g=o.x,m=o.y,E=o.z,w=h-u,L=d-l,T=f-c,R=g-p,P=m-y,F=E-_,H=u-p,M=l-y,b=c-_,v=w*w+L*L+T*T,C=w*R+L*P+T*F,x=R*R+P*P+F*F,S=w*H+L*M+T*b,B=R*H+P*M+F*b,D=v*x-C*C,Q=D,Z=D,AA=0,Y=0;this.IsEqual(D,0)?(AA=0,Q=1,Y=B,Z=x):(AA=C*B-x*S,Y=v*B-C*S,AA<0?(AA=0,Y=B,Z=x):AA>Q&&(AA=Q,Y=B+C,Z=x)),Y<0?(Y=0,-S<0?AA=0:-S>v?AA=Q:(AA=-S,Q=v)):Y>Z&&(Y=Z,-S+C<0?AA=0:-S+C>v?AA=Q:(AA=-S+C,Q=v));let G=0,X=0;this.IsEqual(AA,0)?G=0:G=AA/Q,this.IsEqual(Y,0)?X=0:X=Y/Z;let nA=H+G*w-X*R,lA=M+G*L-X*P,vA=b+G*T-X*F;return nA*nA+lA*lA+vA*vA}isNear(A,e=0,t){let i=I.HELP_0,n=I.HELP_1;i.copyFrom(A.origin),n.copyFrom(A.direction),n.scaleBy(9999),n.add(i,n),Et.cacluteLine0.set(i,n),Et.cacluteLine1.copyFrom(this),t&&(t.perspectiveMultiplyPoint3(Et.cacluteLine1.start,Et.cacluteLine1.start),t.perspectiveMultiplyPoint3(Et.cacluteLine1.end,Et.cacluteLine1.end));let s=Et.squreDistanceSegmentToSegment(Et.cacluteLine0,Et.cacluteLine1,t);return s+1e-4<=e?(A.length=s,!0):(A.length=-999999,!1)}};a(Et,"cacluteLine0",new Et(null,null)),a(Et,"cacluteLine1",new Et(null,null));let Lg=Et;var eB=(r=>(r[r.UpperLeft=0]="UpperLeft",r[r.UpperCenter=1]="UpperCenter",r[r.UpperRight=2]="UpperRight",r[r.MiddleLeft=3]="MiddleLeft",r[r.MiddleCenter=4]="MiddleCenter",r[r.MiddleRight=5]="MiddleRight",r[r.LowerLeft=6]="LowerLeft",r[r.LowerCenter=7]="LowerCenter",r[r.LowerRight=8]="LowerRight",r))(eB||{}),tB=(r=>(r[r.Upper=0]="Upper",r[r.Middle=1]="Middle",r[r.Lower=2]="Lower",r))(tB||{}),rB=(r=>(r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right",r))(rB||{}),iB=(r=>(r[r.NONE=0]="NONE",r[r.COLOR=1]="COLOR",r[r.SPRITE=2]="SPRITE",r))(iB||{}),nB=Object.defineProperty,sB=Object.getOwnPropertyDescriptor,oB=(r,A,e,t)=>{for(var i=t>1?void 0:t?sB(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&nB(A,e,i),i};let wh=class extends o1{constructor(){super()}init(){super.init(),this.lightData.lightType=At.PointLight,this.object3D.name==""&&(this.object3D.name="PointLight"+ii())}get range(){return this.lightData.range}set range(r){this.lightData.range=r,this.onChange()}get at(){return this.lightData.linear}set at(r){this.lightData.linear=r,this.onChange()}get radius(){return this.lightData.radius}set radius(r){this.lightData.radius=r,this.onChange()}get quadratic(){return this.lightData.quadratic}set quadratic(r){this.lightData.quadratic=r,this.onChange()}start(){this.transform.rotationX=90,super.start()}onUpdate(){}onGraphic(r){let A=r.graphic3D.createCustomShape(`PointLight_${this.object3D.instanceID}`,this.transform);A.buildAxis(),A.buildCircle(I.ZERO,this.range,32,I.X_AXIS),A.buildCircle(I.ZERO,this.range,32,I.Y_AXIS),A.buildCircle(I.ZERO,this.range,32,I.Z_AXIS)}debug(){}debugDraw(r){}};wh=oB([ri(wh,"Light")],wh);var aB=(r=>(r[r.CastGI=0]="CastGI",r[r.ReceiveGI=1]="ReceiveGI",r[r.CastDepth=2]="CastDepth",r[r.Other=3]="Other",r))(aB||{}),uB=Object.defineProperty,lB=Object.getOwnPropertyDescriptor,cB=(r,A,e,t)=>{for(var i=t>1?void 0:t?lB(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&uB(A,e,i),i};let bh=class extends he{constructor(){super()}get geometry(){return null}set geometry(r){}cloneTo(r){}set meshURL(r){let A=K.res.getGeometry(r);A?this.geometry=A:console.error("no geometry set",r)}};bh=cB([ri(bh,"MeshFilter")],bh);class hB extends de{constructor(){super();a(this,"_envMap");a(this,"skyObject");a(this,"envMapChange",!0);a(this,"view");this.transform.scene3D=this,this.skyObject=new de,this.addChild(this.skyObject),this._isScene3D=!0,this.envMap||(this.envMap=K.res.defaultSky)}get envMap(){return this._envMap}set envMap(e){this._envMap!=e&&(this.envMapChange=!0),this._envMap=e,IA.instance.sky&&"map"in IA.instance.sky&&(IA.instance.sky.map=e)}get exposure(){return IA.instance.sky&&"exposure"in IA.instance.sky?IA.instance.sky.exposure:0}set exposure(e){IA.instance.sky&&"exposure"in IA.instance.sky&&(IA.instance.sky.exposure=e,K.setting.sky.skyExposure=e)}get roughness(){if(IA.instance.sky&&"roughness"in IA.instance.sky)return IA.instance.sky.roughness}set roughness(e){IA.instance.sky&&"roughness"in IA.instance.sky&&(IA.instance.sky.roughness=e)}}class dB extends c0{constructor(){super(3,r1.triangle_list)}}class fB extends c0{constructor(){super(2,r1.line_list)}}class pB extends de{constructor(){super();a(this,"mLineRender");a(this,"mFillRender");this.mLineRender=this.addComponent(fB),this.mFillRender=this.addComponent(dB)}drawAxis(e,t=new I(0,0,0),i=10){this.createCustomShape(e).buildAxis(t,i)}drawLines(e,t,i=fA.COLOR_WHITE){this.createCustomShape(e).buildLines(t,i)}drawCurve(e,t,i=10,n=.5,s=fA.COLOR_WHITE){var o=[];let u=new I,l=new I;for(let c=0;c<t.length-1;++c){o.push(t[c]);const h=t[Math.max(c-1,0)],d=t[c],f=t[c+1],p=t[Math.min(c+2,t.length-1)];f.subtract(h,u).multiplyScalar(n/3).add(d,u),d.subtract(p,l).multiplyScalar(n/3).add(f,l),o.push(...this.calculateBezierCurve(d,u,l,f,i))}o.push(t[t.length-1]),this.drawLines(e,o,s)}calculateBezierCurve(e,t,i,n,s){var o=new Array(s);for(let u=0;u<s;++u){let l=(u+1)/(s+1),c=1-l,h=e.mul(c*c*c),d=t.mul(3*l*c*c),f=i.mul(3*l*l*c),p=n.mul(l*l*l);o[u]=h.add(d).add(f).add(p)}return o}drawRect(e,t,i,n,s=fA.COLOR_WHITE){this.drawLines(e,[t,new I(t.x+i,t.y,t.z),new I(t.x+i,t.y+n,t.z),new I(t.x,t.y+n,t.z),t],s)}drawCircle(e,t,i,n=32,s=I.Y_AXIS,o=fA.COLOR_WHITE){this.createCustomShape(e).buildCircle(t,i,n,s,o)}drawSector(e,t,i,n,s,o=16,u=I.Y_AXIS,l=fA.COLOR_WHITE){const c=(s-n)*Ie;n*=Ie;var h=[];h.push(t);for(let y=0;y<=o;++y){y>0&&h.push(h[h.length-1]);var d=c*(y/o)+n,f=i*Math.cos(d),p=i*Math.sin(d);switch(u){case I.X_AXIS:h.push(t.add(new I(0,f,p)));break;case I.Y_AXIS:h.push(t.add(new I(f,0,p)));break;case I.Z_AXIS:h.push(t.add(new I(f,p,0)));break;default:h.push(t.add(new I(f,p,0)));break}}h.push(h[h.length-1]),h.push(t),this.mLineRender.fillShapeData(e,"line",l,h)}drawArcLine(e,t,i,n,s,o=16,u=I.Y_AXIS,l=fA.COLOR_WHITE){this.mLineRender.allocGraphics3DShape(e,this.transform._worldMatrix.index).buildArcLine(t,i,n,s,o,u,l)}createCustomShape(e,t=this.transform){return this.mLineRender.allocGraphics3DShape(e,t._worldMatrix.index)}drawBox(e,t,i,n=fA.COLOR_WHITE){var s=[];s.push(t),s.push(new I(i.x,t.y,t.z)),s.push(s[s.length-1]),s.push(new I(i.x,i.y,t.z)),s.push(s[s.length-1]),s.push(new I(t.x,i.y,t.z)),s.push(s[s.length-1]),s.push(t),s.push(s[s.length-1]),s.push(new I(t.x,t.y,i.z)),s.push(s[s.length-1]),s.push(new I(i.x,t.y,i.z)),s.push(s[s.length-1]),s.push(new I(i.x,i.y,i.z)),s.push(s[s.length-1]),s.push(new I(t.x,i.y,i.z)),s.push(s[s.length-1]),s.push(new I(t.x,t.y,i.z)),s.push(new I(t.x,i.y,t.z)),s.push(new I(t.x,i.y,i.z)),s.push(new I(i.x,i.y,t.z)),s.push(new I(i.x,i.y,i.z)),s.push(new I(i.x,t.y,t.z)),s.push(new I(i.x,t.y,i.z)),this.mLineRender.fillShapeData(e,"line",n,s)}drawFillRect(e,t,i,n,s=fA.COLOR_WHITE){this.mFillRender.fillShapeData(e,"fill",s,[t,new I(t.x+i,t.y,t.z),new I(t.x+i,t.y,t.z+n),new I(t.x+i,t.y,t.z+n),new I(t.x,t.y,t.z+n),t])}drawFillCircle(e,t,i,n=32,s=I.Y_AXIS,o=fA.COLOR_WHITE){var u=[];u.push(t);for(let d=0;d<=n;++d){d>=2&&(u.push(t),u.push(u[u.length-2]));var l=2*Math.PI*d/n,c=i*Math.cos(l),h=i*Math.sin(l);switch(s){case I.X_AXIS:u.push(t.add(new I(0,c,h)));break;case I.Y_AXIS:u.push(t.add(new I(c,0,h)));break;case I.Z_AXIS:u.push(t.add(new I(c,h,0)));break;default:u.push(t.add(new I(c,h,0)));break}}this.mFillRender.fillShapeData(e,"fill",o,u)}drawMeshWireframe(e,t,i,n=fA.COLOR_WHITE,s=!1){t&&this.createCustomShape(e,i||this.transform).fillShapeData(t.genWireframe(),n,s)}drawFillSector(e,t,i,n,s,o=16,u=I.Y_AXIS,l=fA.COLOR_WHITE){const c=(s-n)*Ie;n*=Ie;var h=[];h.push(t);for(let y=0;y<=o;++y){y>=2&&(h.push(t),h.push(h[h.length-2]));var d=c*(y/o)+n,f=i*Math.cos(d),p=i*Math.sin(d);switch(u){case I.X_AXIS:h.push(t.add(new I(0,f,p)));break;case I.Y_AXIS:h.push(t.add(new I(f,0,p)));break;case I.Z_AXIS:h.push(t.add(new I(f,p,0)));break;default:h.push(t.add(new I(f,p,0)));break}}this.mFillRender.fillShapeData(e,"fill",l,h)}drawBoundingBox(e,t,i=fA.COLOR_WHITE){this.drawBox(e,t.min,t.max,i)}drawCameraFrustum(e,t=fA.COLOR_WHITE){if(e.type==Re.perspective){let i=Math.tan(e.fov/2*Ie),n=i*e.aspect,s=e.transform._worldMatrix,o=s.transformVector(new I(-n,-i,1)),u=s.transformVector(new I(-n,i,1)),l=s.transformVector(new I(n,-i,1)),c=s.transformVector(new I(n,i,1)),h=e.far,d=e.near,f=e.transform.worldPosition,p=new I().copyFrom(o).multiplyScalar(h).add(f),y=new I().copyFrom(u).multiplyScalar(h).add(f),_=new I().copyFrom(l).multiplyScalar(h).add(f),g=new I().copyFrom(c).multiplyScalar(h).add(f),m=new I().copyFrom(o).multiplyScalar(d).add(f),E=new I().copyFrom(u).multiplyScalar(d).add(f),w=new I().copyFrom(l).multiplyScalar(d).add(f),L=new I().copyFrom(c).multiplyScalar(d).add(f),T=this.createCustomShape(`CameraFrustum_${e.object3D.instanceID}`);T.buildLines([E,y],t),T.buildLines([m,p],t),T.buildLines([L,g],t),T.buildLines([w,_],t),T.buildLines([y,g,_,p,y],t),T.buildLines([E,L,w,m,E],t)}else if(e.type==Re.ortho){e.viewPort,e.viewPort.height;let i=e.transform.worldMatrix,n=i.transformVector(new I(e.viewPort.width*-.5,e.viewPort.height*.5,e.far)),s=i.transformVector(new I(e.viewPort.width*-.5,e.viewPort.height*-.5,e.far)),o=i.transformVector(new I(e.viewPort.width*.5,e.viewPort.height*.5,e.far)),u=i.transformVector(new I(e.viewPort.width*.5,e.viewPort.height*-.5,e.far)),l=i.transformVector(new I(e.viewPort.width*-.5,e.viewPort.height*.5,e.near)),c=i.transformVector(new I(e.viewPort.width*-.5,e.viewPort.height*-.5,e.near)),h=i.transformVector(new I(e.viewPort.width*.5,e.viewPort.height*.5,e.near)),d=i.transformVector(new I(e.viewPort.width*.5,e.viewPort.height*-.5,e.near)),f=this.createCustomShape(`CameraFrustum_${e.object3D.instanceID}`);f.buildLines([l,n],t),f.buildLines([c,s],t),f.buildLines([h,o],t),f.buildLines([d,u],t),f.buildLines([n,o,u,s,n],t),f.buildLines([l,h,d,c,l],t)}}drawObjectBoundingBox(e,t=fA.COLOR_WHITE){let i=ec.genMeshBounds(e);this.drawBox(`Bounds_${e.instanceID}`,i.min,i.max,t)}Clear(e){this.mLineRender.shapes.has(e)?this.mLineRender.removeShape(e):this.mFillRender.shapes.has(e)&&this.mFillRender.removeShape(e)}ClearAll(){this.mLineRender.shapes.clear(),this.mFillRender.shapes.clear()}ChangeColor(e,t){var i;if(this.mLineRender.shapes.has(e))i=this.mLineRender.shapes.get(e);else if(this.mFillRender.shapes.has(e))i=this.mFillRender.shapes.get(e);else return;const n=i.colorData;for(let s=0;s<n.length;s+=4)n[s+0]=t.r,n[s+1]=t.g,n[s+2]=t.b,n[s+3]=t.a}}class gB{constructor(){a(this,"_computeShader");a(this,"_outBuffer")}init(){let A=Zo.getGBufferFrame("ColorPassGBuffer");this._computeShader=new Ii(fI),this._outBuffer=new Cl(32),this._computeShader.setStorageBuffer("outBuffer",this._outBuffer),this._computeShader.setSamplerTexture("visibleMap",A.getPositionMap())}compute(A){let e=Le.getCameraGroup(A.camera);this._computeShader.setStorageBuffer("globalUniform",e.uniformGPUBuffer);let t=sA.beginCommandEncoder();sA.computeCommand(t,[this._computeShader]),sA.endCommandEncoder(t),this._outBuffer.readBuffer()}getPickMeshID(){var A=this._outBuffer.outFloat32Array[0]+.1;return Math.floor(A)}getPickWorldPosition(A){A||(A=new I);var e=this._outBuffer.outFloat32Array[4],t=this._outBuffer.outFloat32Array[5],i=this._outBuffer.outFloat32Array[6];return A.set(e,t,i),A}getPickScreenUV(A){A||(A=new Ge);var e=this._outBuffer.outFloat32Array[2],t=this._outBuffer.outFloat32Array[3];return A.set(e,t),A}}class mB extends oa{constructor(e){super();a(this,"ray");a(this,"isTouching",!1);a(this,"_mouseCode");a(this,"_pickEvent");a(this,"_outEvent");a(this,"_overEvent");a(this,"_upEvent");a(this,"_downEvent");a(this,"_mouseMove");a(this,"_pickCompute");a(this,"_lastDownTarget");a(this,"mouseEnableMap");a(this,"_view");a(this,"_lastFocus");a(this,"_interestList",[]);this._view=e,this.init()}init(){this.ray=new $o,this.mouseEnableMap=new Map,this._pickEvent=new mA(mA.PICK_CLICK),this._outEvent=new mA(mA.PICK_OUT),this._overEvent=new mA(mA.PICK_OVER),this._mouseMove=new mA(mA.PICK_MOVE),this._upEvent=new mA(mA.PICK_UP),this._downEvent=new mA(mA.PICK_DOWN)}start(){K.setting.pick.enable&&(K.inputSystem.addEventListener(mA.POINTER_DOWN,this.onTouchStart,this),K.inputSystem.addEventListener(mA.POINTER_UP,this.onTouchEnd,this),K.inputSystem.addEventListener(mA.POINTER_CLICK,this.onTouchOnce,this),K.inputSystem.addEventListener(mA.POINTER_MOVE,this.onTouchMove,this)),K.setting.pick.mode=="pixel"&&(this._pickCompute=new gB,this._pickCompute.init())}stop(){K.inputSystem.removeEventListener(mA.POINTER_DOWN,this.onTouchStart,this),K.inputSystem.removeEventListener(mA.POINTER_UP,this.onTouchEnd,this),K.inputSystem.removeEventListener(mA.POINTER_CLICK,this.onTouchOnce,this),K.inputSystem.removeEventListener(mA.POINTER_MOVE,this.onTouchMove,this)}onTouchStart(e){this.isTouching=!0,this._mouseCode=e.mouseCode,this.pick(this._view.camera);let t=this.findNearestObj(this._interestList,this._view.camera);this._lastDownTarget=t,t&&(this._downEvent.target=t.object3D,this._downEvent.ctrlKey=e.ctrlKey,this._downEvent.data={pick:t,pickInfo:this.getPickInfo(),mouseCode:this._mouseCode},this.dispatchEvent(this._downEvent),t.object3D.containEventListener(mA.PICK_DOWN)&&t.object3D.dispatchEvent(this._downEvent))}onTouchEnd(e){this.isTouching=!1,this._mouseCode=e.mouseCode,this.pick(this._view.camera);let t=this.findNearestObj(this._interestList,this._view.camera);t&&(this._upEvent.target=t.object3D,this._upEvent.ctrlKey=e.ctrlKey,this._upEvent.data={pick:t,pickInfo:this.getPickInfo(),mouseCode:this._mouseCode},this.dispatchEvent(this._upEvent),t.object3D.containEventListener(mA.PICK_UP)&&t.object3D.dispatchEvent(this._upEvent))}getPickInfo(){return{worldPos:this._pickCompute.getPickWorldPosition(),screenUv:this._pickCompute.getPickScreenUV(),meshID:this._pickCompute.getPickMeshID()}}onTouchMove(e){this.isTouching=!0,this._mouseCode=e.mouseCode,this.pick(this._view.camera);let t=this.findNearestObj(this._interestList,this._view.camera);t&&(this._mouseMove.target=t.object3D,this._mouseMove.ctrlKey=e.ctrlKey,this._mouseMove.data={pick:t,pickInfo:this.getPickInfo(),mouseCode:this._mouseCode},this.dispatchEvent(this._mouseMove),t.object3D.containEventListener(mA.PICK_MOVE)&&t.object3D.dispatchEvent(this._mouseMove)),t!=this._lastFocus&&(this._lastFocus&&this._lastFocus.object3D&&(this._outEvent.target=this._lastFocus.object3D,this._outEvent.data={pick:this._lastFocus,pickInfo:this.getPickInfo(),mouseCode:this._mouseCode},this._outEvent.ctrlKey=e.ctrlKey,this.dispatchEvent(this._outEvent),this._lastFocus.object3D.containEventListener(mA.PICK_OUT)&&this._lastFocus.object3D.dispatchEvent(this._outEvent)),t&&(this._overEvent.target=t.object3D,this._overEvent.ctrlKey=e.ctrlKey,this._overEvent.data={pick:t,pickInfo:this.getPickInfo(),mouseCode:this._mouseCode},this.dispatchEvent(this._overEvent),t.object3D.containEventListener(mA.PICK_OVER)&&t.object3D.dispatchEvent(this._overEvent))),this._lastFocus=t}onTouchOnce(e){this.isTouching=!0,this._mouseCode=e.mouseCode,this.pick(this._view.camera);let t=this.findNearestObj(this._interestList,this._view.camera);if(t){let i=K.setting.pick.mode=="pixel"?this.getPickInfo():null;this._pickEvent.target=t.object3D,this._pickEvent.ctrlKey=e.ctrlKey,this._pickEvent.data={pick:t,pickInfo:i,mouseCode:this._mouseCode},this.dispatchEvent(this._pickEvent),t===this._lastDownTarget&&t.object3D.containEventListener(mA.PICK_CLICK)&&t.object3D.dispatchEvent(this._pickEvent)}this._lastDownTarget=null}findNearestObj(e,t){var i;return e.sort((n,s)=>n.distance>s.distance?1:-1),(i=e[0])==null?void 0:i.collider}pick(e){if(this._interestList.length=0,K.setting.pick.mode=="pixel"){this._pickCompute.compute(this._view);let t=this._pickCompute.getPickMeshID(),i=this.mouseEnableMap.get(t);if(i){let n=this._pickCompute.getPickWorldPosition(),s=I.distance(n,this.ray.origin);this._interestList.push({distance:s,collider:i,intersectPoint:n})}}else if(K.setting.pick.mode=="bound"){this.ray=e.screenPointToRay(K.inputSystem.mouseX,K.inputSystem.mouseY);let t,i=Ee.componentsEnablePickerList.get(this._view);if(i)for(const n of i){let s=n[0];s.enable&&(t=s.rayPick(this.ray),t&&(t.collider=s,this._interestList.push(t)))}}}}class yB extends ql{constructor(e=0,t=0,i=0,n=0){super();a(this,"_camera");a(this,"_scene");a(this,"_viewPort");a(this,"_enablePick",!1);a(this,"_enable",!0);a(this,"pickFire");a(this,"guiPick");a(this,"canvasList");a(this,"graphic3D");this.canvasList=[],this._viewPort=new XA(e,t,i,n),this.graphic3D=new pB}get enable(){return this._enable}set enable(e){this._enable=e}get enablePick(){return this._enablePick}set enablePick(e){this._enablePick!=e&&(this.pickFire=new mB(this),this.pickFire.start()),this._enablePick=e}get scene(){return this._scene}set scene(e){this._scene=e,e.view=this,Ir.createBuffer(this),this.graphic3D&&e.addChild(this.graphic3D),e&&this.canvasList.forEach(t=>{t&&e.addChild(t.object3D)})}get camera(){return this._camera}set camera(e){this._camera=e}get viewPort(){return this._viewPort}set viewPort(e){this._viewPort=e}enableUICanvas(e=0){let t=this.canvasList[e];if(!t){let i=new de;i.name="Canvas "+e,t=i.addComponent(a1),t.index=e,this.canvasList[e]=t}return this.scene.addChild(t.object3D),this.guiPick||(this.guiPick=new JI,this.guiPick.init(this)),t}disableUICanvas(e=0){let t=this.canvasList[e];t&&t.object3D&&t.object3D.removeFromParent()}}var EB=(r=>(r[r.position=3]="position",r[r.normal=3]="normal",r[r.TANGENT=4]="TANGENT",r[r.uv=2]="uv",r[r.TEXCOORD_1=2]="TEXCOORD_1",r[r.color=4]="color",r[r.joints0=4]="joints0",r[r.weights0=4]="weights0",r[r.joints1=4]="joints1",r[r.weights1=4]="weights1",r[r.vIndex=1]="vIndex",r[r.weight=1]="weight",r[r.a_morphPositions_0=3]="a_morphPositions_0",r))(EB||{});class CB{constructor(){a(this,"min",0);a(this,"max",0)}set(A,e){return this.max=e,this.min=A,this}copy(A){return this.max=A.max,this.min=A.min,this}isInterestRange(A){return!(this.max>A.min||A.max<this.min)}}class _B{constructor(){a(this,"_spaceDesc")}getRange(A){return this._spaceDesc[A]}initSpace(A){this._spaceDesc={};for(let e of A)(this._spaceDesc[e]=new CB).set(-Number.MAX_VALUE,Number.MAX_VALUE);return this}isContain(A,e){let t=this._spaceDesc[A];return e>=t.min&&e<t.max}isInterestRange(A,e){let t=this._spaceDesc[A];return t?e.isInterestRange(t):!1}splitSpace(A,e,t){let i=this._spaceDesc[A];return e?i.max=t:i.min=t,this}copySpace(A){for(let e in A._spaceDesc){let t=A._spaceDesc[e];this._spaceDesc[e].copy(t)}return this}}const bo=class bo{};a(bo,"MaxEntityCountInLeaf",4),a(bo,"MaxLayer",10),a(bo,"ClearLeafLayer",bo.MaxLayer-4);let Wa=bo;const kc=class kc{constructor(){a(this,"uuid","0");this.uuid=(kc.UUID++).toString()}};a(kc,"UUID",0);let df=kc;class SB{constructor(){a(this,"map",{});a(this,"_count",0)}get count(){return this._count}push(A){return this.map[A.uuid]?!1:(this.map[A.uuid]=A,this._count++,!0)}remove(A){return this.map[A]?(delete this.map[A],this._count--,!0):!1}}const hi=class hi extends df{constructor(e=0){super();a(this,"_dimensionIndex",0);a(this,"_dimensions");a(this,"_dimension");a(this,"_left");a(this,"_right");a(this,"_space");a(this,"_parent");a(this,"_entities");a(this,"layer");a(this,"_splitEntityList",[]);a(this,"pointIntersect",new I);this.layer=e,hi.nodeCount++}get dimension(){return this._dimension}initNode(e,t,i){return this._dimensions=t,this._dimensionIndex=i,this._dimension=t[i],this._space=new _B().initSpace(t),e&&this._space.copySpace(e._space),this._parent=e,this._entities=new SB,this}updateEntity(e){if(e.isInNode(this,this._dimension)&&(e.attachTreeNode(this),this.autoSplit(),this._left&&this._right)){let t=(this._dimensionIndex+1)%this._dimensions.length,i=this._dimensions[t];e.isInNode(this._right,i)?this._right.updateEntity(e):e.isInNode(this._left,i)&&this._left.updateEntity(e)}}buildRoot(e){for(const t of e)t.entity.attachTreeNode(this);this.autoSplit()}autoSplit(){if(this._entities.count>Wa.MaxEntityCountInLeaf&&!this._right&&!this._left&&this.layer<Wa.MaxLayer){let e=this._splitEntityList,t=(this._dimensionIndex+1)%this._dimensions.length,i=this._dimensions[t],n=0;for(const s in this._entities.map){let o=this._entities.map[s];n+=o.centerValue(i),e.push(o)}n/=this._entities.count,this._left=new hi(this.layer+1),this._right=new hi(this.layer+1),this._left.initNode(this,this._dimensions,t),this._right.initNode(this,this._dimensions,t),this._left.setSpace(!0,n),this._right.setSpace(!1,n);for(let s of e)s.isInNode(this._right,i)?s.attachTreeNode(this._right):s.isInNode(this._left,i)&&s.attachTreeNode(this._left)}this._left&&this._left.autoSplit(),this._right&&this._right.autoSplit()}setSpace(e,t){return this._parent&&this._space.splitSpace(this._dimension,e,t),this}isEmpty(){return this._left==null&&this._right==null&&this._entities.count==0}pushEntity(e){return this._entities.push(e)}removeEntity(e){return this._entities.remove(e.uuid)}autoClear(){let e=this;for(;e&&e.layer>Wa.ClearLeafLayer&&e.clearLeaf();)e=e._parent}clearLeaf(){let e=!this._left&&!this._right,t=!e&&this._left.isEmpty()&&this._right.isEmpty();return t&&(this._left=this._right=null,hi.nodeCount-=2),e||t}isContain(e){return this._space.isContain(this._dimension,e)}nodeIntersectsBox(e){let t=this._space.getRange("x"),i=this._space.getRange("y"),n=this._space.getRange("z"),s=hi.rangeBox;return s.min.set(t.min,i.min,n.min),s.max.set(t.max,i.max,n.max),s.intersectsBox(e)}nodeIntersectsRay(e){let t=this._space.getRange("x"),i=this._space.getRange("y"),n=this._space.getRange("z"),s=hi.rangeBox;return s.min.set(t.min,i.min,n.min),s.max.set(t.max,i.max,n.max),!0}pointCast(e,t=0,i){if(i=i||[],this._entities.count>0){let n=this._entities.map;for(let s in n){let o=n[s],u=o.entityContainPoint(e);!u&&t>0&&(u=o.squareDistanceTo(e,this._dimensions)<=t),u&&i.push(o)}}this._left&&this._left.isContain(e[this._left.dimension])&&this._left.pointCast(e,t,i),this._right&&this._right.isContain(e[this._right.dimension])&&this._right.pointCast(e,t,i)}boxCast(e,t){if(t=t||[],this._entities.count>0){let i=this._entities.map;for(let n in i){let s=i[n];s.entityIntersectsBox(e)&&t.push(s)}}this._left&&this._left.nodeIntersectsBox(e)&&this._left.boxCast(e,t),this._right&&this._right.nodeIntersectsBox(e)&&this._right.boxCast(e,t)}rayCast(e,t,i){t=t||[],i=i||[];let n=this.pointIntersect;if(this._entities.count>0){let s=this._entities.map;for(let o in s){let u=s[o];u.entityIntersectsRay(e,n)&&(i.push(new I().copyFrom(n)),t.push(u))}}this._left&&this._left.nodeIntersectsRay(e)&&this._left.rayCast(e,t,i),this._right&&this._right.nodeIntersectsRay(e)&&this._right.rayCast(e,t,i)}};a(hi,"nodeCount",0),a(hi,"rangeBox",new Qe(new I(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),new I(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)));let Ug=hi;var vB=(r=>(r[r.MOUSE_LEFT=0]="MOUSE_LEFT",r[r.MOUSE_MID=1]="MOUSE_MID",r[r.MOUSE_RIGHT=2]="MOUSE_RIGHT",r))(vB||{});class wB{constructor(A,e){a(this,"sourceShader");a(this,"compute");a(this,"needUpdate",!0);this.sourceShader=e,this.compute=new Ii(A),this.init()}init(){}onUpdate(){this.onFrame&&this.onFrame(),this.onOnce&&this.needUpdate&&(this.needUpdate=!1,this.onFrame())}}class bB extends wB{constructor(A){super(pI,A)}init(){let A=new tn(256,256,MA.rgba8unorm,!1,GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.TEXTURE_BINDING);return this.compute.setStorageTexture("sssMap",A),this.sourceShader.setTexture("lutMap",A),A}onFrame(){this.compute.workerSizeX=256/8,this.compute.workerSizeY=256/8;let A=sA.beginCommandEncoder();sA.computeCommand(A,[this.compute]),sA.endCommandEncoder(A)}}class IB extends Kn{constructor(A,e,t=0){super(),this.bufferType=xi.StructStorageGPUBuffer,this.createBufferByStruct(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|t,A,e)}}class BB extends an{constructor(A=r1.triangle_list){super(),CA.register("Graphic3DShader",mI);let e=new ot("Graphic3DShader","Graphic3DShader");e.setShaderEntry("VertMain","FragMain"),e.noticeValueChange();let t=new Pr;t.addRenderPass(e),this.shader=t;let i=e.shaderState;i.acceptShadow=!1,i.castShadow=!1,i.receiveEnv=!1,i.acceptGI=!1,i.useLight=!1,i.topology=A}}var TB=Object.defineProperty,DB=Object.getOwnPropertyDescriptor,xB=(r,A,e,t)=>{for(var i=t>1?void 0:t?DB(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&TB(A,e,i),i};let ff=class extends Pr{constructor(){super(),CA.register("VertexAttributeIndexShader",gI),CA.register("UnLitTextureArray",SI);let r=new ot("UnLitTextureArray","UnLitTextureArray");r.setShaderEntry("VertMain","FragMain"),this.addRenderPass(r);let A=r.shaderState;A.acceptShadow=!1,A.castShadow=!1,A.receiveEnv=!1,A.acceptGI=!1,A.useLight=!1,this.setDefine("USE_BRDF",!0),this.setDefine("USE_AO_R",!0),this.setDefine("USE_ROUGHNESS_G",!0),this.setDefine("USE_METALLIC_B",!0),this.setDefine("USE_ALPHA_A",!0),this.setDefault()}setDefault(){this.setUniformVector4("transformUV1",new XA(0,0,1,1)),this.setUniformVector4("transformUV2",new XA(0,0,1,1)),this.setUniformColor("baseColor",new fA),this.setUniformFloat("alphaCutoff",0)}set _MainTex(r){this.setTexture("baseMap",r)}set _BumpMap(r){this.setTexture("normalMap",r)}set _MaskTex(r){this.setTexture("maskMap",r)}set _UVTransform(r){this.setUniformVector4("transformUV1",r)}set _Metallic(r){this.setUniformFloat("metallic",r)}set _Roughness(r){this.setUniformFloat("roughness",r)}set _MainColor(r){this.setUniformColor("baseColor",r)}set _AlphaCutoff(r){this.setUniformFloat("alphaCutoff",r)}set _DoubleSidedEnable(r){let A=this.getDefaultColorShader();A.shaderState.cullMode=r?ar.none:A.shaderState.cullMode}set _SurfaceType(r){let A=this.getDefaultColorShader();r==0?A.blendMode=ee.NONE:A.blendMode=ee.ALPHA}set _AlphaCutoffEnable(r){r==0?this.setDefine("USE_ALPHACUT",!1):this.setDefine("USE_ALPHACUT",!0)}};ff=xB([$n],ff);class OB extends an{constructor(){super(),this.shader=new ff,this.baseMap=K.res.whiteTexture}set baseMap(A){this.shader.setTexture("baseMap",A)}get baseMap(){return this.shader.getTexture("baseMap")}set baseColor(A){this.shader.setUniformColor("baseColor",A)}get baseColor(){return this.shader.getUniformColor("baseColor")}set shadowMap(A){}}var MB=Object.defineProperty,RB=Object.getOwnPropertyDescriptor,PB=(r,A,e,t)=>{for(var i=t>1?void 0:t?RB(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&MB(A,e,i),i};class FB extends Mo{constructor(){super(...arguments);a(this,"shapeIndex",0);a(this,"shapeType",0);a(this,"width",0);a(this,"lineCap",0);a(this,"pathCount",0);a(this,"uScale",0);a(this,"vScale",0);a(this,"lineJoin",0);a(this,"startPath",0);a(this,"endPath",0);a(this,"uSpeed",0);a(this,"vSpeed",0);a(this,"paths",[])}}PB([Xl],FB.prototype,"paths",2);var NB=(r=>(r[r.bevel=0]="bevel",r[r.miter=1]="miter",r[r.round=2]="round",r))(NB||{}),LB=(r=>(r[r.butt=0]="butt",r[r.square=1]="square",r[r.round=2]="round",r))(LB||{});class UB{static merge(A,e,t){}static mergeNumber(A,e,t){let i=t||new ti,n=A.getAttribute(pA.position).data.length/3,s=new Float32Array(n*e);for(const c of A.vertexAttributeMap){let h=c[1].attribute;if(h==pA.indices)continue;let d=A.getAttribute(h).data,f=d.length,p=new Float32Array(f*e);for(let y=0;y<e;y++){p.set(d,f*y);for(let _=0;_<n;_++)s[n*y+_]=y}i.setAttribute(h,p)}i.setAttribute(pA.vIndex,s);let o=A.getAttribute(pA.indices).data,u=o.length,l=new Uint32Array(o.length*e);for(let c=0;c<e;c++)for(let h=0;h<u;h++){let d=c*n,f=c*u;const p=o[h]+d;l[f+h]=p}return i.setIndices(l),i.addSubGeometry({indexStart:0,indexCount:l.length,vertexStart:0,index:0,vertexCount:0,firstStart:0,topology:0}),i}static generateNormal(){}static generateTangent(){}static packUV(){}}class kB extends ti{constructor(e){super();a(this,"segment");a(this,"row",0);this.segment=e,this.buildGeometry()}buildGeometry(){this.row=this.segment+1;let e=new Uint32Array(this.segment*6),t=new Float32Array(this.row*3*2),i=new Float32Array(this.row*3*2),n=new Float32Array(this.row*2*2);for(let s=0;s<this.row;s++){t[s*3*2+0]=0,t[s*3*2+1]=0,t[s*3*2+2]=0,t[s*3*2+3]=0,t[s*3*2+4]=0,t[s*3*2+5]=0,i[s*3*2+0]=0,i[s*3*2+1]=0,i[s*3*2+2]=1,i[s*3*2+3]=0,i[s*3*2+4]=0,i[s*3*2+5]=1,n[s*2*2+0]=0,n[s*2*2+1]=s/this.segment,n[s*2*2+2]=1,n[s*2*2+3]=s/this.segment;let o=s*2,u=o,l=o+1,c=o+2,h=o+3;e[s*6+0]=u,e[s*6+1]=l,e[s*6+2]=c,e[s*6+3]=l,e[s*6+4]=h,e[s*6+5]=c}this.setIndices(e),this.setAttribute(pA.position,t),this.setAttribute(pA.normal,i),this.setAttribute(pA.uv,n),this.setAttribute(pA.TEXCOORD_1,n),this.addSubGeometry({indexStart:0,indexCount:e.length,vertexStart:0,vertexCount:0,firstStart:0,index:0,topology:0})}}var zB=Object.defineProperty,GB=Object.getOwnPropertyDescriptor,VB=(r,A,e,t)=>{for(var i=t>1?void 0:t?GB(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&zB(A,e,i),i},QB=(r=>(r[r.FaceToCamera=0]="FaceToCamera",r[r.FaceToPath=1]="FaceToPath",r[r.FaceToUp=2]="FaceToUp",r))(QB||{});class wl extends Mo{constructor(){super(...arguments);a(this,"index",1);a(this,"segment",5);a(this,"visible",1);a(this,"width",.25);a(this,"uv",new XA(0,0,1,30));a(this,"uvSpeed",new Ge(0,2.1));a(this,"smooth",0);a(this,"faceMode",0);a(this,"up",new XA(0,1,0));a(this,"ids",new Float32Array(pf.maxRibbonSegment));a(this,"ribbonPoint",[])}}VB([Xl],wl.prototype,"ribbonPoint",2);const Ja=class Ja extends he{constructor(){super(...arguments);a(this,"transformBuffer");a(this,"sourceGeometry");a(this,"texture");a(this,"object3Ds");a(this,"ribbons");a(this,"ribbonCount",10);a(this,"_onChange",!1);a(this,"_computeShader");a(this,"_ribbonBuffer");a(this,"ribbonSegment")}init(){super.init()}create(e,t,i){this.ribbons=[],this.ribbonSegment=e;for(let o=0;o<i;o++)this.ribbons[o]=new wl,this.ribbons[o].index=o,this.ribbons[o].segment=e,this.ribbons[o].width=.5,this.ribbons[o].faceMode=0;let n=new kB(e),s=new OB;s.baseMap=t,this.material=s,this.transformBuffer=new Bt(i*(7*4),0),this.material.setStorageBuffer("graphicBuffer",this.transformBuffer),this.object3Ds=[];for(let o=0;o<i;o++){const u=new de;this.object3Ds.push(u),this.object3D.addChild(u),this.transformBuffer.setFloat("matrix_"+o,u.transform.worldMatrix.index),this.transformBuffer.setFloat("texId_"+o,1),this.transformBuffer.setFloat("texId2_"+o,1),this.transformBuffer.setFloat("texId3_"+o,1),this.transformBuffer.setColor("baseColor_"+o,new fA),this.transformBuffer.setColor("lineColor_"+o,new fA),this.transformBuffer.setColor("emissiveColor_"+o,new fA(0,0,0,0)),this.transformBuffer.setVector4("uvRect_"+o,new XA(0,0,1,1)),this.transformBuffer.setVector4("uvRect2_"+o,new XA(0,0,1,1)),this.transformBuffer.setVector4("uvSpeed_"+o,new XA(0,0,0,0))}this.transformBuffer.apply(),this.geometry=UB.mergeNumber(n,i)}startRibbon(e,t,i){this.ribbonCount=i,this.create(t,e,i),this._computeShader=new Ii(yI(Ja.maxRibbonSegment)),this._ribbonBuffer=new IB(wl,i);for(let n=0;n<i;n++){this.ribbons[n].ribbonPoint=[];for(let s=0;s<Ja.maxRibbonSegment;s++){const o=new de;this.object3D.addChild(o),this.ribbons[n].ribbonPoint[s]=o,this.ribbons[n].ids[s]=o.transform.worldMatrix.index}}this._ribbonBuffer.setStructArray(wl,this.ribbons),this._ribbonBuffer.apply(),this.start=()=>{this._computeShader.setStorageBuffer("vertexBuffer",this.geometry.vertexBuffer.vertexGPUBuffer),this._computeShader.setStorageBuffer("trailBuffer",this._ribbonBuffer),this._computeShader.setStorageBuffer("models",Le.modelMatrixBindGroup.matrixBufferDst),this._computeShader.setStorageBuffer("globalUniform",Le.getCameraGroup(this.transform.scene3D.view.camera).uniformGPUBuffer)},this.onCompute=(n,s)=>this.computeTrail(n,s)}setTextureID(e,t){this.transformBuffer.setFloat("texId_"+e,t),this._onChange=!0}setBaseColor(e,t){this.transformBuffer.setColor("baseColor_"+e,t),this._onChange=!0}setEmissiveColor(e,t){this.transformBuffer.setColor("emissiveColor_"+e,t),this._onChange=!0}setUVRect(e,t){this.transformBuffer.setVector4("uvRect_"+e,t),this._onChange=!0}setLineUVRect(e,t){this.transformBuffer.setVector4("uvRect1_"+e,t),this._onChange=!0}onUpdate(e){this._onChange&&(this._onChange=!1,this.transformBuffer.apply())}computeTrail(e,t){this._computeShader.workerSizeX=this.ribbonCount,this._computeShader.workerSizeY=1,sA.computeCommand(t,[this._computeShader])}};a(Ja,"maxRibbonSegment",256);let pf=Ja;class HB{constructor(){a(this,"indexList");a(this,"color");a(this,"count")}}class jB{constructor(){a(this,"SlotCount",8);a(this,"MaxEntities",16);a(this,"defaultColor",new fA(.2,1,1,1));a(this,"slots",[]);a(this,"dataDirty",!0);let A=K.setting.render.postProcessing.outline.groupCount;this.SlotCount=Math.max(1,Math.min(A,this.SlotCount));for(let e=0;e<this.SlotCount;e++){let t=this.slots[e]=new HB;t.indexList=new Float32Array(this.MaxEntities),t.color=this.defaultColor.clone(),t.count=0}}clear(){for(let A=0;A<this.SlotCount;A++)this.clearAt(A)}clearAt(A){this.dataDirty=!0;let e=this.slots[A];return e.color.copyFrom(this.defaultColor),e.indexList.fill(-1),e.count=0,this}fillDataAt(A,e,t){this.dataDirty=!0;let i=this.slots[A];if(i){i.indexList.fill(-1);for(let n=0,s=e.length;n<s;n++)i.indexList[n]=e[n];i.count=e.length,i.color.copyFrom(t)}return this}fetchData(A){return A.dirty=this.dataDirty,A.slots=this.slots,this.dataDirty=!1,this}}new jB;var WB=(r=>(r.Point="Point",r.LineString="LineString",r.MultiPolygon="MultiPolygon",r))(WB||{});class YB extends Qt{constructor(){super(...arguments);a(this,"json")}async parseString(e){this.json=e,this.data=JSON.parse(e)}}a(YB,"format",nt.JSON);class $B{constructor(){a(this,"boneName");a(this,"bonePath");a(this,"parentBoneName");a(this,"boneID");a(this,"parentBoneID");a(this,"instanceID");a(this,"parentInstanceID");a(this,"t");a(this,"q");a(this,"s")}formBytes(A){this.boneName=A.readUTF(),this.bonePath=A.readUTF(),this.parentBoneName=A.readUTF(),this.boneID=A.readInt32(),this.parentBoneID=A.readInt32(),this.instanceID=A.readUTF(),this.parentInstanceID=A.readUTF(),this.t=A.readVector3(),this.q=A.readQuaternion(),this.s=A.readVector3()}}class KB{constructor(){a(this,"name");a(this,"count");a(this,"boneData");a(this,"boneMap")}formBytes(A){this.boneData=[],this.boneMap=new Map,this.name=A.readUTF(),this.count=A.readInt32();for(let e=0;e<this.count;e++){let t=new $B;t.formBytes(A.readBytesArray()),this.boneData[e]=t,this.boneMap.set(t.boneName,t)}}}class my extends Qt{static parser(A,e){let t=A.readInt32();for(let i=0;i<t;i++){let n=new KB;n.formBytes(A.readBytesArray()),K.res.addObj(n.name,n)}}verification(){if(this.data)return!0;throw new Error("verify failed.")}}a(my,"format",nt.BIN);pA.position,pA.normal,pA.color,pA.TANGENT,pA.uv,pA.TEXCOORD_1,pA.TEXCOORD_2,pA.TEXCOORD_2,pA.TEXCOORD_4,pA.TEXCOORD_5,pA.TEXCOORD_6,pA.TEXCOORD_7,pA.joints0,pA.weights0;var yA=(r=>(r[r.single=0]="single",r[r.boolean=1]="boolean",r[r.int=2]="int",r[r.int16=3]="int16",r[r.int32=4]="int32",r[r.float=5]="float",r[r.long=6]="long",r[r.uint=7]="uint",r[r.uint32=8]="uint32",r[r.uint64=9]="uint64",r[r.double=10]="double",r[r.string=11]="string",r[r.singleArray=12]="singleArray",r[r.stringArray=13]="stringArray",r[r.floatArray=14]="floatArray",r[r.vector2=15]="vector2",r[r.vector3=16]="vector3",r[r.vector4=17]="vector4",r[r.color=18]="color",r[r.color32=19]="color32",r[r.animationCurve=20]="animationCurve",r[r.quaternion=21]="quaternion",r[r.matrix4x4=22]="matrix4x4",r[r.mesh=23]="mesh",r[r.texture=24]="texture",r[r.material=25]="material",r[r.materials=26]="materials",r[r.skeleton=27]="skeleton",r[r.animClip=28]="animClip",r[r.vector2Int=29]="vector2Int",r[r.int32List=30]="int32List",r[r.colorList=31]="colorList",r[r.color32List=32]="color32List",r))(yA||{});class Ih{static GetMaterial(A){let e=A,t=e.split("/");e=t[t.length-1],t=e.split("."),e=t[t.length-1];let i=uw(e);if(i){let n=new an;return n.shader=new i,n}else throw new Error("not found shader, shader name is "+e)}static applyMaterialTexture(A,e){for(let t=0;t<e.length;t++){const i=e[t];i.property in A?A[i.property]=i.texture:i.property in A.shader?A.shader[i.property]=i.texture:A.setTexture(i.property,i.texture)}}static applyMaterialProperties(A,e){for(let t=0;t<e.length;t++){const i=e[t],n=i.key;switch(i.type){case yA.color:case yA.color32:{let s=i.getValue();n in A?A[n]=s:n in A.shader?A.shader[n]=s:A.setUniformColor(n,s)}break;case yA.single:case yA.float:case yA.int:case yA.int16:case yA.int32:case yA.uint:case yA.uint32:case yA.uint64:{let s=i.getValue();n in A?A[n]=s:n in A.shader?A.shader[n]=s:A.setUniformFloat(n,s)}break;case yA.singleArray:{let s=i.getValue()[0];n in A?A[n]=s:n in A.shader?A.shader[n]=s:A.setUniformFloat(n,s)}break;case yA.vector2:case yA.vector2Int:{let s=i.getValue();n in A?A[n]=s:n in A.shader?A.shader[n]=s:A.setUniformVector2(n,s)}break;case yA.vector3:{let s=i.getValue();n in A?A[n]=s:n in A.shader?A.shader[n]=s:A.setUniformVector3(n,s)}break;case yA.vector4:{let s=i.getValue();n in A?A[n]=s:n in A.shader?A.shader[n]=s:A.setUniformVector4(n,s)}break}}}}class ji{static parser(A){switch(A.readInt32()){case yA.single:return{t:yA.single,v:A.readFloat32()};case yA.boolean:return{t:yA.boolean,v:A.readBoolean()};case yA.int:return{t:yA.int,v:A.readInt32()};case yA.int16:return{t:yA.int16,v:A.readInt16()};case yA.int32:return{t:yA.int32,v:A.readInt32()};case yA.float:return{t:yA.float,v:A.readFloat32()};case yA.long:return{t:yA.long,v:A.readFloat64()};case yA.uint:return{t:yA.uint,v:A.readUnit32()};case yA.uint32:return{t:yA.uint32,v:A.readUnit32()};case yA.uint64:return{t:yA.uint64,v:A.readUnit32()};case yA.double:return{t:yA.double,v:A.readFloat64()};case yA.string:return{t:yA.string,v:A.readUTF()};case yA.singleArray:return{t:yA.singleArray,v:A.readFloatArray()};case yA.stringArray:return{t:yA.stringArray,v:A.readStringArray()};case yA.floatArray:return{t:yA.floatArray,v:A.readFloatArray()};case yA.vector2:return{t:yA.vector2,v:A.readVector2()};case yA.vector3:return{t:yA.vector3,v:A.readVector3()};case yA.vector4:return{t:yA.vector4,v:A.readVector4()};case yA.color:return{t:yA.color,v:A.readColor()};case yA.color32:return{t:yA.color32,v:A.readColor()};case yA.animationCurve:return{t:yA.animationCurve,v:null};case yA.quaternion:return{t:yA.quaternion,v:A.readQuaternion()};case yA.matrix4x4:return{t:yA.matrix4x4,v:null};case yA.mesh:{let s=A.readUTF(),o=K.res.getGeometry(s);return{t:yA.mesh,v:o}}case yA.texture:{let s=A.readUTF(),o=K.res.getTexture(s);return{t:yA.texture,v:o}}case yA.material:{let s=A.readUTF(),o=K.res.getMat(s);return{t:yA.material,v:o}}case yA.materials:{let s=A.readStringArray(),o=[];for(let u=0;u<s.length;u++){const l=s[u];let c=K.res.getMat(l);o.push(c)}return{t:yA.materials,v:o}}case yA.skeleton:break;case yA.animClip:{let s=[],o=A.readInt32();for(let u=0;u<o;u++){let l=new gT;l.formBytes(A),s.push(l)}return{t:yA.animClip,v:s}}case yA.vector2Int:return{t:yA.vector2Int,v:A.readVector2int()};case yA.int32List:return{t:yA.int32List,v:A.readInt32List()};case yA.colorList:let e=A.readInt32(),t=[];for(let s=0;s<e;s++){const o=ji.parser(A).v;t.push(o)}return{t:yA.colorList,v:t};case yA.color32List:let i=A.readInt32(),n=[];for(let s=0;s<i;s++){const o=ji.parser(A).v;n.push(o)}return{t:yA.color32List,v:n}}}}class yy{constructor(){a(this,"key");a(this,"type");a(this,"_data")}getValue(){return this._data}formBytes(A){this.key=A.readUTF();let{t:e,v:t}=ji.parser(A);this.type=e,this._data=t}}class qB{constructor(){a(this,"property");a(this,"name");a(this,"texture");a(this,"texelSize");a(this,"wrapModeU");a(this,"wrapModeV");a(this,"wrapModeW");a(this,"wrapMode");a(this,"anisoLevel");a(this,"dimension");a(this,"filterMode")}}class Ey extends Qt{static parserMaterial(A,e){let t=A.readInt32();for(let i=0;i<t;i++){let n=A.readBytesArray(),s=n.readUTF(),o=n.readUTF();n.readUTF();let u=n.readStringArray();n.readVector4(),n.readVector4();let l=n.readUTF(),c=[],h=[],d=n.readInt32();for(let y=0;y<d;y++){let _=new yy;_.formBytes(n),c.push(_)}let f=n.readInt32();for(let y=0;y<f;y++){let _=n.readBytesArray(),g=new qB;g.property=_.readUTF(),g.name=_.readUTF(),g.texture=K.res.getTexture(g.name),g.texelSize=_.readVector2(),g.wrapModeU=_.readUnit32(),g.wrapModeV=_.readUnit32(),g.wrapModeW=_.readUnit32(),g.wrapMode=_.readUnit32(),g.anisoLevel=_.readUnit32(),g.dimension=_.readUnit32(),g.filterMode=_.readUnit32(),h.push(g)}let p=Ih.GetMaterial(l);p.name=s;for(let y=0;y<u.length;y++){const _=u[y];p.shader.setDefine(_,!0)}Ih.applyMaterialTexture(p,h),Ih.applyMaterialProperties(p,c),K.res.addMat(o,p)}}verification(){if(this.data)return!0;throw new Error("verify failed.")}}a(Ey,"format",nt.TEXT);class XB{constructor(){a(this,"shapeName");a(this,"shapeIndex");a(this,"frameCount");a(this,"blendPositionList",new Float32Array);a(this,"blendNormalList",new Float32Array)}formBytes(A){let e=A.readBytesArray();this.shapeName=e.readUTF(),this.shapeIndex=e.readInt32(),this.frameCount=e.readInt32();let t=e.readInt32();this.blendPositionList=e.readFloat32Array(t*3);let i=e.readInt32();this.blendNormalList=e.readFloat32Array(i*3)}}class JB{constructor(){a(this,"vertexCount");a(this,"shapeNames");a(this,"shapeIndexs");a(this,"blendCount");a(this,"blendShapePropertyDatas");a(this,"blendShapeMap")}formBytes(A){this.blendShapeMap=new Map,this.blendShapePropertyDatas=[];let e=A.readBytesArray();this.vertexCount=e.readInt32(),this.shapeNames=e.readStringArray(),this.shapeIndexs=e.readIntArray(),this.blendCount=e.readInt32();for(let t=0;t<this.blendCount;t++){let i=new XB;i.formBytes(e),this.blendShapePropertyDatas.push(i),this.blendShapeMap.set(i.shapeName,i)}return A}}class ZB{constructor(){a(this,"name");a(this,"meshName");a(this,"meshID");a(this,"vertexCount");a(this,"vertexStrip");a(this,"vertexBuffer");a(this,"indices");a(this,"attributes");a(this,"bones");a(this,"bindPose");a(this,"blendShapeData")}}class Cy extends Qt{async parseBuffer(A){}static parserMeshs(A,e){let t=A.readInt32();for(let i=0;i<t;i++){let n=new ZB,s=A.readBytesArray();n.meshName=s.readUTF(),n.meshID=s.readUTF(),s.readFloat32()>0,s.readFloat32()>0,s.readFloat32()>0;let o=s.readFloat32()>0,u=s.readFloat32()>0;o&&(n.bones=s.readStringArray(),n.bindPose=s.readMatrix44Array()),u&&(n.blendShapeData=new JB,n.blendShapeData.formBytes(s));let l=s.readBytesArray(),c=s.readBytesArray(),h=l.readInt32(),d=0,f=[];for(let m=0;m<h;m++)f[m]={},f[m].att=AT[l.readUTF()],f[m].dim=l.readInt32(),d+=f[m].dim,f[m].format=l.readUTF();n.vertexCount=l.readInt32(),n.vertexBuffer=c.getFloat32Array();let p=s.readInt32Array(),y=[],_=s.readInt32();for(let m=0;m<_;m++){let E=s.readInt32(),w=s.readInt32(),L=s.readInt32(),T=s.readInt32(),R=s.readInt32(),P=s.readInt32();s.readVector3(),s.readVector3();let F={indexStart:w,indexCount:L,vertexStart:T,vertexCount:P,firstStart:R,topology:E,index:m};y.push(F)}p.length>65535?n.indices=new Uint32Array(p):n.indices=new Uint16Array(p);let g=new ti;if(g.vertexDim=d,g.geometryType=Ft.compose_bin,g.setIndices(n.indices),g.setAttribute(pA.all,n.vertexBuffer),o&&(g.skinNames=n.bones,g.bindPose=n.bindPose),u){g.blendShapeData=n.blendShapeData,g.morphTargetsRelative=!0,g.morphTargetDictionary={};for(let m=0;m<n.blendShapeData.blendCount;m++){g.setAttribute("a_morphPositions_"+m,n.blendShapeData.blendShapePropertyDatas[m].blendPositionList),g.setAttribute("a_morphNormals_"+m,n.blendShapeData.blendShapePropertyDatas[m].blendNormalList);for(let E=0;E<n.blendShapeData.blendCount;E++){let w=n.blendShapeData.shapeNames[E],L=n.blendShapeData.shapeIndexs[E];g.morphTargetDictionary[w]=L}}}for(let m=0;m<f.length;m++){const E=f[m].att;g.setAttribute(E,null)}for(let m=0;m<y.length;m++){const E=y[m];g.addSubGeometry(E)}g.name=n.meshName,K.res.addGeometry(n.meshID,g)}}verification(){if(this.data)return!0;throw new Error("verify failed.")}}a(Cy,"format",nt.BIN);let AT={Position:pA.position,Normal:pA.normal,Color:pA.color,Tangent:pA.TANGENT,TexCoord0:pA.uv,TexCoord1:pA.TEXCOORD_1,TexCoord2:pA.TEXCOORD_2,TexCoord3:pA.TEXCOORD_2,TexCoord4:pA.TEXCOORD_4,TexCoord5:pA.TEXCOORD_5,TexCoord6:pA.TEXCOORD_6,TexCoord7:pA.vIndex,BlendIndices:pA.joints0,BlendWeight:pA.weights0};class C0 extends DataView{constructor(e,t,i){super(e,t,i);a(this,"position",0);a(this,"littleEndian",!0);this.position=0,this.position+=this.byteOffset}readUTF(){let e=this.readInt32(),t=e%4;t>0&&t<4&&(t=4-t);let i="",n=new Int8Array(this.buffer,this.position,e);return this.position+=e*Int8Array.BYTES_PER_ELEMENT,i+=String.fromCharCode.apply(null,n),this.position+=t*Int8Array.BYTES_PER_ELEMENT,i}readStringArray(){let e=[],t=this.readInt32();for(let i=0;i<t;i++)e.push(this.readUTF());return e}readByte(){let e=this.buffer[this.position];return this.position+=1,e}readBoolean(){let e=this.readInt32();return this.position+=4,e==1}readBytes(e){let t=new DataView(this.buffer,this.position,e);return this.position+=e,t.buffer}readBytesArray(){let e=this.readInt32(),t=new C0(this.buffer.slice(this.position,this.position+e));return this.position+=e,t}readUnit8(){let e=this.getUint8(this.position);return this.position+=Uint8Array.BYTES_PER_ELEMENT,e}readUnit16(){let e=this.getUint16(this.position);return this.position+=Uint16Array.BYTES_PER_ELEMENT,e}readUnit32(){let e=this.getUint32(this.position);return this.position+=Uint32Array.BYTES_PER_ELEMENT,e}readInt8(){let e=this.getInt8(this.position);return this.position+=Int8Array.BYTES_PER_ELEMENT,e}readInt16(){let e=this.getInt16(this.position,this.littleEndian);return this.position+=Int16Array.BYTES_PER_ELEMENT,e}readInt32(){let e=this.getInt32(this.position,this.littleEndian);return this.position+=Int32Array.BYTES_PER_ELEMENT,e}readFloat32(){let e=this.getFloat32(this.position,this.littleEndian);return this.position+=Float32Array.BYTES_PER_ELEMENT,e}readFloat64(){let e=this.getFloat64(this.position,this.littleEndian);return this.position+=Float64Array.BYTES_PER_ELEMENT,e}readInt32Array(){let e=this.readInt32(),t=new Int32Array(this.buffer,this.position,e);return t=t.slice(0,e),this.position+=t.byteLength,t}readInt32List(){let e=this.readInt32(),t=[];for(let i=0;i<e;i++)t.push(this.readInt32());return t}readFloatArray(){let e=this.readInt32(),t=[];for(let i=0;i<e;i++){let n=this.readFloat32();t.push(n)}return t}readIntArray(){let e=this.readInt32(),t=[];for(let i=0;i<e;i++){let n=this.readInt32();t.push(n)}return t}readVector2int(){let e=new Ge;return e.x=this.readInt32(),e.y=this.readInt32(),e}readVector2(){let e=new Ge;return e.x=this.readFloat32(),e.y=this.readFloat32(),e}readVector3(){let e=new I;return e.x=this.readFloat32(),e.y=this.readFloat32(),e.z=this.readFloat32(),e}readVector3Array(){let e=[],t=this.readInt32();for(let i=0;i<t;i++)e.push(this.readVector3());return e}readVector4(){let e=new XA;return e.x=this.readFloat32(),e.y=this.readFloat32(),e.z=this.readFloat32(),e.w=this.readFloat32(),e}readVector4Array(){let e=[],t=this.readInt32();for(let i=0;i<t;i++)e.push(this.readVector4());return e}readColor(){let e=new fA;return e.r=this.readFloat32(),e.g=this.readFloat32(),e.b=this.readFloat32(),e.a=this.readFloat32(),e}readColorArray(){let e=[],t=this.readInt32();for(let i=0;i<t;i++)e.push(this.readColor());return e}readQuaternion(){let e=new oe;return e.x=this.readFloat32(),e.y=this.readFloat32(),e.z=this.readFloat32(),e.w=this.readFloat32(),e}readQuaternionArray(){let e=[],t=this.readInt32();for(let i=0;i<t;i++)e.push(this.readQuaternion());return e}readMatrix44(){let e=new NA,t=e.rawData;return t[0]=this.readFloat32(),t[1]=this.readFloat32(),t[2]=this.readFloat32(),t[3]=this.readFloat32(),t[4]=this.readFloat32(),t[5]=this.readFloat32(),t[6]=this.readFloat32(),t[7]=this.readFloat32(),t[8]=this.readFloat32(),t[9]=this.readFloat32(),t[10]=this.readFloat32(),t[11]=this.readFloat32(),t[12]=this.readFloat32(),t[13]=this.readFloat32(),t[14]=this.readFloat32(),t[15]=this.readFloat32(),e}readMatrix44Array(){let e=this.readInt32(),t=[];for(let i=0;i<e;i++){let n=this.readMatrix44();t.push(n)}return t}readFloat32Array(e){let t=new Float32Array(this.buffer,this.position,e);return t=t.slice(0,this.byteLength),this.position+=e*Float32Array.BYTES_PER_ELEMENT,t}getFloat32Array(){let e=new Float32Array(this.buffer,this.byteOffset,this.byteLength/Float32Array.BYTES_PER_ELEMENT);return e=e.slice(0,this.byteLength),e}}class _y extends Qt{static async parserTexture(A,e,t){let i=A.readInt32(),n=[];for(let o=0;o<i;o++){let u=A.readUTF();gf.useWebp?(u=u.replace("png","webp"),u=u.replace("jpb","webp"),n.push(e.baseUrl+"webp/"+u)):n.push(e.baseUrl+u)}let s=await K.res.loadBitmapTextures(n,K.setting.loader.numConcurrent,t,!0);for(const o of s)K.res.addTexture(o.name,o)}verification(){if(this.data)return!0;throw new Error("verify failed.")}}a(_y,"format",nt.TEXT);var eT=Object.defineProperty,tT=Object.getOwnPropertyDescriptor,rT=(r,A,e,t)=>{for(var i=t>1?void 0:t?tT(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&eT(A,e,i),i};let kg=class extends Pr{constructor(){super(),CA.register("PBRLitSSSShader",_I);let r=new ot("PBRLitSSSShader","PBRLitSSSShader");r.setShaderEntry("VertMain","FragMain"),this.addRenderPass(r);let A=r.shaderState;A.acceptShadow=!0,A.castShadow=!0,A.receiveEnv=!0,A.acceptGI=!0,A.useLight=!0,this.setDefine("USE_BRDF",!0),this.setDefine("USE_AO_R",!0),this.setDefine("USE_ROUGHNESS_G",!0),this.setDefine("USE_METALLIC_B",!0),this.setDefine("USE_ALPHA_A",!0),this.setDefine("USE_CUSTOMUNIFORM",!0),this.setDefault(),this.debug(),this.computes=[new bB(this)]}debug(){}setDefault(){this.setUniformFloat("shadowBias",35e-5),this.setUniformVector4("transformUV1",new XA(0,0,1,1)),this.setUniformVector4("transformUV2",new XA(0,0,1,1)),this.setUniformColor("baseColor",new fA),this.setUniformColor("emissiveColor",new fA(1,1,1)),this.setUniformVector4("materialF0",new XA(.04,.04,.04,1)),this.setUniformColor("specularColor",new fA(.04,.04,.04)),this.setUniformFloat("envIntensity",1),this.setUniformFloat("normalScale",1),this.setUniformFloat("roughness",1),this.setUniformFloat("metallic",0),this.setUniformFloat("ao",1),this.setUniformFloat("roughness_min",0),this.setUniformFloat("roughness_max",1),this.setUniformFloat("metallic_min",0),this.setUniformFloat("metallic_max",1),this.setUniformFloat("emissiveIntensity",0),this.setUniformFloat("alphaCutoff",0),this.setUniformFloat("ior",1.5),this.setUniformFloat("clearcoatFactor",0),this.setUniformFloat("clearcoatRoughnessFactor",0),this.setUniformColor("clearcoatColor",new fA(1,1,1)),this.setUniformFloat("clearcoatWeight",0),this.setUniformColor("skinColor",new fA(1,0,0)),this.setUniformFloat("skinPower",3.4),this.setUniformFloat("skinColorIns",.5),this.setUniformFloat("curveFactor",1)}set _MainTex(r){this.setTexture("baseMap",r)}set _BumpMap(r){this.setTexture("normalMap",r)}set _SSSMap(r){this.setTexture("sssMap",r)}set _MaskTex(r){this.setTexture("maskMap",r)}set _UVTransform(r){this.setUniformVector4("transformUV1",r)}set _Metallic(r){this.setUniformFloat("metallic",r)}set _Roughness(r){this.setUniformFloat("roughness",r)}set _MainColor(r){this.setUniformColor("baseColor",r)}set _AlphaCutoff(r){this.setUniformFloat("alphaCutoff",r)}set _DoubleSidedEnable(r){let A=this.getDefaultColorShader();A.shaderState.cullMode=r?ar.none:A.shaderState.cullMode}set _SkinColor(r){this.setUniformColor("skinColor",r)}set _SkinPower(r){this.setUniformFloat("skinPower",r)}set _SkinColorIns(r){this.setUniformFloat("skinColorIns",r)}set curveFactor(r){this.setUniformFloat("curveFactor",r)}set _SurfaceType(r){let A=this.getDefaultColorShader();r==0?A.blendMode=ee.NONE:A.blendMode=ee.ALPHA}set _AlphaCutoffEnable(r){r==0?this.setDefine("USE_ALPHACUT",!1):this.setDefine("USE_ALPHACUT",!0)}};kg=rT([$n],kg);var iT=Object.defineProperty,nT=Object.getOwnPropertyDescriptor,sT=(r,A,e,t)=>{for(var i=t>1?void 0:t?nT(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&iT(A,e,i),i};let zg=class extends Pr{constructor(){super();let r=new ot("PBRLItShader","PBRLItShader");r.setShaderEntry("VertMain","FragMain"),this.addRenderPass(r);let A=r.shaderState;A.acceptShadow=!0,A.castShadow=!0,A.receiveEnv=!0,A.acceptGI=!0,A.useLight=!0,this.setDefine("USE_BRDF",!0),this.setDefine("USE_AO_R",!0),this.setDefine("USE_ROUGHNESS_G",!0),this.setDefine("USE_METALLIC_B",!0),this.setDefine("USE_ALPHA_A",!0),this.setDefault()}setDefault(){this.setUniformFloat("shadowBias",35e-5),this.setUniformVector4("transformUV1",new XA(0,0,1,1)),this.setUniformVector4("transformUV2",new XA(0,0,1,1)),this.setUniformColor("baseColor",new fA),this.setUniformColor("emissiveColor",new fA(0,0,0)),this.setUniformVector4("materialF0",new XA(.04,.04,.04,1)),this.setUniformColor("specularColor",new fA(.04,.04,.04)),this.setUniformFloat("envIntensity",1),this.setUniformFloat("normalScale",1),this.setUniformFloat("roughness",1),this.setUniformFloat("metallic",0),this.setUniformFloat("ao",1),this.setUniformFloat("roughness_min",0),this.setUniformFloat("roughness_max",1),this.setUniformFloat("metallic_min",0),this.setUniformFloat("metallic_max",1),this.setUniformFloat("emissiveIntensity",0),this.setUniformFloat("alphaCutoff",0),this.setUniformFloat("ior",1.5),this.setUniformFloat("clearcoatFactor",0),this.setUniformFloat("clearcoatRoughnessFactor",0),this.setUniformColor("clearcoatColor",new fA(1,1,1)),this.setUniformFloat("clearcoatWeight",0),this._MainTex=K.res.grayTexture,this._BumpMap=K.res.normalTexture,this._MaskTex=K.res.maskTexture}set _MainTex(r){this.setTexture("baseMap",r)}set _BumpMap(r){this.setTexture("normalMap",r)}set _MaskTex(r){this.setTexture("maskMap",r)}set _UVTransform(r){this.setUniformVector4("transformUV1",r)}set _Metallic(r){this.setUniformFloat("metallic",r)}set _Roughness(r){this.setUniformFloat("roughness",r)}set _MainColor(r){this.setUniformColor("baseColor",r)}set _AlphaCutoff(r){this.setUniformFloat("alphaCutoff",r)}set _DoubleSidedEnable(r){let A=this.getDefaultColorShader();A.shaderState.cullMode=r?ar.none:A.shaderState.cullMode}set _SurfaceType(r){let A=this.getDefaultColorShader();r==0?A.blendMode=ee.NONE:A.blendMode=ee.ALPHA}set _AlphaCutoffEnable(r){r==0?this.setDefine("USE_ALPHACUT",!1):this.setDefine("USE_ALPHACUT",!0)}};zg=sT([$n],zg);class _0{constructor(){a(this,"comName");a(this,"data")}static parser(A){let e=A.readBytesArray(),t=new _0;t.comName=e.readUTF(),t.data=[];let i=e.readInt32();for(let n=0;n<i;n++){let s=new yy;s.formBytes(e),t.data.push(s)}return t}}class dc{constructor(){a(this,"name");a(this,"parentName");a(this,"position");a(this,"rotation");a(this,"scale");a(this,"comDatas");a(this,"child")}static parser(A){let e=A.readBytesArray(),t=new dc;t.name=e.readUTF(),t.parentName=e.readUTF(),t.position=e.readVector3(),t.rotation=e.readQuaternion(),t.scale=e.readVector3(),t.comDatas=[],t.child=[];let i=e.readInt32();for(let s=0;s<i;s++){const o=_0.parser(e);t.comDatas.push(o)}let n=e.readInt32();for(let s=0;s<n;s++){const o=dc.parser(e);t.child.push(o)}return t}}class gf extends Qt{constructor(){super(...arguments);a(this,"avatarDic");a(this,"nodeData")}async parseBuffer(e){this.avatarDic={};let t=new C0(e,0);await _y.parserTexture(t,this,this.loaderFunctions),my.parser(t,this),Cy.parserMeshs(t,this),Ey.parserMaterial(t,this),this.nodeData=this.parserPrefabNode(t),this.data=this.data=this.parserNodeTree(this.nodeData)}parserPrefabNode(e){return dc.parser(e)}parserNodeTree(e){let t=new de;if(t.localPosition=I.serialize(e.position),t.localQuaternion=oe.serialize(e.rotation),t.localScale=I.serialize(e.scale),t.name=e.name,e.comDatas)for(let i=0;i<e.comDatas.length;i++){const n=e.comDatas[i];let s=null,o=aw(n.comName);if(o){s=t.getOrAddComponent(o);for(let u=0;u<n.data.length;u++){const l=n.data[u];l.key in s&&(s[l.key]=l.getValue())}}}if(e.child&&e.child.length>0)for(let i=0;i<e.child.length;i++){let n=this.parserNodeTree(e.child[i]);t.addChild(n)}return t}verification(){if(this.data)return!0;throw new Error("verify failed.")}}a(gf,"useWebp",!0),a(gf,"format",nt.BIN);var oT=Object.defineProperty,aT=Object.getOwnPropertyDescriptor,uT=(r,A,e,t)=>{for(var i=t>1?void 0:t?aT(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&oT(A,e,i),i};let Gg=class extends Pr{constructor(){super(),this.create_opPass(),this.setDefine("USEC",!0),this.setDefine("USE_BRDF",!0),this.setDefine("USE_AO_R",!0),this.setDefine("USE_ROUGHNESS_G",!0),this.setDefine("USE_METALLIC_B",!0),this.setDefine("USE_ALPHA_A",!0),this.setDefine("USE_HAIR",!0),this.setDefine("USE_CUSTOMUNIFORM",!0),this.setDefine("USE_HAIRCOLOR",!0),this.setDefault(),this.debug()}create_opPass(){CA.register("HairShader_op",EI);let r=new ot("HairShader_op","HairShader_op");this.addRenderPass(r),r.setShaderEntry("VertMain","FragMain");let A=r.shaderState;A.acceptShadow=!0,A.castShadow=!0,A.receiveEnv=!0,A.acceptGI=!0,A.useLight=!0,A.blendMode=ee.NONE,A.cullMode=ar.none,A.writeMasks[0]=GPUColorWrite.ALL}create_trPass(){CA.register("HairShader_tr",CI);let r=new ot("HairShader_tr","HairShader_tr");this.addRenderPass(r),r.setShaderEntry("VertMain","FragMain");let A=r.shaderState;A.acceptShadow=!0,A.castShadow=!0,A.receiveEnv=!0,A.acceptGI=!0,A.useLight=!0,A.depthWriteEnabled=!1,A.blendMode=ee.NORMAL,A.cullMode=ar.none,A.writeMasks[0]=GPUColorWrite.ALL,A.writeMasks[1]=0,A.writeMasks[2]=0,A.writeMasks[3]=0}debug(){}setDefault(){this.setUniformFloat("shadowBias",35e-5),this.setUniformVector4("transformUV1",new XA(0,0,1,1)),this.setUniformVector4("transformUV2",new XA(0,0,1,1)),this.setUniformColor("baseColor0",new fA(3/255,2/255,2/255)),this.setUniformColor("baseColor1",new fA(2/255,2/255,2/255)),this.setUniformColor("emissiveColor",new fA(1,1,1)),this.setUniformVector4("materialF0",new XA(.04,.04,.04,1)),this.setUniformColor("specularColor",new fA(36/255,36/255,36/255)),this.setUniformFloat("envIntensity",1),this.setUniformFloat("normalScale",1),this.setUniformFloat("roughness",.1),this.setUniformFloat("metallic",.3),this.setUniformFloat("ao",1),this.setUniformFloat("roughness_min",0),this.setUniformFloat("roughness_max",1),this.setUniformFloat("metallic_min",0),this.setUniformFloat("metallic_max",1),this.setUniformFloat("emissiveIntensity",0),this.setUniformFloat("alphaCutoff",.1),this.setUniformFloat("ior",1.5),this.setUniformFloat("backlit",.3987),this.setUniformFloat("area",.0615)}set _MainTex(r){this.setTexture("baseMap",r)}set _IDMap(r){this.setTexture("idMap",r)}set _DepthMap(r){this.setTexture("depthMap",r)}set _RootMap(r){this.setTexture("rootMap",r)}set _AlphaMap(r){this.setTexture("alphaMap",r)}set _UVTransform(r){this.setUniformVector4("transformUV1",r)}set _Metallic(r){this.setUniformFloat("metallic",r)}set _Roughness(r){this.setUniformFloat("roughness",r)}set _HairColor0(r){this.setUniformColor("baseColor0",r)}set _HairColor1(r){this.setUniformColor("baseColor1",r)}set _SpecularColor(r){this.setUniformColor("specularColor",r)}set _AlphaCutoff(r){this.setUniformFloat("alphaCutoff",r)}set _BackLit(r){this.setUniformFloat("backlit",r)}set _Area(r){this.setUniformFloat("area",r)}set _DoubleSidedEnable(r){let A=this.getSubShaders(QA.COLOR)[0];A.shaderState.cullMode=r?ar.none:A.shaderState.cullMode}set _SurfaceType(r){}set _AlphaCutoffEnable(r){r==0?this.setDefine("USE_ALPHACUT",!1):this.setDefine("USE_ALPHACUT",!0)}};Gg=uT([$n],Gg);var lT=Object.defineProperty,cT=Object.getOwnPropertyDescriptor,hT=(r,A,e,t)=>{for(var i=t>1?void 0:t?cT(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&lT(A,e,i),i};let Vg=class extends Pr{constructor(){super();let r=new ot("UnLit","UnLit");r.setShaderEntry("VertMain","FragMain"),this.addRenderPass(r);let A=r.shaderState;A.acceptShadow=!1,A.castShadow=!1,A.receiveEnv=!1,A.acceptGI=!1,A.useLight=!1,this.setDefine("USE_BRDF",!0),this.setDefine("USE_AO_R",!0),this.setDefine("USE_ROUGHNESS_G",!0),this.setDefine("USE_METALLIC_B",!0),this.setDefine("USE_ALPHA_A",!0),this.setDefault()}setDefault(){this.setUniformVector4("transformUV1",new XA(0,0,1,1)),this.setUniformVector4("transformUV2",new XA(0,0,1,1)),this.setUniformColor("baseColor",new fA),this.setUniformFloat("alphaCutoff",0)}set _MainTex(r){this.setTexture("baseMap",r)}set _BumpMap(r){this.setTexture("normalMap",r)}set _MaskTex(r){this.setTexture("maskMap",r)}set _UVTransform(r){this.setUniformVector4("transformUV1",r)}set _Metallic(r){this.setUniformFloat("metallic",r)}set _Roughness(r){this.setUniformFloat("roughness",r)}set _MainColor(r){this.setUniformColor("baseColor",r)}set _AlphaCutoff(r){this.setUniformFloat("alphaCutoff",r)}set _DoubleSidedEnable(r){let A=this.getDefaultColorShader();A.shaderState.cullMode=r?ar.none:A.shaderState.cullMode}set _SurfaceType(r){let A=this.getDefaultColorShader();r==0?A.blendMode=ee.NONE:A.blendMode=ee.ALPHA}set _AlphaCutoffEnable(r){r==0?this.setDefine("USE_ALPHACUT",!1):this.setDefine("USE_ALPHACUT",!0)}};Vg=hT([$n],Vg);var dT=Object.defineProperty,fT=Object.getOwnPropertyDescriptor,pT=(r,A,e,t)=>{for(var i=t>1?void 0:t?fT(A,e):A,n=r.length-1,s;n>=0;n--)(s=r[n])&&(i=(t?s(A,e,i):s(i))||i);return t&&i&&dT(A,e,i),i};let Bh=class extends Jt{constructor(){super(...arguments);a(this,"size");a(this,"blockSize");a(this,"walk");a(this,"obs");a(this,"colors");a(this,"aPaths")}onGraphic(A){}};Bh=pT([ri(Bh,"APatch")],Bh);class gT{constructor(){a(this,"clipName");a(this,"loopTime");a(this,"startTime");a(this,"stopTime");a(this,"sampleRate");a(this,"useSkeletonPos");a(this,"useSkeletonScale");a(this,"positionCurves",new Map);a(this,"rotationCurves",new Map);a(this,"scaleCurves",new Map);a(this,"floatCurves",new Map)}formBytes(A){if(this.clipName=A.readUTF(),this.loopTime=!A.readInt32(),this.startTime=A.readFloat32(),this.stopTime=A.readFloat32(),this.sampleRate=A.readInt32(),this.useSkeletonPos=A.readInt32()>0,this.useSkeletonScale=A.readInt32()>0,this.useSkeletonPos){let i=A.readInt32();for(let n=0;n<i;n++){let s=new Zu;s.formBytes(A),this.positionCurves.set(s.path,s)}}let e=A.readInt32();for(let i=0;i<e;i++){let n=new Zu;n.formBytes(A),this.rotationCurves.set(n.path,n)}if(this.useSkeletonScale){let i=A.readInt32();for(let n=0;n<i;n++){let s=new Zu;s.formBytes(A),this.scaleCurves.set(s.path,s)}}let t=A.readInt32();for(let i=0;i<t;i++){let n=new Zu;n.formBytes(A),this.floatCurves.set(n.attribute,n)}}}class Zu{constructor(A=1){a(this,"path");a(this,"attribute");a(this,"propertys");a(this,"preInfinity");a(this,"postInfinity");a(this,"rotationOrder");a(this,"m_curves");a(this,"k",0);a(this,"_cacheValue");a(this,"_kValue");this.k=A,this.m_curves=[],this.check()}check(){var A;for(let e=0;e<this.k;e++)(A=this.m_curves)[e]||(A[e]=new FI);switch(this.k){case 1:this._cacheValue=0;break;case 2:this._cacheValue=new Ge;break;case 3:this._cacheValue=new I;break;case 4:this._cacheValue=new XA;break}}get totalTime(){return this.m_curves[0].totalTime}addKeyFrame(A){for(let e=0;e<this.k;e++)this.m_curves[e].addKeyFrame(A.getK(e))}removeKeyFrame(A){for(let e=0;e<this.k;e++)this.m_curves[e].removeKeyFrame(A.getK(e))}getValue(A){switch(this.k){case 1:this._cacheValue=this.m_curves[0].getValue(A);break;case 2:this._cacheValue.x=this.m_curves[0].getValue(A),this._cacheValue.y=this.m_curves[1].getValue(A);break;case 3:this._cacheValue.x=this.m_curves[0].getValue(A),this._cacheValue.y=this.m_curves[1].getValue(A),this._cacheValue.z=this.m_curves[2].getValue(A);break;case 4:this._cacheValue.x=this.m_curves[0].getValue(A),this._cacheValue.y=this.m_curves[1].getValue(A),this._cacheValue.z=this.m_curves[2].getValue(A),this._cacheValue.w=this.m_curves[3].getValue(A);break}return this._cacheValue}getKeyCount(){return this.m_curves[0].getKeyCount()}getKey(A){let e=[];for(let t=0;t<this.k;t++)e.push(this.m_curves[t].getKey(A));return e}formBytes(A){this.path=A.readUTF(),this.k=A.readInt32(),this.check(),this.attribute=A.readUTF(),this.propertys=this.attribute.split("."),this.preInfinity=A.readInt32(),this.postInfinity=A.readInt32(),this.rotationOrder=A.readInt32();let e=A.readInt32();for(let t=0;t<e;t++){let i=new _T(0);i.formBytes(A),this.addKeyFrame(i)}}}var mT=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(mT||{}),yT=(r=>(r[r.kParticleSystemClampVelocityCurveId=322376503]="kParticleSystemClampVelocityCurveId",r[r.kParticleSystemForceCurveId=306581307]="kParticleSystemForceCurveId",r[r.kParticleSystemRotationCurveId=1793934638]="kParticleSystemRotationCurveId",r[r.kParticleSystemRotationBySpeedCurveId=3737431713]="kParticleSystemRotationBySpeedCurveId",r[r.kParticleSystemStartSpeedCurveId=2527743459]="kParticleSystemStartSpeedCurveId",r[r.kParticleSystemSizeCurveId=2368504881]="kParticleSystemSizeCurveId",r[r.kParticleSystemSizeBySpeedCurveId=4085612399]="kParticleSystemSizeBySpeedCurveId",r[r.kParticleSystemVelocityCurveId=3774601268]="kParticleSystemVelocityCurveId",r[r.kParticleSystemUVCurveId=326370691]="kParticleSystemUVCurveId",r[r.kParticleSystemColorGradientId=1494990940]="kParticleSystemColorGradientId",r[r.kParticleSystemColorByVelocityGradientId=1089181156]="kParticleSystemColorByVelocityGradientId",r[r.kParticleSystemMeshSelectionId=3159510623]="kParticleSystemMeshSelectionId",r[r.kParticleSystemUVRowSelectionId=2941263940]="kParticleSystemUVRowSelectionId",r))(yT||{}),ET=(r=>(r[r.kEMScalar=0]="kEMScalar",r[r.kEMOptimized=1]="kEMOptimized",r[r.kEMOptimizedMinMax=2]="kEMOptimizedMinMax",r[r.kEMSlow=3]="kEMSlow",r))(ET||{}),CT=(r=>(r[r.kMMCScalar=0]="kMMCScalar",r[r.kMMCCurve=1]="kMMCCurve",r[r.kMMCTwoCurves=2]="kMMCTwoCurves",r[r.kMMCTwoConstants=3]="kMMCTwoConstants",r))(CT||{});class Dn{}a(Dn,"BACK",0),a(Dn,"FRONT",1),a(Dn,"IN",0),a(Dn,"OUT",1),a(Dn,"INTERSECT",2);const zc=class zc extends Ge{constructor(e=0,t=0){super(e,t);a(this,"u",0);a(this,"v",0);this.u=e,this.v=t}length(){return 0}static getUVSheet(e,t,i){let n=Math.floor(e%(t*i)),s=Math.floor(n/t),o=n%t;return new XA(s/t,o/i,1/t,1/i)}};a(zc,"uv_0",new zc);let Qg=zc;class _T{constructor(A=0){a(this,"serializedVersion","2");a(this,"time");a(this,"tangentMode",0);a(this,"weightedMode",0);a(this,"propertyKeyFrame");this.time=A,this.propertyKeyFrame={}}getK(A){return this.propertyKeyFrame[A]}split(A,e,t){switch(A){case yA.single:{let i=this.getKeyFrame(0);i[t]=e}break;case yA.float:{let i=this.getKeyFrame(0);i[t]=e}break;case yA.vector2:{let i=e,n=this.getKeyFrame(0);n[t]=i.x;let s=this.getKeyFrame(1);s[t]=i.y}break;case yA.vector3:{let i=e,n=this.getKeyFrame(0);n[t]=i.x;let s=this.getKeyFrame(1);s[t]=i.y;let o=this.getKeyFrame(2);o[t]=i.z}break;case yA.vector4:{let i=e,n=this.getKeyFrame(0);n[t]=i.x;let s=this.getKeyFrame(1);s[t]=i.y;let o=this.getKeyFrame(2);o[t]=i.y;let u=this.getKeyFrame(3);u[t]=i.y}break;case yA.quaternion:{let i=e,n=this.getKeyFrame(0);n[t]=i.x;let s=this.getKeyFrame(1);s[t]=i.y;let o=this.getKeyFrame(2);o[t]=i.z;let u=this.getKeyFrame(3);u[t]=i.w}break}}getKeyFrame(A){let e=this.propertyKeyFrame[A];return e||(e=new hf,e.time=this.time,e.tangentMode=this.tangentMode,e.weightedMode=this.weightedMode,this.propertyKeyFrame[A]=e),e}formBytes(A){this.time=A.readFloat32();{let{t:e,v:t}=ji.parser(A);this.split(e,t,"value")}{let{t:e,v:t}=ji.parser(A);this.split(e,t,"inSlope")}{let{t:e,v:t}=ji.parser(A);this.split(e,t,"outSlope")}this.tangentMode=A.readInt32(),this.weightedMode=A.readInt32();{let{t:e,v:t}=ji.parser(A);this.split(e,t,"inWeight")}{let{t:e,v:t}=ji.parser(A);this.split(e,t,"outWeight")}}}class bl{}a(bl,"WalkAble",1);const Io=class Io{static SetConst(A){this.EPSILON=A,this.POWER_EPSILON=A*A}};a(Io,"EPSILON",.1),a(Io,"POWER_EPSILON",Io.EPSILON*Io.EPSILON);let Fo=Io;const ki=class ki extends I{constructor(e,t,i,n){super(t,i,n,0);a(this,"_pointId",0);this._pointId=e}get id(){return this._pointId}static equalPoint(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z)<Fo.POWER_EPSILON}static calcDistance(e,t){return ki.CALC_VECTOR3D3.setTo(e.x-t.x,e.y-t.y,e.z-t.z),ki.CALC_VECTOR3D3.length}};a(ki,"CALC_VECTOR3D1",new I),a(ki,"CALC_VECTOR3D2",new I),a(ki,"CALC_VECTOR3D3",new I),a(ki,"CALC_VECTOR3D4",new I),a(ki,"CALC_VECTOR3D5",new I);let Wr=ki;class pi extends Wr{constructor(e,t){super(e.id,0,0,0);a(this,"_ownerPoint");a(this,"_ownerEdge");a(this,"radius",0);this._ownerEdge=t,this._ownerPoint=e}get ownerPoint(){return this._ownerPoint}get ownerEdge(){return this._ownerEdge}scalePoint(e=.7){var t=new pi(this._ownerPoint,this._ownerEdge);return t.copyFrom(this),t.decrementBy(this._ownerPoint),t.scaleBy(e),t.radius=t.length,t.incrementBy(this._ownerPoint),t}}const jr=class jr{constructor(A,e){a(this,"_edgeMask",0);a(this,"_edgeSize",0);a(this,"_pointA");a(this,"_pointB");a(this,"_triangleOwners");a(this,"_centerPoint");a(this,"_edgeDirA2B");a(this,"crossPoint");a(this,"fatPointA");a(this,"fatPointB");if(this._pointA=A,this._pointB=e,A.id>=e.id)throw new Error("edge point order error!!!");this._triangleOwners=new Array,this._centerPoint=new I,this._edgeMask=bl.WalkAble,Wr.CALC_VECTOR3D1.setTo(A.x-e.x,A.y-e.y,A.z-e.z),this._edgeSize=Wr.CALC_VECTOR3D1.length,this._centerPoint.setTo((A.x+e.x)/2,(A.y+e.y)/2,(A.z+e.z)/2)}get size(){return this._edgeSize}get triangleOwners(){return this._triangleOwners}get centerPoint(){return this._centerPoint}initFatPoints(A){this._edgeDirA2B=this._pointB.subtract(this._pointA),this._edgeDirA2B.normalize(),this.fatPointA=this.fatPointA||new pi(this._pointA,this),this.fatPointB=this.fatPointB||new pi(this._pointB,this),this.fatPointA.radius!=A&&(jr.CALC_FAT_VECTOR.copyFrom(this._edgeDirA2B),jr.CALC_FAT_VECTOR.scaleBy(A),jr.CALC_FAT_VECTOR.incrementBy(this._pointA),this.fatPointA.copyFrom(jr.CALC_FAT_VECTOR),this.fatPointA.radius=A),this.fatPointB.radius!=A&&(jr.CALC_FAT_VECTOR.copyFrom(this._edgeDirA2B),jr.CALC_FAT_VECTOR.scaleBy(-A),jr.CALC_FAT_VECTOR.incrementBy(this._pointB),this.fatPointB.copyFrom(jr.CALC_FAT_VECTOR),this.fatPointB.radius=A)}getFatPoint(A){return A==this._pointA?this.fatPointA:this.fatPointB}getAnotherFatPoint(A){return A==this._pointA?this.fatPointB:this.fatPointA}getAnotherPoint(A){return A==this._pointA?this._pointB:this._pointA}containsPoint(A){return Wr.equalPoint(A,this._pointA)?this._pointA:Wr.equalPoint(A,this._pointB)?this._pointB:null}addTriangleOwners(A){if(A.edges.indexOf(this)==-1)throw new Error("the edge is not belong triangle!!!");this._triangleOwners.indexOf(A)==-1&&this._triangleOwners.push(A)}getPublicPoint(A){return this._pointA==A._pointA||this._pointA==A._pointB?this._pointA:this._pointB==A._pointA||this._pointB==A._pointB?this._pointB:null}getEqualPoint(A){return Wr.equalPoint(A,this._pointA)?this._pointA:Wr.equalPoint(A,this._pointB)?this._pointB:null}get pointA(){return this._pointA}get pointB(){return this._pointB}get walkAble(){return(this._edgeMask&bl.WalkAble)==bl.WalkAble}testMask(A){return(this._edgeMask&A)==A}};a(jr,"CALC_FAT_VECTOR",new I);let Hg=jr;const OA=class OA{constructor(){a(this,"endPoint");a(this,"curPoint");a(this,"rayA");a(this,"rayB");a(this,"rayAPoint");a(this,"rayBPoint");a(this,"cornerPoint");a(this,"cornerEdge")}continuePass(A,e,t){this.resetData(),this.curPoint=A,this.endPoint=e,this.cornerEdge=t}passEdge(A,e,t,i){if((this.rayA==null||this.rayB==null)&&(this.rayA=OA.RAY_1,this.rayB=OA.RAY_2,this.rayAPoint=A.pointA,this.rayBPoint=A.pointB,this.rayA.setTo(this.rayAPoint.x-this.curPoint.x,0,this.rayAPoint.z-this.curPoint.z),this.rayB.setTo(this.rayBPoint.x-this.curPoint.x,0,this.rayBPoint.z-this.curPoint.z)),i)return this.checkEndPoint(t);if(OA.TEST_RAY.setTo(t.x-this.curPoint.x,0,t.z-this.curPoint.z),this.isPointAtCenter(OA.TEST_RAY,this.rayA,this.rayB)){this.hasCrossPoint(e.pointA,e.pointB,this.rayAPoint,this.rayA)?(this.rayB.copyFrom(OA.TEST_RAY),t instanceof Wr?this.rayBPoint=t:this.rayBPoint=null):(this.rayA.copyFrom(OA.TEST_RAY),t instanceof Wr?this.rayAPoint=t:this.rayAPoint=null);var n=e.getAnotherPoint(t);OA.TEST_RAY.setTo(n.x-this.curPoint.x,0,n.z-this.curPoint.z),(n==this.rayAPoint||n==this.rayBPoint||this.isPointAtCenter(OA.TEST_RAY,this.rayA,this.rayB))&&(this.cornerEdge=e)}else{var s;if(OA.TEST_RAY_1.copyFrom(e.pointA),OA.TEST_RAY_1.decrementBy(this.curPoint),OA.TEST_RAY_2.copyFrom(e.pointB),OA.TEST_RAY_2.decrementBy(this.curPoint),OA.TEST_RAY_1.y=0,OA.TEST_RAY_2.y=0,this.isPointAtCenter(this.rayA,OA.TEST_RAY_1,OA.TEST_RAY_2)||this.isPointAtCenter(this.rayB,OA.TEST_RAY_1,OA.TEST_RAY_2)?s=!1:s=!0,s)return this.isPointAtCenter(this.rayA,OA.TEST_RAY,this.rayB)?this.cornerPoint=this.rayAPoint:this.cornerPoint=this.rayBPoint,this.cornerEdge.crossPoint=this.cornerPoint,!1}return!0}checkEndPoint(A){return OA.TEST_RAY.setTo(A.x-this.curPoint.x,0,A.z-this.curPoint.z),this.isPointAtCenter(OA.TEST_RAY,this.rayA,this.rayB)?!0:(this.isPointAtCenter(this.rayA,OA.TEST_RAY,this.rayB)?this.cornerPoint=this.rayAPoint:this.cornerPoint=this.rayBPoint,this.cornerEdge.crossPoint=this.cornerPoint,!1)}calcCrossEdge(A,e,t){return this.calcCrossPoint(A.fatPointA,A.fatPointB,e,t)}calcCrossPoint(A,e,t,i){OA.CALC_CROSS_POINT.copyFrom(e),OA.CALC_CROSS_POINT.decrementBy(A);let n=OA.CALC_CROSS_POINT.x*i.z-i.x*OA.CALC_CROSS_POINT.z;var s=0;return n!=0&&(s=((A.z-t.z)*i.x-(A.x-t.x)*i.z)/n),s>1?s=1:s<0&&(s=0),OA.CALC_CROSS_POINT.scaleBy(s),OA.CALC_CROSS_POINT.incrementBy(A),OA.CALC_CROSS_POINT.clone()}calcCrossPointOut(A,e,t,i){OA.CALC_CROSS_POINT.copyFrom(e),OA.CALC_CROSS_POINT.decrementBy(A);var n=((A.z-t.z)*i.x-(A.x-t.x)*i.z)/(OA.CALC_CROSS_POINT.x*i.z-i.x*OA.CALC_CROSS_POINT.z);return n<=1&&n>=0?null:(OA.CALC_CROSS_POINT.scaleBy(n),OA.CALC_CROSS_POINT.incrementBy(A),OA.CALC_CROSS_POINT.clone())}hasCrossPoint(A,e,t,i){OA.CALC_CROSS_TEST.copyFrom(e),OA.CALC_CROSS_TEST.decrementBy(A);var n=((A.z-t.z)*i.x-(A.x-t.x)*i.z)/(OA.CALC_CROSS_TEST.x*i.z-i.x*OA.CALC_CROSS_TEST.z);return n<=1&&n>=0}isPointAtCenter(A,e,t){var i=e.crossProduct(A);if(i.length==0&&A.length<e.length)return!0;var n=t.crossProduct(A);return n.length==0&&A.length<t.length?!0:(i.normalize(),n.normalize(),i.incrementBy(n),i.length<.01)}resetData(){this.cornerEdge=null,this.cornerPoint=null,this.curPoint=null,this.rayA=this.rayB=null,this.rayAPoint=this.rayBPoint=null,OA.RAY_1.setTo(0,0,0),OA.RAY_2.setTo(0,0,0)}};a(OA,"RAY_1",new I),a(OA,"RAY_2",new I),a(OA,"TEST_RAY",new I),a(OA,"TEST_RAY_1",new I),a(OA,"TEST_RAY_2",new I),a(OA,"CALC_CROSS_POINT",new I),a(OA,"CALC_CROSS_TEST",new I);let mf=OA;const zi=class zi{constructor(){a(this,"_aiRadius",0);a(this,"_router");a(this,"_result");a(this,"_tempPublicEdgeList",new Array);a(this,"_tempSamePlaneList",new Array);this._router=new mf}searchPath(A,e,t,i=0){return i<=0&&(i=1),this._aiRadius=i*1.5,this.searchEnable(A,e,t)?(this.search(A,e,t),!0):!1}get path(){return this._result}searchEnable(A,e,t){return!(A==null||e==null||t==null||t[0].plane.classifyPoint(A,Fo.EPSILON)!=Dn.INTERSECT||t[t.length-1].plane.classifyPoint(e,Fo.EPSILON)!=Dn.INTERSECT)}search(A,e,t){this._tempPublicEdgeList.length=0,this._tempSamePlaneList.length=0;var i=0,n=t.length-1,s,o,u,l;for(i=0;i<n;i++)o=t[i].getPublicEdge(t[i+1]),o.crossPoint=null,o.initFatPoints(this._aiRadius),this._tempPublicEdgeList.push(o),s=t[i],l=s.plane,s=t[i+1],u=s.getEdgeAgainstPoint(o),this._tempSamePlaneList.push(l.classifyPoint(u,Fo.EPSILON)==Dn.INTERSECT);this._router.continuePass(A,e,this._tempPublicEdgeList[0]),n=this._tempPublicEdgeList.length;var c,h,d,f;for(i=0;i<n;i++)o=this._tempPublicEdgeList[i],s=t[i+1],f=i==n-1,f?u=e:u=s.getEdgeAgainstPoint(o),d=this._router.passEdge(o,this._tempPublicEdgeList[i+1],u,f),d||(c=this._router.cornerPoint,h=this._router.cornerEdge,i=this._tempPublicEdgeList.indexOf(h),this._router.continuePass(c,e,this._tempPublicEdgeList[i+1]));this.pushAllPathPoint2(A,e),this._result.length>=3&&(this.optimusTerminusFat(),this.optimusByRadius());let p=[];for(let y of this._result)p.push(new I().copyFrom(y));this._result=p}optimusTerminusFat(){var A,e,t;t=this._result[1],t instanceof pi&&(A=t),t=this._result[this._result.length-2],t instanceof pi&&(e=t),A&&(this._result[1]=A.scalePoint()),e&&A!=e&&(this._result[this._result.length-2]=e.scalePoint())}pushAllPathPoint2(A,e){var t=this._tempPublicEdgeList.length,i,n;this._result=new Array,this._result.push(A);for(var s=A,o,u,l,c=0;c<t;c++)if(i=this._tempPublicEdgeList[c],u=null,i.crossPoint)u=this.getFatPoint(i,i.crossPoint),u?this._result.push(u):this._result.push(i.crossPoint),s=i.crossPoint;else{n=null,o=null;for(var h=c+1;h<t&&(n=this._tempPublicEdgeList[h],o=n.crossPoint,!o);h++);o==null&&(o=e),u=this.getFatPoint(i,o),u?this._result.push(u):(o==s?l=o.clone():(zi.CROSS_TEST_DIRECTION.setTo(o.x-s.x,0,o.z-s.z),l=this._router.calcCrossEdge(i,s,zi.CROSS_TEST_DIRECTION)),this._result.push(l))}this._result.push(e)}optimusByRadius(){var A=new Array;A.length=this._result.length;var e=this._result.length-2,t,i,n,s,o,u,l,c,h,d,f,p,y;for(y=0;y<e;y++)l=c=h=null,s=o=u=null,f=!1,p=null,t=this._result[y],i=this._result[y+1],n=this._result[y+2],t instanceof pi&&(s=t),i instanceof pi&&(o=i),n instanceof pi&&(u=n),s&&(l=s.ownerPoint),o&&(c=o.ownerPoint),u&&(h=u.ownerPoint),l&&c&&l==c&&c!=h&&(f=!0),h&&c&&h==c&&l!=c&&(f=!0),f&&(zi.CROSS_TEST_DIRECTION.copyFrom(t),zi.CROSS_TEST_DIRECTION.decrementBy(n),d=o.ownerEdge,f=this._router.hasCrossPoint(d.pointA,d.pointB,n,zi.CROSS_TEST_DIRECTION),f&&(p=this._router.calcCrossPointOut(c,i,n,zi.CROSS_TEST_DIRECTION)),p&&(A[y+1]=p))}getFatPoint(A,e){if(A==null)return null;var t;e instanceof pi&&(t=e);var i;return t?i=t.ownerPoint:i=A.getEqualPoint(e),i==null?null:(t=A.getFatPoint(i),t)}};a(zi,"CROSS_TEST_DIRECTION",new I);let jg=zi;class ST extends Tt{constructor(){super(...arguments);a(this,"uint16Array");a(this,"floatArray");a(this,"_dataBuffer")}create(e,t,i=null,n=!0){if(i==null){i=[];for(let s=0,o=e*t*4;s<o;s++)i[s]=0}return this.updateTexture(e,t,i,n),this}updateTexture(e,t,i,n=!0){(e!=this.width||t!=this.height)&&(this._dataBuffer&&this._dataBuffer.destroy(),this._dataBuffer=null,this.gpuTexture&&this.gpuTexture.destroy(),this.gpuTexture=null),this.floatArray=i;let s=iA.device;const o=e*4*2;this.format=MA.rgba16float,this.mipmapCount=Math.floor(n?Math.log2(e):1),this.createTextureDescriptor(e,t,this.mipmapCount,this.format),(!this.uint16Array||this.uint16Array.length!=i.length)&&(this.uint16Array=new Uint16Array(i.length));let u=this.uint16Array;for(let h=0,d=u.length;h<d;h++)u[h]=Pa(i[h]);const l=this._dataBuffer=s.createBuffer({size:u.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC});s.queue.writeBuffer(l,0,u);const c=sA.beginCommandEncoder();c.copyBufferToTexture({buffer:l,bytesPerRow:o},{texture:this.getGPUTexture()},{width:e,height:t,depthOrArrayLayers:1}),this.useMipmap||(this.samplerBindingLayout.type="filtering",this.textureBindingLayout.sampleType="float"),sA.endCommandEncoder(c),this.gpuSampler=s.createSampler(this),this.gpuTexture=this.getGPUTexture(),this.mipmapCount>1&&Us.webGPUGenerateMipmap(this)}}class Wg extends dy{constructor(e){super();a(this,"_internalTexture");a(this,"_minSize",32);a(this,"_skyColor");this._skyColor=e,this._internalTexture=new ST;let t=[];return K.res.fillColor(t,this._minSize,this._minSize,this.color.r,this.color.g,this.color.b,this.color.a),this._internalTexture.create(this._minSize,this._minSize,t,!1),this.createFromTexture(this._minSize,this._internalTexture),this}changeColor(e){return this._skyColor=e,K.res.fillColor(this._internalTexture.floatArray,this._minSize,this._minSize,this.color.r,this.color.g,this.color.b,this.color.a),this._internalTexture.updateTexture(this._minSize,this._minSize,this._internalTexture.floatArray,!1),this._faceData.uploadTexture(0,this._internalTexture),this}get color(){return this._skyColor}set color(e){this.changeColor(e)}}class vT{constructor(A,e){this._event=A,this._func=e}get event(){return this._event}do(...A){this._func(...A)}}class Sy{constructor(){this._events=new Map}on(A,e){this._events.has(A)||this._events.set(A,[]);const t=new vT(A,e);return this._events.get(A).push(t),t}do(A,...e){if(this._events.has(A))for(const t of this._events.get(A))t.do(...e)}remove(A){const e=A.event;if(!this._events.has(e))return;const t=this._events.get(e).indexOf(A);this._events.get(e).splice(t,1)}}class l1{static makeRainbow(){const A=new l1,e=1/9;return A.set(0,fA.RED),A.set(e,fA.ORANGE),A.set(e*2,fA.YELLOW),A.set(e*3,fA.LIME),A.set(e*4,fA.GREEN),A.set(e*5,fA.AQUA),A.set(e*6,fA.BLUE),A.set(e*7,fA.PURPLE),A.set(e*8,fA.MAGENTA),A.set(e*9,fA.RED),A}constructor(A=!1){this.points=[],this.colors=[],this.snap=A}get(A){if(this.points.length===0)return new fA(0,0,0);if(this.points.length===1)return this.colors[0];if(A<this.points[0])return this.colors[0];if(A>this.points[this.points.length-1])return this.colors[this.colors.length-1];let e=0;for(let t=1;t<this.points.length;t++){if(A<this.points[t]){if(this.snap)return this.colors[e];let i=(A-this.points[e])/(this.points[t]-this.points[e]);return this._lerpColor(this.colors[e],this.colors[t],i)}e=t}}set(A,e){this.points.push(A),this.colors.push(e)}clear(){this.points=[],this.colors=[]}_lerp(A,e,t){return(e-A)*t+A}_lerpColor(A,e,t){let i=this._lerp(A.r,e.r,t),n=this._lerp(A.g,e.g,t),s=this._lerp(A.b,e.b,t),o=this._lerp(A.a,e.a,t);return new fA(i,n,s,o)}}class c1{static GetRoot(A){return A.parentObject!=null&&A.parentObject instanceof de?this.GetRoot(A.parentObject):A}constructor({manager:A,pos:e=new I,id:t="",name:i="",model:n="",locked:s=!1}={}){this._manager=A,this._id=t,this._id!==""&&this.mgr.ids.set(this._id,this),this.name=i,this._locked=s,this.modelID=n,this._object=new de,this._hoverPreview="",n===""||this._object.addChild(this.mgr.models.get(n).clone()),this._object.transform.localPosition=e;const o=this._object.addComponent(xI);o.shape=new gy().setFromCenterAndSize(new I(0,0,0),new I(1,1,1)),this._events=new Sy,this.liveData={type:"position"}}delete(){this.mgr.removeObject(this),this._object.destroy()}get mgr(){return this._manager}get id(){return this._id}get events(){return this._events}get locked(){return this._locked}toggleLock(){this._locked=!this._locked,this.events.do("lock",this._locked)}getObject3D(){return this._object}isSelected(){return this._manager.isSelected(this)}getBoundingBox(){let A=null;return this.forAll(e=>{if(e.hasComponent(he)){const t=e.getComponent(he).geometry.bounds.clone();A===null?A=t:A.merge(t)}}),A!==null?(A.min=A.min.add(this._object.transform.worldPosition),A.max=A.max.add(this._object.transform.worldPosition)):A=new Qe,A}set id(A){this._id!==""&&this.mgr.ids.delete(this._id),this._id=A,A!==""&&this.mgr.ids.set(this._id,this)}set locked(A){this._locked=A,this.events.do("lock",A)}setPos(A){this._object.localPosition=A,this.isSelected()&&this.mgr.updateSelectBox()}setX(A){isNaN(A)||(this._object.x=A,this.isSelected()&&this.mgr.updateSelectBox())}setY(A){isNaN(A)||(this._object.y=A,this.isSelected()&&this.mgr.updateSelectBox())}setZ(A){isNaN(A)||(this._object.z=A,this.isSelected()&&this.mgr.updateSelectBox())}setModel(A){if(A===""||!this.mgr.models.has(A))return;const e=this.mgr.models.get(A).clone();this._object.transform.cloneTo(e),this.mgr.revObjects.delete(this._object),this._object.destroy(),this._object=e,this.mgr.scene.addChild(this._object),this.mgr.revObjects.set(this._object,this),this.isSelected()&&this.mgr.updateSelectBox(),this.modelID=A}setSolidColor(A){this.forAll(e=>{e.hasComponent(he)&&(e.getComponent(he).material.baseColor=A)})}forAllChildren(A=()=>{}){this._object.forChild(e=>A(e))}forAll(A=()=>{}){this._forAllRecursive(this._object,A)}_forAllRecursive(A,e=()=>{}){e(A),A.forChild(t=>this._forAllRecursive(t,e))}select(){this.mgr.select(this)}copy(){const A=new c1({manager:this.mgr});return A.setModel(this.modelID),A.localPosition=this._object.localPosition,A}duplicate(){cloned;const A=this.copy();return this.mgr.addObject(A),A}mouseOver(A){if(document.body.style.cursor="pointer",this.isSelected())return;this._hoverPreview!==""&&this.mgr.view.graphic3D.Clear(this._hoverPreview),this._hoverPreview="";const e=this.getBoundingBox();this._hoverPreview=String(Math.floor(Math.random()*4096)),this.mgr.view.graphic3D.drawBoundingBox(this._hoverPreview,e,new fA(.7,.7,.7))}mouseOff(A){document.body.style.cursor="default",this._hoverPreview!==""&&this.mgr.view.graphic3D.Clear(this._hoverPreview),this._hoverPreview=""}mouseDown(A){this.mgr.ObjectToMove=this}click(A){this.select(),this._hoverPreview!==""&&this.mgr.view.graphic3D.Clear(this._hoverPreview),this._hoverPreview=""}handleLiveData(A){switch(this.liveData.type){case"single value":{const e=this.liveData.min,t=this.liveData.max;let i=A.temp;const n=(i-e)/(t-e),s=this.liveData.gradient.get(n);this.setSolidColor(s),i>=this.liveData.max&&this.mgr.alert("Temperature exceeded maximum threshold.",this.id);break}case"position":this.setPos(new I(parseFloat(A.x),parseFloat(A.y),parseFloat(A.z)))}}}class Yg{static getBoundingBoxScale(A){const e=A.min;return A.max.subtract(e).length}}const Bn=class Bn{constructor({mgr:A,server:e=!1,options:t={clean:!0,connectTimeout:4e3,clientId:"emqx_test",username:"root",password:"M0nG0$$w0rd"}}){this.mgr=A,this.broker=Bn.BROKER_LOCAL,e&&(this.broker=Bn.BROKER_SERVER),this.client=mqtt.connect(this.broker,t),this.client.on("connect",()=>this._onConnect()),this.client.on("message",(i,n)=>this._onMessage(n)),this.client.on("error",i=>console.log("Connection failed: "+i))}_onConnect(){this.client.subscribe(Bn.TOPIC,{qos:0},(A,e)=>{console.log(A||"Connected to:"+this.broker)})}_onMessage(A){console.log("Parsing: "+A.toString());const e=JSON.parse(A);console.log(this.mgr.ids);let t=this.mgr.getObjectById(e.id);if(t===null){console.log(e.id+" is NOT a valid object");return}t.handleLiveData(e)}};a(Bn,"BROKER_SERVER","ws://35.9.22.105:8083/mqtt"),a(Bn,"BROKER_LOCAL","ws://localhost:8083/mqtt"),a(Bn,"TOPIC","python/mqtt");let yf=Bn;var Sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function un(r){if(r.__esModule)return r;var A=r.default;if(typeof A=="function"){var e=function t(){return this instanceof t?Reflect.construct(A,arguments,this.constructor):A.apply(this,arguments)};e.prototype=A.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(t){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}),e}var Ef={},Eu={},Ce={},ue={};const wT={},bT=Object.freeze(Object.defineProperty({__proto__:null,default:wT},Symbol.toStringTag,{value:"Module"})),zA=un(bT);function S0(r){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(r))}function ws(r){return Object.prototype.toString.call(r)==="[object Uint8Array]"}function mo(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function v0(r){return Object.prototype.toString.call(r)==="[object Map]"}function yo(r){return Object.prototype.toString.call(r)==="[object Date]"}function ur(r,A){return JSON.stringify(r,(e,t)=>typeof t=="bigint"?{$numberLong:`${t}`}:v0(t)?Object.fromEntries(t):t)}function IT(r){if(r!=null&&typeof r=="object"&&"stylize"in r&&typeof r.stylize=="function")return r.stylize}const Rs=6,h1=2147483647,d1=-2147483648,vy=Math.pow(2,63)-1,wy=-Math.pow(2,63),by=Math.pow(2,53),Iy=-Math.pow(2,53),fc=1,By=2,w0=3,Ty=4,b0=5,BT=6,Dy=7,xy=8,Oy=9,I0=10,pc=11,TT=12,B0=13,My=14,Ry=15,No=16,Py=17,T0=18,Fy=19,Ny=255,Ly=127,DT=0,gc=4,Uy=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class cA extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(A,e){super(A,e)}static isBSONError(A){return A!=null&&typeof A=="object"&&"bsonError"in A&&A.bsonError===!0&&"name"in A&&"message"in A&&"stack"in A}}class Ps extends cA{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${Rs}.x.x`)}}class mc extends cA{get name(){return"BSONRuntimeError"}constructor(A){super(A)}}const xT=128,OT=192,MT=224,RT=240,PT=248,FT=192,NT=224,LT=240,UT=128;function ky(r,A,e){let t=0;for(let i=A;i<e;i+=1){const n=r[i];if(t){if((n&OT)!==UT)return!1;t-=1}else if(n&xT)if((n&MT)===FT)t=1;else if((n&RT)===NT)t=2;else if((n&PT)===LT)t=3;else return!1}return!t}function zy(r,A,e){if(r.length===0)return"";const t=e-A;if(t===0)return"";if(t>20)return null;if(t===1&&r[A]<128)return String.fromCharCode(r[A]);if(t===2&&r[A]<128&&r[A+1]<128)return String.fromCharCode(r[A])+String.fromCharCode(r[A+1]);if(t===3&&r[A]<128&&r[A+1]<128&&r[A+2]<128)return String.fromCharCode(r[A])+String.fromCharCode(r[A+1])+String.fromCharCode(r[A+2]);const i=[];for(let n=A;n<e;n++){const s=r[n];if(s>127)return null;i.push(s)}return String.fromCharCode(...i)}function kT(r){return _n.fromNumberArray(Array.from({length:r},()=>Math.floor(Math.random()*256)))}const zT=(()=>{try{return zA.randomBytes}catch{return kT}})(),_n={toLocalBufferType(r){if(Buffer.isBuffer(r))return r;if(ArrayBuffer.isView(r))return Buffer.from(r.buffer,r.byteOffset,r.byteLength);const A=(r==null?void 0:r[Symbol.toStringTag])??Object.prototype.toString.call(r);if(A==="ArrayBuffer"||A==="SharedArrayBuffer"||A==="[object ArrayBuffer]"||A==="[object SharedArrayBuffer]")return Buffer.from(r);throw new cA(`Cannot create Buffer from ${String(r)}`)},allocate(r){return Buffer.alloc(r)},equals(r,A){return _n.toLocalBufferType(r).equals(A)},fromNumberArray(r){return Buffer.from(r)},fromBase64(r){return Buffer.from(r,"base64")},toBase64(r){return _n.toLocalBufferType(r).toString("base64")},fromISO88591(r){return Buffer.from(r,"binary")},toISO88591(r){return _n.toLocalBufferType(r).toString("binary")},fromHex(r){return Buffer.from(r,"hex")},toHex(r){return _n.toLocalBufferType(r).toString("hex")},fromUTF8(r){return Buffer.from(r,"utf8")},toUTF8(r,A,e,t){const i=e-A<=20?zy(r,A,e):null;if(i!=null)return i;const n=_n.toLocalBufferType(r).toString("utf8",A,e);if(t){for(let s=0;s<n.length;s++)if(n.charCodeAt(s)===65533){if(!ky(r,A,e))throw new cA("Invalid UTF-8 string in BSON document");break}}return n},utf8ByteLength(r){return Buffer.byteLength(r,"utf8")},encodeUTF8Into(r,A,e){return _n.toLocalBufferType(r).write(A,e,void 0,"utf8")},randomBytes:zT};function GT(){const{navigator:r}=globalThis;return typeof r=="object"&&r.product==="ReactNative"}function VT(r){if(r<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${r}`);return Lo.fromNumberArray(Array.from({length:r},()=>Math.floor(Math.random()*256)))}const QT=(()=>{var A;const{crypto:r}=globalThis;if(r!=null&&typeof r.getRandomValues=="function")return e=>r.getRandomValues(Lo.allocate(e));if(GT()){const{console:e}=globalThis;(A=e==null?void 0:e.warn)==null||A.call(e,"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return VT})(),$g=/(\d|[a-f])/i,Lo={toLocalBufferType(r){const A=(r==null?void 0:r[Symbol.toStringTag])??Object.prototype.toString.call(r);if(A==="Uint8Array")return r;if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength));if(A==="ArrayBuffer"||A==="SharedArrayBuffer"||A==="[object ArrayBuffer]"||A==="[object SharedArrayBuffer]")return new Uint8Array(r);throw new cA(`Cannot make a Uint8Array from ${String(r)}`)},allocate(r){if(typeof r!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(r)}`);return new Uint8Array(r)},equals(r,A){if(r.byteLength!==A.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==A[e])return!1;return!0},fromNumberArray(r){return Uint8Array.from(r)},fromBase64(r){return Uint8Array.from(atob(r),A=>A.charCodeAt(0))},toBase64(r){return btoa(Lo.toISO88591(r))},fromISO88591(r){return Uint8Array.from(r,A=>A.charCodeAt(0)&255)},toISO88591(r){return Array.from(Uint16Array.from(r),A=>String.fromCharCode(A)).join("")},fromHex(r){const A=r.length%2===0?r:r.slice(0,r.length-1),e=[];for(let t=0;t<A.length;t+=2){const i=A[t],n=A[t+1];if(!$g.test(i)||!$g.test(n))break;const s=Number.parseInt(`${i}${n}`,16);e.push(s)}return Uint8Array.from(e)},toHex(r){return Array.from(r,A=>A.toString(16).padStart(2,"0")).join("")},fromUTF8(r){return new TextEncoder().encode(r)},toUTF8(r,A,e,t){const i=e-A<=20?zy(r,A,e):null;if(i!=null)return i;if(t)try{return new TextDecoder("utf8",{fatal:t}).decode(r.slice(A,e))}catch(n){throw new cA("Invalid UTF-8 string in BSON document",{cause:n})}return new TextDecoder("utf8",{fatal:t}).decode(r.slice(A,e))},utf8ByteLength(r){return Lo.fromUTF8(r).byteLength},encodeUTF8Into(r,A,e){const t=Lo.fromUTF8(A);return r.set(t,e),t.byteLength},randomBytes:QT};var Hm;const HT=typeof Buffer=="function"&&((Hm=Buffer.prototype)==null?void 0:Hm._isBuffer)!==!0,oA=HT?_n:Lo;class Il extends DataView{static fromUint8Array(A){return new DataView(A.buffer,A.byteOffset,A.byteLength)}}class Zt{get[Symbol.for("@@mdb.bson.version")](){return Rs}[Symbol.for("nodejs.util.inspect.custom")](A,e,t){return this.inspect(A,e,t)}}class KA extends Zt{get _bsontype(){return"Binary"}constructor(A,e){if(super(),A!=null&&typeof A=="string"&&!ArrayBuffer.isView(A)&&!S0(A)&&!Array.isArray(A))throw new cA("Binary can only be constructed from Uint8Array or number[]");this.sub_type=e??KA.BSON_BINARY_SUBTYPE_DEFAULT,A==null?(this.buffer=oA.allocate(KA.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(A)?oA.fromNumberArray(A):oA.toLocalBufferType(A),this.position=this.buffer.byteLength)}put(A){if(typeof A=="string"&&A.length!==1)throw new cA("only accepts single character String");if(typeof A!="number"&&A.length!==1)throw new cA("only accepts single character Uint8Array or Array");let e;if(typeof A=="string"?e=A.charCodeAt(0):typeof A=="number"?e=A:e=A[0],e<0||e>255)throw new cA("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=e;else{const t=oA.allocate(KA.BUFFER_SIZE+this.buffer.length);t.set(this.buffer,0),this.buffer=t,this.buffer[this.position++]=e}}write(A,e){if(e=typeof e=="number"?e:this.position,this.buffer.byteLength<e+A.length){const t=oA.allocate(this.buffer.byteLength+A.length);t.set(this.buffer,0),this.buffer=t}if(ArrayBuffer.isView(A))this.buffer.set(oA.toLocalBufferType(A),e),this.position=e+A.byteLength>this.position?e+A.length:this.position;else if(typeof A=="string")throw new cA("input cannot be string")}read(A,e){return e=e&&e>0?e:this.position,this.buffer.slice(A,A+e)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return oA.toBase64(this.buffer)}toString(A){return A==="hex"?oA.toHex(this.buffer):A==="base64"?oA.toBase64(this.buffer):A==="utf8"||A==="utf-8"?oA.toUTF8(this.buffer,0,this.buffer.byteLength,!1):oA.toUTF8(this.buffer,0,this.buffer.byteLength,!1)}toExtendedJSON(A){A=A||{};const e=oA.toBase64(this.buffer),t=Number(this.sub_type).toString(16);return A.legacy?{$binary:e,$type:t.length===1?"0"+t:t}:{$binary:{base64:e,subType:t.length===1?"0"+t:t}}}toUUID(){if(this.sub_type===KA.SUBTYPE_UUID)return new rt(this.buffer.slice(0,this.position));throw new cA(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${KA.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(A,e){return new KA(oA.fromHex(A),e)}static createFromBase64(A,e){return new KA(oA.fromBase64(A),e)}static fromExtendedJSON(A,e){e=e||{};let t,i;if("$binary"in A?e.legacy&&typeof A.$binary=="string"&&"$type"in A?(i=A.$type?parseInt(A.$type,16):0,t=oA.fromBase64(A.$binary)):typeof A.$binary!="string"&&(i=A.$binary.subType?parseInt(A.$binary.subType,16):0,t=oA.fromBase64(A.$binary.base64)):"$uuid"in A&&(i=4,t=rt.bytesFromString(A.$uuid)),!t)throw new cA(`Unexpected Binary Extended JSON format ${JSON.stringify(A)}`);return i===gc?new rt(t):new KA(t,i)}inspect(A,e,t){t??(t=ur);const i=oA.toBase64(this.buffer.subarray(0,this.position)),n=t(i,e),s=t(this.sub_type,e);return`Binary.createFromBase64(${n}, ${s})`}}KA.BSON_BINARY_SUBTYPE_DEFAULT=0;KA.BUFFER_SIZE=256;KA.SUBTYPE_DEFAULT=0;KA.SUBTYPE_FUNCTION=1;KA.SUBTYPE_BYTE_ARRAY=2;KA.SUBTYPE_UUID_OLD=3;KA.SUBTYPE_UUID=4;KA.SUBTYPE_MD5=5;KA.SUBTYPE_ENCRYPTED=6;KA.SUBTYPE_COLUMN=7;KA.SUBTYPE_USER_DEFINED=128;const Th=16,jT=/^[0-9A-F]{32}$/i,WT=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class rt extends KA{constructor(A){let e;if(A==null)e=rt.generate();else if(A instanceof rt)e=oA.toLocalBufferType(new Uint8Array(A.buffer));else if(ArrayBuffer.isView(A)&&A.byteLength===Th)e=oA.toLocalBufferType(A);else if(typeof A=="string")e=rt.bytesFromString(A);else throw new cA("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(e,gc)}get id(){return this.buffer}set id(A){this.buffer=A}toHexString(A=!0){return A?[oA.toHex(this.buffer.subarray(0,4)),oA.toHex(this.buffer.subarray(4,6)),oA.toHex(this.buffer.subarray(6,8)),oA.toHex(this.buffer.subarray(8,10)),oA.toHex(this.buffer.subarray(10,16))].join("-"):oA.toHex(this.buffer)}toString(A){return A==="hex"?oA.toHex(this.id):A==="base64"?oA.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(A){if(!A)return!1;if(A instanceof rt)return oA.equals(A.id,this.id);try{return oA.equals(new rt(A).id,this.id)}catch{return!1}}toBinary(){return new KA(this.id,KA.SUBTYPE_UUID)}static generate(){const A=oA.randomBytes(Th);return A[6]=A[6]&15|64,A[8]=A[8]&63|128,A}static isValid(A){return A?typeof A=="string"?rt.isValidUUIDString(A):ws(A)?A.byteLength===Th:A._bsontype==="Binary"&&A.sub_type===this.SUBTYPE_UUID&&A.buffer.byteLength===16:!1}static createFromHexString(A){const e=rt.bytesFromString(A);return new rt(e)}static createFromBase64(A){return new rt(oA.fromBase64(A))}static bytesFromString(A){if(!rt.isValidUUIDString(A))throw new cA("UUID string representation must be 32 hex digits or canonical hyphenated representation");return oA.fromHex(A.replace(/-/g,""))}static isValidUUIDString(A){return jT.test(A)||WT.test(A)}inspect(A,e,t){return t??(t=ur),`new UUID(${t(this.toHexString(),e)})`}}class rn extends Zt{get _bsontype(){return"Code"}constructor(A,e){super(),this.code=A.toString(),this.scope=e??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(A){return new rn(A.$code,A.$scope)}inspect(A,e,t){t??(t=ur);let i=t(this.code,e);const n=i.includes(`
`);this.scope!=null&&(i+=`,${n?`
`:" "}${t(this.scope,e)}`);const s=n&&this.scope===null;return`new Code(${n?`
`:""}${i}${s?`
`:""})`}}function Gy(r){return r!=null&&typeof r=="object"&&"$id"in r&&r.$id!=null&&"$ref"in r&&typeof r.$ref=="string"&&(!("$db"in r)||"$db"in r&&typeof r.$db=="string")}class Ti extends Zt{get _bsontype(){return"DBRef"}constructor(A,e,t,i){super();const n=A.split(".");n.length===2&&(t=n.shift(),A=n.shift()),this.collection=A,this.oid=e,this.db=t,this.fields=i||{}}get namespace(){return this.collection}set namespace(A){this.collection=A}toJSON(){const A=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(A.$db=this.db),A}toExtendedJSON(A){A=A||{};let e={$ref:this.collection,$id:this.oid};return A.legacy||(this.db&&(e.$db=this.db),e=Object.assign(e,this.fields)),e}static fromExtendedJSON(A){const e=Object.assign({},A);return delete e.$ref,delete e.$id,delete e.$db,new Ti(A.$ref,A.$id,A.$db,e)}inspect(A,e,t){t??(t=ur);const i=[t(this.namespace,e),t(this.oid,e),...this.db?[t(this.db,e)]:[],...Object.keys(this.fields).length>0?[t(this.fields,e)]:[]];return i[1]=t===ur?`new ObjectId(${i[1]})`:i[1],`new DBRef(${i.join(", ")})`}}let pr;try{pr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const Kg=65536,YT=1<<24,Eo=Kg*Kg,Vy=Eo*Eo,qg=Vy/2,Xg={},Jg={},$T=20,KT=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class q extends Zt{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(A=0,e,t){super(),typeof A=="bigint"?Object.assign(this,q.fromBigInt(A,!!e)):typeof A=="string"?Object.assign(this,q.fromString(A,!!e)):(this.low=A|0,this.high=e|0,this.unsigned=!!t)}static fromBits(A,e,t){return new q(A,e,t)}static fromInt(A,e){let t,i,n;return e?(A>>>=0,(n=0<=A&&A<256)&&(i=Jg[A],i)?i:(t=q.fromBits(A,(A|0)<0?-1:0,!0),n&&(Jg[A]=t),t)):(A|=0,(n=-128<=A&&A<128)&&(i=Xg[A],i)?i:(t=q.fromBits(A,A<0?-1:0,!1),n&&(Xg[A]=t),t))}static fromNumber(A,e){if(isNaN(A))return e?q.UZERO:q.ZERO;if(e){if(A<0)return q.UZERO;if(A>=Vy)return q.MAX_UNSIGNED_VALUE}else{if(A<=-qg)return q.MIN_VALUE;if(A+1>=qg)return q.MAX_VALUE}return A<0?q.fromNumber(-A,e).neg():q.fromBits(A%Eo|0,A/Eo|0,e)}static fromBigInt(A,e){return q.fromString(A.toString(),e)}static fromString(A,e,t){if(A.length===0)throw new cA("empty string");if(A==="NaN"||A==="Infinity"||A==="+Infinity"||A==="-Infinity")return q.ZERO;if(typeof e=="number"?(t=e,e=!1):e=!!e,t=t||10,t<2||36<t)throw new cA("radix");let i;if((i=A.indexOf("-"))>0)throw new cA("interior hyphen");if(i===0)return q.fromString(A.substring(1),e,t).neg();const n=q.fromNumber(Math.pow(t,8));let s=q.ZERO;for(let o=0;o<A.length;o+=8){const u=Math.min(8,A.length-o),l=parseInt(A.substring(o,o+u),t);if(u<8){const c=q.fromNumber(Math.pow(t,u));s=s.mul(c).add(q.fromNumber(l))}else s=s.mul(n),s=s.add(q.fromNumber(l))}return s.unsigned=e,s}static fromBytes(A,e,t){return t?q.fromBytesLE(A,e):q.fromBytesBE(A,e)}static fromBytesLE(A,e){return new q(A[0]|A[1]<<8|A[2]<<16|A[3]<<24,A[4]|A[5]<<8|A[6]<<16|A[7]<<24,e)}static fromBytesBE(A,e){return new q(A[4]<<24|A[5]<<16|A[6]<<8|A[7],A[0]<<24|A[1]<<16|A[2]<<8|A[3],e)}static isLong(A){return A!=null&&typeof A=="object"&&"__isLong__"in A&&A.__isLong__===!0}static fromValue(A,e){return typeof A=="number"?q.fromNumber(A,e):typeof A=="string"?q.fromString(A,e):q.fromBits(A.low,A.high,typeof e=="boolean"?e:A.unsigned)}add(A){q.isLong(A)||(A=q.fromValue(A));const e=this.high>>>16,t=this.high&65535,i=this.low>>>16,n=this.low&65535,s=A.high>>>16,o=A.high&65535,u=A.low>>>16,l=A.low&65535;let c=0,h=0,d=0,f=0;return f+=n+l,d+=f>>>16,f&=65535,d+=i+u,h+=d>>>16,d&=65535,h+=t+o,c+=h>>>16,h&=65535,c+=e+s,c&=65535,q.fromBits(d<<16|f,c<<16|h,this.unsigned)}and(A){return q.isLong(A)||(A=q.fromValue(A)),q.fromBits(this.low&A.low,this.high&A.high,this.unsigned)}compare(A){if(q.isLong(A)||(A=q.fromValue(A)),this.eq(A))return 0;const e=this.isNegative(),t=A.isNegative();return e&&!t?-1:!e&&t?1:this.unsigned?A.high>>>0>this.high>>>0||A.high===this.high&&A.low>>>0>this.low>>>0?-1:1:this.sub(A).isNegative()?-1:1}comp(A){return this.compare(A)}divide(A){if(q.isLong(A)||(A=q.fromValue(A)),A.isZero())throw new cA("division by zero");if(pr){if(!this.unsigned&&this.high===-2147483648&&A.low===-1&&A.high===-1)return this;const n=(this.unsigned?pr.div_u:pr.div_s)(this.low,this.high,A.low,A.high);return q.fromBits(n,pr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?q.UZERO:q.ZERO;let e,t,i;if(this.unsigned){if(A.unsigned||(A=A.toUnsigned()),A.gt(this))return q.UZERO;if(A.gt(this.shru(1)))return q.UONE;i=q.UZERO}else{if(this.eq(q.MIN_VALUE))return A.eq(q.ONE)||A.eq(q.NEG_ONE)?q.MIN_VALUE:A.eq(q.MIN_VALUE)?q.ONE:(e=this.shr(1).div(A).shl(1),e.eq(q.ZERO)?A.isNegative()?q.ONE:q.NEG_ONE:(t=this.sub(A.mul(e)),i=e.add(t.div(A)),i));if(A.eq(q.MIN_VALUE))return this.unsigned?q.UZERO:q.ZERO;if(this.isNegative())return A.isNegative()?this.neg().div(A.neg()):this.neg().div(A).neg();if(A.isNegative())return this.div(A.neg()).neg();i=q.ZERO}for(t=this;t.gte(A);){e=Math.max(1,Math.floor(t.toNumber()/A.toNumber()));const n=Math.ceil(Math.log(e)/Math.LN2),s=n<=48?1:Math.pow(2,n-48);let o=q.fromNumber(e),u=o.mul(A);for(;u.isNegative()||u.gt(t);)e-=s,o=q.fromNumber(e,this.unsigned),u=o.mul(A);o.isZero()&&(o=q.ONE),i=i.add(o),t=t.sub(u)}return i}div(A){return this.divide(A)}equals(A){return q.isLong(A)||(A=q.fromValue(A)),this.unsigned!==A.unsigned&&this.high>>>31===1&&A.high>>>31===1?!1:this.high===A.high&&this.low===A.low}eq(A){return this.equals(A)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(q.MIN_VALUE)?64:this.neg().getNumBitsAbs();const A=this.high!==0?this.high:this.low;let e;for(e=31;e>0&&!(A&1<<e);e--);return this.high!==0?e+33:e+1}greaterThan(A){return this.comp(A)>0}gt(A){return this.greaterThan(A)}greaterThanOrEqual(A){return this.comp(A)>=0}gte(A){return this.greaterThanOrEqual(A)}ge(A){return this.greaterThanOrEqual(A)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(A){return this.comp(A)<0}lt(A){return this.lessThan(A)}lessThanOrEqual(A){return this.comp(A)<=0}lte(A){return this.lessThanOrEqual(A)}modulo(A){if(q.isLong(A)||(A=q.fromValue(A)),pr){const e=(this.unsigned?pr.rem_u:pr.rem_s)(this.low,this.high,A.low,A.high);return q.fromBits(e,pr.get_high(),this.unsigned)}return this.sub(this.div(A).mul(A))}mod(A){return this.modulo(A)}rem(A){return this.modulo(A)}multiply(A){if(this.isZero())return q.ZERO;if(q.isLong(A)||(A=q.fromValue(A)),pr){const p=pr.mul(this.low,this.high,A.low,A.high);return q.fromBits(p,pr.get_high(),this.unsigned)}if(A.isZero())return q.ZERO;if(this.eq(q.MIN_VALUE))return A.isOdd()?q.MIN_VALUE:q.ZERO;if(A.eq(q.MIN_VALUE))return this.isOdd()?q.MIN_VALUE:q.ZERO;if(this.isNegative())return A.isNegative()?this.neg().mul(A.neg()):this.neg().mul(A).neg();if(A.isNegative())return this.mul(A.neg()).neg();if(this.lt(q.TWO_PWR_24)&&A.lt(q.TWO_PWR_24))return q.fromNumber(this.toNumber()*A.toNumber(),this.unsigned);const e=this.high>>>16,t=this.high&65535,i=this.low>>>16,n=this.low&65535,s=A.high>>>16,o=A.high&65535,u=A.low>>>16,l=A.low&65535;let c=0,h=0,d=0,f=0;return f+=n*l,d+=f>>>16,f&=65535,d+=i*l,h+=d>>>16,d&=65535,d+=n*u,h+=d>>>16,d&=65535,h+=t*l,c+=h>>>16,h&=65535,h+=i*u,c+=h>>>16,h&=65535,h+=n*o,c+=h>>>16,h&=65535,c+=e*l+t*u+i*o+n*s,c&=65535,q.fromBits(d<<16|f,c<<16|h,this.unsigned)}mul(A){return this.multiply(A)}negate(){return!this.unsigned&&this.eq(q.MIN_VALUE)?q.MIN_VALUE:this.not().add(q.ONE)}neg(){return this.negate()}not(){return q.fromBits(~this.low,~this.high,this.unsigned)}notEquals(A){return!this.equals(A)}neq(A){return this.notEquals(A)}ne(A){return this.notEquals(A)}or(A){return q.isLong(A)||(A=q.fromValue(A)),q.fromBits(this.low|A.low,this.high|A.high,this.unsigned)}shiftLeft(A){return q.isLong(A)&&(A=A.toInt()),(A&=63)===0?this:A<32?q.fromBits(this.low<<A,this.high<<A|this.low>>>32-A,this.unsigned):q.fromBits(0,this.low<<A-32,this.unsigned)}shl(A){return this.shiftLeft(A)}shiftRight(A){return q.isLong(A)&&(A=A.toInt()),(A&=63)===0?this:A<32?q.fromBits(this.low>>>A|this.high<<32-A,this.high>>A,this.unsigned):q.fromBits(this.high>>A-32,this.high>=0?0:-1,this.unsigned)}shr(A){return this.shiftRight(A)}shiftRightUnsigned(A){if(q.isLong(A)&&(A=A.toInt()),A&=63,A===0)return this;{const e=this.high;if(A<32){const t=this.low;return q.fromBits(t>>>A|e<<32-A,e>>>A,this.unsigned)}else return A===32?q.fromBits(e,0,this.unsigned):q.fromBits(e>>>A-32,0,this.unsigned)}}shr_u(A){return this.shiftRightUnsigned(A)}shru(A){return this.shiftRightUnsigned(A)}subtract(A){return q.isLong(A)||(A=q.fromValue(A)),this.add(A.neg())}sub(A){return this.subtract(A)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*Eo+(this.low>>>0):this.high*Eo+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(A){return A?this.toBytesLE():this.toBytesBE()}toBytesLE(){const A=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,A&255,A>>>8&255,A>>>16&255,A>>>24]}toBytesBE(){const A=this.high,e=this.low;return[A>>>24,A>>>16&255,A>>>8&255,A&255,e>>>24,e>>>16&255,e>>>8&255,e&255]}toSigned(){return this.unsigned?q.fromBits(this.low,this.high,!1):this}toString(A){if(A=A||10,A<2||36<A)throw new cA("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(q.MIN_VALUE)){const n=q.fromNumber(A),s=this.div(n),o=s.mul(n).sub(this);return s.toString(A)+o.toInt().toString(A)}else return"-"+this.neg().toString(A);const e=q.fromNumber(Math.pow(A,6),this.unsigned);let t=this,i="";for(;;){const n=t.div(e);let o=(t.sub(n.mul(e)).toInt()>>>0).toString(A);if(t=n,t.isZero())return o+i;for(;o.length<6;)o="0"+o;i=""+o+i}}toUnsigned(){return this.unsigned?this:q.fromBits(this.low,this.high,!0)}xor(A){return q.isLong(A)||(A=q.fromValue(A)),q.fromBits(this.low^A.low,this.high^A.high,this.unsigned)}eqz(){return this.isZero()}le(A){return this.lessThanOrEqual(A)}toExtendedJSON(A){return A&&A.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(A,e){const{useBigInt64:t=!1,relaxed:i=!0}={...e};if(A.$numberLong.length>$T)throw new cA("$numberLong string is too long");if(!KT.test(A.$numberLong))throw new cA(`$numberLong string "${A.$numberLong}" is in an invalid format`);if(t){const s=BigInt(A.$numberLong);return BigInt.asIntN(64,s)}const n=q.fromString(A.$numberLong);return i?n.toNumber():n}inspect(A,e,t){t??(t=ur);const i=t(this.toString(),e),n=this.unsigned?`, ${t(this.unsigned,e)}`:"";return`new Long(${i}${n})`}}q.TWO_PWR_24=q.fromInt(YT);q.MAX_UNSIGNED_VALUE=q.fromBits(-1,-1,!0);q.ZERO=q.fromInt(0);q.UZERO=q.fromInt(0,!0);q.ONE=q.fromInt(1);q.UONE=q.fromInt(1,!0);q.NEG_ONE=q.fromInt(-1);q.MAX_VALUE=q.fromBits(-1,2147483647,!1);q.MIN_VALUE=q.fromBits(0,-2147483648,!1);const qT=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,XT=/^(\+|-)?(Infinity|inf)$/i,JT=/^(\+|-)?NaN$/i,oo=6111,Ea=-6176,Zg=6176,A2=34,Dh=oA.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),e2=oA.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),t2=oA.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),ZT=/^([-+])?(\d+)?$/,AD=31,r2=16383,eD=30,tD=31;function i2(r){return!isNaN(parseInt(r,10))}function rD(r){const A=q.fromNumber(1e9);let e=q.fromNumber(0);if(!r.parts[0]&&!r.parts[1]&&!r.parts[2]&&!r.parts[3])return{quotient:r,rem:e};for(let t=0;t<=3;t++)e=e.shiftLeft(32),e=e.add(new q(r.parts[t],0)),r.parts[t]=e.div(A).low,e=e.modulo(A);return{quotient:r,rem:e}}function iD(r,A){if(!r&&!A)return{high:q.fromNumber(0),low:q.fromNumber(0)};const e=r.shiftRightUnsigned(32),t=new q(r.getLowBits(),0),i=A.shiftRightUnsigned(32),n=new q(A.getLowBits(),0);let s=e.multiply(i),o=e.multiply(n);const u=t.multiply(i);let l=t.multiply(n);return s=s.add(o.shiftRightUnsigned(32)),o=new q(o.getLowBits(),0).add(u).add(l.shiftRightUnsigned(32)),s=s.add(o.shiftRightUnsigned(32)),l=o.shiftLeft(32).add(new q(l.getLowBits(),0)),{high:s,low:l}}function nD(r,A){const e=r.high>>>0,t=A.high>>>0;if(e<t)return!0;if(e===t){const i=r.low>>>0,n=A.low>>>0;if(i<n)return!0}return!1}function Ur(r,A){throw new cA(`"${r}" is not a valid Decimal128 string - ${A}`)}class Ct extends Zt{get _bsontype(){return"Decimal128"}constructor(A){if(super(),typeof A=="string")this.bytes=Ct.fromString(A).bytes;else if(ws(A)){if(A.byteLength!==16)throw new cA("Decimal128 must take a Buffer of 16 bytes");this.bytes=A}else throw new cA("Decimal128 must take a Buffer or string")}static fromString(A){return Ct._fromString(A,{allowRounding:!1})}static fromStringWithRounding(A){return Ct._fromString(A,{allowRounding:!0})}static _fromString(A,e){let t=!1,i=!1,n=!1,s=!1,o=0,u=0,l=0,c=0,h=0;const d=[0];let f=0,p=0,y=0,_=0,g=new q(0,0),m=new q(0,0),E=0,w=0;if(A.length>=7e3)throw new cA(""+A+" not a valid Decimal128 string");const L=A.match(qT),T=A.match(XT),R=A.match(JT);if(!L&&!T&&!R||A.length===0)throw new cA(""+A+" not a valid Decimal128 string");if(L){const M=L[2],b=L[4],v=L[5],C=L[6];b&&C===void 0&&Ur(A,"missing exponent power"),b&&M===void 0&&Ur(A,"missing exponent base"),b===void 0&&(v||C)&&Ur(A,"missing e before exponent")}if((A[w]==="+"||A[w]==="-")&&(i=!0,t=A[w++]==="-"),!i2(A[w])&&A[w]!=="."){if(A[w]==="i"||A[w]==="I")return new Ct(t?e2:t2);if(A[w]==="N")return new Ct(Dh)}for(;i2(A[w])||A[w]===".";){if(A[w]==="."){n&&Ur(A,"contains multiple periods"),n=!0,w=w+1;continue}f<A2&&(A[w]!=="0"||s)&&(s||(h=u),s=!0,d[p++]=parseInt(A[w],10),f=f+1),s&&(l=l+1),n&&(c=c+1),u=u+1,w=w+1}if(n&&!u)throw new cA(""+A+" not a valid Decimal128 string");if(A[w]==="e"||A[w]==="E"){const M=A.substr(++w).match(ZT);if(!M||!M[2])return new Ct(Dh);_=parseInt(M[0],10),w=w+M[0].length}if(A[w])return new Ct(Dh);if(!f)d[0]=0,l=1,f=1,o=0;else if(y=f-1,o=l,o!==1)for(;A[h+o-1+Number(i)+Number(n)]==="0";)o=o-1;for(_<=c&&c>_+16384?_=Ea:_=_-c;_>oo;){if(y=y+1,y>=A2){if(o===0){_=oo;break}Ur(A,"overflow")}_=_-1}if(e.allowRounding){for(;_<Ea||f<l;){if(y===0&&o<f){_=Ea,o=0;break}if(f<l?l=l-1:y=y-1,_<oo)_=_+1;else{if(d.join("").match(/^0+$/)){_=oo;break}Ur(A,"overflow")}}if(y+1<o){let M=u;n&&(h=h+1,M=M+1),i&&(h=h+1,M=M+1);const b=parseInt(A[h+y+1],10);let v=0;if(b>=5&&(v=1,b===5)){v=d[y]%2===1?1:0;for(let C=h+y+2;C<M;C++)if(parseInt(A[C],10)){v=1;break}}if(v){let C=y;for(;C>=0&&++d[C]>9;C--)if(d[C]=0,C===0)if(_<oo)_=_+1,d[C]=1;else return new Ct(t?e2:t2)}}}else{for(;_<Ea||f<l;){if(y===0){if(o===0){_=Ea;break}Ur(A,"exponent underflow")}f<l?(A[l-1+Number(i)+Number(n)]!=="0"&&o!==0&&Ur(A,"inexact rounding"),l=l-1):(d[y]!==0&&Ur(A,"inexact rounding"),y=y-1),_<oo?_=_+1:Ur(A,"overflow")}y+1<o&&(n&&(h=h+1),i&&(h=h+1),parseInt(A[h+y+1],10)!==0&&Ur(A,"inexact rounding"))}if(g=q.fromNumber(0),m=q.fromNumber(0),o===0)g=q.fromNumber(0),m=q.fromNumber(0);else if(y<17){let M=0;for(m=q.fromNumber(d[M++]),g=new q(0,0);M<=y;M++)m=m.multiply(q.fromNumber(10)),m=m.add(q.fromNumber(d[M]))}else{let M=0;for(g=q.fromNumber(d[M++]);M<=y-17;M++)g=g.multiply(q.fromNumber(10)),g=g.add(q.fromNumber(d[M]));for(m=q.fromNumber(d[M++]);M<=y;M++)m=m.multiply(q.fromNumber(10)),m=m.add(q.fromNumber(d[M]))}const P=iD(g,q.fromString("100000000000000000"));P.low=P.low.add(m),nD(P.low,m)&&(P.high=P.high.add(q.fromNumber(1))),E=_+Zg;const F={low:q.fromNumber(0),high:q.fromNumber(0)};P.high.shiftRightUnsigned(49).and(q.fromNumber(1)).equals(q.fromNumber(1))?(F.high=F.high.or(q.fromNumber(3).shiftLeft(61)),F.high=F.high.or(q.fromNumber(E).and(q.fromNumber(16383).shiftLeft(47))),F.high=F.high.or(P.high.and(q.fromNumber(0x7fffffffffff)))):(F.high=F.high.or(q.fromNumber(E&16383).shiftLeft(49)),F.high=F.high.or(P.high.and(q.fromNumber(562949953421311)))),F.low=P.low,t&&(F.high=F.high.or(q.fromString("9223372036854775808")));const H=oA.allocate(16);return w=0,H[w++]=F.low.low&255,H[w++]=F.low.low>>8&255,H[w++]=F.low.low>>16&255,H[w++]=F.low.low>>24&255,H[w++]=F.low.high&255,H[w++]=F.low.high>>8&255,H[w++]=F.low.high>>16&255,H[w++]=F.low.high>>24&255,H[w++]=F.high.low&255,H[w++]=F.high.low>>8&255,H[w++]=F.high.low>>16&255,H[w++]=F.high.low>>24&255,H[w++]=F.high.high&255,H[w++]=F.high.high>>8&255,H[w++]=F.high.high>>16&255,H[w++]=F.high.high>>24&255,new Ct(H)}toString(){let A,e=0;const t=new Array(36);for(let w=0;w<t.length;w++)t[w]=0;let i=0,n=!1,s,o={parts:[0,0,0,0]},u,l;const c=[];i=0;const h=this.bytes,d=h[i++]|h[i++]<<8|h[i++]<<16|h[i++]<<24,f=h[i++]|h[i++]<<8|h[i++]<<16|h[i++]<<24,p=h[i++]|h[i++]<<8|h[i++]<<16|h[i++]<<24,y=h[i++]|h[i++]<<8|h[i++]<<16|h[i++]<<24;i=0,{low:new q(d,f),high:new q(p,y)}.high.lessThan(q.ZERO)&&c.push("-");const g=y>>26&AD;if(g>>3===3){if(g===eD)return c.join("")+"Infinity";if(g===tD)return"NaN";A=y>>15&r2,s=8+(y>>14&1)}else s=y>>14&7,A=y>>17&r2;const m=A-Zg;if(o.parts[0]=(y&16383)+((s&15)<<14),o.parts[1]=p,o.parts[2]=f,o.parts[3]=d,o.parts[0]===0&&o.parts[1]===0&&o.parts[2]===0&&o.parts[3]===0)n=!0;else for(l=3;l>=0;l--){let w=0;const L=rD(o);if(o=L.quotient,w=L.rem.low,!!w)for(u=8;u>=0;u--)t[l*9+u]=w%10,w=Math.floor(w/10)}if(n)e=1,t[i]=0;else for(e=36;!t[i];)e=e-1,i=i+1;const E=e-1+m;if(E>=34||E<=-7||m>0){if(e>34)return c.push("0"),m>0?c.push(`E+${m}`):m<0&&c.push(`E${m}`),c.join("");c.push(`${t[i++]}`),e=e-1,e&&c.push(".");for(let w=0;w<e;w++)c.push(`${t[i++]}`);c.push("E"),E>0?c.push(`+${E}`):c.push(`${E}`)}else if(m>=0)for(let w=0;w<e;w++)c.push(`${t[i++]}`);else{let w=e+m;if(w>0)for(let L=0;L<w;L++)c.push(`${t[i++]}`);else c.push("0");for(c.push(".");w++<0;)c.push("0");for(let L=0;L<e-Math.max(w-1,0);L++)c.push(`${t[i++]}`)}return c.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(A){return Ct.fromString(A.$numberDecimal)}inspect(A,e,t){return t??(t=ur),`new Decimal128(${t(this.toString(),e)})`}}class qn extends Zt{get _bsontype(){return"Double"}constructor(A){super(),A instanceof Number&&(A=A.valueOf()),this.value=+A}valueOf(){return this.value}toJSON(){return this.value}toString(A){return this.value.toString(A)}toExtendedJSON(A){return A&&(A.legacy||A.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(A,e){const t=parseFloat(A.$numberDouble);return e&&e.relaxed?t:new qn(t)}inspect(A,e,t){return t??(t=ur),`new Double(${t(this.value,e)})`}}class Xn extends Zt{get _bsontype(){return"Int32"}constructor(A){super(),A instanceof Number&&(A=A.valueOf()),this.value=+A|0}valueOf(){return this.value}toString(A){return this.value.toString(A)}toJSON(){return this.value}toExtendedJSON(A){return A&&(A.relaxed||A.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(A,e){return e&&e.relaxed?parseInt(A.$numberInt,10):new Xn(A.$numberInt)}inspect(A,e,t){return t??(t=ur),`new Int32(${t(this.value,e)})`}}class to extends Zt{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new to}inspect(){return"new MaxKey()"}}class ro extends Zt{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new ro}inspect(){return"new MinKey()"}}const sD=new RegExp("^[0-9a-fA-F]{24}$");let rs=null;const Ri=Symbol("id");class we extends Zt{get _bsontype(){return"ObjectId"}constructor(A){super();let e;if(typeof A=="object"&&A&&"id"in A){if(typeof A.id!="string"&&!ArrayBuffer.isView(A.id))throw new cA("Argument passed in must have an id that is of type string or Buffer");"toHexString"in A&&typeof A.toHexString=="function"?e=oA.fromHex(A.toHexString()):e=A.id}else e=A;if(e==null||typeof e=="number")this[Ri]=we.generate(typeof e=="number"?e:void 0);else if(ArrayBuffer.isView(e)&&e.byteLength===12)this[Ri]=oA.toLocalBufferType(e);else if(typeof e=="string")if(e.length===24&&sD.test(e))this[Ri]=oA.fromHex(e);else throw new cA("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new cA("Argument passed in does not match the accepted types");we.cacheHexString&&(this.__id=oA.toHex(this.id))}get id(){return this[Ri]}set id(A){this[Ri]=A,we.cacheHexString&&(this.__id=oA.toHex(A))}toHexString(){if(we.cacheHexString&&this.__id)return this.__id;const A=oA.toHex(this.id);return we.cacheHexString&&!this.__id&&(this.__id=A),A}static getInc(){return we.index=(we.index+1)%16777215}static generate(A){typeof A!="number"&&(A=Math.floor(Date.now()/1e3));const e=we.getInc(),t=oA.allocate(12);return Il.fromUint8Array(t).setUint32(0,A,!1),rs===null&&(rs=oA.randomBytes(5)),t[4]=rs[0],t[5]=rs[1],t[6]=rs[2],t[7]=rs[3],t[8]=rs[4],t[11]=e&255,t[10]=e>>8&255,t[9]=e>>16&255,t}toString(A){return A==="base64"?oA.toBase64(this.id):A==="hex"?this.toHexString():this.toHexString()}toJSON(){return this.toHexString()}static is(A){return A!=null&&typeof A=="object"&&"_bsontype"in A&&A._bsontype==="ObjectId"}equals(A){if(A==null)return!1;if(we.is(A))return this[Ri][11]===A[Ri][11]&&oA.equals(this[Ri],A[Ri]);if(typeof A=="string")return A.toLowerCase()===this.toHexString();if(typeof A=="object"&&typeof A.toHexString=="function"){const e=A.toHexString(),t=this.toHexString();return typeof e=="string"&&e.toLowerCase()===t}return!1}getTimestamp(){const A=new Date,e=Il.fromUint8Array(this.id).getUint32(0,!1);return A.setTime(Math.floor(e)*1e3),A}static createPk(){return new we}static createFromTime(A){const e=oA.fromNumberArray([0,0,0,0,0,0,0,0,0,0,0,0]);return Il.fromUint8Array(e).setUint32(0,A,!1),new we(e)}static createFromHexString(A){if((A==null?void 0:A.length)!==24)throw new cA("hex string must be 24 characters");return new we(oA.fromHex(A))}static createFromBase64(A){if((A==null?void 0:A.length)!==16)throw new cA("base64 string must be 16 characters");return new we(oA.fromBase64(A))}static isValid(A){if(A==null)return!1;try{return new we(A),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(A){return new we(A.$oid)}inspect(A,e,t){return t??(t=ur),`new ObjectId(${t(this.toHexString(),e)})`}}we.index=Math.floor(Math.random()*16777215);function Bl(r,A,e){let t=5;if(Array.isArray(r))for(let i=0;i<r.length;i++)t+=n2(i.toString(),r[i],A,!0,e);else{typeof(r==null?void 0:r.toBSON)=="function"&&(r=r.toBSON());for(const i of Object.keys(r))t+=n2(i,r[i],A,!1,e)}return t}function n2(r,A,e=!1,t=!1,i=!1){switch(typeof(A==null?void 0:A.toBSON)=="function"&&(A=A.toBSON()),typeof A){case"string":return 1+oA.utf8ByteLength(r)+1+4+oA.utf8ByteLength(A)+1;case"number":return Math.floor(A)===A&&A>=Iy&&A<=by&&A>=d1&&A<=h1?(r!=null?oA.utf8ByteLength(r)+1:0)+5:(r!=null?oA.utf8ByteLength(r)+1:0)+9;case"undefined":return t||!i?(r!=null?oA.utf8ByteLength(r)+1:0)+1:0;case"boolean":return(r!=null?oA.utf8ByteLength(r)+1:0)+2;case"object":if(A!=null&&typeof A._bsontype=="string"&&A[Symbol.for("@@mdb.bson.version")]!==Rs)throw new Ps;if(A==null||A._bsontype==="MinKey"||A._bsontype==="MaxKey")return(r!=null?oA.utf8ByteLength(r)+1:0)+1;if(A._bsontype==="ObjectId")return(r!=null?oA.utf8ByteLength(r)+1:0)+13;if(A instanceof Date||yo(A))return(r!=null?oA.utf8ByteLength(r)+1:0)+9;if(ArrayBuffer.isView(A)||A instanceof ArrayBuffer||S0(A))return(r!=null?oA.utf8ByteLength(r)+1:0)+6+A.byteLength;if(A._bsontype==="Long"||A._bsontype==="Double"||A._bsontype==="Timestamp")return(r!=null?oA.utf8ByteLength(r)+1:0)+9;if(A._bsontype==="Decimal128")return(r!=null?oA.utf8ByteLength(r)+1:0)+17;if(A._bsontype==="Code")return A.scope!=null&&Object.keys(A.scope).length>0?(r!=null?oA.utf8ByteLength(r)+1:0)+1+4+4+oA.utf8ByteLength(A.code.toString())+1+Bl(A.scope,e,i):(r!=null?oA.utf8ByteLength(r)+1:0)+1+4+oA.utf8ByteLength(A.code.toString())+1;if(A._bsontype==="Binary"){const n=A;return n.sub_type===KA.SUBTYPE_BYTE_ARRAY?(r!=null?oA.utf8ByteLength(r)+1:0)+(n.position+1+4+1+4):(r!=null?oA.utf8ByteLength(r)+1:0)+(n.position+1+4+1)}else{if(A._bsontype==="Symbol")return(r!=null?oA.utf8ByteLength(r)+1:0)+oA.utf8ByteLength(A.value)+4+1+1;if(A._bsontype==="DBRef"){const n=Object.assign({$ref:A.collection,$id:A.oid},A.fields);return A.db!=null&&(n.$db=A.db),(r!=null?oA.utf8ByteLength(r)+1:0)+1+Bl(n,e,i)}else return A instanceof RegExp||mo(A)?(r!=null?oA.utf8ByteLength(r)+1:0)+1+oA.utf8ByteLength(A.source)+1+(A.global?1:0)+(A.ignoreCase?1:0)+(A.multiline?1:0)+1:A._bsontype==="BSONRegExp"?(r!=null?oA.utf8ByteLength(r)+1:0)+1+oA.utf8ByteLength(A.pattern)+1+oA.utf8ByteLength(A.options)+1:(r!=null?oA.utf8ByteLength(r)+1:0)+Bl(A,e,i)+1}case"function":if(e)return(r!=null?oA.utf8ByteLength(r)+1:0)+1+4+oA.utf8ByteLength(A.toString())+1}return 0}function oD(r){return r.split("").sort().join("")}class Tr extends Zt{get _bsontype(){return"BSONRegExp"}constructor(A,e){if(super(),this.pattern=A,this.options=oD(e??""),this.pattern.indexOf("\0")!==-1)throw new cA(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new cA(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let t=0;t<this.options.length;t++)if(!(this.options[t]==="i"||this.options[t]==="m"||this.options[t]==="x"||this.options[t]==="l"||this.options[t]==="s"||this.options[t]==="u"))throw new cA(`The regular expression option [${this.options[t]}] is not supported`)}static parseOptions(A){return A?A.split("").sort().join(""):""}toExtendedJSON(A){return A=A||{},A.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(A){if("$regex"in A)if(typeof A.$regex!="string"){if(A.$regex._bsontype==="BSONRegExp")return A}else return new Tr(A.$regex,Tr.parseOptions(A.$options));if("$regularExpression"in A)return new Tr(A.$regularExpression.pattern,Tr.parseOptions(A.$regularExpression.options));throw new cA(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(A)}`)}inspect(A,e,t){const i=IT(e)??(o=>o);t??(t=ur);const n=i(t(this.pattern),"regexp"),s=i(t(this.options),"regexp");return`new BSONRegExp(${n}, ${s})`}}class io extends Zt{get _bsontype(){return"BSONSymbol"}constructor(A){super(),this.value=A}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(A){return new io(A.$symbol)}inspect(A,e,t){return t??(t=ur),`new BSONSymbol(${t(this.value,e)})`}}const aD=q;class vr extends aD{get _bsontype(){return"Timestamp"}constructor(A){if(A==null)super(0,0,!0);else if(typeof A=="bigint")super(A,!0);else if(q.isLong(A))super(A.low,A.high,!0);else if(typeof A=="object"&&"t"in A&&"i"in A){if(typeof A.t!="number"&&(typeof A.t!="object"||A.t._bsontype!=="Int32"))throw new cA("Timestamp constructed from { t, i } must provide t as a number");if(typeof A.i!="number"&&(typeof A.i!="object"||A.i._bsontype!=="Int32"))throw new cA("Timestamp constructed from { t, i } must provide i as a number");const e=Number(A.t),t=Number(A.i);if(e<0||Number.isNaN(e))throw new cA("Timestamp constructed from { t, i } must provide a positive t");if(t<0||Number.isNaN(t))throw new cA("Timestamp constructed from { t, i } must provide a positive i");if(e>4294967295)throw new cA("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(t>4294967295)throw new cA("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(t,e,!0)}else throw new cA("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(A){return new vr(q.fromInt(A,!0))}static fromNumber(A){return new vr(q.fromNumber(A,!0))}static fromBits(A,e){return new vr({i:A,t:e})}static fromString(A,e){return new vr(q.fromString(A,!0,e))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(A){const e=q.isLong(A.$timestamp.i)?A.$timestamp.i.getLowBitsUnsigned():A.$timestamp.i,t=q.isLong(A.$timestamp.t)?A.$timestamp.t.getLowBitsUnsigned():A.$timestamp.t;return new vr({t,i:e})}inspect(A,e,t){t??(t=ur);const i=t(this.high>>>0,e),n=t(this.low>>>0,e);return`new Timestamp({ t: ${i}, i: ${n} })`}}vr.MAX_VALUE=q.MAX_UNSIGNED_VALUE;const uD=q.fromNumber(by),lD=q.fromNumber(Iy);function Qy(r,A,e){A=A??{};const t=A&&A.index?A.index:0,i=r[t]|r[t+1]<<8|r[t+2]<<16|r[t+3]<<24;if(i<5)throw new cA(`bson size must be >= 5, is ${i}`);if(A.allowObjectSmallerThanBufferSize&&r.length<i)throw new cA(`buffer length ${r.length} must be >= bson size ${i}`);if(!A.allowObjectSmallerThanBufferSize&&r.length!==i)throw new cA(`buffer length ${r.length} must === bson size ${i}`);if(i+t>r.byteLength)throw new cA(`(bson size ${i} + options.index ${t} must be <= buffer length ${r.byteLength})`);if(r[t+i-1]!==0)throw new cA("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return Tl(r,t,A,e)}const cD=/^\$ref$|^\$id$|^\$db$/;function Tl(r,A,e,t=!1){const i=e.fieldsAsRaw==null?null:e.fieldsAsRaw,n=e.raw==null?!1:e.raw,s=typeof e.bsonRegExp=="boolean"?e.bsonRegExp:!1,o=e.promoteBuffers??!1,u=e.promoteLongs??!0,l=e.promoteValues??!0,c=e.useBigInt64??!1;if(c&&!l)throw new cA("Must either request bigint or Long for int64 deserialization");if(c&&!u)throw new cA("Must either request bigint or Long for int64 deserialization");const h=e.validation==null?{utf8:!0}:e.validation;let d=!0,f;const p=new Set,y=h.utf8;if(typeof y=="boolean")f=y;else{d=!1;const R=Object.keys(y).map(function(P){return y[P]});if(R.length===0)throw new cA("UTF-8 validation setting cannot be empty");if(typeof R[0]!="boolean")throw new cA("Invalid UTF-8 validation option, must specify boolean values");if(f=R[0],!R.every(P=>P===f))throw new cA("Invalid UTF-8 validation option - keys must be all true or all false")}if(!d)for(const R of Object.keys(y))p.add(R);const _=A;if(r.length<5)throw new cA("corrupt bson message < 5 bytes long");const g=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;if(g<5||g>r.length)throw new cA("corrupt bson message");const m=t?[]:{};let E=0;const w=!1;let L=t?!1:null;const T=new DataView(r.buffer,r.byteOffset,r.byteLength);for(;!w;){const R=r[A++];if(R===0)break;let P=A;for(;r[P]!==0&&P<r.length;)P++;if(P>=r.byteLength)throw new cA("Bad BSON Document: illegal CString");const F=t?E++:oA.toUTF8(r,A,P,!1);let H=!0;d||p.has(F)?H=f:H=!f,L!==!1&&F[0]==="$"&&(L=cD.test(F));let M;if(A=P+1,R===By){const b=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;if(b<=0||b>r.length-A||r[A+b-1]!==0)throw new cA("bad string length in bson");M=oA.toUTF8(r,A,A+b-1,H),A=A+b}else if(R===Dy){const b=oA.allocate(12);b.set(r.subarray(A,A+12)),M=new we(b),A=A+12}else if(R===No&&l===!1)M=new Xn(r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24);else if(R===No)M=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;else if(R===fc&&l===!1)M=new qn(T.getFloat64(A,!0)),A=A+8;else if(R===fc)M=T.getFloat64(A,!0),A=A+8;else if(R===Oy){const b=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24,v=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;M=new Date(new q(b,v).toNumber())}else if(R===xy){if(r[A]!==0&&r[A]!==1)throw new cA("illegal boolean type value");M=r[A++]===1}else if(R===w0){const b=A,v=r[A]|r[A+1]<<8|r[A+2]<<16|r[A+3]<<24;if(v<=0||v>r.length-A)throw new cA("bad embedded document length in bson");if(n)M=r.slice(A,A+v);else{let C=e;d||(C={...e,validation:{utf8:H}}),M=Tl(r,b,C,!1)}A=A+v}else if(R===Ty){const b=A,v=r[A]|r[A+1]<<8|r[A+2]<<16|r[A+3]<<24;let C=e;const x=A+v;if(i&&i[F]&&(C={...e,raw:!0}),d||(C={...C,validation:{utf8:H}}),M=Tl(r,b,C,!0),A=A+v,r[A-1]!==0)throw new cA("invalid array terminator byte");if(A!==x)throw new cA("corrupted array bson")}else if(R===BT)M=void 0;else if(R===I0)M=null;else if(R===T0){const b=Il.fromUint8Array(r.subarray(A,A+8)),v=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24,C=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24,x=new q(v,C);c?M=b.getBigInt64(0,!0):u&&l===!0?M=x.lessThanOrEqual(uD)&&x.greaterThanOrEqual(lD)?x.toNumber():x:M=x}else if(R===Fy){const b=oA.allocate(16);b.set(r.subarray(A,A+16),0),A=A+16,M=new Ct(b)}else if(R===b0){let b=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;const v=b,C=r[A++];if(b<0)throw new cA("Negative binary type element size found");if(b>r.byteLength)throw new cA("Binary type size larger than document size");if(r.slice!=null){if(C===KA.SUBTYPE_BYTE_ARRAY){if(b=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24,b<0)throw new cA("Negative binary type element size found for subtype 0x02");if(b>v-4)throw new cA("Binary type with subtype 0x02 contains too long binary size");if(b<v-4)throw new cA("Binary type with subtype 0x02 contains too short binary size")}o&&l?M=oA.toLocalBufferType(r.slice(A,A+b)):(M=new KA(r.slice(A,A+b),C),C===gc&&rt.isValid(M)&&(M=M.toUUID()))}else{const x=oA.allocate(b);if(C===KA.SUBTYPE_BYTE_ARRAY){if(b=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24,b<0)throw new cA("Negative binary type element size found for subtype 0x02");if(b>v-4)throw new cA("Binary type with subtype 0x02 contains too long binary size");if(b<v-4)throw new cA("Binary type with subtype 0x02 contains too short binary size")}for(P=0;P<b;P++)x[P]=r[A+P];o&&l?M=x:(M=new KA(r.slice(A,A+b),C),C===gc&&rt.isValid(M)&&(M=M.toUUID()))}A=A+b}else if(R===pc&&s===!1){for(P=A;r[P]!==0&&P<r.length;)P++;if(P>=r.length)throw new cA("Bad BSON Document: illegal CString");const b=oA.toUTF8(r,A,P,!1);for(A=P+1,P=A;r[P]!==0&&P<r.length;)P++;if(P>=r.length)throw new cA("Bad BSON Document: illegal CString");const v=oA.toUTF8(r,A,P,!1);A=P+1;const C=new Array(v.length);for(P=0;P<v.length;P++)switch(v[P]){case"m":C[P]="m";break;case"s":C[P]="g";break;case"i":C[P]="i";break}M=new RegExp(b,C.join(""))}else if(R===pc&&s===!0){for(P=A;r[P]!==0&&P<r.length;)P++;if(P>=r.length)throw new cA("Bad BSON Document: illegal CString");const b=oA.toUTF8(r,A,P,!1);for(A=P+1,P=A;r[P]!==0&&P<r.length;)P++;if(P>=r.length)throw new cA("Bad BSON Document: illegal CString");const v=oA.toUTF8(r,A,P,!1);A=P+1,M=new Tr(b,v)}else if(R===My){const b=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;if(b<=0||b>r.length-A||r[A+b-1]!==0)throw new cA("bad string length in bson");const v=oA.toUTF8(r,A,A+b-1,H);M=l?v:new io(v),A=A+b}else if(R===Py){const b=r[A++]+r[A++]*256+r[A++]*65536+r[A++]*16777216,v=r[A++]+r[A++]*256+r[A++]*65536+r[A++]*(1<<24);M=new vr({i:b,t:v})}else if(R===Ny)M=new ro;else if(R===Ly)M=new to;else if(R===B0){const b=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;if(b<=0||b>r.length-A||r[A+b-1]!==0)throw new cA("bad string length in bson");const v=oA.toUTF8(r,A,A+b-1,H);M=new rn(v),A=A+b}else if(R===Ry){const b=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;if(b<13)throw new cA("code_w_scope total size shorter minimum expected length");const v=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;if(v<=0||v>r.length-A||r[A+v-1]!==0)throw new cA("bad string length in bson");const C=oA.toUTF8(r,A,A+v-1,H);A=A+v;const x=A,S=r[A]|r[A+1]<<8|r[A+2]<<16|r[A+3]<<24,B=Tl(r,x,e,!1);if(A=A+S,b<8+S+v)throw new cA("code_w_scope total size is too short, truncating scope");if(b>8+S+v)throw new cA("code_w_scope total size is too long, clips outer document");M=new rn(C,B)}else if(R===TT){const b=r[A++]|r[A++]<<8|r[A++]<<16|r[A++]<<24;if(b<=0||b>r.length-A||r[A+b-1]!==0)throw new cA("bad string length in bson");if(h!=null&&h.utf8&&!ky(r,A,A+b-1))throw new cA("Invalid UTF-8 string in BSON document");const v=oA.toUTF8(r,A,A+b-1,!1);A=A+b;const C=oA.allocate(12);C.set(r.subarray(A,A+12),0);const x=new we(C);A=A+12,M=new Ti(v,x)}else throw new cA(`Detected unknown BSON type ${R.toString(16)} for fieldname "${F}"`);F==="__proto__"?Object.defineProperty(m,F,{value:M,writable:!0,enumerable:!0,configurable:!0}):m[F]=M}if(g!==A-_)throw t?new cA("corrupt array bson"):new cA("corrupt object bson");if(!L)return m;if(Gy(m)){const R=Object.assign({},m);return delete R.$ref,delete R.$id,delete R.$db,new Ti(m.$ref,m.$id,m.$db,R)}return m}const yc=/\x00/,s2=new Set(["$db","$ref","$id","$clusterTime"]);function xh(r,A,e,t){r[t++]=By;const i=oA.encodeUTF8Into(r,A,t);t=t+i+1,r[t-1]=0;const n=oA.encodeUTF8Into(r,e,t+4);return r[t+3]=n+1>>24&255,r[t+2]=n+1>>16&255,r[t+1]=n+1>>8&255,r[t]=n+1&255,t=t+4+n,r[t++]=0,t}const Aa=new DataView(new ArrayBuffer(8),0,8),hD=new Uint8Array(Aa.buffer,0,4),Ec=new Uint8Array(Aa.buffer,0,8);function Oh(r,A,e,t){const n=!Object.is(e,-0)&&Number.isSafeInteger(e)&&e<=h1&&e>=d1?No:fc;n===No?Aa.setInt32(0,e,!0):Aa.setFloat64(0,e,!0);const s=n===No?hD:Ec;r[t++]=n;const o=oA.encodeUTF8Into(r,A,t);return t=t+o,r[t++]=0,r.set(s,t),t+=s.byteLength,t}function Mh(r,A,e,t){r[t++]=T0;const i=oA.encodeUTF8Into(r,A,t);return t+=i,r[t++]=0,Aa.setBigInt64(0,e,!0),r.set(Ec,t),t+=Ec.byteLength,t}function Ca(r,A,e,t){r[t++]=I0;const i=oA.encodeUTF8Into(r,A,t);return t=t+i,r[t++]=0,t}function Rh(r,A,e,t){r[t++]=xy;const i=oA.encodeUTF8Into(r,A,t);return t=t+i,r[t++]=0,r[t++]=e?1:0,t}function Ph(r,A,e,t){r[t++]=Oy;const i=oA.encodeUTF8Into(r,A,t);t=t+i,r[t++]=0;const n=q.fromNumber(e.getTime()),s=n.getLowBits(),o=n.getHighBits();return r[t++]=s&255,r[t++]=s>>8&255,r[t++]=s>>16&255,r[t++]=s>>24&255,r[t++]=o&255,r[t++]=o>>8&255,r[t++]=o>>16&255,r[t++]=o>>24&255,t}function Fh(r,A,e,t){r[t++]=pc;const i=oA.encodeUTF8Into(r,A,t);if(t=t+i,r[t++]=0,e.source&&e.source.match(yc)!=null)throw new cA("value "+e.source+" must not contain null bytes");return t=t+oA.encodeUTF8Into(r,e.source,t),r[t++]=0,e.ignoreCase&&(r[t++]=105),e.global&&(r[t++]=115),e.multiline&&(r[t++]=109),r[t++]=0,t}function Nh(r,A,e,t){r[t++]=pc;const i=oA.encodeUTF8Into(r,A,t);if(t=t+i,r[t++]=0,e.pattern.match(yc)!=null)throw new cA("pattern "+e.pattern+" must not contain null bytes");t=t+oA.encodeUTF8Into(r,e.pattern,t),r[t++]=0;const n=e.options.split("").sort().join("");return t=t+oA.encodeUTF8Into(r,n,t),r[t++]=0,t}function Lh(r,A,e,t){e===null?r[t++]=I0:e._bsontype==="MinKey"?r[t++]=Ny:r[t++]=Ly;const i=oA.encodeUTF8Into(r,A,t);return t=t+i,r[t++]=0,t}function Uh(r,A,e,t){r[t++]=Dy;const i=oA.encodeUTF8Into(r,A,t);t=t+i,r[t++]=0;const n=e.id;if(ws(n))for(let s=0;s<12;s++)r[t++]=n[s];else throw new cA("object ["+JSON.stringify(e)+"] is not a valid ObjectId");return t}function kh(r,A,e,t){r[t++]=b0;const i=oA.encodeUTF8Into(r,A,t);t=t+i,r[t++]=0;const n=e.length;return r[t++]=n&255,r[t++]=n>>8&255,r[t++]=n>>16&255,r[t++]=n>>24&255,r[t++]=DT,r.set(e,t),t=t+n,t}function zh(r,A,e,t,i,n,s,o,u){if(u.has(e))throw new cA("Cannot convert circular structure to BSON");u.add(e),r[t++]=Array.isArray(e)?Ty:w0;const l=oA.encodeUTF8Into(r,A,t);t=t+l,r[t++]=0;const c=Cu(r,e,i,t,n+1,s,o,u);return u.delete(e),c}function Gh(r,A,e,t){r[t++]=Fy;const i=oA.encodeUTF8Into(r,A,t);return t=t+i,r[t++]=0,r.set(e.bytes.subarray(0,16),t),t+16}function Vh(r,A,e,t){r[t++]=e._bsontype==="Long"?T0:Py;const i=oA.encodeUTF8Into(r,A,t);t=t+i,r[t++]=0;const n=e.getLowBits(),s=e.getHighBits();return r[t++]=n&255,r[t++]=n>>8&255,r[t++]=n>>16&255,r[t++]=n>>24&255,r[t++]=s&255,r[t++]=s>>8&255,r[t++]=s>>16&255,r[t++]=s>>24&255,t}function Qh(r,A,e,t){e=e.valueOf(),r[t++]=No;const i=oA.encodeUTF8Into(r,A,t);return t=t+i,r[t++]=0,r[t++]=e&255,r[t++]=e>>8&255,r[t++]=e>>16&255,r[t++]=e>>24&255,t}function Hh(r,A,e,t){r[t++]=fc;const i=oA.encodeUTF8Into(r,A,t);return t=t+i,r[t++]=0,Aa.setFloat64(0,e.value,!0),r.set(Ec,t),t=t+8,t}function jh(r,A,e,t){r[t++]=B0;const i=oA.encodeUTF8Into(r,A,t);t=t+i,r[t++]=0;const n=e.toString(),s=oA.encodeUTF8Into(r,n,t+4)+1;return r[t]=s&255,r[t+1]=s>>8&255,r[t+2]=s>>16&255,r[t+3]=s>>24&255,t=t+4+s-1,r[t++]=0,t}function Wh(r,A,e,t,i=!1,n=0,s=!1,o=!0,u){if(e.scope&&typeof e.scope=="object"){r[t++]=Ry;const l=oA.encodeUTF8Into(r,A,t);t=t+l,r[t++]=0;let c=t;const h=e.code;t=t+4;const d=oA.encodeUTF8Into(r,h,t+4)+1;r[t]=d&255,r[t+1]=d>>8&255,r[t+2]=d>>16&255,r[t+3]=d>>24&255,r[t+4+d-1]=0,t=t+d+4;const f=Cu(r,e.scope,i,t,n+1,s,o,u);t=f-1;const p=f-c;r[c++]=p&255,r[c++]=p>>8&255,r[c++]=p>>16&255,r[c++]=p>>24&255,r[t++]=0}else{r[t++]=B0;const l=oA.encodeUTF8Into(r,A,t);t=t+l,r[t++]=0;const c=e.code.toString(),h=oA.encodeUTF8Into(r,c,t+4)+1;r[t]=h&255,r[t+1]=h>>8&255,r[t+2]=h>>16&255,r[t+3]=h>>24&255,t=t+4+h-1,r[t++]=0}return t}function Yh(r,A,e,t){r[t++]=b0;const i=oA.encodeUTF8Into(r,A,t);t=t+i,r[t++]=0;const n=e.buffer;let s=e.position;return e.sub_type===KA.SUBTYPE_BYTE_ARRAY&&(s=s+4),r[t++]=s&255,r[t++]=s>>8&255,r[t++]=s>>16&255,r[t++]=s>>24&255,r[t++]=e.sub_type,e.sub_type===KA.SUBTYPE_BYTE_ARRAY&&(s=s-4,r[t++]=s&255,r[t++]=s>>8&255,r[t++]=s>>16&255,r[t++]=s>>24&255),r.set(n,t),t=t+e.position,t}function $h(r,A,e,t){r[t++]=My;const i=oA.encodeUTF8Into(r,A,t);t=t+i,r[t++]=0;const n=oA.encodeUTF8Into(r,e.value,t+4)+1;return r[t]=n&255,r[t+1]=n>>8&255,r[t+2]=n>>16&255,r[t+3]=n>>24&255,t=t+4+n-1,r[t++]=0,t}function Kh(r,A,e,t,i,n,s){r[t++]=w0;const o=oA.encodeUTF8Into(r,A,t);t=t+o,r[t++]=0;let u=t,l={$ref:e.collection||e.namespace,$id:e.oid};e.db!=null&&(l.$db=e.db),l=Object.assign(l,e.fields);const c=Cu(r,l,!1,t,i+1,n,!0,s),h=c-u;return r[u++]=h&255,r[u++]=h>>8&255,r[u++]=h>>16&255,r[u++]=h>>24&255,c}function Cu(r,A,e,t,i,n,s,o){if(o==null){if(A==null)return r[0]=5,r[1]=0,r[2]=0,r[3]=0,r[4]=0,5;if(Array.isArray(A))throw new cA("serialize does not support an array as the root input");if(typeof A!="object")throw new cA("serialize does not support non-object as the root input");if("_bsontype"in A&&typeof A._bsontype=="string")throw new cA("BSON types cannot be serialized as a document");if(yo(A)||mo(A)||ws(A)||S0(A))throw new cA("date, regexp, typedarray, and arraybuffer cannot be BSON documents");o=new Set}o.add(A);let u=t+4;if(Array.isArray(A))for(let c=0;c<A.length;c++){const h=`${c}`;let d=A[c];if(typeof(d==null?void 0:d.toBSON)=="function"&&(d=d.toBSON()),typeof d=="string")u=xh(r,h,d,u);else if(typeof d=="number")u=Oh(r,h,d,u);else if(typeof d=="bigint")u=Mh(r,h,d,u);else if(typeof d=="boolean")u=Rh(r,h,d,u);else if(d instanceof Date||yo(d))u=Ph(r,h,d,u);else if(d===void 0)u=Ca(r,h,d,u);else if(d===null)u=Ca(r,h,d,u);else if(ws(d))u=kh(r,h,d,u);else if(d instanceof RegExp||mo(d))u=Fh(r,h,d,u);else if(typeof d=="object"&&d._bsontype==null)u=zh(r,h,d,u,e,i,n,s,o);else{if(typeof d=="object"&&d[Symbol.for("@@mdb.bson.version")]!==Rs)throw new Ps;if(d._bsontype==="ObjectId")u=Uh(r,h,d,u);else if(d._bsontype==="Decimal128")u=Gh(r,h,d,u);else if(d._bsontype==="Long"||d._bsontype==="Timestamp")u=Vh(r,h,d,u);else if(d._bsontype==="Double")u=Hh(r,h,d,u);else if(typeof d=="function"&&n)u=jh(r,h,d,u);else if(d._bsontype==="Code")u=Wh(r,h,d,u,e,i,n,s,o);else if(d._bsontype==="Binary")u=Yh(r,h,d,u);else if(d._bsontype==="BSONSymbol")u=$h(r,h,d,u);else if(d._bsontype==="DBRef")u=Kh(r,h,d,u,i,n,o);else if(d._bsontype==="BSONRegExp")u=Nh(r,h,d,u);else if(d._bsontype==="Int32")u=Qh(r,h,d,u);else if(d._bsontype==="MinKey"||d._bsontype==="MaxKey")u=Lh(r,h,d,u);else if(typeof d._bsontype<"u")throw new cA(`Unrecognized or invalid _bsontype: ${String(d._bsontype)}`)}}else if(A instanceof Map||v0(A)){const c=A.entries();let h=!1;for(;!h;){const d=c.next();if(h=!!d.done,h)continue;const f=d.value[0];let p=d.value[1];typeof(p==null?void 0:p.toBSON)=="function"&&(p=p.toBSON());const y=typeof p;if(typeof f=="string"&&!s2.has(f)){if(f.match(yc)!=null)throw new cA("key "+f+" must not contain null bytes");if(e){if(f[0]==="$")throw new cA("key "+f+" must not start with '$'");if(~f.indexOf("."))throw new cA("key "+f+" must not contain '.'")}}if(y==="string")u=xh(r,f,p,u);else if(y==="number")u=Oh(r,f,p,u);else if(y==="bigint")u=Mh(r,f,p,u);else if(y==="boolean")u=Rh(r,f,p,u);else if(p instanceof Date||yo(p))u=Ph(r,f,p,u);else if(p===null||p===void 0&&s===!1)u=Ca(r,f,p,u);else if(ws(p))u=kh(r,f,p,u);else if(p instanceof RegExp||mo(p))u=Fh(r,f,p,u);else if(y==="object"&&p._bsontype==null)u=zh(r,f,p,u,e,i,n,s,o);else{if(typeof p=="object"&&p[Symbol.for("@@mdb.bson.version")]!==Rs)throw new Ps;if(p._bsontype==="ObjectId")u=Uh(r,f,p,u);else if(y==="object"&&p._bsontype==="Decimal128")u=Gh(r,f,p,u);else if(p._bsontype==="Long"||p._bsontype==="Timestamp")u=Vh(r,f,p,u);else if(p._bsontype==="Double")u=Hh(r,f,p,u);else if(p._bsontype==="Code")u=Wh(r,f,p,u,e,i,n,s,o);else if(typeof p=="function"&&n)u=jh(r,f,p,u);else if(p._bsontype==="Binary")u=Yh(r,f,p,u);else if(p._bsontype==="BSONSymbol")u=$h(r,f,p,u);else if(p._bsontype==="DBRef")u=Kh(r,f,p,u,i,n,o);else if(p._bsontype==="BSONRegExp")u=Nh(r,f,p,u);else if(p._bsontype==="Int32")u=Qh(r,f,p,u);else if(p._bsontype==="MinKey"||p._bsontype==="MaxKey")u=Lh(r,f,p,u);else if(typeof p._bsontype<"u")throw new cA(`Unrecognized or invalid _bsontype: ${String(p._bsontype)}`)}}}else{if(typeof(A==null?void 0:A.toBSON)=="function"&&(A=A.toBSON(),A!=null&&typeof A!="object"))throw new cA("toBSON function did not return an object");for(const c of Object.keys(A)){let h=A[c];typeof(h==null?void 0:h.toBSON)=="function"&&(h=h.toBSON());const d=typeof h;if(typeof c=="string"&&!s2.has(c)){if(c.match(yc)!=null)throw new cA("key "+c+" must not contain null bytes");if(e){if(c[0]==="$")throw new cA("key "+c+" must not start with '$'");if(~c.indexOf("."))throw new cA("key "+c+" must not contain '.'")}}if(d==="string")u=xh(r,c,h,u);else if(d==="number")u=Oh(r,c,h,u);else if(d==="bigint")u=Mh(r,c,h,u);else if(d==="boolean")u=Rh(r,c,h,u);else if(h instanceof Date||yo(h))u=Ph(r,c,h,u);else if(h===void 0)s===!1&&(u=Ca(r,c,h,u));else if(h===null)u=Ca(r,c,h,u);else if(ws(h))u=kh(r,c,h,u);else if(h instanceof RegExp||mo(h))u=Fh(r,c,h,u);else if(d==="object"&&h._bsontype==null)u=zh(r,c,h,u,e,i,n,s,o);else{if(typeof h=="object"&&h[Symbol.for("@@mdb.bson.version")]!==Rs)throw new Ps;if(h._bsontype==="ObjectId")u=Uh(r,c,h,u);else if(d==="object"&&h._bsontype==="Decimal128")u=Gh(r,c,h,u);else if(h._bsontype==="Long"||h._bsontype==="Timestamp")u=Vh(r,c,h,u);else if(h._bsontype==="Double")u=Hh(r,c,h,u);else if(h._bsontype==="Code")u=Wh(r,c,h,u,e,i,n,s,o);else if(typeof h=="function"&&n)u=jh(r,c,h,u);else if(h._bsontype==="Binary")u=Yh(r,c,h,u);else if(h._bsontype==="BSONSymbol")u=$h(r,c,h,u);else if(h._bsontype==="DBRef")u=Kh(r,c,h,u,i,n,o);else if(h._bsontype==="BSONRegExp")u=Nh(r,c,h,u);else if(h._bsontype==="Int32")u=Qh(r,c,h,u);else if(h._bsontype==="MinKey"||h._bsontype==="MaxKey")u=Lh(r,c,h,u);else if(typeof h._bsontype<"u")throw new cA(`Unrecognized or invalid _bsontype: ${String(h._bsontype)}`)}}}o.delete(A),r[u++]=0;const l=u-t;return r[t++]=l&255,r[t++]=l>>8&255,r[t++]=l>>16&255,r[t++]=l>>24&255,u}function dD(r){return r!=null&&typeof r=="object"&&"_bsontype"in r&&typeof r._bsontype=="string"}const fD={$oid:we,$binary:KA,$uuid:KA,$symbol:io,$numberInt:Xn,$numberDecimal:Ct,$numberDouble:qn,$numberLong:q,$minKey:ro,$maxKey:to,$regex:Tr,$regularExpression:Tr,$timestamp:vr};function Hy(r,A={}){if(typeof r=="number"){const t=r<=h1&&r>=d1,i=r<=vy&&r>=wy;if(A.relaxed||A.legacy)return r;if(Number.isInteger(r)&&!Object.is(r,-0)){if(t)return new Xn(r);if(i)return A.useBigInt64?BigInt(r):q.fromNumber(r)}return new qn(r)}if(r==null||typeof r!="object")return r;if(r.$undefined)return null;const e=Object.keys(r).filter(t=>t.startsWith("$")&&r[t]!=null);for(let t=0;t<e.length;t++){const i=fD[e[t]];if(i)return i.fromExtendedJSON(r,A)}if(r.$date!=null){const t=r.$date,i=new Date;if(A.legacy)if(typeof t=="number")i.setTime(t);else if(typeof t=="string")i.setTime(Date.parse(t));else if(typeof t=="bigint")i.setTime(Number(t));else throw new mc(`Unrecognized type for EJSON date: ${typeof t}`);else if(typeof t=="string")i.setTime(Date.parse(t));else if(q.isLong(t))i.setTime(t.toNumber());else if(typeof t=="number"&&A.relaxed)i.setTime(t);else if(typeof t=="bigint")i.setTime(Number(t));else throw new mc(`Unrecognized type for EJSON date: ${typeof t}`);return i}if(r.$code!=null){const t=Object.assign({},r);return r.$scope&&(t.$scope=Hy(r.$scope)),rn.fromExtendedJSON(r)}if(Gy(r)||r.$dbPointer){const t=r.$ref?r:r.$dbPointer;if(t instanceof Ti)return t;const i=Object.keys(t).filter(s=>s.startsWith("$"));let n=!0;if(i.forEach(s=>{["$ref","$id","$db"].indexOf(s)===-1&&(n=!1)}),n)return Ti.fromExtendedJSON(t)}return r}function pD(r,A){return r.map((e,t)=>{A.seenObjects.push({propertyName:`index ${t}`,obj:null});try{return Qi(e,A)}finally{A.seenObjects.pop()}})}function o2(r){const A=r.toISOString();return r.getUTCMilliseconds()!==0?A:A.slice(0,-5)+"Z"}function Qi(r,A){if(r instanceof Map||v0(r)){const e=Object.create(null);for(const[t,i]of r){if(typeof t!="string")throw new cA("Can only serialize maps with string keys");e[t]=i}return Qi(e,A)}if((typeof r=="object"||typeof r=="function")&&r!==null){const e=A.seenObjects.findIndex(t=>t.obj===r);if(e!==-1){const t=A.seenObjects.map(c=>c.propertyName),i=t.slice(0,e).map(c=>`${c} -> `).join(""),n=t[e],s=" -> "+t.slice(e+1,t.length-1).map(c=>`${c} -> `).join(""),o=t[t.length-1],u=" ".repeat(i.length+n.length/2),l="-".repeat(s.length+(n.length+o.length)/2-1);throw new cA(`Converting circular structure to EJSON:
    ${i}${n}${s}${o}
    ${u}\\${l}/`)}A.seenObjects[A.seenObjects.length-1].obj=r}if(Array.isArray(r))return pD(r,A);if(r===void 0)return null;if(r instanceof Date||yo(r)){const e=r.getTime(),t=e>-1&&e<2534023188e5;return A.legacy?A.relaxed&&t?{$date:r.getTime()}:{$date:o2(r)}:A.relaxed&&t?{$date:o2(r)}:{$date:{$numberLong:r.getTime().toString()}}}if(typeof r=="number"&&(!A.relaxed||!isFinite(r))){if(Number.isInteger(r)&&!Object.is(r,-0)){if(r>=d1&&r<=h1)return{$numberInt:r.toString()};if(r>=wy&&r<=vy)return{$numberLong:r.toString()}}return{$numberDouble:Object.is(r,-0)?"-0.0":r.toString()}}if(typeof r=="bigint")return A.relaxed?Number(BigInt.asIntN(64,r)):{$numberLong:BigInt.asIntN(64,r).toString()};if(r instanceof RegExp||mo(r)){let e=r.flags;if(e===void 0){const i=r.toString().match(/[gimuy]*$/);i&&(e=i[0])}return new Tr(r.source,e).toExtendedJSON(A)}return r!=null&&typeof r=="object"?mD(r,A):r}const gD={Binary:r=>new KA(r.value(),r.sub_type),Code:r=>new rn(r.code,r.scope),DBRef:r=>new Ti(r.collection||r.namespace,r.oid,r.db,r.fields),Decimal128:r=>new Ct(r.bytes),Double:r=>new qn(r.value),Int32:r=>new Xn(r.value),Long:r=>q.fromBits(r.low!=null?r.low:r.low_,r.low!=null?r.high:r.high_,r.low!=null?r.unsigned:r.unsigned_),MaxKey:()=>new to,MinKey:()=>new ro,ObjectId:r=>new we(r),BSONRegExp:r=>new Tr(r.pattern,r.options),BSONSymbol:r=>new io(r.value),Timestamp:r=>vr.fromBits(r.low,r.high)};function mD(r,A){if(r==null||typeof r!="object")throw new cA("not an object instance");const e=r._bsontype;if(typeof e>"u"){const t={};for(const i of Object.keys(r)){A.seenObjects.push({propertyName:i,obj:null});try{const n=Qi(r[i],A);i==="__proto__"?Object.defineProperty(t,i,{value:n,writable:!0,enumerable:!0,configurable:!0}):t[i]=n}finally{A.seenObjects.pop()}}return t}else{if(r!=null&&typeof r=="object"&&typeof r._bsontype=="string"&&r[Symbol.for("@@mdb.bson.version")]!==Rs)throw new Ps;if(dD(r)){let t=r;if(typeof t.toExtendedJSON!="function"){const i=gD[r._bsontype];if(!i)throw new cA("Unrecognized or invalid _bsontype: "+r._bsontype);t=i(t)}return e==="Code"&&t.scope?t=new rn(t.code,Qi(t.scope,A)):e==="DBRef"&&t.oid&&(t=new Ti(Qi(t.collection,A),Qi(t.oid,A),Qi(t.db,A),Qi(t.fields,A))),t.toExtendedJSON(A)}else throw new cA("_bsontype must be a string, but was: "+typeof e)}}function jy(r,A){const e={useBigInt64:(A==null?void 0:A.useBigInt64)??!1,relaxed:(A==null?void 0:A.relaxed)??!0,legacy:(A==null?void 0:A.legacy)??!1};return JSON.parse(r,(t,i)=>{if(t.indexOf("\0")!==-1)throw new cA(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(t)}`);return Hy(i,e)})}function Wy(r,A,e,t){e!=null&&typeof e=="object"&&(t=e,e=0),A!=null&&typeof A=="object"&&!Array.isArray(A)&&(t=A,A=void 0,e=0);const i=Object.assign({relaxed:!0,legacy:!1},t,{seenObjects:[{propertyName:"(root)",obj:null}]}),n=Qi(r,i);return JSON.stringify(n,A,e)}function yD(r,A){return A=A||{},JSON.parse(Wy(r,A))}function ED(r,A){return A=A||{},jy(JSON.stringify(r),A)}const no=Object.create(null);no.parse=jy;no.stringify=Wy;no.serialize=yD;no.deserialize=ED;Object.freeze(no);const Yy=1024*1024*17;let Rn=oA.allocate(Yy);function $y(r){Rn.length<r&&(Rn=oA.allocate(r))}function Ky(r,A={}){const e=typeof A.checkKeys=="boolean"?A.checkKeys:!1,t=typeof A.serializeFunctions=="boolean"?A.serializeFunctions:!1,i=typeof A.ignoreUndefined=="boolean"?A.ignoreUndefined:!0,n=typeof A.minInternalBufferSize=="number"?A.minInternalBufferSize:Yy;Rn.length<n&&(Rn=oA.allocate(n));const s=Cu(Rn,r,e,0,0,t,i,null),o=oA.allocate(s);return o.set(Rn.subarray(0,s),0),o}function qy(r,A,e={}){const t=typeof e.checkKeys=="boolean"?e.checkKeys:!1,i=typeof e.serializeFunctions=="boolean"?e.serializeFunctions:!1,n=typeof e.ignoreUndefined=="boolean"?e.ignoreUndefined:!0,s=typeof e.index=="number"?e.index:0,o=Cu(Rn,r,t,0,0,i,n,null);return A.set(Rn.subarray(0,o),s),s+o-1}function Xy(r,A={}){return Qy(oA.toLocalBufferType(r),A)}function Jy(r,A={}){A=A||{};const e=typeof A.serializeFunctions=="boolean"?A.serializeFunctions:!1,t=typeof A.ignoreUndefined=="boolean"?A.ignoreUndefined:!0;return Bl(r,e,t)}function Zy(r,A,e,t,i,n){const s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},n),o=oA.toLocalBufferType(r);let u=A;for(let l=0;l<e;l++){const c=o[u]|o[u+1]<<8|o[u+2]<<16|o[u+3]<<24;s.index=u,t[i+l]=Qy(o,s),u=u+c}return u}var CD=Object.freeze({__proto__:null,BSONError:cA,BSONRegExp:Tr,BSONRuntimeError:mc,BSONSymbol:io,BSONType:Uy,BSONValue:Zt,BSONVersionError:Ps,Binary:KA,Code:rn,DBRef:Ti,Decimal128:Ct,Double:qn,EJSON:no,Int32:Xn,Long:q,MaxKey:to,MinKey:ro,ObjectId:we,Timestamp:vr,UUID:rt,calculateObjectSize:Jy,deserialize:Xy,deserializeStream:Zy,serialize:Ky,serializeWithBufferAndIndex:qy,setInternalBufferSize:$y});ue.BSON=CD;ue.BSONError=cA;ue.BSONRegExp=Tr;ue.BSONRuntimeError=mc;ue.BSONSymbol=io;ue.BSONType=Uy;ue.BSONValue=Zt;ue.BSONVersionError=Ps;ue.Binary=KA;ue.Code=rn;ue.DBRef=Ti;ue.Decimal128=Ct;ue.Double=qn;ue.EJSON=no;ue.Int32=Xn;ue.Long=q;ue.MaxKey=to;ue.MinKey=ro;ue.ObjectId=we;ue.Timestamp=vr;ue.UUID=rt;ue.calculateObjectSize=Jy;ue.deserialize=Xy;ue.deserializeStream=Zy;ue.serialize=Ky;ue.serializeWithBufferAndIndex=qy;ue.setInternalBufferSize=$y;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveBSONOptions=r.pluckBSONSerializeOptions=r.UUID=r.Timestamp=r.serialize=r.ObjectId=r.MinKey=r.MaxKey=r.Long=r.Int32=r.Double=r.deserialize=r.Decimal128=r.DBRef=r.Code=r.calculateObjectSize=r.BSONType=r.BSONSymbol=r.BSONRegExp=r.BSON=r.Binary=void 0;var A=ue;Object.defineProperty(r,"Binary",{enumerable:!0,get:function(){return A.Binary}}),Object.defineProperty(r,"BSON",{enumerable:!0,get:function(){return A.BSON}}),Object.defineProperty(r,"BSONRegExp",{enumerable:!0,get:function(){return A.BSONRegExp}}),Object.defineProperty(r,"BSONSymbol",{enumerable:!0,get:function(){return A.BSONSymbol}}),Object.defineProperty(r,"BSONType",{enumerable:!0,get:function(){return A.BSONType}}),Object.defineProperty(r,"calculateObjectSize",{enumerable:!0,get:function(){return A.calculateObjectSize}}),Object.defineProperty(r,"Code",{enumerable:!0,get:function(){return A.Code}}),Object.defineProperty(r,"DBRef",{enumerable:!0,get:function(){return A.DBRef}}),Object.defineProperty(r,"Decimal128",{enumerable:!0,get:function(){return A.Decimal128}}),Object.defineProperty(r,"deserialize",{enumerable:!0,get:function(){return A.deserialize}}),Object.defineProperty(r,"Double",{enumerable:!0,get:function(){return A.Double}}),Object.defineProperty(r,"Int32",{enumerable:!0,get:function(){return A.Int32}}),Object.defineProperty(r,"Long",{enumerable:!0,get:function(){return A.Long}}),Object.defineProperty(r,"MaxKey",{enumerable:!0,get:function(){return A.MaxKey}}),Object.defineProperty(r,"MinKey",{enumerable:!0,get:function(){return A.MinKey}}),Object.defineProperty(r,"ObjectId",{enumerable:!0,get:function(){return A.ObjectId}}),Object.defineProperty(r,"serialize",{enumerable:!0,get:function(){return A.serialize}}),Object.defineProperty(r,"Timestamp",{enumerable:!0,get:function(){return A.Timestamp}}),Object.defineProperty(r,"UUID",{enumerable:!0,get:function(){return A.UUID}});function e(i){const{fieldsAsRaw:n,useBigInt64:s,promoteValues:o,promoteBuffers:u,promoteLongs:l,serializeFunctions:c,ignoreUndefined:h,bsonRegExp:d,raw:f,enableUtf8Validation:p}=i;return{fieldsAsRaw:n,useBigInt64:s,promoteValues:o,promoteBuffers:u,promoteLongs:l,serializeFunctions:c,ignoreUndefined:h,bsonRegExp:d,raw:f,enableUtf8Validation:p}}r.pluckBSONSerializeOptions=e;function t(i,n){const s=n==null?void 0:n.bsonOptions;return{raw:(i==null?void 0:i.raw)??(s==null?void 0:s.raw)??!1,useBigInt64:(i==null?void 0:i.useBigInt64)??(s==null?void 0:s.useBigInt64)??!1,promoteLongs:(i==null?void 0:i.promoteLongs)??(s==null?void 0:s.promoteLongs)??!0,promoteValues:(i==null?void 0:i.promoteValues)??(s==null?void 0:s.promoteValues)??!0,promoteBuffers:(i==null?void 0:i.promoteBuffers)??(s==null?void 0:s.promoteBuffers)??!1,ignoreUndefined:(i==null?void 0:i.ignoreUndefined)??(s==null?void 0:s.ignoreUndefined)??!1,bsonRegExp:(i==null?void 0:i.bsonRegExp)??(s==null?void 0:s.bsonRegExp)??!1,serializeFunctions:(i==null?void 0:i.serializeFunctions)??(s==null?void 0:s.serializeFunctions)??!1,fieldsAsRaw:(i==null?void 0:i.fieldsAsRaw)??(s==null?void 0:s.fieldsAsRaw)??{},enableUtf8Validation:(i==null?void 0:i.enableUtf8Validation)??(s==null?void 0:s.enableUtf8Validation)??!0}}r.resolveBSONOptions=t})(Ce);var Dt={},_A={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isResumableError=r.isNetworkTimeoutError=r.isSDAMUnrecoverableError=r.isNodeShuttingDownError=r.isRetryableReadError=r.isRetryableWriteError=r.needsRetryableWriteLabel=r.MongoWriteConcernError=r.MongoServerSelectionError=r.MongoSystemError=r.MongoMissingDependencyError=r.MongoMissingCredentialsError=r.MongoCompatibilityError=r.MongoInvalidArgumentError=r.MongoParseError=r.MongoNetworkTimeoutError=r.MongoNetworkError=r.isNetworkErrorBeforeHandshake=r.MongoTopologyClosedError=r.MongoCursorExhaustedError=r.MongoServerClosedError=r.MongoCursorInUseError=r.MongoUnexpectedServerResponseError=r.MongoGridFSChunkError=r.MongoGridFSStreamError=r.MongoTailableCursorError=r.MongoChangeStreamError=r.MongoAzureError=r.MongoAWSError=r.MongoKerberosError=r.MongoExpiredSessionError=r.MongoTransactionError=r.MongoNotConnectedError=r.MongoDecompressionError=r.MongoBatchReExecutionError=r.MongoRuntimeError=r.MongoAPIError=r.MongoDriverError=r.MongoServerError=r.MongoError=r.MongoErrorLabel=r.GET_MORE_RESUMABLE_CODES=r.MONGODB_ERROR_CODES=r.NODE_IS_RECOVERING_ERROR_MESSAGE=r.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=r.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=void 0;const A=Symbol("errorLabels");r.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=new RegExp("not master","i"),r.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=new RegExp("not master or secondary","i"),r.NODE_IS_RECOVERING_ERROR_MESSAGE=new RegExp("node is recovering","i"),r.MONGODB_ERROR_CODES=Object.freeze({HostUnreachable:6,HostNotFound:7,NetworkTimeout:89,ShutdownInProgress:91,PrimarySteppedDown:189,ExceededTimeLimit:262,SocketException:9001,NotWritablePrimary:10107,InterruptedAtShutdown:11600,InterruptedDueToReplStateChange:11602,NotPrimaryNoSecondaryOk:13435,NotPrimaryOrSecondary:13436,StaleShardVersion:63,StaleEpoch:150,StaleConfig:13388,RetryChangeStream:234,FailedToSatisfyReadPreference:133,CursorNotFound:43,LegacyNotPrimary:10058,WriteConcernFailed:64,NamespaceNotFound:26,IllegalOperation:20,MaxTimeMSExpired:50,UnknownReplWriteConcern:79,UnsatisfiableWriteConcern:100,Reauthenticate:391}),r.GET_MORE_RESUMABLE_CODES=new Set([r.MONGODB_ERROR_CODES.HostUnreachable,r.MONGODB_ERROR_CODES.HostNotFound,r.MONGODB_ERROR_CODES.NetworkTimeout,r.MONGODB_ERROR_CODES.ShutdownInProgress,r.MONGODB_ERROR_CODES.PrimarySteppedDown,r.MONGODB_ERROR_CODES.ExceededTimeLimit,r.MONGODB_ERROR_CODES.SocketException,r.MONGODB_ERROR_CODES.NotWritablePrimary,r.MONGODB_ERROR_CODES.InterruptedAtShutdown,r.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,r.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,r.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,r.MONGODB_ERROR_CODES.StaleShardVersion,r.MONGODB_ERROR_CODES.StaleEpoch,r.MONGODB_ERROR_CODES.StaleConfig,r.MONGODB_ERROR_CODES.RetryChangeStream,r.MONGODB_ERROR_CODES.FailedToSatisfyReadPreference,r.MONGODB_ERROR_CODES.CursorNotFound]),r.MongoErrorLabel=Object.freeze({RetryableWriteError:"RetryableWriteError",TransientTransactionError:"TransientTransactionError",UnknownTransactionCommitResult:"UnknownTransactionCommitResult",ResumableChangeStreamError:"ResumableChangeStreamError",HandshakeError:"HandshakeError",ResetPool:"ResetPool",PoolRequstedRetry:"PoolRequstedRetry",InterruptInUseConnections:"InterruptInUseConnections",NoWritesPerformed:"NoWritesPerformed"});function e(W){return"errors"in W&&Array.isArray(W.errors)}class t extends Error{constructor(O,N){super(O,N),this[A]=new Set}static buildErrorMessage(O){return typeof O=="string"?O:e(O)&&O.message.length===0?O.errors.length===0?"AggregateError has an empty errors array. Please check the `cause` property for more information.":O.errors.map(({message:N})=>N).join(", "):O.message}get name(){return"MongoError"}get errmsg(){return this.message}hasErrorLabel(O){return this[A].has(O)}addErrorLabel(O){this[A].add(O)}get errorLabels(){return Array.from(this[A])}}r.MongoError=t;class i extends t{constructor(O){super(O.message||O.errmsg||O.$err||"n/a"),O.errorLabels&&(this[A]=new Set(O.errorLabels));for(const N in O)N!=="errorLabels"&&N!=="errmsg"&&N!=="message"&&(this[N]=O[N])}get name(){return"MongoServerError"}}r.MongoServerError=i;class n extends t{constructor(O,N){super(O,N)}get name(){return"MongoDriverError"}}r.MongoDriverError=n;class s extends n{constructor(O,N){super(O,N)}get name(){return"MongoAPIError"}}r.MongoAPIError=s;class o extends n{constructor(O,N){super(O,N)}get name(){return"MongoRuntimeError"}}r.MongoRuntimeError=o;class u extends s{constructor(O="This batch has already been executed, create new batch to execute"){super(O)}get name(){return"MongoBatchReExecutionError"}}r.MongoBatchReExecutionError=u;class l extends o{constructor(O){super(O)}get name(){return"MongoDecompressionError"}}r.MongoDecompressionError=l;class c extends s{constructor(O){super(O)}get name(){return"MongoNotConnectedError"}}r.MongoNotConnectedError=c;class h extends s{constructor(O){super(O)}get name(){return"MongoTransactionError"}}r.MongoTransactionError=h;class d extends s{constructor(O="Cannot use a session that has ended"){super(O)}get name(){return"MongoExpiredSessionError"}}r.MongoExpiredSessionError=d;class f extends o{constructor(O){super(O)}get name(){return"MongoKerberosError"}}r.MongoKerberosError=f;class p extends o{constructor(O){super(O)}get name(){return"MongoAWSError"}}r.MongoAWSError=p;class y extends o{constructor(O){super(O)}get name(){return"MongoAzureError"}}r.MongoAzureError=y;class _ extends o{constructor(O){super(O)}get name(){return"MongoChangeStreamError"}}r.MongoChangeStreamError=_;class g extends s{constructor(O="Tailable cursor does not support this operation"){super(O)}get name(){return"MongoTailableCursorError"}}r.MongoTailableCursorError=g;class m extends o{constructor(O){super(O)}get name(){return"MongoGridFSStreamError"}}r.MongoGridFSStreamError=m;class E extends o{constructor(O){super(O)}get name(){return"MongoGridFSChunkError"}}r.MongoGridFSChunkError=E;class w extends o{constructor(O){super(O)}get name(){return"MongoUnexpectedServerResponseError"}}r.MongoUnexpectedServerResponseError=w;class L extends s{constructor(O="Cursor is already initialized"){super(O)}get name(){return"MongoCursorInUseError"}}r.MongoCursorInUseError=L;class T extends s{constructor(O="Server is closed"){super(O)}get name(){return"MongoServerClosedError"}}r.MongoServerClosedError=T;class R extends s{constructor(O){super(O||"Cursor is exhausted")}get name(){return"MongoCursorExhaustedError"}}r.MongoCursorExhaustedError=R;class P extends s{constructor(O="Topology is closed"){super(O)}get name(){return"MongoTopologyClosedError"}}r.MongoTopologyClosedError=P;const F=Symbol("beforeHandshake");function H(W){return W[F]===!0}r.isNetworkErrorBeforeHandshake=H;class M extends t{constructor(O,N){super(O,{cause:N==null?void 0:N.cause}),N&&typeof N.beforeHandshake=="boolean"&&(this[F]=N.beforeHandshake)}get name(){return"MongoNetworkError"}}r.MongoNetworkError=M;class b extends M{constructor(O,N){super(O,N)}get name(){return"MongoNetworkTimeoutError"}}r.MongoNetworkTimeoutError=b;class v extends n{constructor(O){super(O)}get name(){return"MongoParseError"}}r.MongoParseError=v;class C extends s{constructor(O){super(O)}get name(){return"MongoInvalidArgumentError"}}r.MongoInvalidArgumentError=C;class x extends s{constructor(O){super(O)}get name(){return"MongoCompatibilityError"}}r.MongoCompatibilityError=x;class S extends s{constructor(O){super(O)}get name(){return"MongoMissingCredentialsError"}}r.MongoMissingCredentialsError=S;class B extends s{constructor(O,N={}){super(O,N)}get name(){return"MongoMissingDependencyError"}}r.MongoMissingDependencyError=B;class D extends t{constructor(O,N){var z;N&&N.error?super(t.buildErrorMessage(N.error.message||N.error),{cause:N.error}):super(O),N&&(this.reason=N),this.code=(z=N.error)==null?void 0:z.code}get name(){return"MongoSystemError"}}r.MongoSystemError=D;class Q extends D{constructor(O,N){super(O,N)}get name(){return"MongoServerSelectionError"}}r.MongoServerSelectionError=Q;function Z(W){const O=Object.assign({},W);return O.ok===0&&(O.ok=1,delete O.errmsg,delete O.code,delete O.codeName),O}class AA extends i{constructor(O,N){N&&Array.isArray(N.errorLabels)&&(O.errorLabels=N.errorLabels),super(O),this.errInfo=O.errInfo,N!=null&&(this.result=Z(N))}get name(){return"MongoWriteConcernError"}}r.MongoWriteConcernError=AA;const Y=new Set([r.MONGODB_ERROR_CODES.HostUnreachable,r.MONGODB_ERROR_CODES.HostNotFound,r.MONGODB_ERROR_CODES.NetworkTimeout,r.MONGODB_ERROR_CODES.ShutdownInProgress,r.MONGODB_ERROR_CODES.PrimarySteppedDown,r.MONGODB_ERROR_CODES.SocketException,r.MONGODB_ERROR_CODES.NotWritablePrimary,r.MONGODB_ERROR_CODES.InterruptedAtShutdown,r.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,r.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,r.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),G=new Set([...Y,r.MONGODB_ERROR_CODES.ExceededTimeLimit]);function X(W,O){var tA;return W instanceof M?!0:W instanceof t&&(O>=9||nA(W))&&!W.hasErrorLabel(r.MongoErrorLabel.HandshakeError)?!1:W instanceof AA?G.has(((tA=W.result)==null?void 0:tA.code)??W.code??0):W instanceof t&&typeof W.code=="number"?G.has(W.code):!!(r.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(W.message)||r.NODE_IS_RECOVERING_ERROR_MESSAGE.test(W.message))}r.needsRetryableWriteLabel=X;function nA(W){return W.hasErrorLabel(r.MongoErrorLabel.RetryableWriteError)||W.hasErrorLabel(r.MongoErrorLabel.PoolRequstedRetry)}r.isRetryableWriteError=nA;function lA(W){return!!((typeof W.code=="number"?Y.has(W.code):!1)||W instanceof M||r.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(W.message)||r.NODE_IS_RECOVERING_ERROR_MESSAGE.test(W.message))}r.isRetryableReadError=lA;const vA=new Set([r.MONGODB_ERROR_CODES.ShutdownInProgress,r.MONGODB_ERROR_CODES.PrimarySteppedDown,r.MONGODB_ERROR_CODES.InterruptedAtShutdown,r.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,r.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),BA=new Set([r.MONGODB_ERROR_CODES.NotWritablePrimary,r.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,r.MONGODB_ERROR_CODES.LegacyNotPrimary]),bA=new Set([r.MONGODB_ERROR_CODES.InterruptedAtShutdown,r.MONGODB_ERROR_CODES.ShutdownInProgress]);function xA(W){return typeof W.code=="number"?vA.has(W.code):r.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE.test(W.message)||r.NODE_IS_RECOVERING_ERROR_MESSAGE.test(W.message)}function TA(W){return typeof W.code=="number"?BA.has(W.code):xA(W)?!1:r.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(W.message)}function ie(W){return!!(typeof W.code=="number"&&bA.has(W.code))}r.isNodeShuttingDownError=ie;function k(W){return W instanceof v||W==null?!0:xA(W)||TA(W)}r.isSDAMUnrecoverableError=k;function j(W){return!!(W instanceof M&&W.message.match(/timed out/))}r.isNetworkTimeoutError=j;function eA(W,O){return W==null||!(W instanceof t)?!1:W instanceof M?!0:O!=null&&O>=9?W.code===r.MONGODB_ERROR_CODES.CursorNotFound?!0:W.hasErrorLabel(r.MongoErrorLabel.ResumableChangeStreamError):typeof W.code=="number"?r.GET_MORE_RESUMABLE_CODES.has(W.code):!1}r.isResumableError=eA})(_A);var Ke={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ReadPreference=r.ReadPreferenceMode=void 0;const A=_A;r.ReadPreferenceMode=Object.freeze({primary:"primary",primaryPreferred:"primaryPreferred",secondary:"secondary",secondaryPreferred:"secondaryPreferred",nearest:"nearest"});class e{constructor(i,n,s){if(!e.isValid(i))throw new A.MongoInvalidArgumentError(`Invalid read preference mode ${JSON.stringify(i)}`);if(s==null&&typeof n=="object"&&!Array.isArray(n))s=n,n=void 0;else if(n&&!Array.isArray(n))throw new A.MongoInvalidArgumentError("ReadPreference tags must be an array");if(this.mode=i,this.tags=n,this.hedge=s==null?void 0:s.hedge,this.maxStalenessSeconds=void 0,this.minWireVersion=void 0,s=s??{},s.maxStalenessSeconds!=null){if(s.maxStalenessSeconds<=0)throw new A.MongoInvalidArgumentError("maxStalenessSeconds must be a positive integer");this.maxStalenessSeconds=s.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===e.PRIMARY){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new A.MongoInvalidArgumentError("Primary read preference cannot be combined with tags");if(this.maxStalenessSeconds)throw new A.MongoInvalidArgumentError("Primary read preference cannot be combined with maxStalenessSeconds");if(this.hedge)throw new A.MongoInvalidArgumentError("Primary read preference cannot be combined with hedge")}}get preference(){return this.mode}static fromString(i){return new e(i)}static fromOptions(i){var o;if(!i)return;const n=i.readPreference??((o=i.session)==null?void 0:o.transaction.options.readPreference),s=i.readPreferenceTags;if(n!=null){if(typeof n=="string")return new e(n,s,{maxStalenessSeconds:i.maxStalenessSeconds,hedge:i.hedge});if(!(n instanceof e)&&typeof n=="object"){const u=n.mode||n.preference;if(u&&typeof u=="string")return new e(u,n.tags??s,{maxStalenessSeconds:n.maxStalenessSeconds,hedge:i.hedge})}return s&&(n.tags=s),n}}static translate(i){if(i.readPreference==null)return i;const n=i.readPreference;if(typeof n=="string")i.readPreference=new e(n);else if(n&&!(n instanceof e)&&typeof n=="object"){const s=n.mode||n.preference;s&&typeof s=="string"&&(i.readPreference=new e(s,n.tags,{maxStalenessSeconds:n.maxStalenessSeconds}))}else if(!(n instanceof e))throw new A.MongoInvalidArgumentError(`Invalid read preference: ${n}`);return i}static isValid(i){return new Set([e.PRIMARY,e.PRIMARY_PREFERRED,e.SECONDARY,e.SECONDARY_PREFERRED,e.NEAREST,null]).has(i)}isValid(i){return e.isValid(typeof i=="string"?i:this.mode)}secondaryOk(){return new Set([e.PRIMARY_PREFERRED,e.SECONDARY,e.SECONDARY_PREFERRED,e.NEAREST]).has(this.mode)}equals(i){return i.mode===this.mode}toJSON(){const i={mode:this.mode};return Array.isArray(this.tags)&&(i.tags=this.tags),this.maxStalenessSeconds&&(i.maxStalenessSeconds=this.maxStalenessSeconds),this.hedge&&(i.hedge=this.hedge),i}}e.PRIMARY=r.ReadPreferenceMode.primary,e.PRIMARY_PREFERRED=r.ReadPreferenceMode.primaryPreferred,e.SECONDARY=r.ReadPreferenceMode.secondary,e.SECONDARY_PREFERRED=r.ReadPreferenceMode.secondaryPreferred,e.NEAREST=r.ReadPreferenceMode.nearest,e.primary=new e(r.ReadPreferenceMode.primary),e.primaryPreferred=new e(r.ReadPreferenceMode.primaryPreferred),e.secondary=new e(r.ReadPreferenceMode.secondary),e.secondaryPreferred=new e(r.ReadPreferenceMode.secondaryPreferred),e.nearest=new e(r.ReadPreferenceMode.nearest),r.ReadPreference=e})(Ke);var _u={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge._advanceClusterTime=ge.drainTimerQueue=ge.ServerType=ge.TopologyType=ge.STATE_CONNECTED=ge.STATE_CONNECTING=ge.STATE_CLOSED=ge.STATE_CLOSING=void 0;const _D=zA;ge.STATE_CLOSING="closing";ge.STATE_CLOSED="closed";ge.STATE_CONNECTING="connecting";ge.STATE_CONNECTED="connected";ge.TopologyType=Object.freeze({Single:"Single",ReplicaSetNoPrimary:"ReplicaSetNoPrimary",ReplicaSetWithPrimary:"ReplicaSetWithPrimary",Sharded:"Sharded",Unknown:"Unknown",LoadBalanced:"LoadBalanced"});ge.ServerType=Object.freeze({Standalone:"Standalone",Mongos:"Mongos",PossiblePrimary:"PossiblePrimary",RSPrimary:"RSPrimary",RSSecondary:"RSSecondary",RSArbiter:"RSArbiter",RSOther:"RSOther",RSGhost:"RSGhost",Unknown:"Unknown",LoadBalancer:"LoadBalancer"});function SD(r){r.forEach(_D.clearTimeout),r.clear()}ge.drainTimerQueue=SD;function vD(r,A){(r.clusterTime==null||A.clusterTime.greaterThan(r.clusterTime.clusterTime))&&(r.clusterTime=A)}ge._advanceClusterTime=vD;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.readPreferenceServerSelector=r.secondaryWritableServerSelector=r.sameServerSelector=r.writableServerSelector=r.MIN_SECONDARY_WRITE_WIRE_VERSION=void 0;const A=_A,e=Ke,t=ge,i=1e4,n=90;r.MIN_SECONDARY_WRITE_WIRE_VERSION=13;function s(){return(E,w)=>d(E,w.filter(L=>L.isWritable))}r.writableServerSelector=s;function o(E){return(w,L)=>E?L.filter(T=>T.address===E.address&&T.type!==t.ServerType.Unknown):[]}r.sameServerSelector=o;function u(E,w){return!w||!E||E&&E<r.MIN_SECONDARY_WRITE_WIRE_VERSION?m(e.ReadPreference.primary):m(w)}r.secondaryWritableServerSelector=u;function l(E,w,L){if(E.maxStalenessSeconds==null||E.maxStalenessSeconds<0)return L;const T=E.maxStalenessSeconds,R=(w.heartbeatFrequencyMS+i)/1e3;if(T<R)throw new A.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${R} seconds`);if(T<n)throw new A.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${n} seconds`);if(w.type===t.TopologyType.ReplicaSetWithPrimary){const P=Array.from(w.servers.values()).filter(f)[0];return L.reduce((F,H)=>{const b=(H.lastUpdateTime-H.lastWriteDate-(P.lastUpdateTime-P.lastWriteDate)+w.heartbeatFrequencyMS)/1e3,v=E.maxStalenessSeconds??0;return b<=v&&F.push(H),F},[])}if(w.type===t.TopologyType.ReplicaSetNoPrimary){if(L.length===0)return L;const P=L.reduce((F,H)=>H.lastWriteDate>F.lastWriteDate?H:F);return L.reduce((F,H)=>{const b=(P.lastWriteDate-H.lastWriteDate+w.heartbeatFrequencyMS)/1e3,v=E.maxStalenessSeconds??0;return b<=v&&F.push(H),F},[])}return L}function c(E,w){const L=Object.keys(E),T=Object.keys(w);for(let R=0;R<L.length;++R){const P=L[R];if(T.indexOf(P)===-1||w[P]!==E[P])return!1}return!0}function h(E,w){if(E.tags==null||Array.isArray(E.tags)&&E.tags.length===0)return w;for(let L=0;L<E.tags.length;++L){const T=E.tags[L],R=w.reduce((P,F)=>(c(T,F.tags)&&P.push(F),P),[]);if(R.length)return R}return[]}function d(E,w){const L=w.reduce((R,P)=>R===-1?P.roundTripTime:Math.min(P.roundTripTime,R),-1),T=L+E.localThresholdMS;return w.reduce((R,P)=>(P.roundTripTime<=T&&P.roundTripTime>=L&&R.push(P),R),[])}function f(E){return E.type===t.ServerType.RSPrimary}function p(E){return E.type===t.ServerType.RSSecondary}function y(E){return E.type===t.ServerType.RSSecondary||E.type===t.ServerType.RSPrimary}function _(E){return E.type!==t.ServerType.Unknown}function g(E){return E.type===t.ServerType.LoadBalancer}function m(E){if(!E.isValid())throw new A.MongoInvalidArgumentError("Invalid read preference specified");return(w,L)=>{const T=w.commonWireVersion;if(T&&E.minWireVersion&&E.minWireVersion>T)throw new A.MongoCompatibilityError(`Minimum wire version '${E.minWireVersion}' required, but found '${T}'`);if(w.type===t.TopologyType.LoadBalanced)return L.filter(g);if(w.type===t.TopologyType.Unknown)return[];if(w.type===t.TopologyType.Single||w.type===t.TopologyType.Sharded)return d(w,L.filter(_));const R=E.mode;if(R===e.ReadPreference.PRIMARY)return L.filter(f);if(R===e.ReadPreference.PRIMARY_PREFERRED){const H=L.filter(f);if(H.length)return H}const P=R===e.ReadPreference.NEAREST?y:p,F=d(w,h(E,l(E,w,L.filter(P))));return R===e.ReadPreference.SECONDARY_PREFERRED&&F.length===0?L.filter(f):F}}r.readPreferenceServerSelector=m})(_u);var PA={},JA={};Object.defineProperty(JA,"__esModule",{value:!0});JA.OP_MSG=JA.OP_COMPRESSED=JA.OP_DELETE=JA.OP_QUERY=JA.OP_INSERT=JA.OP_UPDATE=JA.OP_REPLY=JA.MIN_SUPPORTED_QE_SERVER_VERSION=JA.MIN_SUPPORTED_QE_WIRE_VERSION=JA.MAX_SUPPORTED_WIRE_VERSION=JA.MIN_SUPPORTED_WIRE_VERSION=JA.MAX_SUPPORTED_SERVER_VERSION=JA.MIN_SUPPORTED_SERVER_VERSION=void 0;JA.MIN_SUPPORTED_SERVER_VERSION="3.6";JA.MAX_SUPPORTED_SERVER_VERSION="7.0";JA.MIN_SUPPORTED_WIRE_VERSION=6;JA.MAX_SUPPORTED_WIRE_VERSION=21;JA.MIN_SUPPORTED_QE_WIRE_VERSION=21;JA.MIN_SUPPORTED_QE_SERVER_VERSION="7.0";JA.OP_REPLY=1;JA.OP_UPDATE=2001;JA.OP_INSERT=2002;JA.OP_QUERY=2004;JA.OP_DELETE=2006;JA.OP_COMPRESSED=2012;JA.OP_MSG=2013;var ut={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.TOPOLOGY_EVENTS=r.CMAP_EVENTS=r.HEARTBEAT_EVENTS=r.RESUME_TOKEN_CHANGED=r.END=r.CHANGE=r.INIT=r.MORE=r.RESPONSE=r.SERVER_HEARTBEAT_FAILED=r.SERVER_HEARTBEAT_SUCCEEDED=r.SERVER_HEARTBEAT_STARTED=r.COMMAND_FAILED=r.COMMAND_SUCCEEDED=r.COMMAND_STARTED=r.CLUSTER_TIME_RECEIVED=r.CONNECTION_CHECKED_IN=r.CONNECTION_CHECKED_OUT=r.CONNECTION_CHECK_OUT_FAILED=r.CONNECTION_CHECK_OUT_STARTED=r.CONNECTION_CLOSED=r.CONNECTION_READY=r.CONNECTION_CREATED=r.CONNECTION_POOL_READY=r.CONNECTION_POOL_CLEARED=r.CONNECTION_POOL_CLOSED=r.CONNECTION_POOL_CREATED=r.TOPOLOGY_DESCRIPTION_CHANGED=r.TOPOLOGY_CLOSED=r.TOPOLOGY_OPENING=r.SERVER_DESCRIPTION_CHANGED=r.SERVER_CLOSED=r.SERVER_OPENING=r.DESCRIPTION_RECEIVED=r.UNPINNED=r.PINNED=r.MESSAGE=r.ENDED=r.CLOSED=r.CONNECT=r.OPEN=r.CLOSE=r.TIMEOUT=r.ERROR=r.SYSTEM_JS_COLLECTION=r.SYSTEM_COMMAND_COLLECTION=r.SYSTEM_USER_COLLECTION=r.SYSTEM_PROFILE_COLLECTION=r.SYSTEM_INDEX_COLLECTION=r.SYSTEM_NAMESPACE_COLLECTION=void 0,r.LEGACY_HELLO_COMMAND_CAMEL_CASE=r.LEGACY_HELLO_COMMAND=r.MONGO_CLIENT_EVENTS=r.LOCAL_SERVER_EVENTS=r.SERVER_RELAY_EVENTS=r.APM_EVENTS=void 0,r.SYSTEM_NAMESPACE_COLLECTION="system.namespaces",r.SYSTEM_INDEX_COLLECTION="system.indexes",r.SYSTEM_PROFILE_COLLECTION="system.profile",r.SYSTEM_USER_COLLECTION="system.users",r.SYSTEM_COMMAND_COLLECTION="$cmd",r.SYSTEM_JS_COLLECTION="system.js",r.ERROR="error",r.TIMEOUT="timeout",r.CLOSE="close",r.OPEN="open",r.CONNECT="connect",r.CLOSED="closed",r.ENDED="ended",r.MESSAGE="message",r.PINNED="pinned",r.UNPINNED="unpinned",r.DESCRIPTION_RECEIVED="descriptionReceived",r.SERVER_OPENING="serverOpening",r.SERVER_CLOSED="serverClosed",r.SERVER_DESCRIPTION_CHANGED="serverDescriptionChanged",r.TOPOLOGY_OPENING="topologyOpening",r.TOPOLOGY_CLOSED="topologyClosed",r.TOPOLOGY_DESCRIPTION_CHANGED="topologyDescriptionChanged",r.CONNECTION_POOL_CREATED="connectionPoolCreated",r.CONNECTION_POOL_CLOSED="connectionPoolClosed",r.CONNECTION_POOL_CLEARED="connectionPoolCleared",r.CONNECTION_POOL_READY="connectionPoolReady",r.CONNECTION_CREATED="connectionCreated",r.CONNECTION_READY="connectionReady",r.CONNECTION_CLOSED="connectionClosed",r.CONNECTION_CHECK_OUT_STARTED="connectionCheckOutStarted",r.CONNECTION_CHECK_OUT_FAILED="connectionCheckOutFailed",r.CONNECTION_CHECKED_OUT="connectionCheckedOut",r.CONNECTION_CHECKED_IN="connectionCheckedIn",r.CLUSTER_TIME_RECEIVED="clusterTimeReceived",r.COMMAND_STARTED="commandStarted",r.COMMAND_SUCCEEDED="commandSucceeded",r.COMMAND_FAILED="commandFailed",r.SERVER_HEARTBEAT_STARTED="serverHeartbeatStarted",r.SERVER_HEARTBEAT_SUCCEEDED="serverHeartbeatSucceeded",r.SERVER_HEARTBEAT_FAILED="serverHeartbeatFailed",r.RESPONSE="response",r.MORE="more",r.INIT="init",r.CHANGE="change",r.END="end",r.RESUME_TOKEN_CHANGED="resumeTokenChanged",r.HEARTBEAT_EVENTS=Object.freeze([r.SERVER_HEARTBEAT_STARTED,r.SERVER_HEARTBEAT_SUCCEEDED,r.SERVER_HEARTBEAT_FAILED]),r.CMAP_EVENTS=Object.freeze([r.CONNECTION_POOL_CREATED,r.CONNECTION_POOL_READY,r.CONNECTION_POOL_CLEARED,r.CONNECTION_POOL_CLOSED,r.CONNECTION_CREATED,r.CONNECTION_READY,r.CONNECTION_CLOSED,r.CONNECTION_CHECK_OUT_STARTED,r.CONNECTION_CHECK_OUT_FAILED,r.CONNECTION_CHECKED_OUT,r.CONNECTION_CHECKED_IN]),r.TOPOLOGY_EVENTS=Object.freeze([r.SERVER_OPENING,r.SERVER_CLOSED,r.SERVER_DESCRIPTION_CHANGED,r.TOPOLOGY_OPENING,r.TOPOLOGY_CLOSED,r.TOPOLOGY_DESCRIPTION_CHANGED,r.ERROR,r.TIMEOUT,r.CLOSE]),r.APM_EVENTS=Object.freeze([r.COMMAND_STARTED,r.COMMAND_SUCCEEDED,r.COMMAND_FAILED]),r.SERVER_RELAY_EVENTS=Object.freeze([r.SERVER_HEARTBEAT_STARTED,r.SERVER_HEARTBEAT_SUCCEEDED,r.SERVER_HEARTBEAT_FAILED,r.COMMAND_STARTED,r.COMMAND_SUCCEEDED,r.COMMAND_FAILED,...r.CMAP_EVENTS]),r.LOCAL_SERVER_EVENTS=Object.freeze([r.CONNECT,r.DESCRIPTION_RECEIVED,r.CLOSED,r.ENDED]),r.MONGO_CLIENT_EVENTS=Object.freeze([...r.CMAP_EVENTS,...r.APM_EVENTS,...r.TOPOLOGY_EVENTS,...r.HEARTBEAT_EVENTS]),r.LEGACY_HELLO_COMMAND="ismaster",r.LEGACY_HELLO_COMMAND_CAMEL_CASE="isMaster"})(ut);var Mr={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ReadConcern=r.ReadConcernLevel=void 0,r.ReadConcernLevel=Object.freeze({local:"local",majority:"majority",linearizable:"linearizable",available:"available",snapshot:"snapshot"});class A{constructor(t){this.level=r.ReadConcernLevel[t]??t}static fromOptions(t){if(t!=null){if(t.readConcern){const{readConcern:i}=t;if(i instanceof A)return i;if(typeof i=="string")return new A(i);if("level"in i&&i.level)return new A(i.level)}if(t.level)return new A(t.level)}}static get MAJORITY(){return r.ReadConcernLevel.majority}static get AVAILABLE(){return r.ReadConcernLevel.available}static get LINEARIZABLE(){return r.ReadConcernLevel.linearizable}static get SNAPSHOT(){return r.ReadConcernLevel.snapshot}toJSON(){return{level:this.level}}}r.ReadConcern=A})(Mr);var at={};Object.defineProperty(at,"__esModule",{value:!0});at.WriteConcern=at.WRITE_CONCERN_KEYS=void 0;at.WRITE_CONCERN_KEYS=["w","wtimeout","j","journal","fsync"];class Ya{constructor(A,e,t,i){A!=null&&(Number.isNaN(Number(A))?this.w=A:this.w=Number(A)),e!=null&&(this.wtimeoutMS=this.wtimeout=e),t!=null&&(this.journal=this.j=t),i!=null&&(this.journal=this.j=!!i)}static apply(A,e){const t={};return e.w!=null&&(t.w=e.w),e.wtimeoutMS!=null&&(t.wtimeout=e.wtimeoutMS),e.journal!=null&&(t.j=e.j),A.writeConcern=t,A}static fromOptions(A,e){if(A==null)return;e=e??{};let t;typeof A=="string"||typeof A=="number"?t={w:A}:A instanceof Ya?t=A:t=A.writeConcern;const i=e instanceof Ya?e:e.writeConcern,{w:n=void 0,wtimeout:s=void 0,j:o=void 0,fsync:u=void 0,journal:l=void 0,wtimeoutMS:c=void 0}={...i,...t};if(n!=null||s!=null||c!=null||o!=null||l!=null||u!=null)return new Ya(n,s??c,o??l,u)}}at.WriteConcern=Ya;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DOCUMENT_DB_CHECK=r.TimeoutController=r.request=r.matchesParentDomain=r.parseUnsignedInteger=r.parseInteger=r.compareObjectId=r.commandSupportsReadConcern=r.shuffle=r.supportsRetryableWrites=r.enumToString=r.emitWarningOnce=r.emitWarning=r.MONGODB_WARNING_CODE=r.DEFAULT_PK_FACTORY=r.HostAddress=r.BufferPool=r.List=r.deepCopy=r.isRecord=r.setDifference=r.isHello=r.isSuperset=r.resolveOptions=r.hasAtomicOperators=r.calculateDurationInMs=r.now=r.makeStateMachine=r.errorStrictEqual=r.arrayStrictEqual=r.eachAsync=r.maxWireVersion=r.uuidV4=r.maybeCallback=r.makeCounter=r.MongoDBCollectionNamespace=r.MongoDBNamespace=r.ns=r.getTopology=r.decorateWithExplain=r.decorateWithReadConcern=r.decorateWithCollation=r.isPromiseLike=r.applyRetryableWrites=r.filterOptions=r.mergeOptions=r.isObject=r.normalizeHintField=r.hostMatchesWildcards=r.ByteUtils=void 0,r.isHostMatch=r.COSMOS_DB_MSG=r.DOCUMENT_DB_MSG=r.COSMOS_DB_CHECK=void 0;const A=zA,e=zA,t=zA,i=zA,n=zA,s=Ce,o=JA,u=ut,l=_A,c=Mr,h=Ke,d=ge,f=at;r.ByteUtils={toLocalBufferType(V){return Buffer.isBuffer(V)?V:Buffer.from(V.buffer,V.byteOffset,V.byteLength)},equals(V,$){return r.ByteUtils.toLocalBufferType(V).equals($)},compare(V,$){return r.ByteUtils.toLocalBufferType(V).compare($)},toBase64(V){return r.ByteUtils.toLocalBufferType(V).toString("base64")}};function p(V,$){for(const rA of $)if(V===rA||rA.startsWith("*.")&&(V!=null&&V.endsWith(rA.substring(2,rA.length)))||rA.startsWith("*/")&&(V!=null&&V.endsWith(rA.substring(2,rA.length))))return!0;return!1}r.hostMatchesWildcards=p;function y(V){let $;if(typeof V=="string")$=V;else if(Array.isArray(V))$={},V.forEach(rA=>{$[rA]=1});else if(V!=null&&typeof V=="object"){$={};for(const rA in V)$[rA]=V[rA]}return $}r.normalizeHintField=y;const _=V=>Object.prototype.toString.call(V);function g(V){return _(V)==="[object Object]"}r.isObject=g;function m(V,$){return{...V,...$}}r.mergeOptions=m;function E(V,$){const rA={};for(const SA in V)$.includes(SA)&&(rA[SA]=V[SA]);return rA}r.filterOptions=E;function w(V,$){var rA;return $&&((rA=$.s.options)!=null&&rA.retryWrites)&&(V.retryWrites=!0),V}r.applyRetryableWrites=w;function L(V){return!!V&&typeof V.then=="function"}r.isPromiseLike=L;function T(V,$,rA){const SA=F($).capabilities;if(rA.collation&&typeof rA.collation=="object")if(SA&&SA.commandsTakeCollation)V.collation=rA.collation;else throw new l.MongoCompatibilityError("Current topology does not support collation")}r.decorateWithCollation=T;function R(V,$,rA){if(rA&&rA.session&&rA.session.inTransaction())return;const SA=Object.assign({},V.readConcern||{});$.s.readConcern&&Object.assign(SA,$.s.readConcern),Object.keys(SA).length>0&&Object.assign(V,{readConcern:SA})}r.decorateWithReadConcern=R;function P(V,$){return V.explain?V:{explain:V,verbosity:$.verbosity}}r.decorateWithExplain=P;function F(V){if("topology"in V&&V.topology)return V.topology;if("client"in V&&V.client.topology)return V.client.topology;throw new l.MongoNotConnectedError("MongoClient must be connected to perform this operation")}r.getTopology=F;function H(V){return M.fromString(V)}r.ns=H;class M{constructor($,rA){this.db=$,this.collection=rA,this.collection=rA===""?void 0:rA}toString(){return this.collection?`${this.db}.${this.collection}`:this.db}withCollection($){return new b(this.db,$)}static fromString($){if(typeof $!="string"||$==="")throw new l.MongoRuntimeError(`Cannot parse namespace from "${$}"`);const[rA,...SA]=$.split("."),GA=SA.join(".");return new M(rA,GA===""?void 0:GA)}}r.MongoDBNamespace=M;class b extends M{constructor($,rA){super($,rA),this.collection=rA}static fromString($){return super.fromString($)}}r.MongoDBCollectionNamespace=b;function*v(V=0){let $=V;for(;;){const rA=$;$+=1,yield rA}}r.makeCounter=v;function C(V,$){const rA=V();if($==null)return rA;rA.then(SA=>$(void 0,SA),SA=>$(SA))}r.maybeCallback=C;function x(){const V=A.randomBytes(16);return V[6]=V[6]&15|64,V[8]=V[8]&63|128,V}r.uuidV4=x;function S(V){if(V){if(V.loadBalanced)return o.MAX_SUPPORTED_WIRE_VERSION;if(V.hello)return V.hello.maxWireVersion;if("lastHello"in V&&typeof V.lastHello=="function"){const $=V.lastHello();if($)return $.maxWireVersion}if(V.description&&"maxWireVersion"in V.description&&V.description.maxWireVersion!=null)return V.description.maxWireVersion}return 0}r.maxWireVersion=S;function B(V,$,rA){V=V||[];let SA=0,GA=0;for(SA=0;SA<V.length;++SA)GA++,$(V[SA],xe);if(GA===0){rA();return}function xe(ZA){if(GA--,ZA){rA(ZA);return}SA===V.length&&GA<=0&&rA()}}r.eachAsync=B;function D(V,$){return!Array.isArray(V)||!Array.isArray($)?!1:V.length===$.length&&V.every((rA,SA)=>rA===$[SA])}r.arrayStrictEqual=D;function Q(V,$){return V===$?!0:!V||!$?V===$:!(V==null&&$!=null||V!=null&&$==null||V.constructor.name!==$.constructor.name||V.message!==$.message)}r.errorStrictEqual=Q;function Z(V){return function(rA,SA){const GA=V[rA.s.state];if(GA&&GA.indexOf(SA)<0)throw new l.MongoRuntimeError(`illegal state transition from [${rA.s.state}] => [${SA}], allowed: [${GA}]`);rA.emit("stateChanged",rA.s.state,SA),rA.s.state=SA}}r.makeStateMachine=Z;function AA(){const V=process.hrtime();return Math.floor(V[0]*1e3+V[1]/1e6)}r.now=AA;function Y(V){if(typeof V!="number")throw new l.MongoInvalidArgumentError("Numeric value required to calculate duration");const $=AA()-V;return $<0?0:$}r.calculateDurationInMs=Y;function G(V){if(Array.isArray(V)){for(const rA of V)if(G(rA))return!0;return!1}const $=Object.keys(V);return $.length>0&&$[0][0]==="$"}r.hasAtomicOperators=G;function X(V,$){const rA=Object.assign({},$,(0,s.resolveBSONOptions)($,V)),SA=$==null?void 0:$.session;if(!(SA!=null&&SA.inTransaction())){const xe=c.ReadConcern.fromOptions($)??(V==null?void 0:V.readConcern);xe&&(rA.readConcern=xe);const ZA=f.WriteConcern.fromOptions($)??(V==null?void 0:V.writeConcern);ZA&&(rA.writeConcern=ZA)}const GA=h.ReadPreference.fromOptions($)??(V==null?void 0:V.readPreference);return GA&&(rA.readPreference=GA),rA}r.resolveOptions=X;function nA(V,$){V=Array.isArray(V)?new Set(V):V,$=Array.isArray($)?new Set($):$;for(const rA of $)if(!V.has(rA))return!1;return!0}r.isSuperset=nA;function lA(V){return!!(V[u.LEGACY_HELLO_COMMAND]||V.hello)}r.isHello=lA;function vA(V,$){const rA=new Set(V);for(const SA of $)rA.delete(SA);return rA}r.setDifference=vA;const BA=(V,$)=>Object.prototype.hasOwnProperty.call(V,$);function bA(V,$=void 0){if(!g(V))return!1;const rA=V.constructor;if(rA&&rA.prototype&&(!g(rA.prototype)||!BA(rA.prototype,"isPrototypeOf")))return!1;if($){const SA=Object.keys(V);return nA(SA,$)}return!0}r.isRecord=bA;function xA(V){if(V==null)return V;if(Array.isArray(V))return V.map(rA=>xA(rA));if(bA(V)){const rA={};for(const SA in V)rA[SA]=xA(V[SA]);return rA}const $=V.constructor;if($)switch($.name.toLowerCase()){case"date":return new $(Number(V));case"map":return new Map(V);case"set":return new Set(V);case"buffer":return Buffer.from(V)}return V}r.deepCopy=xA;class TA{get length(){return this.count}get[Symbol.toStringTag](){return"List"}constructor(){this.count=0,this.head={next:null,prev:null,value:null},this.head.next=this.head,this.head.prev=this.head}toArray(){return Array.from(this)}toString(){return`head <=> ${this.toArray().join(" <=> ")} <=> head`}*[Symbol.iterator](){for(const $ of this.nodes())yield $.value}*nodes(){let $=this.head.next;for(;$!==this.head;){const{next:rA}=$;yield $,$=rA}}push($){this.count+=1;const rA={next:this.head,prev:this.head.prev,value:$};this.head.prev.next=rA,this.head.prev=rA}pushMany($){for(const rA of $)this.push(rA)}unshift($){this.count+=1;const rA={next:this.head.next,prev:this.head,value:$};this.head.next.prev=rA,this.head.next=rA}remove($){if($===this.head||this.length===0)return null;this.count-=1;const rA=$.prev,SA=$.next;return rA.next=SA,SA.prev=rA,$.value}shift(){return this.remove(this.head.next)}pop(){return this.remove(this.head.prev)}prune($){for(const rA of this.nodes())$(rA.value)&&this.remove(rA)}clear(){this.count=0,this.head.next=this.head,this.head.prev=this.head}first(){return this.head.next.value}last(){return this.head.prev.value}}r.List=TA;class ie{constructor(){this.buffers=new TA,this.totalByteLength=0}get length(){return this.totalByteLength}append($){this.buffers.push($),this.totalByteLength+=$.length}getInt32(){if(this.totalByteLength<4)return null;const $=this.buffers.first();if($!=null&&$.byteLength>=4)return $.readInt32LE(0);const rA=this.read(4),SA=rA.readInt32LE(0);return this.totalByteLength+=4,this.buffers.unshift(rA),SA}read($){if(typeof $!="number"||$<0)throw new l.MongoInvalidArgumentError('Argument "size" must be a non-negative number');if($>this.totalByteLength)return Buffer.alloc(0);const rA=Buffer.allocUnsafe($);for(let SA=0;SA<$;){const GA=this.buffers.shift();if(GA==null)break;const xe=$-SA,ZA=Math.min(xe,GA.byteLength),Mt=GA.subarray(0,ZA);rA.set(Mt,SA),SA+=ZA,this.totalByteLength-=ZA,ZA<GA.byteLength&&this.buffers.unshift(GA.subarray(ZA))}return rA}}r.BufferPool=ie;class k{constructor($){this.host=void 0,this.port=void 0,this.socketPath=void 0,this.isIPv6=!1;const rA=$.split(" ").join("%20");if(rA.endsWith(".sock")){this.socketPath=decodeURIComponent(rA);return}const SA=`iLoveJS://${rA}`;let GA;try{GA=new n.URL(SA)}catch(He){const Ar=new l.MongoRuntimeError(`Unable to parse ${rA} with URL`);throw Ar.cause=He,Ar}const xe=GA.hostname,ZA=GA.port;let Mt=decodeURIComponent(xe).toLowerCase();if(Mt.startsWith("[")&&Mt.endsWith("]")&&(this.isIPv6=!0,Mt=Mt.substring(1,xe.length-1)),this.host=Mt.toLowerCase(),typeof ZA=="number"?this.port=ZA:typeof ZA=="string"&&ZA!==""?this.port=Number.parseInt(ZA,10):this.port=27017,this.port===0)throw new l.MongoParseError("Invalid port (zero) with hostname");Object.freeze(this)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new HostAddress('${this.toString()}')`}toString(){return typeof this.host=="string"?this.isIPv6?`[${this.host}]:${this.port}`:`${this.host}:${this.port}`:`${this.socketPath}`}static fromString($){return new k($)}static fromHostPort($,rA){return $.includes(":")&&($=`[${$}]`),k.fromString(`${$}:${rA}`)}static fromSrvRecord({name:$,port:rA}){return k.fromHostPort($,rA)}toHostPort(){if(this.socketPath)return{host:this.socketPath,port:0};const $=this.host??"",rA=this.port??0;return{host:$,port:rA}}}r.HostAddress=k,r.DEFAULT_PK_FACTORY={createPk(){return new s.ObjectId}},r.MONGODB_WARNING_CODE="MONGODB DRIVER";function j(V){return process.emitWarning(V,{code:r.MONGODB_WARNING_CODE})}r.emitWarning=j;const eA=new Set;function W(V){if(!eA.has(V))return eA.add(V),j(V)}r.emitWarningOnce=W;function O(V){return Object.values(V).join(", ")}r.enumToString=O;function N(V){return V?!!(V.loadBalanced||V.description.logicalSessionTimeoutMinutes!=null&&V.description.type!==d.ServerType.Standalone):!1}r.supportsRetryableWrites=N;function z(V,$=0){const rA=Array.from(V);if($>rA.length)throw new l.MongoRuntimeError("Limit must be less than the number of items");let SA=rA.length;const GA=$%rA.length===0?1:rA.length-$;for(;SA>GA;){const xe=Math.floor(Math.random()*SA);SA-=1;const ZA=rA[SA];rA[SA]=rA[xe],rA[xe]=ZA}return $%rA.length===0?rA:rA.slice(GA)}r.shuffle=z;function tA(V){return!!(V.aggregate||V.count||V.distinct||V.find||V.geoNear)}r.commandSupportsReadConcern=tA;function aA(V,$){return V==null&&$==null?0:V==null?-1:$==null?1:r.ByteUtils.compare(V.id,$.id)}r.compareObjectId=aA;function uA(V){if(typeof V=="number")return Math.trunc(V);const $=Number.parseInt(String(V),10);return Number.isNaN($)?null:$}r.parseInteger=uA;function gA(V){const $=uA(V);return $!=null&&$>=0?$:null}r.parseUnsignedInteger=gA;function DA(V,$){const rA=V.endsWith(".")?V.slice(0,V.length-1):V,SA=$.endsWith(".")?$.slice(0,$.length-1):$,GA=/^.*?\./,xe=`.${rA.replace(GA,"")}`,ZA=`.${SA.replace(GA,"")}`;return xe.endsWith(ZA)}r.matchesParentDomain=DA;async function wA(V,$={}){return new Promise((rA,SA)=>{const GA={method:"GET",timeout:1e4,json:!0,...i.parse(V),...$},xe=e.request(GA,ZA=>{ZA.setEncoding("utf8");let Mt="";ZA.on("data",He=>{Mt+=He}),ZA.once("end",()=>{if($.json===!1){rA(Mt);return}try{const He=JSON.parse(Mt);rA(He)}catch{SA(new l.MongoRuntimeError(`Invalid JSON response: "${Mt}"`))}})});xe.once("timeout",()=>xe.destroy(new l.MongoNetworkTimeoutError(`Network request to ${V} timed out after ${$.timeout} ms`))),xe.once("error",ZA=>SA(ZA)),xe.end()})}r.request=wA;class FA extends AbortController{constructor($=0,rA=$>0?(0,t.setTimeout)(()=>this.abort(),$):null){super(),this.timeoutId=rA}clear(){this.timeoutId!=null&&(0,t.clearTimeout)(this.timeoutId),this.timeoutId=null}}r.TimeoutController=FA,r.DOCUMENT_DB_CHECK=/(\.docdb\.amazonaws\.com$)|(\.docdb-elastic\.amazonaws\.com$)/,r.COSMOS_DB_CHECK=/\.cosmos\.azure\.com$/,r.DOCUMENT_DB_MSG="You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb",r.COSMOS_DB_MSG="You appear to be connected to a CosmosDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/cosmosdb";function VA(V,$){return!!($&&V.test($.toLowerCase()))}r.isHostMatch=VA})(PA);var le={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.defineAspects=r.AbstractOperation=r.Aspect=void 0;const A=Ce,e=Ke;r.Aspect={READ_OPERATION:Symbol("READ_OPERATION"),WRITE_OPERATION:Symbol("WRITE_OPERATION"),RETRYABLE:Symbol("RETRYABLE"),EXPLAINABLE:Symbol("EXPLAINABLE"),SKIP_COLLATION:Symbol("SKIP_COLLATION"),CURSOR_CREATING:Symbol("CURSOR_CREATING"),MUST_SELECT_SAME_SERVER:Symbol("MUST_SELECT_SAME_SERVER")};const t=Symbol("session");class i{constructor(o={}){this.readPreference=this.hasAspect(r.Aspect.WRITE_OPERATION)?e.ReadPreference.primary:e.ReadPreference.fromOptions(o)??e.ReadPreference.primary,this.bsonOptions=(0,A.resolveBSONOptions)(o),this[t]=o.session!=null?o.session:void 0,this.options=o,this.bypassPinningCheck=!!o.bypassPinningCheck,this.trySecondaryWrite=!1}hasAspect(o){const u=this.constructor;return u.aspects==null?!1:u.aspects.has(o)}get session(){return this[t]}clearSession(){this[t]=void 0}get canRetryRead(){return!0}get canRetryWrite(){return!0}}r.AbstractOperation=i;function n(s,o){return!Array.isArray(o)&&!(o instanceof Set)&&(o=[o]),o=new Set(o),Object.defineProperty(s,"aspects",{value:o,writable:!1}),o}r.defineAspects=n})(le);Object.defineProperty(Dt,"__esModule",{value:!0});Dt.executeOperation=void 0;const _t=_A,a2=Ke,u2=_u,D0=PA,xn=le,wD=_t.MONGODB_ERROR_CODES.IllegalOperation,l2="This MongoDB deployment does not support retryable writes. Please add retryWrites=false to your connection string.";function bD(r,A,e){return(0,D0.maybeCallback)(()=>ID(r,A),e)}Dt.executeOperation=bD;async function ID(r,A){var p;if(!(A instanceof xn.AbstractOperation))throw new _t.MongoRuntimeError("This method requires a valid operation instance");if(r.topology==null){if(r.s.hasBeenClosed)throw new _t.MongoNotConnectedError("Client must be connected before running operations");r.s.options[Symbol.for("@@mdb.skipPingOnConnect")]=!0;try{await r.connect()}finally{delete r.s.options[Symbol.for("@@mdb.skipPingOnConnect")]}}const{topology:e}=r;if(e==null)throw new _t.MongoRuntimeError("client.connect did not create a topology but also did not throw");let t=A.session,i;if(t==null)i=Symbol(),t=r.startSession({owner:i,explicit:!1});else{if(t.hasEnded)throw new _t.MongoExpiredSessionError("Use of expired sessions is not permitted");if(t.snapshotEnabled&&!e.capabilities.supportsSnapshotReads)throw new _t.MongoCompatibilityError("Snapshot reads require MongoDB 5.0 or later");if(t.client!==r)throw new _t.MongoInvalidArgumentError("ClientSession must be from the same MongoClient")}const n=A.readPreference??a2.ReadPreference.primary,s=!!(t!=null&&t.inTransaction());if(s&&!n.equals(a2.ReadPreference.primary))throw new _t.MongoTransactionError(`Read preference in a transaction must be primary, not: ${n.mode}`);t!=null&&t.isPinned&&t.transaction.isCommitted&&!A.bypassPinningCheck&&t.unpin();let o;A.hasAspect(xn.Aspect.MUST_SELECT_SAME_SERVER)?o=(0,u2.sameServerSelector)((p=A.server)==null?void 0:p.description):A.trySecondaryWrite?o=(0,u2.secondaryWritableServerSelector)(e.commonWireVersion,n):o=n;const u=await e.selectServerAsync(o,{session:t});if(t==null)return A.execute(u,void 0);if(!A.hasAspect(xn.Aspect.RETRYABLE))try{return await A.execute(u,t)}finally{(t==null?void 0:t.owner)!=null&&t.owner===i&&await t.endSession().catch(()=>null)}const l=e.s.options.retryReads&&!s&&A.canRetryRead,c=e.s.options.retryWrites&&!s&&(0,D0.supportsRetryableWrites)(u)&&A.canRetryWrite,h=A.hasAspect(xn.Aspect.READ_OPERATION),d=A.hasAspect(xn.Aspect.WRITE_OPERATION),f=h&&l||d&&c;d&&c&&(A.options.willRetryWrite=!0,t.incrementTransactionNumber());try{return await A.execute(u,t)}catch(y){if(f&&y instanceof _t.MongoError)return await BD(A,y,{session:t,topology:e,selector:o});throw y}finally{(t==null?void 0:t.owner)!=null&&t.owner===i&&await t.endSession().catch(()=>null)}}async function BD(r,A,{session:e,topology:t,selector:i}){const n=r.hasAspect(xn.Aspect.WRITE_OPERATION),s=r.hasAspect(xn.Aspect.READ_OPERATION);if(n&&A.code===wD)throw new _t.MongoServerError({message:l2,errmsg:l2,originalError:A});if(n&&!(0,_t.isRetryableWriteError)(A)||s&&!(0,_t.isRetryableReadError)(A))throw A;A instanceof _t.MongoNetworkError&&e.isPinned&&!e.inTransaction()&&r.hasAspect(xn.Aspect.CURSOR_CREATING)&&e.unpin({force:!0,forceClear:!0});const o=await t.selectServerAsync(i,{session:e});if(n&&!(0,D0.supportsRetryableWrites)(o))throw new _t.MongoUnexpectedServerResponseError("Selected server does not support retryable writes");try{return await r.execute(o,e)}catch(u){throw u instanceof _t.MongoError&&u.hasErrorLabel(_t.MongoErrorLabel.NoWritesPerformed)?A:u}}var f1={},De={},x0={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Explain=r.ExplainVerbosity=void 0;const A=_A;r.ExplainVerbosity=Object.freeze({queryPlanner:"queryPlanner",queryPlannerExtended:"queryPlannerExtended",executionStats:"executionStats",allPlansExecution:"allPlansExecution"});class e{constructor(i){typeof i=="boolean"?this.verbosity=i?r.ExplainVerbosity.allPlansExecution:r.ExplainVerbosity.queryPlanner:this.verbosity=i}static fromOptions(i){if((i==null?void 0:i.explain)==null)return;const n=i.explain;if(typeof n=="boolean"||typeof n=="string")return new e(n);throw new A.MongoInvalidArgumentError('Field "explain" must be a string or a boolean')}}r.Explain=e})(x0);Object.defineProperty(De,"__esModule",{value:!0});De.CommandOperation=void 0;const TD=_A,DD=x0,xD=Mr,OD=_u,_a=PA,c2=at,ao=le;class MD extends ao.AbstractOperation{constructor(A,e){super(e),this.options=e??{};const t=(e==null?void 0:e.dbName)||(e==null?void 0:e.authdb);if(t?this.ns=new _a.MongoDBNamespace(t,"$cmd"):this.ns=A?A.s.namespace.withCollection("$cmd"):new _a.MongoDBNamespace("admin","$cmd"),this.readConcern=xD.ReadConcern.fromOptions(e),this.writeConcern=c2.WriteConcern.fromOptions(e),this.hasAspect(ao.Aspect.EXPLAINABLE))this.explain=DD.Explain.fromOptions(e);else if((e==null?void 0:e.explain)!=null)throw new TD.MongoInvalidArgumentError('Option "explain" is not supported on this command')}get canRetryWrite(){return this.hasAspect(ao.Aspect.EXPLAINABLE)?this.explain==null:!0}async executeCommand(A,e,t){this.server=A;const i={...this.options,...this.bsonOptions,readPreference:this.readPreference,session:e},n=(0,_a.maxWireVersion)(A),s=this.session&&this.session.inTransaction();return this.readConcern&&(0,_a.commandSupportsReadConcern)(t)&&!s&&Object.assign(t,{readConcern:this.readConcern}),this.trySecondaryWrite&&n<OD.MIN_SECONDARY_WRITE_WIRE_VERSION&&(i.omitReadPreference=!0),this.writeConcern&&this.hasAspect(ao.Aspect.WRITE_OPERATION)&&!s&&c2.WriteConcern.apply(t,this.writeConcern),i.collation&&typeof i.collation=="object"&&!this.hasAspect(ao.Aspect.SKIP_COLLATION)&&Object.assign(t,{collation:i.collation}),typeof i.maxTimeMS=="number"&&(t.maxTimeMS=i.maxTimeMS),this.hasAspect(ao.Aspect.EXPLAINABLE)&&this.explain&&(t=(0,_a.decorateWithExplain)(t,this.explain)),A.commandAsync(this.ns,t,i)}}De.CommandOperation=MD;Object.defineProperty(f1,"__esModule",{value:!0});f1.ListDatabasesOperation=void 0;const h2=PA,RD=De,qh=le;class AE extends RD.CommandOperation{constructor(A,e){super(A,e),this.options=e??{},this.ns=new h2.MongoDBNamespace("admin","$cmd")}async execute(A,e){const t={listDatabases:1};return typeof this.options.nameOnly=="boolean"&&(t.nameOnly=this.options.nameOnly),this.options.filter&&(t.filter=this.options.filter),typeof this.options.authorizedDatabases=="boolean"&&(t.authorizedDatabases=this.options.authorizedDatabases),(0,h2.maxWireVersion)(A)>=9&&this.options.comment!==void 0&&(t.comment=this.options.comment),super.executeCommand(A,e,t)}}f1.ListDatabasesOperation=AE;(0,qh.defineAspects)(AE,[qh.Aspect.READ_OPERATION,qh.Aspect.RETRYABLE]);var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.RemoveUserOperation=void 0;const PD=De,d2=le;class eE extends PD.CommandOperation{constructor(A,e,t){super(A,t),this.options=t,this.username=e}async execute(A,e){return await super.executeCommand(A,e,{dropUser:this.username}),!0}}Su.RemoveUserOperation=eE;(0,d2.defineAspects)(eE,[d2.Aspect.WRITE_OPERATION]);var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.RunAdminCommandOperation=Di.RunCommandOperation=void 0;const FD=PA,tE=le;class ND extends tE.AbstractOperation{constructor(A,e,t){super(t),this.command=e,this.options=t,this.ns=A.s.namespace.withCollection("$cmd")}async execute(A,e){return this.server=A,A.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:e})}}Di.RunCommandOperation=ND;class LD extends tE.AbstractOperation{constructor(A,e){super(e),this.command=A,this.options=e,this.ns=new FD.MongoDBNamespace("admin","$cmd")}async execute(A,e){return this.server=A,A.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:e})}}Di.RunAdminCommandOperation=LD;var p1={};Object.defineProperty(p1,"__esModule",{value:!0});p1.ValidateCollectionOperation=void 0;const Xh=_A,UD=De;class kD extends UD.CommandOperation{constructor(A,e,t){const i={validate:e},n=Object.keys(t);for(let s=0;s<n.length;s++)Object.prototype.hasOwnProperty.call(t,n[s])&&n[s]!=="session"&&(i[n[s]]=t[n[s]]);super(A.s.db,t),this.options=t,this.command=i,this.collectionName=e}async execute(A,e){const t=this.collectionName,i=await super.executeCommand(A,e,this.command);if(i.result!=null&&typeof i.result!="string")throw new Xh.MongoUnexpectedServerResponseError("Error with validation data");if(i.result!=null&&i.result.match(/exception|corrupt/)!=null)throw new Xh.MongoUnexpectedServerResponseError(`Invalid collection ${t}`);if(i.valid!=null&&!i.valid)throw new Xh.MongoUnexpectedServerResponseError(`Invalid collection ${t}`);return i}}p1.ValidateCollectionOperation=kD;Object.defineProperty(Eu,"__esModule",{value:!0});Eu.Admin=void 0;const zD=Ce,Al=Dt,GD=f1,VD=Su,QD=Di,HD=p1;class jD{constructor(A){this.s={db:A}}async command(A,e){return(0,Al.executeOperation)(this.s.db.client,new QD.RunAdminCommandOperation(A,{...(0,zD.resolveBSONOptions)(e),session:e==null?void 0:e.session,readPreference:e==null?void 0:e.readPreference}))}async buildInfo(A){return this.command({buildinfo:1},A)}async serverInfo(A){return this.command({buildinfo:1},A)}async serverStatus(A){return this.command({serverStatus:1},A)}async ping(A){return this.command({ping:1},A)}async removeUser(A,e){return(0,Al.executeOperation)(this.s.db.client,new VD.RemoveUserOperation(this.s.db,A,{dbName:"admin",...e}))}async validateCollection(A,e={}){return(0,Al.executeOperation)(this.s.db.client,new HD.ValidateCollectionOperation(this,A,e))}async listDatabases(A){return(0,Al.executeOperation)(this.s.db.client,new GD.ListDatabasesOperation(this.s.db,A))}async replSetGetStatus(A){return this.command({replSetGetStatus:1},A)}}Eu.Admin=jD;var vu={},cu={},Fr={},rE={},iE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var A={},e=Symbol("test"),t=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;var i=42;A[e]=i;for(e in A)return!1;if(typeof Object.keys=="function"&&Object.keys(A).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(A).length!==0)return!1;var n=Object.getOwnPropertySymbols(A);if(n.length!==1||n[0]!==e||!Object.prototype.propertyIsEnumerable.call(A,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(A,e);if(s.value!==i||s.enumerable!==!0)return!1}return!0},WD=iE,O0=function(){return WD()&&!!Symbol.toStringTag},YD=Error,$D=EvalError,KD=RangeError,qD=ReferenceError,nE=SyntaxError,g1=TypeError,XD=URIError,f2=typeof Symbol<"u"&&Symbol,JD=iE,ZD=function(){return typeof f2!="function"||typeof Symbol!="function"||typeof f2("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:JD()},Jh={__proto__:null,foo:{}},Ax=Object,ex=function(){return{__proto__:Jh}.foo===Jh.foo&&!(Jh instanceof Ax)},tx="Function.prototype.bind called on incompatible ",rx=Object.prototype.toString,ix=Math.max,nx="[object Function]",p2=function(A,e){for(var t=[],i=0;i<A.length;i+=1)t[i]=A[i];for(var n=0;n<e.length;n+=1)t[n+A.length]=e[n];return t},sx=function(A,e){for(var t=[],i=e||0,n=0;i<A.length;i+=1,n+=1)t[n]=A[i];return t},ox=function(r,A){for(var e="",t=0;t<r.length;t+=1)e+=r[t],t+1<r.length&&(e+=A);return e},ax=function(A){var e=this;if(typeof e!="function"||rx.apply(e)!==nx)throw new TypeError(tx+e);for(var t=sx(arguments,1),i,n=function(){if(this instanceof i){var c=e.apply(this,p2(t,arguments));return Object(c)===c?c:this}return e.apply(A,p2(t,arguments))},s=ix(0,e.length-t.length),o=[],u=0;u<s;u++)o[u]="$"+u;if(i=Function("binder","return function ("+ox(o,",")+"){ return binder.apply(this,arguments); }")(n),e.prototype){var l=function(){};l.prototype=e.prototype,i.prototype=new l,l.prototype=null}return i},ux=ax,M0=Function.prototype.bind||ux,lx=Function.prototype.call,cx=Object.prototype.hasOwnProperty,hx=M0,dx=hx.call(lx,cx),HA,fx=YD,px=$D,gx=KD,mx=qD,ea=nE,Uo=g1,yx=XD,sE=Function,Zh=function(r){try{return sE('"use strict"; return ('+r+").constructor;")()}catch{}},Fs=Object.getOwnPropertyDescriptor;if(Fs)try{Fs({},"")}catch{Fs=null}var Ad=function(){throw new Uo},Ex=Fs?function(){try{return arguments.callee,Ad}catch{try{return Fs(arguments,"callee").get}catch{return Ad}}}():Ad,uo=ZD(),Cx=ex(),tt=Object.getPrototypeOf||(Cx?function(r){return r.__proto__}:null),po={},_x=typeof Uint8Array>"u"||!tt?HA:tt(Uint8Array),Ns={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?HA:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?HA:ArrayBuffer,"%ArrayIteratorPrototype%":uo&&tt?tt([][Symbol.iterator]()):HA,"%AsyncFromSyncIteratorPrototype%":HA,"%AsyncFunction%":po,"%AsyncGenerator%":po,"%AsyncGeneratorFunction%":po,"%AsyncIteratorPrototype%":po,"%Atomics%":typeof Atomics>"u"?HA:Atomics,"%BigInt%":typeof BigInt>"u"?HA:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?HA:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?HA:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?HA:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":fx,"%eval%":eval,"%EvalError%":px,"%Float32Array%":typeof Float32Array>"u"?HA:Float32Array,"%Float64Array%":typeof Float64Array>"u"?HA:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?HA:FinalizationRegistry,"%Function%":sE,"%GeneratorFunction%":po,"%Int8Array%":typeof Int8Array>"u"?HA:Int8Array,"%Int16Array%":typeof Int16Array>"u"?HA:Int16Array,"%Int32Array%":typeof Int32Array>"u"?HA:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":uo&&tt?tt(tt([][Symbol.iterator]())):HA,"%JSON%":typeof JSON=="object"?JSON:HA,"%Map%":typeof Map>"u"?HA:Map,"%MapIteratorPrototype%":typeof Map>"u"||!uo||!tt?HA:tt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?HA:Promise,"%Proxy%":typeof Proxy>"u"?HA:Proxy,"%RangeError%":gx,"%ReferenceError%":mx,"%Reflect%":typeof Reflect>"u"?HA:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?HA:Set,"%SetIteratorPrototype%":typeof Set>"u"||!uo||!tt?HA:tt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?HA:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":uo&&tt?tt(""[Symbol.iterator]()):HA,"%Symbol%":uo?Symbol:HA,"%SyntaxError%":ea,"%ThrowTypeError%":Ex,"%TypedArray%":_x,"%TypeError%":Uo,"%Uint8Array%":typeof Uint8Array>"u"?HA:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?HA:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?HA:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?HA:Uint32Array,"%URIError%":yx,"%WeakMap%":typeof WeakMap>"u"?HA:WeakMap,"%WeakRef%":typeof WeakRef>"u"?HA:WeakRef,"%WeakSet%":typeof WeakSet>"u"?HA:WeakSet};if(tt)try{null.error}catch(r){var Sx=tt(tt(r));Ns["%Error.prototype%"]=Sx}var vx=function r(A){var e;if(A==="%AsyncFunction%")e=Zh("async function () {}");else if(A==="%GeneratorFunction%")e=Zh("function* () {}");else if(A==="%AsyncGeneratorFunction%")e=Zh("async function* () {}");else if(A==="%AsyncGenerator%"){var t=r("%AsyncGeneratorFunction%");t&&(e=t.prototype)}else if(A==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&tt&&(e=tt(i.prototype))}return Ns[A]=e,e},g2={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wu=M0,Cc=dx,wx=wu.call(Function.call,Array.prototype.concat),bx=wu.call(Function.apply,Array.prototype.splice),m2=wu.call(Function.call,String.prototype.replace),_c=wu.call(Function.call,String.prototype.slice),Ix=wu.call(Function.call,RegExp.prototype.exec),Bx=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Tx=/\\(\\)?/g,Dx=function(A){var e=_c(A,0,1),t=_c(A,-1);if(e==="%"&&t!=="%")throw new ea("invalid intrinsic syntax, expected closing `%`");if(t==="%"&&e!=="%")throw new ea("invalid intrinsic syntax, expected opening `%`");var i=[];return m2(A,Bx,function(n,s,o,u){i[i.length]=o?m2(u,Tx,"$1"):s||n}),i},xx=function(A,e){var t=A,i;if(Cc(g2,t)&&(i=g2[t],t="%"+i[0]+"%"),Cc(Ns,t)){var n=Ns[t];if(n===po&&(n=vx(t)),typeof n>"u"&&!e)throw new Uo("intrinsic "+A+" exists, but is not available. Please file an issue!");return{alias:i,name:t,value:n}}throw new ea("intrinsic "+A+" does not exist!")},bu=function(A,e){if(typeof A!="string"||A.length===0)throw new Uo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Uo('"allowMissing" argument must be a boolean');if(Ix(/^%?[^%]*%?$/,A)===null)throw new ea("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var t=Dx(A),i=t.length>0?t[0]:"",n=xx("%"+i+"%",e),s=n.name,o=n.value,u=!1,l=n.alias;l&&(i=l[0],bx(t,wx([0,1],l)));for(var c=1,h=!0;c<t.length;c+=1){var d=t[c],f=_c(d,0,1),p=_c(d,-1);if((f==='"'||f==="'"||f==="`"||p==='"'||p==="'"||p==="`")&&f!==p)throw new ea("property names with quotes must have matching quotes");if((d==="constructor"||!h)&&(u=!0),i+="."+d,s="%"+i+"%",Cc(Ns,s))o=Ns[s];else if(o!=null){if(!(d in o)){if(!e)throw new Uo("base intrinsic for "+A+" exists, but the property is not available.");return}if(Fs&&c+1>=t.length){var y=Fs(o,d);h=!!y,h&&"get"in y&&!("originalValue"in y.get)?o=y.get:o=o[d]}else h=Cc(o,d),o=o[d];h&&!u&&(Ns[s]=o)}}return o},oE={exports:{}},ed,y2;function R0(){if(y2)return ed;y2=1;var r=bu,A=r("%Object.defineProperty%",!0)||!1;if(A)try{A({},"a",{value:1})}catch{A=!1}return ed=A,ed}var Ox=bu,Dl=Ox("%Object.getOwnPropertyDescriptor%",!0);if(Dl)try{Dl([],"length")}catch{Dl=null}var P0=Dl,E2=R0(),Mx=nE,lo=g1,C2=P0,Rx=function(A,e,t){if(!A||typeof A!="object"&&typeof A!="function")throw new lo("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new lo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new lo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new lo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new lo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new lo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,u=!!C2&&C2(A,e);if(E2)E2(A,e,{configurable:s===null&&u?u.configurable:!s,enumerable:i===null&&u?u.enumerable:!i,value:t,writable:n===null&&u?u.writable:!n});else if(o||!i&&!n&&!s)A[e]=t;else throw new Mx("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Cf=R0(),aE=function(){return!!Cf};aE.hasArrayLengthDefineBug=function(){if(!Cf)return null;try{return Cf([],"length",{value:1}).length!==1}catch{return!0}};var Px=aE,Fx=bu,_2=Rx,Nx=Px(),S2=P0,v2=g1,Lx=Fx("%Math.floor%"),Ux=function(A,e){if(typeof A!="function")throw new v2("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||Lx(e)!==e)throw new v2("`length` must be a positive 32-bit integer");var t=arguments.length>2&&!!arguments[2],i=!0,n=!0;if("length"in A&&S2){var s=S2(A,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(n=!1)}return(i||n||!t)&&(Nx?_2(A,"length",e,!0,!0):_2(A,"length",e)),A};(function(r){var A=M0,e=bu,t=Ux,i=g1,n=e("%Function.prototype.apply%"),s=e("%Function.prototype.call%"),o=e("%Reflect.apply%",!0)||A.call(s,n),u=R0(),l=e("%Math.max%");r.exports=function(d){if(typeof d!="function")throw new i("a function is required");var f=o(A,s,arguments);return t(f,1+l(0,d.length-(arguments.length-1)),!0)};var c=function(){return o(A,n,arguments)};u?u(r.exports,"apply",{value:c}):r.exports.apply=c})(oE);var uE=oE.exports,lE=bu,cE=uE,kx=cE(lE("String.prototype.indexOf")),hE=function(A,e){var t=lE(A,!!e);return typeof t=="function"&&kx(A,".prototype.")>-1?cE(t):t},zx=O0(),Gx=hE,_f=Gx("Object.prototype.toString"),m1=function(A){return zx&&A&&typeof A=="object"&&Symbol.toStringTag in A?!1:_f(A)==="[object Arguments]"},dE=function(A){return m1(A)?!0:A!==null&&typeof A=="object"&&typeof A.length=="number"&&A.length>=0&&_f(A)!=="[object Array]"&&_f(A.callee)==="[object Function]"},Vx=function(){return m1(arguments)}();m1.isLegacyArguments=dE;var Qx=Vx?m1:dE,Hx=Object.prototype.toString,jx=Function.prototype.toString,Wx=/^\s*(?:function)?\*/,fE=O0(),td=Object.getPrototypeOf,Yx=function(){if(!fE)return!1;try{return Function("return function*() {}")()}catch{}},rd,$x=function(A){if(typeof A!="function")return!1;if(Wx.test(jx.call(A)))return!0;if(!fE){var e=Hx.call(A);return e==="[object GeneratorFunction]"}if(!td)return!1;if(typeof rd>"u"){var t=Yx();rd=t?td(t):!1}return td(A)===rd},pE=Function.prototype.toString,Co=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Sf,xl;if(typeof Co=="function"&&typeof Object.defineProperty=="function")try{Sf=Object.defineProperty({},"length",{get:function(){throw xl}}),xl={},Co(function(){throw 42},null,Sf)}catch(r){r!==xl&&(Co=null)}else Co=null;var Kx=/^\s*class\b/,vf=function(A){try{var e=pE.call(A);return Kx.test(e)}catch{return!1}},id=function(A){try{return vf(A)?!1:(pE.call(A),!0)}catch{return!1}},Ol=Object.prototype.toString,qx="[object Object]",Xx="[object Function]",Jx="[object GeneratorFunction]",Zx="[object HTMLAllCollection]",A8="[object HTML document.all class]",e8="[object HTMLCollection]",t8=typeof Symbol=="function"&&!!Symbol.toStringTag,r8=!(0 in[,]),wf=function(){return!1};if(typeof document=="object"){var i8=document.all;Ol.call(i8)===Ol.call(document.all)&&(wf=function(A){if((r8||!A)&&(typeof A>"u"||typeof A=="object"))try{var e=Ol.call(A);return(e===Zx||e===A8||e===e8||e===qx)&&A("")==null}catch{}return!1})}var n8=Co?function(A){if(wf(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;try{Co(A,null,Sf)}catch(e){if(e!==xl)return!1}return!vf(A)&&id(A)}:function(A){if(wf(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;if(t8)return id(A);if(vf(A))return!1;var e=Ol.call(A);return e!==Xx&&e!==Jx&&!/^\[object HTML/.test(e)?!1:id(A)},s8=n8,o8=Object.prototype.toString,gE=Object.prototype.hasOwnProperty,a8=function(A,e,t){for(var i=0,n=A.length;i<n;i++)gE.call(A,i)&&(t==null?e(A[i],i,A):e.call(t,A[i],i,A))},u8=function(A,e,t){for(var i=0,n=A.length;i<n;i++)t==null?e(A.charAt(i),i,A):e.call(t,A.charAt(i),i,A)},l8=function(A,e,t){for(var i in A)gE.call(A,i)&&(t==null?e(A[i],i,A):e.call(t,A[i],i,A))},c8=function(A,e,t){if(!s8(e))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=t),o8.call(A)==="[object Array]"?a8(A,e,i):typeof A=="string"?u8(A,e,i):l8(A,e,i)},h8=c8,d8=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],nd=d8,f8=typeof globalThis>"u"?Sr:globalThis,p8=function(){for(var A=[],e=0;e<nd.length;e++)typeof f8[nd[e]]=="function"&&(A[A.length]=nd[e]);return A},Sc=h8,g8=p8,w2=uE,F0=hE,Ml=P0,m8=F0("Object.prototype.toString"),mE=O0(),b2=typeof globalThis>"u"?Sr:globalThis,bf=g8(),N0=F0("String.prototype.slice"),sd=Object.getPrototypeOf,y8=F0("Array.prototype.indexOf",!0)||function(A,e){for(var t=0;t<A.length;t+=1)if(A[t]===e)return t;return-1},vc={__proto__:null};mE&&Ml&&sd?Sc(bf,function(r){var A=new b2[r];if(Symbol.toStringTag in A){var e=sd(A),t=Ml(e,Symbol.toStringTag);if(!t){var i=sd(e);t=Ml(i,Symbol.toStringTag)}vc["$"+r]=w2(t.get)}}):Sc(bf,function(r){var A=new b2[r],e=A.slice||A.set;e&&(vc["$"+r]=w2(e))});var E8=function(A){var e=!1;return Sc(vc,function(t,i){if(!e)try{"$"+t(A)===i&&(e=N0(i,1))}catch{}}),e},C8=function(A){var e=!1;return Sc(vc,function(t,i){if(!e)try{t(A),e=N0(i,1)}catch{}}),e},yE=function(A){if(!A||typeof A!="object")return!1;if(!mE){var e=N0(m8(A),8,-1);return y8(bf,e)>-1?e:e!=="Object"?!1:C8(A)}return Ml?E8(A):null},_8=yE,S8=function(A){return!!_8(A)};(function(r){var A=Qx,e=$x,t=yE,i=S8;function n(z){return z.call.bind(z)}var s=typeof BigInt<"u",o=typeof Symbol<"u",u=n(Object.prototype.toString),l=n(Number.prototype.valueOf),c=n(String.prototype.valueOf),h=n(Boolean.prototype.valueOf);if(s)var d=n(BigInt.prototype.valueOf);if(o)var f=n(Symbol.prototype.valueOf);function p(z,tA){if(typeof z!="object")return!1;try{return tA(z),!0}catch{return!1}}r.isArgumentsObject=A,r.isGeneratorFunction=e,r.isTypedArray=i;function y(z){return typeof Promise<"u"&&z instanceof Promise||z!==null&&typeof z=="object"&&typeof z.then=="function"&&typeof z.catch=="function"}r.isPromise=y;function _(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):i(z)||G(z)}r.isArrayBufferView=_;function g(z){return t(z)==="Uint8Array"}r.isUint8Array=g;function m(z){return t(z)==="Uint8ClampedArray"}r.isUint8ClampedArray=m;function E(z){return t(z)==="Uint16Array"}r.isUint16Array=E;function w(z){return t(z)==="Uint32Array"}r.isUint32Array=w;function L(z){return t(z)==="Int8Array"}r.isInt8Array=L;function T(z){return t(z)==="Int16Array"}r.isInt16Array=T;function R(z){return t(z)==="Int32Array"}r.isInt32Array=R;function P(z){return t(z)==="Float32Array"}r.isFloat32Array=P;function F(z){return t(z)==="Float64Array"}r.isFloat64Array=F;function H(z){return t(z)==="BigInt64Array"}r.isBigInt64Array=H;function M(z){return t(z)==="BigUint64Array"}r.isBigUint64Array=M;function b(z){return u(z)==="[object Map]"}b.working=typeof Map<"u"&&b(new Map);function v(z){return typeof Map>"u"?!1:b.working?b(z):z instanceof Map}r.isMap=v;function C(z){return u(z)==="[object Set]"}C.working=typeof Set<"u"&&C(new Set);function x(z){return typeof Set>"u"?!1:C.working?C(z):z instanceof Set}r.isSet=x;function S(z){return u(z)==="[object WeakMap]"}S.working=typeof WeakMap<"u"&&S(new WeakMap);function B(z){return typeof WeakMap>"u"?!1:S.working?S(z):z instanceof WeakMap}r.isWeakMap=B;function D(z){return u(z)==="[object WeakSet]"}D.working=typeof WeakSet<"u"&&D(new WeakSet);function Q(z){return D(z)}r.isWeakSet=Q;function Z(z){return u(z)==="[object ArrayBuffer]"}Z.working=typeof ArrayBuffer<"u"&&Z(new ArrayBuffer);function AA(z){return typeof ArrayBuffer>"u"?!1:Z.working?Z(z):z instanceof ArrayBuffer}r.isArrayBuffer=AA;function Y(z){return u(z)==="[object DataView]"}Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1));function G(z){return typeof DataView>"u"?!1:Y.working?Y(z):z instanceof DataView}r.isDataView=G;var X=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function nA(z){return u(z)==="[object SharedArrayBuffer]"}function lA(z){return typeof X>"u"?!1:(typeof nA.working>"u"&&(nA.working=nA(new X)),nA.working?nA(z):z instanceof X)}r.isSharedArrayBuffer=lA;function vA(z){return u(z)==="[object AsyncFunction]"}r.isAsyncFunction=vA;function BA(z){return u(z)==="[object Map Iterator]"}r.isMapIterator=BA;function bA(z){return u(z)==="[object Set Iterator]"}r.isSetIterator=bA;function xA(z){return u(z)==="[object Generator]"}r.isGeneratorObject=xA;function TA(z){return u(z)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=TA;function ie(z){return p(z,l)}r.isNumberObject=ie;function k(z){return p(z,c)}r.isStringObject=k;function j(z){return p(z,h)}r.isBooleanObject=j;function eA(z){return s&&p(z,d)}r.isBigIntObject=eA;function W(z){return o&&p(z,f)}r.isSymbolObject=W;function O(z){return ie(z)||k(z)||j(z)||eA(z)||W(z)}r.isBoxedPrimitive=O;function N(z){return typeof Uint8Array<"u"&&(AA(z)||lA(z))}r.isAnyArrayBuffer=N,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(r,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})})(rE);var v8=function(A){return A&&typeof A=="object"&&typeof A.copy=="function"&&typeof A.fill=="function"&&typeof A.readUInt8=="function"},If={exports:{}};typeof Object.create=="function"?If.exports=function(A,e){e&&(A.super_=e,A.prototype=Object.create(e.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}))}:If.exports=function(A,e){if(e){A.super_=e;var t=function(){};t.prototype=e.prototype,A.prototype=new t,A.prototype.constructor=A}};var w8=If.exports;(function(r){var A={},e=Object.getOwnPropertyDescriptors||function(X){for(var nA=Object.keys(X),lA={},vA=0;vA<nA.length;vA++)lA[nA[vA]]=Object.getOwnPropertyDescriptor(X,nA[vA]);return lA},t=/%[sdj%]/g;r.format=function(G){if(!T(G)){for(var X=[],nA=0;nA<arguments.length;nA++)X.push(o(arguments[nA]));return X.join(" ")}for(var nA=1,lA=arguments,vA=lA.length,BA=String(G).replace(t,function(xA){if(xA==="%%")return"%";if(nA>=vA)return xA;switch(xA){case"%s":return String(lA[nA++]);case"%d":return Number(lA[nA++]);case"%j":try{return JSON.stringify(lA[nA++])}catch{return"[Circular]"}default:return xA}}),bA=lA[nA];nA<vA;bA=lA[++nA])E(bA)||!H(bA)?BA+=" "+bA:BA+=" "+o(bA);return BA},r.deprecate=function(G,X){if(typeof process<"u"&&process.noDeprecation===!0)return G;if(typeof process>"u")return function(){return r.deprecate(G,X).apply(this,arguments)};var nA=!1;function lA(){if(!nA){if(process.throwDeprecation)throw new Error(X);process.traceDeprecation?console.trace(X):console.error(X),nA=!0}return G.apply(this,arguments)}return lA};var i={},n=/^$/;if(A.NODE_DEBUG){var s=A.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),n=new RegExp("^"+s+"$","i")}r.debuglog=function(G){if(G=G.toUpperCase(),!i[G])if(n.test(G)){var X=process.pid;i[G]=function(){var nA=r.format.apply(r,arguments);console.error("%s %d: %s",G,X,nA)}}else i[G]=function(){};return i[G]};function o(G,X){var nA={seen:[],stylize:l};return arguments.length>=3&&(nA.depth=arguments[2]),arguments.length>=4&&(nA.colors=arguments[3]),m(X)?nA.showHidden=X:X&&r._extend(nA,X),P(nA.showHidden)&&(nA.showHidden=!1),P(nA.depth)&&(nA.depth=2),P(nA.colors)&&(nA.colors=!1),P(nA.customInspect)&&(nA.customInspect=!0),nA.colors&&(nA.stylize=u),h(nA,G,nA.depth)}r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(G,X){var nA=o.styles[X];return nA?"\x1B["+o.colors[nA][0]+"m"+G+"\x1B["+o.colors[nA][1]+"m":G}function l(G,X){return G}function c(G){var X={};return G.forEach(function(nA,lA){X[nA]=!0}),X}function h(G,X,nA){if(G.customInspect&&X&&v(X.inspect)&&X.inspect!==r.inspect&&!(X.constructor&&X.constructor.prototype===X)){var lA=X.inspect(nA,G);return T(lA)||(lA=h(G,lA,nA)),lA}var vA=d(G,X);if(vA)return vA;var BA=Object.keys(X),bA=c(BA);if(G.showHidden&&(BA=Object.getOwnPropertyNames(X)),b(X)&&(BA.indexOf("message")>=0||BA.indexOf("description")>=0))return f(X);if(BA.length===0){if(v(X)){var xA=X.name?": "+X.name:"";return G.stylize("[Function"+xA+"]","special")}if(F(X))return G.stylize(RegExp.prototype.toString.call(X),"regexp");if(M(X))return G.stylize(Date.prototype.toString.call(X),"date");if(b(X))return f(X)}var TA="",ie=!1,k=["{","}"];if(g(X)&&(ie=!0,k=["[","]"]),v(X)){var j=X.name?": "+X.name:"";TA=" [Function"+j+"]"}if(F(X)&&(TA=" "+RegExp.prototype.toString.call(X)),M(X)&&(TA=" "+Date.prototype.toUTCString.call(X)),b(X)&&(TA=" "+f(X)),BA.length===0&&(!ie||X.length==0))return k[0]+TA+k[1];if(nA<0)return F(X)?G.stylize(RegExp.prototype.toString.call(X),"regexp"):G.stylize("[Object]","special");G.seen.push(X);var eA;return ie?eA=p(G,X,nA,bA,BA):eA=BA.map(function(W){return y(G,X,nA,bA,W,ie)}),G.seen.pop(),_(eA,TA,k)}function d(G,X){if(P(X))return G.stylize("undefined","undefined");if(T(X)){var nA="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(nA,"string")}if(L(X))return G.stylize(""+X,"number");if(m(X))return G.stylize(""+X,"boolean");if(E(X))return G.stylize("null","null")}function f(G){return"["+Error.prototype.toString.call(G)+"]"}function p(G,X,nA,lA,vA){for(var BA=[],bA=0,xA=X.length;bA<xA;++bA)Q(X,String(bA))?BA.push(y(G,X,nA,lA,String(bA),!0)):BA.push("");return vA.forEach(function(TA){TA.match(/^\d+$/)||BA.push(y(G,X,nA,lA,TA,!0))}),BA}function y(G,X,nA,lA,vA,BA){var bA,xA,TA;if(TA=Object.getOwnPropertyDescriptor(X,vA)||{value:X[vA]},TA.get?TA.set?xA=G.stylize("[Getter/Setter]","special"):xA=G.stylize("[Getter]","special"):TA.set&&(xA=G.stylize("[Setter]","special")),Q(lA,vA)||(bA="["+vA+"]"),xA||(G.seen.indexOf(TA.value)<0?(E(nA)?xA=h(G,TA.value,null):xA=h(G,TA.value,nA-1),xA.indexOf(`
`)>-1&&(BA?xA=xA.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):xA=`
`+xA.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):xA=G.stylize("[Circular]","special")),P(bA)){if(BA&&vA.match(/^\d+$/))return xA;bA=JSON.stringify(""+vA),bA.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(bA=bA.slice(1,-1),bA=G.stylize(bA,"name")):(bA=bA.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),bA=G.stylize(bA,"string"))}return bA+": "+xA}function _(G,X,nA){var lA=G.reduce(function(vA,BA){return BA.indexOf(`
`)>=0,vA+BA.replace(/\u001b\[\d\d?m/g,"").length+1},0);return lA>60?nA[0]+(X===""?"":X+`
 `)+" "+G.join(`,
  `)+" "+nA[1]:nA[0]+X+" "+G.join(", ")+" "+nA[1]}r.types=rE;function g(G){return Array.isArray(G)}r.isArray=g;function m(G){return typeof G=="boolean"}r.isBoolean=m;function E(G){return G===null}r.isNull=E;function w(G){return G==null}r.isNullOrUndefined=w;function L(G){return typeof G=="number"}r.isNumber=L;function T(G){return typeof G=="string"}r.isString=T;function R(G){return typeof G=="symbol"}r.isSymbol=R;function P(G){return G===void 0}r.isUndefined=P;function F(G){return H(G)&&x(G)==="[object RegExp]"}r.isRegExp=F,r.types.isRegExp=F;function H(G){return typeof G=="object"&&G!==null}r.isObject=H;function M(G){return H(G)&&x(G)==="[object Date]"}r.isDate=M,r.types.isDate=M;function b(G){return H(G)&&(x(G)==="[object Error]"||G instanceof Error)}r.isError=b,r.types.isNativeError=b;function v(G){return typeof G=="function"}r.isFunction=v;function C(G){return G===null||typeof G=="boolean"||typeof G=="number"||typeof G=="string"||typeof G=="symbol"||typeof G>"u"}r.isPrimitive=C,r.isBuffer=v8;function x(G){return Object.prototype.toString.call(G)}function S(G){return G<10?"0"+G.toString(10):G.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var G=new Date,X=[S(G.getHours()),S(G.getMinutes()),S(G.getSeconds())].join(":");return[G.getDate(),B[G.getMonth()],X].join(" ")}r.log=function(){console.log("%s - %s",D(),r.format.apply(r,arguments))},r.inherits=w8,r._extend=function(G,X){if(!X||!H(X))return G;for(var nA=Object.keys(X),lA=nA.length;lA--;)G[nA[lA]]=X[nA[lA]];return G};function Q(G,X){return Object.prototype.hasOwnProperty.call(G,X)}var Z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(X){if(typeof X!="function")throw new TypeError('The "original" argument must be of type Function');if(Z&&X[Z]){var nA=X[Z];if(typeof nA!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(nA,Z,{value:nA,enumerable:!1,writable:!1,configurable:!0}),nA}function nA(){for(var lA,vA,BA=new Promise(function(TA,ie){lA=TA,vA=ie}),bA=[],xA=0;xA<arguments.length;xA++)bA.push(arguments[xA]);bA.push(function(TA,ie){TA?vA(TA):lA(ie)});try{X.apply(this,bA)}catch(TA){vA(TA)}return BA}return Object.setPrototypeOf(nA,Object.getPrototypeOf(X)),Z&&Object.defineProperty(nA,Z,{value:nA,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(nA,e(X))},r.promisify.custom=Z;function AA(G,X){if(!G){var nA=new Error("Promise was rejected with a falsy value");nA.reason=G,G=nA}return X(G)}function Y(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var nA=[],lA=0;lA<arguments.length;lA++)nA.push(arguments[lA]);var vA=nA.pop();if(typeof vA!="function")throw new TypeError("The last argument must be of type Function");var BA=this,bA=function(){return vA.apply(BA,arguments)};G.apply(this,nA).then(function(xA){process.nextTick(bA.bind(null,null,xA))},function(xA){process.nextTick(AA.bind(null,xA,bA))})}return Object.setPrototypeOf(X,Object.getPrototypeOf(G)),Object.defineProperties(X,e(G)),X}r.callbackify=Y})(Fr);var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.makeDeleteStatement=Xr.DeleteManyOperation=Xr.DeleteOneOperation=Xr.DeleteOperation=void 0;const hu=_A,b8=De,wr=le;class y1 extends b8.CommandOperation{constructor(A,e,t){super(void 0,t),this.options=t,this.ns=A,this.statements=e}get canRetryWrite(){return super.canRetryWrite===!1?!1:this.statements.every(A=>A.limit!=null?A.limit>0:!0)}async execute(A,e){const t=this.options??{},i=typeof t.ordered=="boolean"?t.ordered:!0,n={delete:this.ns.collection,deletes:this.statements,ordered:i};if(t.let&&(n.let=t.let),t.comment!==void 0&&(n.comment=t.comment),this.writeConcern&&this.writeConcern.w===0&&this.statements.find(o=>o.hint))throw new hu.MongoCompatibilityError("hint is not supported with unacknowledged writes");return super.executeCommand(A,e,n)}}Xr.DeleteOperation=y1;class EE extends y1{constructor(A,e,t){super(A.s.namespace,[L0(e,{...t,limit:1})],t)}async execute(A,e){var i;const t=await super.execute(A,e);if(this.explain)return t;if(t.code)throw new hu.MongoServerError(t);if(t.writeErrors)throw new hu.MongoServerError(t.writeErrors[0]);return{acknowledged:((i=this.writeConcern)==null?void 0:i.w)!==0,deletedCount:t.n}}}Xr.DeleteOneOperation=EE;class CE extends y1{constructor(A,e,t){super(A.s.namespace,[L0(e,t)],t)}async execute(A,e){var i;const t=await super.execute(A,e);if(this.explain)return t;if(t.code)throw new hu.MongoServerError(t);if(t.writeErrors)throw new hu.MongoServerError(t.writeErrors[0]);return{acknowledged:((i=this.writeConcern)==null?void 0:i.w)!==0,deletedCount:t.n}}}Xr.DeleteManyOperation=CE;function L0(r,A){const e={q:r,limit:typeof A.limit=="number"?A.limit:0};return A.collation&&(e.collation=A.collation),A.hint&&(e.hint=A.hint),e}Xr.makeDeleteStatement=L0;(0,wr.defineAspects)(y1,[wr.Aspect.RETRYABLE,wr.Aspect.WRITE_OPERATION]);(0,wr.defineAspects)(EE,[wr.Aspect.RETRYABLE,wr.Aspect.WRITE_OPERATION,wr.Aspect.EXPLAINABLE,wr.Aspect.SKIP_COLLATION]);(0,wr.defineAspects)(CE,[wr.Aspect.WRITE_OPERATION,wr.Aspect.EXPLAINABLE,wr.Aspect.SKIP_COLLATION]);var Ji={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.BulkWriteOperation=void 0;const Bf=le;class _E extends Bf.AbstractOperation{constructor(A,e,t){super(t),this.options=t,this.collection=A,this.operations=e}async execute(A,e){const t=this.collection,i=this.operations,n={...this.options,...this.bsonOptions,readPreference:this.readPreference},s=n.ordered===!1?t.initializeUnorderedBulkOp(n):t.initializeOrderedBulkOp(n);for(let u=0;u<i.length;u++)s.raw(i[u]);return await s.execute({...n,session:e})}}Iu.BulkWriteOperation=_E;(0,Bf.defineAspects)(_E,[Bf.Aspect.WRITE_OPERATION]);var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.prepareDocs=Gs.indexInformation=void 0;async function I8(r,A,e){e==null&&(e={});const t=e.full==null?!1:e.full,i=await r.collection(A).listIndexes(e).toArray();if(t)return i;const n={};for(const s of i)n[s.name]=Object.entries(s.key);return n}Gs.indexInformation=I8;function B8(r,A,e){var i;return(typeof e.forceServerObjectId=="boolean"?e.forceServerObjectId:(i=r.s.db.options)==null?void 0:i.forceServerObjectId)===!0?A:A.map(n=>(n._id==null&&(n._id=r.s.pkFactory.createPk()),n))}Gs.prepareDocs=B8;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.InsertManyOperation=Ji.InsertOneOperation=Ji.InsertOperation=void 0;const wc=_A,T8=at,D8=Iu,x8=De,SE=Gs,Zi=le;class U0 extends x8.CommandOperation{constructor(A,e,t){super(void 0,t),this.options={...t,checkKeys:t.checkKeys??!1},this.ns=A,this.documents=e}async execute(A,e){const t=this.options??{},i=typeof t.ordered=="boolean"?t.ordered:!0,n={insert:this.ns.collection,documents:this.documents,ordered:i};return typeof t.bypassDocumentValidation=="boolean"&&(n.bypassDocumentValidation=t.bypassDocumentValidation),t.comment!==void 0&&(n.comment=t.comment),super.executeCommand(A,e,n)}}Ji.InsertOperation=U0;class vE extends U0{constructor(A,e,t){super(A.s.namespace,(0,SE.prepareDocs)(A,[e],t),t)}async execute(A,e){var i;const t=await super.execute(A,e);if(t.code)throw new wc.MongoServerError(t);if(t.writeErrors)throw new wc.MongoServerError(t.writeErrors[0]);return{acknowledged:((i=this.writeConcern)==null?void 0:i.w)!==0,insertedId:this.documents[0]._id}}}Ji.InsertOneOperation=vE;class wE extends Zi.AbstractOperation{constructor(A,e,t){if(super(t),!Array.isArray(e))throw new wc.MongoInvalidArgumentError('Argument "docs" must be an array of documents');this.options=t,this.collection=A,this.docs=e}async execute(A,e){const t=this.collection,i={...this.options,...this.bsonOptions,readPreference:this.readPreference},n=T8.WriteConcern.fromOptions(i),s=new D8.BulkWriteOperation(t,(0,SE.prepareDocs)(t,this.docs,i).map(o=>({insertOne:{document:o}})),i);try{const o=await s.execute(A,e);return{acknowledged:(n==null?void 0:n.w)!==0,insertedCount:o.insertedCount,insertedIds:o.insertedIds}}catch(o){throw o&&o.message==="Operation must be an object with an operation key"?new wc.MongoInvalidArgumentError("Collection.insertMany() cannot be called with an array that has null/undefined values"):o}}}Ji.InsertManyOperation=wE;(0,Zi.defineAspects)(U0,[Zi.Aspect.RETRYABLE,Zi.Aspect.WRITE_OPERATION]);(0,Zi.defineAspects)(vE,[Zi.Aspect.RETRYABLE,Zi.Aspect.WRITE_OPERATION]);(0,Zi.defineAspects)(wE,[Zi.Aspect.WRITE_OPERATION]);var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.makeUpdateStatement=ir.ReplaceOneOperation=ir.UpdateManyOperation=ir.UpdateOneOperation=ir.UpdateOperation=void 0;const Or=_A,k0=PA,O8=De,ft=le;class Bu extends O8.CommandOperation{constructor(A,e,t){super(void 0,t),this.options=t,this.ns=A,this.statements=e}get canRetryWrite(){return super.canRetryWrite===!1?!1:this.statements.every(A=>A.multi==null||A.multi===!1)}async execute(A,e){const t=this.options??{},i=typeof t.ordered=="boolean"?t.ordered:!0,n={update:this.ns.collection,updates:this.statements,ordered:i};if(typeof t.bypassDocumentValidation=="boolean"&&(n.bypassDocumentValidation=t.bypassDocumentValidation),t.let&&(n.let=t.let),t.comment!==void 0&&(n.comment=t.comment),this.writeConcern&&this.writeConcern.w===0&&this.statements.find(o=>o.hint))throw new Or.MongoCompatibilityError("hint is not supported with unacknowledged writes");return super.executeCommand(A,e,n)}}ir.UpdateOperation=Bu;class bE extends Bu{constructor(A,e,t,i){if(super(A.s.namespace,[E1(e,t,{...i,multi:!1})],i),!(0,k0.hasAtomicOperators)(t))throw new Or.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(A,e){var i;const t=await super.execute(A,e);if(this.explain!=null)return t;if(t.code)throw new Or.MongoServerError(t);if(t.writeErrors)throw new Or.MongoServerError(t.writeErrors[0]);return{acknowledged:((i=this.writeConcern)==null?void 0:i.w)!==0,modifiedCount:t.nModified??t.n,upsertedId:Array.isArray(t.upserted)&&t.upserted.length>0?t.upserted[0]._id:null,upsertedCount:Array.isArray(t.upserted)&&t.upserted.length?t.upserted.length:0,matchedCount:Array.isArray(t.upserted)&&t.upserted.length>0?0:t.n}}}ir.UpdateOneOperation=bE;class IE extends Bu{constructor(A,e,t,i){if(super(A.s.namespace,[E1(e,t,{...i,multi:!0})],i),!(0,k0.hasAtomicOperators)(t))throw new Or.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(A,e){var i;const t=await super.execute(A,e);if(this.explain!=null)return t;if(t.code)throw new Or.MongoServerError(t);if(t.writeErrors)throw new Or.MongoServerError(t.writeErrors[0]);return{acknowledged:((i=this.writeConcern)==null?void 0:i.w)!==0,modifiedCount:t.nModified??t.n,upsertedId:Array.isArray(t.upserted)&&t.upserted.length>0?t.upserted[0]._id:null,upsertedCount:Array.isArray(t.upserted)&&t.upserted.length?t.upserted.length:0,matchedCount:Array.isArray(t.upserted)&&t.upserted.length>0?0:t.n}}}ir.UpdateManyOperation=IE;class BE extends Bu{constructor(A,e,t,i){if(super(A.s.namespace,[E1(e,t,{...i,multi:!1})],i),(0,k0.hasAtomicOperators)(t))throw new Or.MongoInvalidArgumentError("Replacement document must not contain atomic operators")}async execute(A,e){var i;const t=await super.execute(A,e);if(this.explain!=null)return t;if(t.code)throw new Or.MongoServerError(t);if(t.writeErrors)throw new Or.MongoServerError(t.writeErrors[0]);return{acknowledged:((i=this.writeConcern)==null?void 0:i.w)!==0,modifiedCount:t.nModified??t.n,upsertedId:Array.isArray(t.upserted)&&t.upserted.length>0?t.upserted[0]._id:null,upsertedCount:Array.isArray(t.upserted)&&t.upserted.length?t.upserted.length:0,matchedCount:Array.isArray(t.upserted)&&t.upserted.length>0?0:t.n}}}ir.ReplaceOneOperation=BE;function E1(r,A,e){if(r==null||typeof r!="object")throw new Or.MongoInvalidArgumentError("Selector must be a valid JavaScript object");if(A==null||typeof A!="object")throw new Or.MongoInvalidArgumentError("Document must be a valid JavaScript object");const t={q:r,u:A};return typeof e.upsert=="boolean"&&(t.upsert=e.upsert),e.multi&&(t.multi=e.multi),e.hint&&(t.hint=e.hint),e.arrayFilters&&(t.arrayFilters=e.arrayFilters),e.collation&&(t.collation=e.collation),t}ir.makeUpdateStatement=E1;(0,ft.defineAspects)(Bu,[ft.Aspect.RETRYABLE,ft.Aspect.WRITE_OPERATION,ft.Aspect.SKIP_COLLATION]);(0,ft.defineAspects)(bE,[ft.Aspect.RETRYABLE,ft.Aspect.WRITE_OPERATION,ft.Aspect.EXPLAINABLE,ft.Aspect.SKIP_COLLATION]);(0,ft.defineAspects)(IE,[ft.Aspect.WRITE_OPERATION,ft.Aspect.EXPLAINABLE,ft.Aspect.SKIP_COLLATION]);(0,ft.defineAspects)(BE,[ft.Aspect.RETRYABLE,ft.Aspect.WRITE_OPERATION,ft.Aspect.SKIP_COLLATION]);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.BulkOperationBase=r.FindOperators=r.MongoBulkWriteError=r.mergeBatchResults=r.WriteError=r.WriteConcernError=r.BulkWriteResult=r.Batch=r.BatchType=void 0;const A=Fr,e=Ce,t=_A,i=Xr,n=Dt,s=Ji,o=le,u=ir,l=PA,c=at,h=Symbol("serverError");r.BatchType=Object.freeze({INSERT:1,UPDATE:2,DELETE:3});class d{constructor(C,x){this.originalZeroIndex=x,this.currentIndex=0,this.originalIndexes=[],this.batchType=C,this.operations=[],this.size=0,this.sizeBytes=0}}r.Batch=d;class f{static generateIdMap(C){const x={};for(const S of C)x[S.index]=S._id;return x}constructor(C,x){this.result=C,this.insertedCount=this.result.nInserted??0,this.matchedCount=this.result.nMatched??0,this.modifiedCount=this.result.nModified??0,this.deletedCount=this.result.nRemoved??0,this.upsertedCount=this.result.upserted.length??0,this.upsertedIds=f.generateIdMap(this.result.upserted),this.insertedIds=f.generateIdMap(this.getSuccessfullyInsertedIds(C,x)),Object.defineProperty(this,"result",{value:this.result,enumerable:!1})}get ok(){return this.result.ok}getSuccessfullyInsertedIds(C,x){return C.writeErrors.length===0?C.insertedIds:x?C.insertedIds.slice(0,C.writeErrors[0].index):C.insertedIds.filter(({index:S})=>!C.writeErrors.some(B=>S===B.index))}getUpsertedIdAt(C){return this.result.upserted[C]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(C){return C<this.result.writeErrors.length?this.result.writeErrors[C]:void 0}getWriteErrors(){return this.result.writeErrors}getWriteConcernError(){if(this.result.writeConcernErrors.length!==0){if(this.result.writeConcernErrors.length===1)return this.result.writeConcernErrors[0];{let C="";for(let x=0;x<this.result.writeConcernErrors.length;x++){const S=this.result.writeConcernErrors[x];C=C+S.errmsg,x===0&&(C=C+" and ")}return new p({errmsg:C,code:t.MONGODB_ERROR_CODES.WriteConcernFailed})}}}toString(){return`BulkWriteResult(${this.result})`}isOk(){return this.result.ok===1}}r.BulkWriteResult=f;class p{constructor(C){this[h]=C}get code(){return this[h].code}get errmsg(){return this[h].errmsg}get errInfo(){return this[h].errInfo}toJSON(){return this[h]}toString(){return`WriteConcernError(${this.errmsg})`}}r.WriteConcernError=p;class y{constructor(C){this.err=C}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}get errInfo(){return this.err.errInfo}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}}r.WriteError=y;function _(v,C,x,S){if(x?S=x:S&&S.result&&(S=S.result),S==null)return;if(S.ok===0&&C.ok===1){C.ok=0;const D={index:0,code:S.code||0,errmsg:S.message,errInfo:S.errInfo,op:v.operations[0]};C.writeErrors.push(new y(D));return}else if(S.ok===0&&C.ok===0)return;F(v)&&S.n&&(C.nInserted=C.nInserted+S.n),M(v)&&S.n&&(C.nRemoved=C.nRemoved+S.n);let B=0;if(Array.isArray(S.upserted)){B=S.upserted.length;for(let D=0;D<S.upserted.length;D++)C.upserted.push({index:S.upserted[D].index+v.originalZeroIndex,_id:S.upserted[D]._id})}else S.upserted&&(B=1,C.upserted.push({index:v.originalZeroIndex,_id:S.upserted}));if(H(v)&&S.n){const D=S.nModified;C.nUpserted=C.nUpserted+B,C.nMatched=C.nMatched+(S.n-B),typeof D=="number"?C.nModified=C.nModified+D:C.nModified=0}if(Array.isArray(S.writeErrors))for(let D=0;D<S.writeErrors.length;D++){const Q={index:v.originalIndexes[S.writeErrors[D].index],code:S.writeErrors[D].code,errmsg:S.writeErrors[D].errmsg,errInfo:S.writeErrors[D].errInfo,op:v.operations[S.writeErrors[D].index]};C.writeErrors.push(new y(Q))}S.writeConcernError&&C.writeConcernErrors.push(new p(S.writeConcernError))}r.mergeBatchResults=_;function g(v,C,x){if(v.s.batches.length===0)return x(void 0,new f(v.s.bulkResult,v.isOrdered));const S=v.s.batches.shift();function B(Q,Z){if(Q&&"message"in Q&&!(Q instanceof t.MongoWriteConcernError))return x(new E(Q,new f(v.s.bulkResult,v.isOrdered)));if(Q instanceof t.MongoWriteConcernError)return m(S,v.s.bulkResult,v.isOrdered,Q,x);_(S,v.s.bulkResult,Q,Z);const AA=new f(v.s.bulkResult,v.isOrdered);v.handleWriteError(x,AA)||g(v,C,x)}const D=(0,l.resolveOptions)(v,{...C,ordered:v.isOrdered});D.bypassDocumentValidation!==!0&&delete D.bypassDocumentValidation,v.operationId&&(B.operationId=v.operationId),v.s.bypassDocumentValidation===!0&&(D.bypassDocumentValidation=!0),v.s.checkKeys===!1&&(D.checkKeys=!1),D.retryWrites&&(H(S)&&(D.retryWrites=D.retryWrites&&!S.operations.some(Q=>Q.multi)),M(S)&&(D.retryWrites=D.retryWrites&&!S.operations.some(Q=>Q.limit===0)));try{F(S)?(0,n.executeOperation)(v.s.collection.client,new s.InsertOperation(v.s.namespace,S.operations,D),B):H(S)?(0,n.executeOperation)(v.s.collection.client,new u.UpdateOperation(v.s.namespace,S.operations,D),B):M(S)&&(0,n.executeOperation)(v.s.collection.client,new i.DeleteOperation(v.s.namespace,S.operations,D),B)}catch(Q){Q.ok=0,_(S,v.s.bulkResult,Q,void 0),x()}}function m(v,C,x,S,B){var D,Q;_(v,C,void 0,S.result),B(new E({message:(D=S.result)==null?void 0:D.writeConcernError.errmsg,code:(Q=S.result)==null?void 0:Q.writeConcernError.result},new f(C,x)))}class E extends t.MongoServerError{constructor(C,x){super(C),this.writeErrors=[],C instanceof p?this.err=C:C instanceof Error||(this.message=C.message,this.code=C.code,this.writeErrors=C.writeErrors??[]),this.result=x,Object.assign(this,C)}get name(){return"MongoBulkWriteError"}get insertedCount(){return this.result.insertedCount}get matchedCount(){return this.result.matchedCount}get modifiedCount(){return this.result.modifiedCount}get deletedCount(){return this.result.deletedCount}get upsertedCount(){return this.result.upsertedCount}get insertedIds(){return this.result.insertedIds}get upsertedIds(){return this.result.upsertedIds}}r.MongoBulkWriteError=E;class w{constructor(C){this.bulkOperation=C}update(C){const x=b(this.bulkOperation);return this.bulkOperation.addToOperationsList(r.BatchType.UPDATE,(0,u.makeUpdateStatement)(x.selector,C,{...x,multi:!0}))}updateOne(C){if(!(0,l.hasAtomicOperators)(C))throw new t.MongoInvalidArgumentError("Update document requires atomic operators");const x=b(this.bulkOperation);return this.bulkOperation.addToOperationsList(r.BatchType.UPDATE,(0,u.makeUpdateStatement)(x.selector,C,{...x,multi:!1}))}replaceOne(C){if((0,l.hasAtomicOperators)(C))throw new t.MongoInvalidArgumentError("Replacement document must not use atomic operators");const x=b(this.bulkOperation);return this.bulkOperation.addToOperationsList(r.BatchType.UPDATE,(0,u.makeUpdateStatement)(x.selector,C,{...x,multi:!1}))}deleteOne(){const C=b(this.bulkOperation);return this.bulkOperation.addToOperationsList(r.BatchType.DELETE,(0,i.makeDeleteStatement)(C.selector,{...C,limit:1}))}delete(){const C=b(this.bulkOperation);return this.bulkOperation.addToOperationsList(r.BatchType.DELETE,(0,i.makeDeleteStatement)(C.selector,{...C,limit:0}))}upsert(){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.upsert=!0,this}collation(C){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.collation=C,this}arrayFilters(C){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.arrayFilters=C,this}hint(C){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.hint=C,this}}r.FindOperators=w;const L=(0,A.promisify)(g);class T extends o.AbstractOperation{constructor(C,x){super(x),this.bulkOperation=C}execute(C,x){return this.options.session==null&&(this.options.session=x),L(this.bulkOperation,this.options)}}class R{constructor(C,x,S){this.isOrdered=S;const B=(0,l.getTopology)(C);x=x??{};const D=C.s.namespace,Q=!1,Z=void 0,AA=B.lastHello(),Y=!!(B.s.options&&B.s.options.autoEncrypter),G=AA&&AA.maxBsonObjectSize?AA.maxBsonObjectSize:1024*1024*16,X=Y?1024*1024*2:G,nA=AA&&AA.maxWriteBatchSize?AA.maxWriteBatchSize:1e3,lA=(nA-1).toString(10).length+2;let vA=Object.assign({},x);vA=(0,l.applyRetryableWrites)(vA,C.s.db);const BA={ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]};this.s={bulkResult:BA,currentBatch:void 0,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:void 0,currentUpdateBatch:void 0,currentRemoveBatch:void 0,batches:[],writeConcern:c.WriteConcern.fromOptions(x),maxBsonObjectSize:G,maxBatchSizeBytes:X,maxWriteBatchSize:nA,maxKeySize:lA,namespace:D,topology:B,options:vA,bsonOptions:(0,e.resolveBSONOptions)(x),currentOp:Z,executed:Q,collection:C,err:void 0,checkKeys:typeof x.checkKeys=="boolean"?x.checkKeys:!1},x.bypassDocumentValidation===!0&&(this.s.bypassDocumentValidation=!0)}insert(C){return C._id==null&&!P(this)&&(C._id=new e.ObjectId),this.addToOperationsList(r.BatchType.INSERT,C)}find(C){if(!C)throw new t.MongoInvalidArgumentError("Bulk find operation must specify a selector");return this.s.currentOp={selector:C},new w(this)}raw(C){if(C==null||typeof C!="object")throw new t.MongoInvalidArgumentError("Operation must be an object with an operation key");if("insertOne"in C){const x=P(this);return C.insertOne&&C.insertOne.document==null?(x!==!0&&C.insertOne._id==null&&(C.insertOne._id=new e.ObjectId),this.addToOperationsList(r.BatchType.INSERT,C.insertOne)):(x!==!0&&C.insertOne.document._id==null&&(C.insertOne.document._id=new e.ObjectId),this.addToOperationsList(r.BatchType.INSERT,C.insertOne.document))}if("replaceOne"in C||"updateOne"in C||"updateMany"in C){if("replaceOne"in C){if("q"in C.replaceOne)throw new t.MongoInvalidArgumentError("Raw operations are not allowed");const x=(0,u.makeUpdateStatement)(C.replaceOne.filter,C.replaceOne.replacement,{...C.replaceOne,multi:!1});if((0,l.hasAtomicOperators)(x.u))throw new t.MongoInvalidArgumentError("Replacement document must not use atomic operators");return this.addToOperationsList(r.BatchType.UPDATE,x)}if("updateOne"in C){if("q"in C.updateOne)throw new t.MongoInvalidArgumentError("Raw operations are not allowed");const x=(0,u.makeUpdateStatement)(C.updateOne.filter,C.updateOne.update,{...C.updateOne,multi:!1});if(!(0,l.hasAtomicOperators)(x.u))throw new t.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(r.BatchType.UPDATE,x)}if("updateMany"in C){if("q"in C.updateMany)throw new t.MongoInvalidArgumentError("Raw operations are not allowed");const x=(0,u.makeUpdateStatement)(C.updateMany.filter,C.updateMany.update,{...C.updateMany,multi:!0});if(!(0,l.hasAtomicOperators)(x.u))throw new t.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(r.BatchType.UPDATE,x)}}if("deleteOne"in C){if("q"in C.deleteOne)throw new t.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(r.BatchType.DELETE,(0,i.makeDeleteStatement)(C.deleteOne.filter,{...C.deleteOne,limit:1}))}if("deleteMany"in C){if("q"in C.deleteMany)throw new t.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(r.BatchType.DELETE,(0,i.makeDeleteStatement)(C.deleteMany.filter,{...C.deleteMany,limit:0}))}throw new t.MongoInvalidArgumentError("bulkWrite only supports insertOne, updateOne, updateMany, deleteOne, deleteMany")}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get batches(){const C=[...this.s.batches];return this.isOrdered?this.s.currentBatch&&C.push(this.s.currentBatch):(this.s.currentInsertBatch&&C.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&C.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&C.push(this.s.currentRemoveBatch)),C}async execute(C={}){if(this.s.executed)throw new t.MongoBatchReExecutionError;const x=c.WriteConcern.fromOptions(C);if(x&&(this.s.writeConcern=x),this.isOrdered?this.s.currentBatch&&this.s.batches.push(this.s.currentBatch):(this.s.currentInsertBatch&&this.s.batches.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&this.s.batches.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&this.s.batches.push(this.s.currentRemoveBatch)),this.s.batches.length===0)throw new t.MongoInvalidArgumentError("Invalid BulkOperation, Batch cannot be empty");this.s.executed=!0;const S={...this.s.options,...C},B=new T(this,S);return(0,n.executeOperation)(this.s.collection.client,B)}handleWriteError(C,x){if(this.s.bulkResult.writeErrors.length>0){const B=this.s.bulkResult.writeErrors[0].errmsg?this.s.bulkResult.writeErrors[0].errmsg:"write operation failed";return C(new E({message:B,code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors},x)),!0}const S=x.getWriteConcernError();return S?(C(new E(S,x)),!0):!1}}r.BulkOperationBase=R,Object.defineProperty(R.prototype,"length",{enumerable:!0,get(){return this.s.currentIndex}});function P(v){var C,x;return typeof v.s.options.forceServerObjectId=="boolean"?v.s.options.forceServerObjectId:typeof((C=v.s.collection.s.db.options)==null?void 0:C.forceServerObjectId)=="boolean"?(x=v.s.collection.s.db.options)==null?void 0:x.forceServerObjectId:!1}function F(v){return v.batchType===r.BatchType.INSERT}function H(v){return v.batchType===r.BatchType.UPDATE}function M(v){return v.batchType===r.BatchType.DELETE}function b(v){let{currentOp:C}=v.s;return v.s.currentOp=void 0,C||(C={}),C}})(cu);Object.defineProperty(vu,"__esModule",{value:!0});vu.OrderedBulkOperation=void 0;const M8=Ce,I2=_A,el=cu;class R8 extends el.BulkOperationBase{constructor(A,e){super(A,e,!0)}addToOperationsList(A,e){const t=M8.calculateObjectSize(e,{checkKeys:!1,ignoreUndefined:!1});if(t>=this.s.maxBsonObjectSize)throw new I2.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);this.s.currentBatch==null&&(this.s.currentBatch=new el.Batch(A,this.s.currentIndex));const i=this.s.maxKeySize;if((this.s.currentBatchSize+1>=this.s.maxWriteBatchSize||this.s.currentBatchSize>0&&this.s.currentBatchSizeBytes+i+t>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==A)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new el.Batch(A,this.s.currentIndex),this.s.currentBatchSize=0,this.s.currentBatchSizeBytes=0),A===el.BatchType.INSERT&&this.s.bulkResult.insertedIds.push({index:this.s.currentIndex,_id:e._id}),Array.isArray(e))throw new I2.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentBatch.operations.push(e),this.s.currentBatchSize+=1,this.s.currentBatchSizeBytes+=i+t,this.s.currentIndex+=1,this}}vu.OrderedBulkOperation=R8;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.UnorderedBulkOperation=void 0;const P8=Ce,B2=_A,Pi=cu;class F8 extends Pi.BulkOperationBase{constructor(A,e){super(A,e,!1)}handleWriteError(A,e){return this.s.batches.length?!1:super.handleWriteError(A,e)}addToOperationsList(A,e){const t=P8.calculateObjectSize(e,{checkKeys:!1,ignoreUndefined:!1});if(t>=this.s.maxBsonObjectSize)throw new B2.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);this.s.currentBatch=void 0,A===Pi.BatchType.INSERT?this.s.currentBatch=this.s.currentInsertBatch:A===Pi.BatchType.UPDATE?this.s.currentBatch=this.s.currentUpdateBatch:A===Pi.BatchType.DELETE&&(this.s.currentBatch=this.s.currentRemoveBatch);const i=this.s.maxKeySize;if(this.s.currentBatch==null&&(this.s.currentBatch=new Pi.Batch(A,this.s.currentIndex)),(this.s.currentBatch.size+1>=this.s.maxWriteBatchSize||this.s.currentBatch.size>0&&this.s.currentBatch.sizeBytes+i+t>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==A)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new Pi.Batch(A,this.s.currentIndex)),Array.isArray(e))throw new B2.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.operations.push(e),this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentIndex=this.s.currentIndex+1,A===Pi.BatchType.INSERT?(this.s.currentInsertBatch=this.s.currentBatch,this.s.bulkResult.insertedIds.push({index:this.s.bulkResult.insertedIds.length,_id:e._id})):A===Pi.BatchType.UPDATE?this.s.currentUpdateBatch=this.s.currentBatch:A===Pi.BatchType.DELETE&&(this.s.currentRemoveBatch=this.s.currentBatch),this.s.currentBatch.size+=1,this.s.currentBatch.sizeBytes+=i+t,this}}Tu.UnorderedBulkOperation=F8;var Sa={},va={},so={},C1={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AggregateOperation=r.DB_AGGREGATE_COLLECTION=void 0;const A=_A,e=PA,t=at,i=De,n=le;r.DB_AGGREGATE_COLLECTION=1;const s=8;class o extends i.CommandOperation{constructor(l,c,h){if(super(void 0,{...h,dbName:l.db}),this.options={...h},this.target=l.collection||r.DB_AGGREGATE_COLLECTION,this.pipeline=c,this.hasWriteStage=!1,typeof(h==null?void 0:h.out)=="string")this.pipeline=this.pipeline.concat({$out:h.out}),this.hasWriteStage=!0;else if(c.length>0){const d=c[c.length-1];(d.$out||d.$merge)&&(this.hasWriteStage=!0)}if(this.hasWriteStage?this.trySecondaryWrite=!0:delete this.options.writeConcern,this.explain&&this.writeConcern)throw new A.MongoInvalidArgumentError('Option "explain" cannot be used on an aggregate call with writeConcern');if((h==null?void 0:h.cursor)!=null&&typeof h.cursor!="object")throw new A.MongoInvalidArgumentError("Cursor options must be an object")}get canRetryRead(){return!this.hasWriteStage}addToPipeline(l){this.pipeline.push(l)}async execute(l,c){const h=this.options,d=(0,e.maxWireVersion)(l),f={aggregate:this.target,pipeline:this.pipeline};return this.hasWriteStage&&d<s&&(this.readConcern=void 0),this.hasWriteStage&&this.writeConcern&&t.WriteConcern.apply(f,this.writeConcern),h.bypassDocumentValidation===!0&&(f.bypassDocumentValidation=h.bypassDocumentValidation),typeof h.allowDiskUse=="boolean"&&(f.allowDiskUse=h.allowDiskUse),h.hint&&(f.hint=h.hint),h.let&&(f.let=h.let),h.comment!==void 0&&(f.comment=h.comment),f.cursor=h.cursor||{},h.batchSize&&!this.hasWriteStage&&(f.cursor.batchSize=h.batchSize),super.executeCommand(l,c,f)}}r.AggregateOperation=o,(0,n.defineAspects)(o,[n.Aspect.READ_OPERATION,n.Aspect.RETRYABLE,n.Aspect.EXPLAINABLE,n.Aspect.CURSOR_CREATING])})(C1);var nn={},pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.CancellationToken=pt.TypedEventEmitter=void 0;const N8=zA;class TE extends N8.EventEmitter{emitAndLog(A,...e){var t;this.emit(A,...e),this.component&&((t=this.mongoLogger)==null||t.debug(this.component,e[0]))}}pt.TypedEventEmitter=TE;class L8 extends TE{}pt.CancellationToken=L8;var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.GetMoreOperation=void 0;const od=_A,U8=PA,Rl=le;class DE extends Rl.AbstractOperation{constructor(A,e,t,i){super(i),this.options=i,this.ns=A,this.cursorId=e,this.server=t}async execute(A,e){if(A!==this.server)throw new od.MongoRuntimeError("Getmore must run on the same server operation began on");if(this.cursorId==null||this.cursorId.isZero())throw new od.MongoRuntimeError("Unable to iterate cursor with no id");const t=this.ns.collection;if(t==null)throw new od.MongoRuntimeError("A collection name must be determined before getMore");const i={getMore:this.cursorId,collection:t};typeof this.options.batchSize=="number"&&(i.batchSize=Math.abs(this.options.batchSize)),typeof this.options.maxAwaitTimeMS=="number"&&(i.maxTimeMS=this.options.maxAwaitTimeMS),this.options.comment!==void 0&&(0,U8.maxWireVersion)(A)>=9&&(i.comment=this.options.comment);const n={returnFieldSelector:null,documentsReturnedIn:"nextBatch",...this.options};return A.commandAsync(this.ns,i,n)}}Du.GetMoreOperation=DE;(0,Rl.defineAspects)(DE,[Rl.Aspect.READ_OPERATION,Rl.Aspect.MUST_SELECT_SAME_SERVER]);var _1={};Object.defineProperty(_1,"__esModule",{value:!0});_1.KillCursorsOperation=void 0;const T2=_A,Tf=le;class xE extends Tf.AbstractOperation{constructor(A,e,t,i){super(i),this.ns=e,this.cursorId=A,this.server=t}async execute(A,e){if(A!==this.server)throw new T2.MongoRuntimeError("Killcursor must run on the same server operation began on");const t=this.ns.collection;if(t==null)throw new T2.MongoRuntimeError("A collection name must be determined before killCursors");const i={killCursors:t,cursors:[this.cursorId]};try{await A.commandAsync(this.ns,i,{session:e})}catch{}}}_1.KillCursorsOperation=xE;(0,Tf.defineAspects)(xE,[Tf.Aspect.MUST_SELECT_SAME_SERVER]);var ht={},xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.ConnectionPoolMetrics=void 0;class Yi{constructor(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}markPinned(A){A===Yi.TXN?this.txnConnections+=1:A===Yi.CURSOR?this.cursorConnections+=1:this.otherConnections+=1}markUnpinned(A){A===Yi.TXN?this.txnConnections-=1:A===Yi.CURSOR?this.cursorConnections-=1:this.otherConnections-=1}info(A){return`Timed out while checking out a connection from connection pool: maxPoolSize: ${A}, connections in use by cursors: ${this.cursorConnections}, connections in use by transactions: ${this.txnConnections}, connections in use by other operations: ${this.otherConnections}`}reset(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}}Yi.TXN="txn";Yi.CURSOR="cursor";Yi.OTHER="other";xu.ConnectionPoolMetrics=Yi;var Vs={},Ou={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.compareTopologyVersion=Ai.parseServerType=Ai.ServerDescription=void 0;const tl=Ce,k8=_A,co=PA,Ue=ge,z8=new Set([Ue.ServerType.RSPrimary,Ue.ServerType.Standalone,Ue.ServerType.Mongos,Ue.ServerType.LoadBalancer]),G8=new Set([Ue.ServerType.RSPrimary,Ue.ServerType.RSSecondary,Ue.ServerType.Mongos,Ue.ServerType.Standalone,Ue.ServerType.LoadBalancer]);class V8{constructor(A,e,t={}){var i,n,s,o,u,l;if(A==null||A==="")throw new k8.MongoRuntimeError("ServerDescription must be provided with a non-empty address");this.address=typeof A=="string"?co.HostAddress.fromString(A).toString():A.toString(),this.type=OE(e,t),this.hosts=((i=e==null?void 0:e.hosts)==null?void 0:i.map(c=>c.toLowerCase()))??[],this.passives=((n=e==null?void 0:e.passives)==null?void 0:n.map(c=>c.toLowerCase()))??[],this.arbiters=((s=e==null?void 0:e.arbiters)==null?void 0:s.map(c=>c.toLowerCase()))??[],this.tags=(e==null?void 0:e.tags)??{},this.minWireVersion=(e==null?void 0:e.minWireVersion)??0,this.maxWireVersion=(e==null?void 0:e.maxWireVersion)??0,this.roundTripTime=(t==null?void 0:t.roundTripTime)??-1,this.lastUpdateTime=(0,co.now)(),this.lastWriteDate=((o=e==null?void 0:e.lastWrite)==null?void 0:o.lastWriteDate)??0,this.error=t.error??null,this.topologyVersion=((u=this.error)==null?void 0:u.topologyVersion)??(e==null?void 0:e.topologyVersion)??null,this.setName=(e==null?void 0:e.setName)??null,this.setVersion=(e==null?void 0:e.setVersion)??null,this.electionId=(e==null?void 0:e.electionId)??null,this.logicalSessionTimeoutMinutes=(e==null?void 0:e.logicalSessionTimeoutMinutes)??null,this.primary=(e==null?void 0:e.primary)??null,this.me=((l=e==null?void 0:e.me)==null?void 0:l.toLowerCase())??null,this.$clusterTime=(e==null?void 0:e.$clusterTime)??null}get hostAddress(){return co.HostAddress.fromString(this.address)}get allHosts(){return this.hosts.concat(this.arbiters).concat(this.passives)}get isReadable(){return this.type===Ue.ServerType.RSSecondary||this.isWritable}get isDataBearing(){return G8.has(this.type)}get isWritable(){return z8.has(this.type)}get host(){const A=`:${this.port}`.length;return this.address.slice(0,-A)}get port(){const A=this.address.split(":").pop();return A?Number.parseInt(A,10):27017}equals(A){const e=this.topologyVersion===(A==null?void 0:A.topologyVersion)||ME(this.topologyVersion,A==null?void 0:A.topologyVersion)===0,t=this.electionId!=null&&(A==null?void 0:A.electionId)!=null?(0,co.compareObjectId)(this.electionId,A.electionId)===0:this.electionId===(A==null?void 0:A.electionId);return A!=null&&(0,co.errorStrictEqual)(this.error,A.error)&&this.type===A.type&&this.minWireVersion===A.minWireVersion&&(0,co.arrayStrictEqual)(this.hosts,A.hosts)&&Q8(this.tags,A.tags)&&this.setName===A.setName&&this.setVersion===A.setVersion&&t&&this.primary===A.primary&&this.logicalSessionTimeoutMinutes===A.logicalSessionTimeoutMinutes&&e}}Ai.ServerDescription=V8;function OE(r,A){return A!=null&&A.loadBalanced?Ue.ServerType.LoadBalancer:!r||!r.ok?Ue.ServerType.Unknown:r.isreplicaset?Ue.ServerType.RSGhost:r.msg&&r.msg==="isdbgrid"?Ue.ServerType.Mongos:r.setName?r.hidden?Ue.ServerType.RSOther:r.isWritablePrimary?Ue.ServerType.RSPrimary:r.secondary?Ue.ServerType.RSSecondary:r.arbiterOnly?Ue.ServerType.RSArbiter:Ue.ServerType.RSOther:Ue.ServerType.Standalone}Ai.parseServerType=OE;function Q8(r,A){const e=Object.keys(r),t=Object.keys(A);return e.length===t.length&&e.every(i=>A[i]===r[i])}function ME(r,A){if(r==null||A==null||!r.processId.equals(A.processId))return-1;const e=tl.Long.isLong(r.counter)?r.counter:tl.Long.fromNumber(r.counter),t=tl.Long.isLong(A.counter)?A.counter:tl.Long.fromNumber(A.counter);return e.compare(t)}Ai.compareTopologyVersion=ME;Object.defineProperty(Ou,"__esModule",{value:!0});Ou.TopologyDescription=void 0;const S1=JA,H8=_A,Df=PA,jA=ge,Pn=Ai,j8=S1.MIN_SUPPORTED_SERVER_VERSION,W8=S1.MAX_SUPPORTED_SERVER_VERSION,D2=S1.MIN_SUPPORTED_WIRE_VERSION,x2=S1.MAX_SUPPORTED_WIRE_VERSION,Y8=new Set([jA.ServerType.Mongos,jA.ServerType.Unknown]),O2=new Set([jA.ServerType.Mongos,jA.ServerType.Standalone]),M2=new Set([jA.ServerType.RSSecondary,jA.ServerType.RSArbiter,jA.ServerType.RSOther]);class $a{constructor(A,e=null,t=null,i=null,n=null,s=null,o=null){o=o??{},this.type=A??jA.TopologyType.Unknown,this.servers=e??new Map,this.stale=!1,this.compatible=!0,this.heartbeatFrequencyMS=o.heartbeatFrequencyMS??0,this.localThresholdMS=o.localThresholdMS??15,this.setName=t??null,this.maxElectionId=n??null,this.maxSetVersion=i??null,this.commonWireVersion=s??0;for(const u of this.servers.values())if(!(u.type===jA.ServerType.Unknown||u.type===jA.ServerType.LoadBalancer)&&(u.minWireVersion>x2&&(this.compatible=!1,this.compatibilityError=`Server at ${u.address} requires wire version ${u.minWireVersion}, but this version of the driver only supports up to ${x2} (MongoDB ${W8})`),u.maxWireVersion<D2)){this.compatible=!1,this.compatibilityError=`Server at ${u.address} reports wire version ${u.maxWireVersion}, but this version of the driver requires at least ${D2} (MongoDB ${j8}).`;break}this.logicalSessionTimeoutMinutes=null;for(const[,u]of this.servers)if(u.isReadable){if(u.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=null;break}if(this.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=u.logicalSessionTimeoutMinutes;continue}this.logicalSessionTimeoutMinutes=Math.min(this.logicalSessionTimeoutMinutes,u.logicalSessionTimeoutMinutes)}}updateFromSrvPollingEvent(A,e=0){const t=A.hostnames(),i=new Set(this.servers.keys()),n=new Set(t),s=new Set;for(const u of i)n.delete(u),t.has(u)||s.add(u);if(n.size===0&&s.size===0)return this;const o=new Map(this.servers);for(const u of s)o.delete(u);if(n.size>0){if(e===0)for(const u of n)o.set(u,new Pn.ServerDescription(u));else if(o.size<e){const u=(0,Df.shuffle)(n,e-o.size);for(const l of u)o.set(l,new Pn.ServerDescription(l))}}return new $a(this.type,o,this.setName,this.maxSetVersion,this.maxElectionId,this.commonWireVersion,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}update(A){const e=A.address;let{type:t,setName:i,maxSetVersion:n,maxElectionId:s,commonWireVersion:o}=this;const u=A.type,l=new Map(this.servers);if(A.maxWireVersion!==0&&(o==null?o=A.maxWireVersion:o=Math.min(o,A.maxWireVersion)),typeof A.setName=="string"&&typeof i=="string"&&A.setName!==i&&(t===jA.TopologyType.Single?A=new Pn.ServerDescription(e):l.delete(e)),l.set(e,A),t===jA.TopologyType.Single)return new $a(jA.TopologyType.Single,l,i,n,s,o,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS});if(t===jA.TopologyType.Unknown&&(u===jA.ServerType.Standalone&&this.servers.size!==1?l.delete(e):t=$8(u)),t===jA.TopologyType.Sharded&&(Y8.has(u)||l.delete(e)),t===jA.TopologyType.ReplicaSetNoPrimary){if(O2.has(u)&&l.delete(e),u===jA.ServerType.RSPrimary){const c=R2(l,A,i,n,s);t=c[0],i=c[1],n=c[2],s=c[3]}else if(M2.has(u)){const c=q8(l,A,i);t=c[0],i=c[1]}}if(t===jA.TopologyType.ReplicaSetWithPrimary)if(O2.has(u))l.delete(e),t=bs(l);else if(u===jA.ServerType.RSPrimary){const c=R2(l,A,i,n,s);t=c[0],i=c[1],n=c[2],s=c[3]}else M2.has(u)?t=K8(l,A,i):t=bs(l);return new $a(t,l,i,n,s,o,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}get error(){const A=Array.from(this.servers.values()).filter(e=>e.error);return A.length>0?A[0].error:null}get hasKnownServers(){return Array.from(this.servers.values()).some(A=>A.type!==jA.ServerType.Unknown)}get hasDataBearingServers(){return Array.from(this.servers.values()).some(A=>A.isDataBearing)}hasServer(A){return this.servers.has(A)}}Ou.TopologyDescription=$a;function $8(r){switch(r){case jA.ServerType.Standalone:return jA.TopologyType.Single;case jA.ServerType.Mongos:return jA.TopologyType.Sharded;case jA.ServerType.RSPrimary:return jA.TopologyType.ReplicaSetWithPrimary;case jA.ServerType.RSOther:case jA.ServerType.RSSecondary:return jA.TopologyType.ReplicaSetNoPrimary;default:return jA.TopologyType.Unknown}}function R2(r,A,e=null,t=null,i=null){if(e=e||A.setName,e!==A.setName)return r.delete(A.address),[bs(r),e,t,i];if(A.maxWireVersion>=17){const o=(0,Df.compareObjectId)(i,A.electionId),u=o===0,l=o===-1,c=(t??-1)<=(A.setVersion??-1);if(l||u&&c)i=A.electionId,t=A.setVersion;else return r.set(A.address,new Pn.ServerDescription(A.address)),[bs(r),e,t,i]}else{const o=A.electionId?A.electionId:null;if(A.setVersion&&o){if(t&&i&&(t>A.setVersion||(0,Df.compareObjectId)(i,o)>0))return r.set(A.address,new Pn.ServerDescription(A.address)),[bs(r),e,t,i];i=A.electionId}A.setVersion!=null&&(t==null||A.setVersion>t)&&(t=A.setVersion)}for(const[o,u]of r)if(u.type===jA.ServerType.RSPrimary&&u.address!==A.address){r.set(o,new Pn.ServerDescription(u.address));break}A.allHosts.forEach(o=>{r.has(o)||r.set(o,new Pn.ServerDescription(o))});const n=Array.from(r.keys()),s=A.allHosts;return n.filter(o=>s.indexOf(o)===-1).forEach(o=>{r.delete(o)}),[bs(r),e,t,i]}function K8(r,A,e=null){if(e==null)throw new H8.MongoRuntimeError('Argument "setName" is required if connected to a replica set');return(e!==A.setName||A.me&&A.address!==A.me)&&r.delete(A.address),bs(r)}function q8(r,A,e=null){const t=jA.TopologyType.ReplicaSetNoPrimary;return e=e??A.setName,e!==A.setName?(r.delete(A.address),[t,e]):(A.allHosts.forEach(i=>{r.has(i)||r.set(i,new Pn.ServerDescription(i))}),A.me&&A.address!==A.me&&r.delete(A.address),[t,e])}function bs(r){for(const A of r.values())if(A.type===jA.ServerType.RSPrimary)return jA.TopologyType.ReplicaSetWithPrimary;return jA.TopologyType.ReplicaSetNoPrimary}Object.defineProperty(Vs,"__esModule",{value:!0});Vs.isSharded=Vs.getReadPreference=void 0;const X8=_A,ad=Ke,P2=ge,J8=Ou;function Z8(r){let A=(r==null?void 0:r.readPreference)??ad.ReadPreference.primary;if(r!=null&&r.readPreference&&(A=r.readPreference),typeof A=="string"&&(A=ad.ReadPreference.fromString(A)),!(A instanceof ad.ReadPreference))throw new X8.MongoInvalidArgumentError('Option "readPreference" must be a ReadPreference instance');return A}Vs.getReadPreference=Z8;function AO(r){return r==null?!1:r.description&&r.description.type===P2.ServerType.Mongos?!0:r.description&&r.description instanceof J8.TopologyDescription?Array.from(r.description.servers.values()).some(e=>e.type===P2.ServerType.Mongos):!1}Vs.isSharded=AO;var z0={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.isTransactionCommand=r.Transaction=r.TxnState=void 0;const A=_A,e=Mr,t=Ke,i=at;r.TxnState=Object.freeze({NO_TRANSACTION:"NO_TRANSACTION",STARTING_TRANSACTION:"STARTING_TRANSACTION",TRANSACTION_IN_PROGRESS:"TRANSACTION_IN_PROGRESS",TRANSACTION_COMMITTED:"TRANSACTION_COMMITTED",TRANSACTION_COMMITTED_EMPTY:"TRANSACTION_COMMITTED_EMPTY",TRANSACTION_ABORTED:"TRANSACTION_ABORTED"});const n={[r.TxnState.NO_TRANSACTION]:[r.TxnState.NO_TRANSACTION,r.TxnState.STARTING_TRANSACTION],[r.TxnState.STARTING_TRANSACTION]:[r.TxnState.TRANSACTION_IN_PROGRESS,r.TxnState.TRANSACTION_COMMITTED,r.TxnState.TRANSACTION_COMMITTED_EMPTY,r.TxnState.TRANSACTION_ABORTED],[r.TxnState.TRANSACTION_IN_PROGRESS]:[r.TxnState.TRANSACTION_IN_PROGRESS,r.TxnState.TRANSACTION_COMMITTED,r.TxnState.TRANSACTION_ABORTED],[r.TxnState.TRANSACTION_COMMITTED]:[r.TxnState.TRANSACTION_COMMITTED,r.TxnState.TRANSACTION_COMMITTED_EMPTY,r.TxnState.STARTING_TRANSACTION,r.TxnState.NO_TRANSACTION],[r.TxnState.TRANSACTION_ABORTED]:[r.TxnState.STARTING_TRANSACTION,r.TxnState.NO_TRANSACTION],[r.TxnState.TRANSACTION_COMMITTED_EMPTY]:[r.TxnState.TRANSACTION_COMMITTED_EMPTY,r.TxnState.NO_TRANSACTION]},s=new Set([r.TxnState.STARTING_TRANSACTION,r.TxnState.TRANSACTION_IN_PROGRESS]),o=new Set([r.TxnState.TRANSACTION_COMMITTED,r.TxnState.TRANSACTION_COMMITTED_EMPTY,r.TxnState.TRANSACTION_ABORTED]);class u{constructor(h){h=h??{},this.state=r.TxnState.NO_TRANSACTION,this.options={};const d=i.WriteConcern.fromOptions(h);if(d){if(d.w===0)throw new A.MongoTransactionError("Transactions do not support unacknowledged write concern");this.options.writeConcern=d}h.readConcern&&(this.options.readConcern=e.ReadConcern.fromOptions(h)),h.readPreference&&(this.options.readPreference=t.ReadPreference.fromOptions(h)),h.maxCommitTimeMS&&(this.options.maxTimeMS=h.maxCommitTimeMS),this._pinnedServer=void 0,this._recoveryToken=void 0}get server(){return this._pinnedServer}get recoveryToken(){return this._recoveryToken}get isPinned(){return!!this.server}get isStarting(){return this.state===r.TxnState.STARTING_TRANSACTION}get isActive(){return s.has(this.state)}get isCommitted(){return o.has(this.state)}transition(h){const d=n[this.state];if(d&&d.includes(h)){this.state=h,(this.state===r.TxnState.NO_TRANSACTION||this.state===r.TxnState.STARTING_TRANSACTION||this.state===r.TxnState.TRANSACTION_ABORTED)&&this.unpinServer();return}throw new A.MongoRuntimeError(`Attempted illegal state transition from [${this.state}] to [${h}]`)}pinServer(h){this.isActive&&(this._pinnedServer=h)}unpinServer(){this._pinnedServer=void 0}}r.Transaction=u;function l(c){return!!(c.commitTransaction||c.abortTransaction)}r.isTransactionCommand=l})(z0);var RE;Object.defineProperty(ht,"__esModule",{value:!0});ht.updateSessionFromResponse=ht.applySession=ht.ServerSessionPool=ht.ServerSession=ht.maybeClearPinnedConnection=ht.ClientSession=void 0;const eO=Fr,Pl=Ce,bc=xu,tO=Vs,PE=ut,LA=_A,rO=pt,F2=Dt,N2=Di,iO=Mr,L2=Ke,xf=ge,_e=z0,ei=PA,nO=at,sO=8,ho=Symbol("serverSession"),Ic=Symbol("snapshotTime"),ko=Symbol("snapshotEnabled"),_o=Symbol("pinnedConnection"),Bc=Symbol("txnNumberIncrement");class G0 extends rO.TypedEventEmitter{constructor(A,e,t,i){if(super(),this[RE]=!1,A==null)throw new LA.MongoRuntimeError("ClientSession requires a MongoClient");if(e==null||!(e instanceof UE))throw new LA.MongoRuntimeError("ClientSession requires a ServerSessionPool");if(t=t??{},t.snapshot===!0&&(this[ko]=!0,t.causalConsistency===!0))throw new LA.MongoInvalidArgumentError('Properties "causalConsistency" and "snapshot" are mutually exclusive');this.client=A,this.sessionPool=e,this.hasEnded=!1,this.clientOptions=i,this.explicit=!!t.explicit,this[ho]=this.explicit?this.sessionPool.acquire():null,this[Bc]=0;const n=this.explicit&&t.snapshot!==!0;this.supports={causalConsistency:t.causalConsistency??n},this.clusterTime=t.initialClusterTime,this.operationTime=void 0,this.owner=t.owner,this.defaultTransactionOptions=Object.assign({},t.defaultTransactionOptions),this.transaction=new _e.Transaction}get id(){var A;return(A=this[ho])==null?void 0:A.id}get serverSession(){let A=this[ho];if(A==null){if(this.explicit)throw new LA.MongoRuntimeError("Unexpected null serverSession for an explicit session");if(this.hasEnded)throw new LA.MongoRuntimeError("Unexpected null serverSession for an ended implicit session");A=this.sessionPool.acquire(),this[ho]=A}return A}get snapshotEnabled(){return this[ko]}get loadBalanced(){var A;return((A=this.client.topology)==null?void 0:A.description.type)===xf.TopologyType.LoadBalanced}get pinnedConnection(){return this[_o]}pin(A){if(this[_o])throw TypeError("Cannot pin multiple connections to the same session");this[_o]=A,A.emit(PE.PINNED,this.inTransaction()?bc.ConnectionPoolMetrics.TXN:bc.ConnectionPoolMetrics.CURSOR)}unpin(A){if(this.loadBalanced)return Tc(this,A);this.transaction.unpinServer()}get isPinned(){return this.loadBalanced?!!this[_o]:this.transaction.isPinned}async endSession(A){try{if(this.inTransaction()&&await this.abortTransaction(),!this.hasEnded){const e=this[ho];e!=null&&(this.sessionPool.release(e),Object.defineProperty(this,ho,{value:Mu.clone(e),writable:!1})),this.hasEnded=!0,this.emit("ended",this)}}catch{}finally{Tc(this,{force:!0,...A})}}advanceOperationTime(A){if(this.operationTime==null){this.operationTime=A;return}A.greaterThan(this.operationTime)&&(this.operationTime=A)}advanceClusterTime(A){var e,t;if(!A||typeof A!="object")throw new LA.MongoInvalidArgumentError("input cluster time must be an object");if(!A.clusterTime||A.clusterTime._bsontype!=="Timestamp")throw new LA.MongoInvalidArgumentError('input cluster time "clusterTime" property must be a valid BSON Timestamp');if(!A.signature||((e=A.signature.hash)==null?void 0:e._bsontype)!=="Binary"||typeof A.signature.keyId!="bigint"&&typeof A.signature.keyId!="number"&&((t=A.signature.keyId)==null?void 0:t._bsontype)!=="Long")throw new LA.MongoInvalidArgumentError('input cluster time must have a valid "signature" property with BSON Binary hash and BSON Long keyId');(0,xf._advanceClusterTime)(this,A)}equals(A){return!(A instanceof G0)||this.id==null||A.id==null?!1:ei.ByteUtils.equals(this.id.id.buffer,A.id.id.buffer)}incrementTransactionNumber(){this[Bc]+=1}inTransaction(){return this.transaction.isActive}startTransaction(A){var t,i,n;if(this[ko])throw new LA.MongoCompatibilityError("Transactions are not supported in snapshot sessions");if(this.inTransaction())throw new LA.MongoTransactionError("Transaction already in progress");this.isPinned&&this.transaction.isCommitted&&this.unpin();const e=(0,ei.maxWireVersion)(this.client.topology);if((0,tO.isSharded)(this.client.topology)&&e!=null&&e<sO)throw new LA.MongoCompatibilityError("Transactions are not supported on sharded clusters in MongoDB < 4.2.");this.incrementTransactionNumber(),this.transaction=new _e.Transaction({readConcern:(A==null?void 0:A.readConcern)??this.defaultTransactionOptions.readConcern??((t=this.clientOptions)==null?void 0:t.readConcern),writeConcern:(A==null?void 0:A.writeConcern)??this.defaultTransactionOptions.writeConcern??((i=this.clientOptions)==null?void 0:i.writeConcern),readPreference:(A==null?void 0:A.readPreference)??this.defaultTransactionOptions.readPreference??((n=this.clientOptions)==null?void 0:n.readPreference),maxCommitTimeMS:(A==null?void 0:A.maxCommitTimeMS)??this.defaultTransactionOptions.maxCommitTimeMS}),this.transaction.transition(_e.TxnState.STARTING_TRANSACTION)}async commitTransaction(){return U2(this,"commitTransaction")}async abortTransaction(){return U2(this,"abortTransaction")}toBSON(){throw new LA.MongoRuntimeError("ClientSession cannot be serialized to BSON.")}async withTransaction(A,e){const t=(0,ei.now)();return V0(this,t,A,e)}}ht.ClientSession=G0;RE=ko;const FE=12e4,oO=new Set(["CannotSatisfyWriteConcern","UnknownReplWriteConcern","UnsatisfiableWriteConcern"]);function NE(r,A){return(0,ei.calculateDurationInMs)(r)<A}function aO(r){const A=r instanceof LA.MongoServerError&&r.codeName&&oO.has(r.codeName);return v1(r)||!A&&r.code!==LA.MONGODB_ERROR_CODES.UnsatisfiableWriteConcern&&r.code!==LA.MONGODB_ERROR_CODES.UnknownReplWriteConcern}function Tc(r,A){const e=r[_o],t=A==null?void 0:A.error;if(r.inTransaction()&&t&&t instanceof LA.MongoError&&t.hasErrorLabel(LA.MongoErrorLabel.TransientTransactionError))return;const i=r.client.topology;if(e&&i!=null){const s=Array.from(i.s.servers.values())[0];((A==null?void 0:A.error)==null||A!=null&&A.force)&&(s.pool.checkIn(e),e.emit(PE.UNPINNED,r.transaction.state!==_e.TxnState.NO_TRANSACTION?bc.ConnectionPoolMetrics.TXN:bc.ConnectionPoolMetrics.CURSOR),A!=null&&A.forceClear&&s.pool.clear({serviceId:e.serviceId})),r[_o]=void 0}}ht.maybeClearPinnedConnection=Tc;function v1(r){return r==null||!(r instanceof LA.MongoServerError)?!1:r.code===LA.MONGODB_ERROR_CODES.MaxTimeMSExpired||r.writeConcernError&&r.writeConcernError.code===LA.MONGODB_ERROR_CODES.MaxTimeMSExpired}function LE(r,A,e,t,i){return r.commitTransaction().then(()=>t,n=>{if(n instanceof LA.MongoError&&NE(A,FE)&&!v1(n)){if(n.hasErrorLabel(LA.MongoErrorLabel.UnknownTransactionCommitResult))return LE(r,A,e,t,i);if(n.hasErrorLabel(LA.MongoErrorLabel.TransientTransactionError))return V0(r,A,e,i)}throw n})}const uO=new Set([_e.TxnState.NO_TRANSACTION,_e.TxnState.TRANSACTION_COMMITTED,_e.TxnState.TRANSACTION_ABORTED]);function lO(r){return uO.has(r.transaction.state)}function V0(r,A,e,t={}){r.startTransaction(t);let i;try{i=e(r)}catch(n){i=Promise.reject(n)}return(0,ei.isPromiseLike)(i)?i.then(n=>lO(r)?n:LE(r,A,e,n,t),n=>{function s(o){if(o instanceof LA.MongoError&&o.hasErrorLabel(LA.MongoErrorLabel.TransientTransactionError)&&NE(A,FE))return V0(r,A,e,t);throw v1(o)&&o.addErrorLabel(LA.MongoErrorLabel.UnknownTransactionCommitResult),o}return r.inTransaction()?r.abortTransaction().then(()=>s(n)):s(n)}):(r.abortTransaction().catch(()=>null),Promise.reject(new LA.MongoInvalidArgumentError("Function provided to `withTransaction` must return a Promise")))}const U2=(0,eO.promisify)(cO);function cO(r,A,e){const t=r.transaction.state;if(t===_e.TxnState.NO_TRANSACTION){e(new LA.MongoTransactionError("No transaction started"));return}if(A==="commitTransaction"){if(t===_e.TxnState.STARTING_TRANSACTION||t===_e.TxnState.TRANSACTION_COMMITTED_EMPTY){r.transaction.transition(_e.TxnState.TRANSACTION_COMMITTED_EMPTY),e();return}if(t===_e.TxnState.TRANSACTION_ABORTED){e(new LA.MongoTransactionError("Cannot call commitTransaction after calling abortTransaction"));return}}else{if(t===_e.TxnState.STARTING_TRANSACTION){r.transaction.transition(_e.TxnState.TRANSACTION_ABORTED),e();return}if(t===_e.TxnState.TRANSACTION_ABORTED){e(new LA.MongoTransactionError("Cannot call abortTransaction twice"));return}if(t===_e.TxnState.TRANSACTION_COMMITTED||t===_e.TxnState.TRANSACTION_COMMITTED_EMPTY){e(new LA.MongoTransactionError("Cannot call abortTransaction after calling commitTransaction"));return}}const i={[A]:1};let n;r.transaction.options.writeConcern?n=Object.assign({},r.transaction.options.writeConcern):r.clientOptions&&r.clientOptions.writeConcern&&(n={w:r.clientOptions.writeConcern.w}),t===_e.TxnState.TRANSACTION_COMMITTED&&(n=Object.assign({wtimeoutMS:1e4},n,{w:"majority"})),n&&nO.WriteConcern.apply(i,n),A==="commitTransaction"&&r.transaction.options.maxTimeMS&&Object.assign(i,{maxTimeMS:r.transaction.options.maxTimeMS});function s(o){if(A!=="commitTransaction")return r.transaction.transition(_e.TxnState.TRANSACTION_ABORTED),r.loadBalanced&&Tc(r,{force:!1}),e();r.transaction.transition(_e.TxnState.TRANSACTION_COMMITTED),o instanceof LA.MongoError&&((0,LA.isRetryableWriteError)(o)||o instanceof LA.MongoWriteConcernError||v1(o)?aO(o)&&(o.addErrorLabel(LA.MongoErrorLabel.UnknownTransactionCommitResult),r.unpin({error:o})):o.hasErrorLabel(LA.MongoErrorLabel.TransientTransactionError)&&r.unpin({error:o})),e(o)}r.transaction.recoveryToken&&(i.recoveryToken=r.transaction.recoveryToken),(0,F2.executeOperation)(r.client,new N2.RunAdminCommandOperation(i,{session:r,readPreference:L2.ReadPreference.primary,bypassPinningCheck:!0}),o=>{if(i.abortTransaction&&r.unpin(),o instanceof LA.MongoError&&(0,LA.isRetryableWriteError)(o))return i.commitTransaction&&(r.unpin({force:!0}),i.writeConcern=Object.assign({wtimeout:1e4},i.writeConcern,{w:"majority"})),(0,F2.executeOperation)(r.client,new N2.RunAdminCommandOperation(i,{session:r,readPreference:L2.ReadPreference.primary,bypassPinningCheck:!0}),s);s(o)})}class Mu{constructor(){this.id={id:new Pl.Binary((0,ei.uuidV4)(),Pl.Binary.SUBTYPE_UUID)},this.lastUse=(0,ei.now)(),this.txnNumber=0,this.isDirty=!1}hasTimedOut(A){return Math.round((0,ei.calculateDurationInMs)(this.lastUse)%864e5%36e5/6e4)>A-1}static clone(A){const e=new ArrayBuffer(16),t=Buffer.from(e);t.set(A.id.id.buffer);const i=new Pl.Binary(t,A.id.id.sub_type);return Object.setPrototypeOf({id:{id:i},lastUse:A.lastUse,txnNumber:A.txnNumber,isDirty:A.isDirty},Mu.prototype)}}ht.ServerSession=Mu;class UE{constructor(A){if(A==null)throw new LA.MongoRuntimeError("ServerSessionPool requires a MongoClient");this.client=A,this.sessions=new ei.List}acquire(){var t,i;const A=((t=this.client.topology)==null?void 0:t.logicalSessionTimeoutMinutes)??10;let e=null;for(;this.sessions.length>0;){const n=this.sessions.shift();if(n!=null&&((i=this.client.topology)!=null&&i.loadBalanced||!n.hasTimedOut(A))){e=n;break}}return e==null&&(e=new Mu),e}release(A){var t,i;const e=((t=this.client.topology)==null?void 0:t.logicalSessionTimeoutMinutes)??10;if((i=this.client.topology)!=null&&i.loadBalanced&&!e&&this.sessions.unshift(A),!!e&&(this.sessions.prune(n=>n.hasTimedOut(e)),!A.hasTimedOut(e))){if(A.isDirty)return;this.sessions.unshift(A)}}}ht.ServerSessionPool=UE;function hO(r,A,e){var s,o;if(r.hasEnded)return new LA.MongoExpiredSessionError;const t=r.serverSession;if(t==null)return new LA.MongoRuntimeError("Unable to acquire server session");if(((s=e.writeConcern)==null?void 0:s.w)===0)return r&&r.explicit?new LA.MongoAPIError("Cannot have explicit session with unacknowledged writes"):void 0;t.lastUse=(0,ei.now)(),A.lsid=t.id;const i=r.inTransaction()||(0,_e.isTransactionCommand)(A);if((!!e.willRetryWrite||i)&&(t.txnNumber+=r[Bc],r[Bc]=0,A.txnNumber=Pl.Long.fromNumber(t.txnNumber)),!i){r.transaction.state!==_e.TxnState.NO_TRANSACTION&&r.transaction.transition(_e.TxnState.NO_TRANSACTION),r.supports.causalConsistency&&r.operationTime&&(0,ei.commandSupportsReadConcern)(A)?(A.readConcern=A.readConcern||{},Object.assign(A.readConcern,{afterClusterTime:r.operationTime})):r[ko]&&(A.readConcern=A.readConcern||{level:iO.ReadConcernLevel.snapshot},r[Ic]!=null&&Object.assign(A.readConcern,{atClusterTime:r[Ic]}));return}if(A.autocommit=!1,r.transaction.state===_e.TxnState.STARTING_TRANSACTION){r.transaction.transition(_e.TxnState.TRANSACTION_IN_PROGRESS),A.startTransaction=!0;const u=r.transaction.options.readConcern||((o=r==null?void 0:r.clientOptions)==null?void 0:o.readConcern);u&&(A.readConcern=u),r.supports.causalConsistency&&r.operationTime&&(A.readConcern=A.readConcern||{},Object.assign(A.readConcern,{afterClusterTime:r.operationTime}))}}ht.applySession=hO;function dO(r,A){var e;if(A.$clusterTime&&(0,xf._advanceClusterTime)(r,A.$clusterTime),A.operationTime&&r&&r.supports.causalConsistency&&r.advanceOperationTime(A.operationTime),A.recoveryToken&&r&&r.inTransaction()&&(r.transaction._recoveryToken=A.recoveryToken),r!=null&&r[ko]&&r[Ic]==null){const t=((e=A.cursor)==null?void 0:e.atClusterTime)||A.atClusterTime;t&&(r[Ic]=t)}}ht.updateSessionFromResponse=dO;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertUninitialized=r.AbstractCursor=r.CURSOR_FLAGS=void 0;const A=zA,e=Ce,t=_A,i=pt,n=Dt,s=Du,o=_1,u=Mr,l=Ke,c=ht,h=PA,d=Symbol("id"),f=Symbol("documents"),p=Symbol("server"),y=Symbol("namespace"),_=Symbol("client"),g=Symbol("session"),m=Symbol("options"),E=Symbol("transform"),w=Symbol("initialized"),L=Symbol("closed"),T=Symbol("killed"),R=Symbol("kInit");r.CURSOR_FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class P extends i.TypedEventEmitter{constructor(C,x,S={}){if(super(),!C.s.isMongoClient)throw new t.MongoRuntimeError("Cursor must be constructed with MongoClient");this[_]=C,this[y]=x,this[d]=null,this[f]=new h.List,this[w]=!1,this[L]=!1,this[T]=!1,this[m]={readPreference:S.readPreference&&S.readPreference instanceof l.ReadPreference?S.readPreference:l.ReadPreference.primary,...(0,e.pluckBSONSerializeOptions)(S)};const B=u.ReadConcern.fromOptions(S);B&&(this[m].readConcern=B),typeof S.batchSize=="number"&&(this[m].batchSize=S.batchSize),S.comment!==void 0&&(this[m].comment=S.comment),typeof S.maxTimeMS=="number"&&(this[m].maxTimeMS=S.maxTimeMS),typeof S.maxAwaitTimeMS=="number"&&(this[m].maxAwaitTimeMS=S.maxAwaitTimeMS),S.session instanceof c.ClientSession?this[g]=S.session:this[g]=this[_].startSession({owner:this,explicit:!1})}get id(){return this[d]??void 0}get isDead(){var C;return(((C=this[d])==null?void 0:C.isZero())??!1)||this[L]||this[T]}get client(){return this[_]}get server(){return this[p]}get namespace(){return this[y]}get readPreference(){return this[m].readPreference}get readConcern(){return this[m].readConcern}get session(){return this[g]}set session(C){this[g]=C}get cursorOptions(){return this[m]}get closed(){return this[L]}get killed(){return this[T]}get loadBalanced(){var C;return!!((C=this[_].topology)!=null&&C.loadBalanced)}bufferedCount(){return this[f].length}readBufferedDocuments(C){const x=[],S=Math.min(C??this[f].length,this[f].length);for(let B=0;B<S;B++){const D=this[f].shift();D!=null&&x.push(D)}return x}async*[Symbol.asyncIterator](){if(!this.closed)try{for(;;){const C=await this.next();if(C===null){if(!this.closed){const x="Cursor returned a `null` document, but the cursor is not exhausted.  Mapping documents to `null` is not supported in the cursor transform.";throw await H(this,{needsToEmitClosed:!0}).catch(()=>null),new t.MongoAPIError(x)}break}if(yield C,this[d]===e.Long.ZERO)break}}finally{this.closed||await this.close().catch(()=>null)}}stream(C){if(C!=null&&C.transform){const x=C.transform;return new b(this).pipe(new A.Transform({objectMode:!0,highWaterMark:1,transform(B,D,Q){try{const Z=x(B);Q(void 0,Z)}catch(Z){Q(Z)}}}))}return new b(this)}async hasNext(){if(this[d]===e.Long.ZERO)return!1;if(this[f].length!==0)return!0;const C=await F(this,{blocking:!0,transform:!1});return C?(this[f].unshift(C),!0):!1}async next(){if(this[d]===e.Long.ZERO)throw new t.MongoCursorExhaustedError;return F(this,{blocking:!0,transform:!0})}async tryNext(){if(this[d]===e.Long.ZERO)throw new t.MongoCursorExhaustedError;return F(this,{blocking:!1,transform:!0})}async forEach(C){if(typeof C!="function")throw new t.MongoInvalidArgumentError('Argument "iterator" must be a function');for await(const x of this)if(C(x)===!1)break}async close(){const C=!this[L];this[L]=!0,await H(this,{needsToEmitClosed:C})}async toArray(){const C=[];for await(const x of this)C.push(x);return C}addCursorFlag(C,x){if(M(this),!r.CURSOR_FLAGS.includes(C))throw new t.MongoInvalidArgumentError(`Flag ${C} is not one of ${r.CURSOR_FLAGS}`);if(typeof x!="boolean")throw new t.MongoInvalidArgumentError(`Flag ${C} must be a boolean value`);return this[m][C]=x,this}map(C){M(this);const x=this[E];return x?this[E]=S=>C(x(S)):this[E]=C,this}withReadPreference(C){if(M(this),C instanceof l.ReadPreference)this[m].readPreference=C;else if(typeof C=="string")this[m].readPreference=l.ReadPreference.fromString(C);else throw new t.MongoInvalidArgumentError(`Invalid read preference: ${C}`);return this}withReadConcern(C){M(this);const x=u.ReadConcern.fromOptions({readConcern:C});return x&&(this[m].readConcern=x),this}maxTimeMS(C){if(M(this),typeof C!="number")throw new t.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[m].maxTimeMS=C,this}batchSize(C){if(M(this),this[m].tailable)throw new t.MongoTailableCursorError("Tailable cursor does not support batchSize");if(typeof C!="number")throw new t.MongoInvalidArgumentError('Operation "batchSize" requires an integer');return this[m].batchSize=C,this}rewind(){if(!this[w])return;this[d]=null,this[f].clear(),this[L]=!1,this[T]=!1,this[w]=!1;const C=this[g];C&&C.explicit===!1&&(C.hasEnded||C.endSession().catch(()=>null),this[g]=this.client.startSession({owner:this,explicit:!1}))}async getMore(C){const x=new s.GetMoreOperation(this[y],this[d],this[p],{...this[m],session:this[g],batchSize:C});return(0,n.executeOperation)(this[_],x)}async[R](){try{const C=await this._initialize(this[g]),x=C.response;this[p]=C.server,x.cursor&&(this[d]=typeof x.cursor.id=="number"?e.Long.fromNumber(x.cursor.id):typeof x.cursor.id=="bigint"?e.Long.fromBigInt(x.cursor.id):x.cursor.id,x.cursor.ns&&(this[y]=(0,h.ns)(x.cursor.ns)),this[f].pushMany(x.cursor.firstBatch)),this[d]==null&&(this[d]=e.Long.ZERO,this[f].push(C.response)),this[w]=!0}catch(C){throw this[w]=!0,await H(this,{error:C}),C}this.isDead&&await H(this,void 0)}}P.CLOSE="close",r.AbstractCursor=P;async function F(v,{blocking:C,transform:x}){if(v.closed)return null;do{if(v[d]==null&&await v[R](),v[f].length!==0){const B=v[f].shift();if(B!=null&&x&&v[E])try{return v[E](B)}catch(D){throw await H(v,{error:D,needsToEmitClosed:!0}).catch(()=>null),D}return B}if(v.isDead)return await H(v,{}),null;const S=v[m].batchSize||1e3;try{const B=await v.getMore(S);if(B){const D=typeof B.cursor.id=="number"?e.Long.fromNumber(B.cursor.id):typeof B.cursor.id=="bigint"?e.Long.fromBigInt(B.cursor.id):B.cursor.id;v[f].pushMany(B.cursor.nextBatch),v[d]=D}}catch(B){throw await H(v,{error:B}).catch(()=>null),B}if(v.isDead&&await H(v,{}),v[f].length===0&&C===!1)return null}while(!v.isDead||v[f].length!==0);return null}async function H(v,C){const x=v[d],S=v[y],B=v[p],D=v[g],Q=C==null?void 0:C.error,Z=(C==null?void 0:C.needsToEmitClosed)??v[f].length===0;if(Q&&v.loadBalanced&&Q instanceof t.MongoNetworkError)return AA();if(x==null||B==null||x.isZero()||S==null){if(Z&&(v[L]=!0,v[d]=e.Long.ZERO,v.emit(P.CLOSE)),D){if(D.owner===v){await D.endSession({error:Q});return}D.inTransaction()||(0,c.maybeClearPinnedConnection)(D,{error:Q})}return}async function AA(){if(D){if(D.owner===v){try{await D.endSession({error:Q})}finally{v.emit(P.CLOSE)}return}D.inTransaction()||(0,c.maybeClearPinnedConnection)(D,{error:Q})}v.emit(P.CLOSE)}if(v[T]=!0,D.hasEnded)return AA();try{await(0,n.executeOperation)(v[_],new o.KillCursorsOperation(x,S,B,{session:D})).catch(()=>null)}finally{await AA()}}function M(v){if(v[w])throw new t.MongoCursorInUseError}r.assertUninitialized=M;class b extends A.Readable{constructor(C){super({objectMode:!0,autoDestroy:!1,highWaterMark:1}),this._readInProgress=!1,this._cursor=C}_read(C){this._readInProgress||(this._readInProgress=!0,this._readNext())}_destroy(C,x){this._cursor.close().then(()=>x(C),S=>x(S))}_readNext(){F(this._cursor,{blocking:!0,transform:!0}).then(C=>{if(C==null)this.push(null);else if(this.destroyed)this._cursor.close().catch(()=>null);else{if(this.push(C))return this._readNext();this._readInProgress=!1}},C=>C.message.match(/server is closed/)?(this._cursor.close().catch(()=>null),this.push(null)):C.message.match(/operation was interrupted/)?this.push(null):this.destroy(C))}}})(nn);Object.defineProperty(so,"__esModule",{value:!0});so.AggregationCursor=void 0;const k2=C1,z2=Dt,fO=PA,dr=nn,gt=Symbol("pipeline"),rl=Symbol("options");class Q0 extends dr.AbstractCursor{constructor(A,e,t=[],i={}){super(A,e,i),this[gt]=t,this[rl]=i}get pipeline(){return this[gt]}clone(){const A=(0,fO.mergeOptions)({},this[rl]);return delete A.session,new Q0(this.client,this.namespace,this[gt],{...A})}map(A){return super.map(A)}async _initialize(A){const e=new k2.AggregateOperation(this.namespace,this[gt],{...this[rl],...this.cursorOptions,session:A}),t=await(0,z2.executeOperation)(this.client,e);return{server:e.server,session:A,response:t}}async explain(A){return(0,z2.executeOperation)(this.client,new k2.AggregateOperation(this.namespace,this[gt],{...this[rl],...this.cursorOptions,explain:A??!0}))}group(A){return(0,dr.assertUninitialized)(this),this[gt].push({$group:A}),this}limit(A){return(0,dr.assertUninitialized)(this),this[gt].push({$limit:A}),this}match(A){return(0,dr.assertUninitialized)(this),this[gt].push({$match:A}),this}out(A){return(0,dr.assertUninitialized)(this),this[gt].push({$out:A}),this}project(A){return(0,dr.assertUninitialized)(this),this[gt].push({$project:A}),this}lookup(A){return(0,dr.assertUninitialized)(this),this[gt].push({$lookup:A}),this}redact(A){return(0,dr.assertUninitialized)(this),this[gt].push({$redact:A}),this}skip(A){return(0,dr.assertUninitialized)(this),this[gt].push({$skip:A}),this}sort(A){return(0,dr.assertUninitialized)(this),this[gt].push({$sort:A}),this}unwind(A){return(0,dr.assertUninitialized)(this),this[gt].push({$unwind:A}),this}geoNear(A){return(0,dr.assertUninitialized)(this),this[gt].push({$geoNear:A}),this}}so.AggregationCursor=Q0;var Qs={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.CountOperation=void 0;const pO=De,ud=le;class kE extends pO.CommandOperation{constructor(A,e,t){super({s:{namespace:A}},t),this.options=t,this.collectionName=A.collection,this.query=e}async execute(A,e){const t=this.options,i={count:this.collectionName,query:this.query};typeof t.limit=="number"&&(i.limit=t.limit),typeof t.skip=="number"&&(i.skip=t.skip),t.hint!=null&&(i.hint=t.hint),typeof t.maxTimeMS=="number"&&(i.maxTimeMS=t.maxTimeMS);const n=await super.executeCommand(A,e,i);return n?n.n:0}}Ru.CountOperation=kE;(0,ud.defineAspects)(kE,[ud.Aspect.READ_OPERATION,ud.Aspect.RETRYABLE]);var w1={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.formatSort=void 0;const zE=_A;function la(r=1){const A=`${r}`.toLowerCase();if(gO(r))return r;switch(A){case"ascending":case"asc":case"1":return 1;case"descending":case"desc":case"-1":return-1;default:throw new zE.MongoInvalidArgumentError(`Invalid sort direction: ${JSON.stringify(r)}`)}}function gO(r){return typeof r=="object"&&r!=null&&"$meta"in r&&typeof r.$meta=="string"}function mO(r){if(Array.isArray(r)&&r.length===2)try{return la(r[1]),!0}catch{return!1}return!1}function yO(r){return Array.isArray(r)&&Array.isArray(r[0])}function EO(r){return r instanceof Map&&r.size>0}function CO(r){return new Map([[`${r[0]}`,la([r[1]])]])}function _O(r){const A=r.map(([e,t])=>[`${e}`,la(t)]);return new Map(A)}function SO(r){const A=r.map(e=>[`${e}`,1]);return new Map(A)}function vO(r){const A=Object.entries(r).map(([e,t])=>[`${e}`,la(t)]);return new Map(A)}function wO(r){const A=Array.from(r).map(([e,t])=>[`${e}`,la(t)]);return new Map(A)}function bO(r,A){if(r!=null){if(typeof r=="string")return new Map([[r,la(A)]]);if(typeof r!="object")throw new zE.MongoInvalidArgumentError(`Invalid sort format: ${JSON.stringify(r)} Sort must be a valid object`);if(!Array.isArray(r))return EO(r)?wO(r):Object.keys(r).length?vO(r):void 0;if(r.length)return yO(r)?_O(r):mO(r)?CO(r):SO(r)}}ua.formatSort=bO;Object.defineProperty(w1,"__esModule",{value:!0});w1.FindOperation=void 0;const IO=_A,BO=Mr,TO=ua,GE=PA,DO=De,wa=le;class VE extends DO.CommandOperation{constructor(A,e,t={},i={}){if(super(A,i),this.options={...i},delete this.options.writeConcern,this.ns=e,typeof t!="object"||Array.isArray(t))throw new IO.MongoInvalidArgumentError("Query filter must be a plain object or ObjectId");this.filter=t!=null&&t._bsontype==="ObjectId"?{_id:t}:t}async execute(A,e){this.server=A;const t=this.options;let i=xO(this.ns,this.filter,t);return this.explain&&(i=(0,GE.decorateWithExplain)(i,this.explain)),A.commandAsync(this.ns,i,{...this.options,...this.bsonOptions,documentsReturnedIn:"firstBatch",session:e})}}w1.FindOperation=VE;function xO(r,A,e){const t={find:r.collection,filter:A};if(e.sort&&(t.sort=(0,TO.formatSort)(e.sort)),e.projection){let n=e.projection;n&&Array.isArray(n)&&(n=n.length?n.reduce((s,o)=>(s[o]=1,s),{}):{_id:1}),t.projection=n}e.hint&&(t.hint=(0,GE.normalizeHintField)(e.hint)),typeof e.skip=="number"&&(t.skip=e.skip),typeof e.limit=="number"&&(e.limit<0?(t.limit=-e.limit,t.singleBatch=!0):t.limit=e.limit),typeof e.batchSize=="number"&&(e.batchSize<0?(e.limit&&e.limit!==0&&Math.abs(e.batchSize)<Math.abs(e.limit)&&(t.limit=-e.batchSize),t.singleBatch=!0):t.batchSize=e.batchSize),typeof e.singleBatch=="boolean"&&(t.singleBatch=e.singleBatch),e.comment!==void 0&&(t.comment=e.comment),typeof e.maxTimeMS=="number"&&(t.maxTimeMS=e.maxTimeMS);const i=BO.ReadConcern.fromOptions(e);return i&&(t.readConcern=i.toJSON()),e.max&&(t.max=e.max),e.min&&(t.min=e.min),typeof e.returnKey=="boolean"&&(t.returnKey=e.returnKey),typeof e.showRecordId=="boolean"&&(t.showRecordId=e.showRecordId),typeof e.tailable=="boolean"&&(t.tailable=e.tailable),typeof e.oplogReplay=="boolean"&&(t.oplogReplay=e.oplogReplay),typeof e.timeout=="boolean"?t.noCursorTimeout=!e.timeout:typeof e.noCursorTimeout=="boolean"&&(t.noCursorTimeout=e.noCursorTimeout),typeof e.awaitData=="boolean"&&(t.awaitData=e.awaitData),typeof e.allowPartialResults=="boolean"&&(t.allowPartialResults=e.allowPartialResults),e.collation&&(t.collation=e.collation),typeof e.allowDiskUse=="boolean"&&(t.allowDiskUse=e.allowDiskUse),e.let&&(t.let=e.let),t}(0,wa.defineAspects)(VE,[wa.Aspect.READ_OPERATION,wa.Aspect.RETRYABLE,wa.Aspect.EXPLAINABLE,wa.Aspect.CURSOR_CREATING]);Object.defineProperty(Qs,"__esModule",{value:!0});Qs.FindCursor=Qs.FLAGS=void 0;const OO=Ce,kr=_A,MO=Ru,ld=Dt,G2=w1,cd=ua,V2=PA,lt=nn,is=Symbol("filter"),il=Symbol("numReturned"),WA=Symbol("builtOptions");Qs.FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class H0 extends lt.AbstractCursor{constructor(A,e,t={},i={}){super(A,e,i),this[is]=t,this[WA]=i,i.sort!=null&&(this[WA].sort=(0,cd.formatSort)(i.sort))}clone(){const A=(0,V2.mergeOptions)({},this[WA]);return delete A.session,new H0(this.client,this.namespace,this[is],{...A})}map(A){return super.map(A)}async _initialize(A){var i,n;const e=new G2.FindOperation(void 0,this.namespace,this[is],{...this[WA],...this.cursorOptions,session:A}),t=await(0,ld.executeOperation)(this.client,e);return this[il]=(n=(i=t.cursor)==null?void 0:i.firstBatch)==null?void 0:n.length,{server:e.server,session:A,response:t}}async getMore(A){const e=this[il];if(e){const i=this[WA].limit;if(A=i&&i>0&&e+A>i?i-e:A,A<=0)return await this.close().catch(()=>null),{cursor:{id:OO.Long.ZERO,nextBatch:[]}}}const t=await super.getMore(A);return t&&(this[il]=this[il]+t.cursor.nextBatch.length),t}async count(A){if((0,V2.emitWarningOnce)("cursor.count is deprecated and will be removed in the next major version, please use `collection.estimatedDocumentCount` or `collection.countDocuments` instead "),typeof A=="boolean")throw new kr.MongoInvalidArgumentError("Invalid first parameter to count");return(0,ld.executeOperation)(this.client,new MO.CountOperation(this.namespace,this[is],{...this[WA],...this.cursorOptions,...A}))}async explain(A){return(0,ld.executeOperation)(this.client,new G2.FindOperation(void 0,this.namespace,this[is],{...this[WA],...this.cursorOptions,explain:A??!0}))}filter(A){return(0,lt.assertUninitialized)(this),this[is]=A,this}hint(A){return(0,lt.assertUninitialized)(this),this[WA].hint=A,this}min(A){return(0,lt.assertUninitialized)(this),this[WA].min=A,this}max(A){return(0,lt.assertUninitialized)(this),this[WA].max=A,this}returnKey(A){return(0,lt.assertUninitialized)(this),this[WA].returnKey=A,this}showRecordId(A){return(0,lt.assertUninitialized)(this),this[WA].showRecordId=A,this}addQueryModifier(A,e){if((0,lt.assertUninitialized)(this),A[0]!=="$")throw new kr.MongoInvalidArgumentError(`${A} is not a valid query modifier`);switch(A.substr(1)){case"comment":this[WA].comment=e;break;case"explain":this[WA].explain=e;break;case"hint":this[WA].hint=e;break;case"max":this[WA].max=e;break;case"maxTimeMS":this[WA].maxTimeMS=e;break;case"min":this[WA].min=e;break;case"orderby":this[WA].sort=(0,cd.formatSort)(e);break;case"query":this[is]=e;break;case"returnKey":this[WA].returnKey=e;break;case"showDiskLoc":this[WA].showRecordId=e;break;default:throw new kr.MongoInvalidArgumentError(`Invalid query modifier: ${A}`)}return this}comment(A){return(0,lt.assertUninitialized)(this),this[WA].comment=A,this}maxAwaitTimeMS(A){if((0,lt.assertUninitialized)(this),typeof A!="number")throw new kr.MongoInvalidArgumentError("Argument for maxAwaitTimeMS must be a number");return this[WA].maxAwaitTimeMS=A,this}maxTimeMS(A){if((0,lt.assertUninitialized)(this),typeof A!="number")throw new kr.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[WA].maxTimeMS=A,this}project(A){return(0,lt.assertUninitialized)(this),this[WA].projection=A,this}sort(A,e){if((0,lt.assertUninitialized)(this),this[WA].tailable)throw new kr.MongoTailableCursorError("Tailable cursor does not support sorting");return this[WA].sort=(0,cd.formatSort)(A,e),this}allowDiskUse(A=!0){if((0,lt.assertUninitialized)(this),!this[WA].sort)throw new kr.MongoInvalidArgumentError('Option "allowDiskUse" requires a sort specification');return A?(this[WA].allowDiskUse=!0,this):(this[WA].allowDiskUse=!1,this)}collation(A){return(0,lt.assertUninitialized)(this),this[WA].collation=A,this}limit(A){if((0,lt.assertUninitialized)(this),this[WA].tailable)throw new kr.MongoTailableCursorError("Tailable cursor does not support limit");if(typeof A!="number")throw new kr.MongoInvalidArgumentError('Operation "limit" requires an integer');return this[WA].limit=A,this}skip(A){if((0,lt.assertUninitialized)(this),this[WA].tailable)throw new kr.MongoTailableCursorError("Tailable cursor does not support skip");if(typeof A!="number")throw new kr.MongoInvalidArgumentError('Operation "skip" requires an integer');return this[WA].skip=A,this}}Qs.FindCursor=H0;var Pu={},Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.IndexInformationOperation=Pe.IndexExistsOperation=Pe.ListIndexesOperation=Pe.DropIndexOperation=Pe.EnsureIndexOperation=Pe.CreateIndexOperation=Pe.CreateIndexesOperation=Pe.IndexesOperation=void 0;const Of=_A,RO=Ke,j0=PA,W0=De,Y0=Gs,Vt=le,PO=new Set(["background","unique","name","partialFilterExpression","sparse","hidden","expireAfterSeconds","storageEngine","collation","version","weights","default_language","language_override","textIndexVersion","2dsphereIndexVersion","bits","min","max","bucketSize","wildcardProjection"]);function FO(r){return typeof r=="number"||r==="2d"||r==="2dsphere"||r==="text"||r==="geoHaystack"}function NO(r){return Array.isArray(r)&&r.length===2&&FO(r[1])}function LO(r,A){const e=new Map,t=!Array.isArray(r)||NO(r)?[r]:r;for(const i of t)if(typeof i=="string")e.set(i,1);else if(Array.isArray(i))e.set(i[0],i[1]??1);else if(i instanceof Map)for(const[n,s]of i)e.set(n,s);else if((0,j0.isObject)(i))for(const[n,s]of Object.entries(i))e.set(n,s);return{...A,key:e}}class UO extends Vt.AbstractOperation{constructor(A,e){super(e),this.options=e,this.collection=A}async execute(A,e){const t=this.collection,i=this.options;return(0,Y0.indexInformation)(t.s.db,t.collectionName,{full:!0,...i,readPreference:this.readPreference,session:e})}}Pe.IndexesOperation=UO;class $0 extends W0.CommandOperation{constructor(A,e,t,i){super(A,i),this.options=i??{},this.collectionName=e,this.indexes=t.map(n=>{const s=n.key instanceof Map?n.key:new Map(Object.entries(n.key)),o=n.name!=null?n.name:Array.from(s).flat().join("_");return{...Object.fromEntries(Object.entries({...n}).filter(([l])=>PO.has(l))),name:o,key:s}})}async execute(A,e){const t=this.options,i=this.indexes,n=(0,j0.maxWireVersion)(A),s={createIndexes:this.collectionName,indexes:i};if(t.commitQuorum!=null){if(n<9)throw new Of.MongoCompatibilityError("Option `commitQuorum` for `createIndexes` not supported on servers < 4.4");s.commitQuorum=t.commitQuorum}return this.options.collation=void 0,await super.executeCommand(A,e,s),i.map(u=>u.name||"")}}Pe.CreateIndexesOperation=$0;class K0 extends $0{constructor(A,e,t,i){super(A,e,[LO(t,i)],i)}async execute(A,e){return(await super.execute(A,e))[0]}}Pe.CreateIndexOperation=K0;class QE extends K0{constructor(A,e,t,i){super(A,e,t,i),this.readPreference=RO.ReadPreference.primary,this.db=A,this.collectionName=e}async execute(A,e){const t=this.indexes[0].name,i=await this.db.collection(this.collectionName).listIndexes({session:e}).toArray().catch(n=>{if(n instanceof Of.MongoError&&n.code===Of.MONGODB_ERROR_CODES.NamespaceNotFound)return[];throw n});return t&&i.some(n=>n.name===t)?t:super.execute(A,e)}}Pe.EnsureIndexOperation=QE;class HE extends W0.CommandOperation{constructor(A,e,t){super(A,t),this.options=t??{},this.collection=A,this.indexName=e}async execute(A,e){const t={dropIndexes:this.collection.collectionName,index:this.indexName};return super.executeCommand(A,e,t)}}Pe.DropIndexOperation=HE;class jE extends W0.CommandOperation{constructor(A,e){super(A,e),this.options={...e},delete this.options.writeConcern,this.collectionNamespace=A.s.namespace}async execute(A,e){const t=(0,j0.maxWireVersion)(A),i=this.options.batchSize?{batchSize:this.options.batchSize}:{},n={listIndexes:this.collectionNamespace.collection,cursor:i};return t>=9&&this.options.comment!==void 0&&(n.comment=this.options.comment),super.executeCommand(A,e,n)}}Pe.ListIndexesOperation=jE;class kO extends Vt.AbstractOperation{constructor(A,e,t){super(t),this.options=t,this.collection=A,this.indexes=e}async execute(A,e){const t=this.collection,i=this.indexes,n=await(0,Y0.indexInformation)(t.s.db,t.collectionName,{...this.options,readPreference:this.readPreference,session:e});return Array.isArray(i)?i.every(s=>n[s]!=null):n[i]!=null}}Pe.IndexExistsOperation=kO;class zO extends Vt.AbstractOperation{constructor(A,e,t){super(t),this.options=t??{},this.db=A,this.name=e}async execute(A,e){const t=this.db,i=this.name;return(0,Y0.indexInformation)(t,i,{...this.options,readPreference:this.readPreference,session:e})}}Pe.IndexInformationOperation=zO;(0,Vt.defineAspects)(jE,[Vt.Aspect.READ_OPERATION,Vt.Aspect.RETRYABLE,Vt.Aspect.CURSOR_CREATING]);(0,Vt.defineAspects)($0,[Vt.Aspect.WRITE_OPERATION]);(0,Vt.defineAspects)(K0,[Vt.Aspect.WRITE_OPERATION]);(0,Vt.defineAspects)(QE,[Vt.Aspect.WRITE_OPERATION]);(0,Vt.defineAspects)(HE,[Vt.Aspect.WRITE_OPERATION]);Object.defineProperty(Pu,"__esModule",{value:!0});Pu.ListIndexesCursor=void 0;const GO=Dt,VO=Pe,QO=nn;class q0 extends QO.AbstractCursor{constructor(A,e){super(A.client,A.s.namespace,e),this.parent=A,this.options=e}clone(){return new q0(this.parent,{...this.options,...this.cursorOptions})}async _initialize(A){const e=new VO.ListIndexesOperation(this.parent,{...this.cursorOptions,...this.options,session:A}),t=await(0,GO.executeOperation)(this.parent.client,e);return{server:e.server,session:A,response:t}}}Pu.ListIndexesCursor=q0;var b1={};Object.defineProperty(b1,"__esModule",{value:!0});b1.ListSearchIndexesCursor=void 0;const HO=so;class jO extends HO.AggregationCursor{constructor({fullNamespace:A,client:e},t,i={}){const n=t==null?[{$listSearchIndexes:{}}]:[{$listSearchIndexes:{name:t}}];super(e,A,n,i)}}b1.ListSearchIndexesCursor=jO;var I1={};Object.defineProperty(I1,"__esModule",{value:!0});I1.CountDocumentsOperation=void 0;const WO=C1;class YO extends WO.AggregateOperation{constructor(A,e,t){const i=[];i.push({$match:e}),typeof t.skip=="number"&&i.push({$skip:t.skip}),typeof t.limit=="number"&&i.push({$limit:t.limit}),i.push({$group:{_id:1,n:{$sum:1}}}),super(A.s.namespace,i,t)}async execute(A,e){const i=await super.execute(A,e);if(i.cursor==null||i.cursor.firstBatch==null)return 0;const n=i.cursor.firstBatch;return n.length?n[0].n:0}}I1.CountDocumentsOperation=YO;var B1={};Object.defineProperty(B1,"__esModule",{value:!0});B1.DistinctOperation=void 0;const Q2=PA,$O=De,nl=le;class WE extends $O.CommandOperation{constructor(A,e,t,i){super(A,i),this.options=i??{},this.collection=A,this.key=e,this.query=t}async execute(A,e){const t=this.collection,i=this.key,n=this.query,s=this.options,o={distinct:t.collectionName,key:i,query:n};typeof s.maxTimeMS=="number"&&(o.maxTimeMS=s.maxTimeMS),typeof s.comment<"u"&&(o.comment=s.comment),(0,Q2.decorateWithReadConcern)(o,t,s),(0,Q2.decorateWithCollation)(o,t,s);const u=await super.executeCommand(A,e,o);return this.explain?u:u.values}}B1.DistinctOperation=WE;(0,nl.defineAspects)(WE,[nl.Aspect.READ_OPERATION,nl.Aspect.RETRYABLE,nl.Aspect.EXPLAINABLE]);var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.DropDatabaseOperation=Hs.DropCollectionOperation=void 0;const H2=_A,YE=De,Dc=le;class T1 extends YE.CommandOperation{constructor(A,e,t={}){super(A,t),this.db=A,this.options=t,this.name=e}async execute(A,e){var u,l,c;const t=this.db,i=this.options,n=this.name,s=(u=t.client.options.autoEncryption)==null?void 0:u.encryptedFieldsMap;let o=i.encryptedFields??(s==null?void 0:s[`${t.databaseName}.${n}`]);if(!o&&s){const h=await t.listCollections({name:n},{nameOnly:!1}).toArray();o=(c=(l=h==null?void 0:h[0])==null?void 0:l.options)==null?void 0:c.encryptedFields}if(o){const h=o.escCollection||`enxcol_.${n}.esc`,d=o.ecocCollection||`enxcol_.${n}.ecoc`;for(const f of[h,d]){const p=new T1(t,f);try{await p.executeWithoutEncryptedFieldsCheck(A,e)}catch(y){if(!(y instanceof H2.MongoServerError)||y.code!==H2.MONGODB_ERROR_CODES.NamespaceNotFound)throw y}}}return this.executeWithoutEncryptedFieldsCheck(A,e)}async executeWithoutEncryptedFieldsCheck(A,e){return await super.executeCommand(A,e,{drop:this.name}),!0}}Hs.DropCollectionOperation=T1;class $E extends YE.CommandOperation{constructor(A,e){super(A,e),this.options=e}async execute(A,e){return await super.executeCommand(A,e,{dropDatabase:1}),!0}}Hs.DropDatabaseOperation=$E;(0,Dc.defineAspects)(T1,[Dc.Aspect.WRITE_OPERATION]);(0,Dc.defineAspects)($E,[Dc.Aspect.WRITE_OPERATION]);var D1={};Object.defineProperty(D1,"__esModule",{value:!0});D1.EstimatedDocumentCountOperation=void 0;const KO=De,sl=le;class KE extends KO.CommandOperation{constructor(A,e={}){super(A,e),this.options=e,this.collectionName=A.collectionName}async execute(A,e){const t={count:this.collectionName};typeof this.options.maxTimeMS=="number"&&(t.maxTimeMS=this.options.maxTimeMS),this.options.comment!==void 0&&(t.comment=this.options.comment);const i=await super.executeCommand(A,e,t);return(i==null?void 0:i.n)||0}}D1.EstimatedDocumentCountOperation=KE;(0,sl.defineAspects)(KE,[sl.Aspect.READ_OPERATION,sl.Aspect.RETRYABLE,sl.Aspect.CURSOR_CREATING]);var X0={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.FindOneAndUpdateOperation=r.FindOneAndReplaceOperation=r.FindOneAndDeleteOperation=r.ReturnDocument=void 0;const A=_A,e=Ke,t=ua,i=PA,n=De,s=le;r.ReturnDocument=Object.freeze({BEFORE:"before",AFTER:"after"});function o(d,f){return d.new=f.returnDocument===r.ReturnDocument.AFTER,d.upsert=f.upsert===!0,f.bypassDocumentValidation===!0&&(d.bypassDocumentValidation=f.bypassDocumentValidation),d}class u extends n.CommandOperation{constructor(f,p,y){super(f,y),this.options=y??{},this.cmdBase={remove:!1,new:!1,upsert:!1},y.includeResultMetadata??(y.includeResultMetadata=!1);const _=(0,t.formatSort)(y.sort);_&&(this.cmdBase.sort=_),y.projection&&(this.cmdBase.fields=y.projection),y.maxTimeMS&&(this.cmdBase.maxTimeMS=y.maxTimeMS),y.writeConcern&&(this.cmdBase.writeConcern=y.writeConcern),y.let&&(this.cmdBase.let=y.let),y.comment!==void 0&&(this.cmdBase.comment=y.comment),this.readPreference=e.ReadPreference.primary,this.collection=f,this.query=p}async execute(f,p){var w;const y=this.collection,_=this.query,g={...this.options,...this.bsonOptions},m={findAndModify:y.collectionName,query:_,...this.cmdBase};try{(0,i.decorateWithCollation)(m,y,g)}catch(L){return L}if(g.hint){if(((w=this.writeConcern)==null?void 0:w.w)===0||(0,i.maxWireVersion)(f)<8)throw new A.MongoCompatibilityError("The current topology does not support a hint on findAndModify commands");m.hint=g.hint}const E=await super.executeCommand(f,p,m);return g.includeResultMetadata?E:E.value??null}}class l extends u{constructor(f,p,y){if(p==null||typeof p!="object")throw new A.MongoInvalidArgumentError('Argument "filter" must be an object');super(f,p,y),this.cmdBase.remove=!0}}r.FindOneAndDeleteOperation=l;class c extends u{constructor(f,p,y,_){if(p==null||typeof p!="object")throw new A.MongoInvalidArgumentError('Argument "filter" must be an object');if(y==null||typeof y!="object")throw new A.MongoInvalidArgumentError('Argument "replacement" must be an object');if((0,i.hasAtomicOperators)(y))throw new A.MongoInvalidArgumentError("Replacement document must not contain atomic operators");super(f,p,_),this.cmdBase.update=y,o(this.cmdBase,_)}}r.FindOneAndReplaceOperation=c;class h extends u{constructor(f,p,y,_){if(p==null||typeof p!="object")throw new A.MongoInvalidArgumentError('Argument "filter" must be an object');if(y==null||typeof y!="object")throw new A.MongoInvalidArgumentError('Argument "update" must be an object');if(!(0,i.hasAtomicOperators)(y))throw new A.MongoInvalidArgumentError("Update document requires atomic operators");super(f,p,_),this.cmdBase.update=y,o(this.cmdBase,_),_.arrayFilters&&(this.cmdBase.arrayFilters=_.arrayFilters)}}r.FindOneAndUpdateOperation=h,(0,s.defineAspects)(u,[s.Aspect.WRITE_OPERATION,s.Aspect.RETRYABLE,s.Aspect.EXPLAINABLE])})(X0);var x1={};Object.defineProperty(x1,"__esModule",{value:!0});x1.IsCappedOperation=void 0;const qO=_A,XO=le;class JO extends XO.AbstractOperation{constructor(A,e){super(e),this.options=e,this.collection=A}async execute(A,e){var n;const t=this.collection,[i]=await t.s.db.listCollections({name:t.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:e}).toArray();if(i==null||i.options==null)throw new qO.MongoAPIError(`collection ${t.namespace} not found`);return!!((n=i.options)!=null&&n.capped)}}x1.IsCappedOperation=JO;var O1={};Object.defineProperty(O1,"__esModule",{value:!0});O1.OptionsOperation=void 0;const ZO=_A,A9=le;class e9 extends A9.AbstractOperation{constructor(A,e){super(e),this.options=e,this.collection=A}async execute(A,e){const t=this.collection,[i]=await t.s.db.listCollections({name:t.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:e}).toArray();if(i==null||i.options==null)throw new ZO.MongoAPIError(`collection ${t.namespace} not found`);return i.options}}O1.OptionsOperation=e9;var ba={},j2;function qE(){if(j2)return ba;j2=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.RenameOperation=void 0;const r=ca(),A=PA,e=De,t=le;class i extends e.CommandOperation{constructor(s,o,u){super(s,u),this.collection=s,this.newName=o,this.options=u,this.ns=new A.MongoDBNamespace("admin","$cmd")}async execute(s,o){const u=this.collection.namespace,l=this.collection.s.namespace.withCollection(this.newName).toString(),c=typeof this.options.dropTarget=="boolean"?this.options.dropTarget:!1,h={renameCollection:u,to:l,dropTarget:c};return await super.executeCommand(s,o,h),new r.Collection(this.collection.s.db,this.newName,this.collection.s.options)}}return ba.RenameOperation=i,(0,t.defineAspects)(i,[t.Aspect.WRITE_OPERATION]),ba}var M1={};Object.defineProperty(M1,"__esModule",{value:!0});M1.CreateSearchIndexesOperation=void 0;const t9=le;class r9 extends t9.AbstractOperation{constructor(A,e){super(),this.collection=A,this.descriptions=e}async execute(A,e){const t=this.collection.fullNamespace,i={createSearchIndexes:t.collection,indexes:this.descriptions},n=await A.commandAsync(t,i,{session:e});return((n==null?void 0:n.indexesCreated)??[]).map(({name:o})=>o)}}M1.CreateSearchIndexesOperation=r9;var R1={};Object.defineProperty(R1,"__esModule",{value:!0});R1.DropSearchIndexOperation=void 0;const W2=_A,i9=le;class n9 extends i9.AbstractOperation{constructor(A,e){super(),this.collection=A,this.name=e}async execute(A,e){const t=this.collection.fullNamespace,i={dropSearchIndex:t.collection};typeof this.name=="string"&&(i.name=this.name);try{await A.commandAsync(t,i,{session:e})}catch(n){if(!(n instanceof W2.MongoServerError&&n.code===W2.MONGODB_ERROR_CODES.NamespaceNotFound))throw n}}}R1.DropSearchIndexOperation=n9;var P1={};Object.defineProperty(P1,"__esModule",{value:!0});P1.UpdateSearchIndexOperation=void 0;const s9=le;class o9 extends s9.AbstractOperation{constructor(A,e,t){super(),this.collection=A,this.name=e,this.definition=t}async execute(A,e){const t=this.collection.fullNamespace,i={updateSearchIndex:t.collection,name:this.name,definition:this.definition};await A.commandAsync(t,i,{session:e})}}P1.UpdateSearchIndexOperation=o9;var Y2;function ca(){if(Y2)return va;Y2=1,Object.defineProperty(va,"__esModule",{value:!0}),va.Collection=void 0;const r=Ce,A=vu,e=Tu,t=zu(),i=so,n=Qs,s=Pu,o=b1,u=_A,l=Iu,c=Ru,h=I1,d=Xr,f=B1,p=Hs,y=D1,_=Dt,g=X0,m=Pe,E=Ji,w=x1,L=O1,T=qE(),R=M1,P=R1,F=P1,H=ir,M=Mr,b=Ke,v=PA,C=at;class x{constructor(B,D,Q){var Z;this.s={db:B,options:Q,namespace:new v.MongoDBCollectionNamespace(B.databaseName,D),pkFactory:((Z=B.options)==null?void 0:Z.pkFactory)??v.DEFAULT_PK_FACTORY,readPreference:b.ReadPreference.fromOptions(Q),bsonOptions:(0,r.resolveBSONOptions)(Q,B),readConcern:M.ReadConcern.fromOptions(Q),writeConcern:C.WriteConcern.fromOptions(Q)},this.client=B.client}get dbName(){return this.s.namespace.db}get collectionName(){return this.s.namespace.collection}get namespace(){return this.fullNamespace.toString()}get fullNamespace(){return this.s.namespace}get readConcern(){return this.s.readConcern==null?this.s.db.readConcern:this.s.readConcern}get readPreference(){return this.s.readPreference==null?this.s.db.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern==null?this.s.db.writeConcern:this.s.writeConcern}get hint(){return this.s.collectionHint}set hint(B){this.s.collectionHint=(0,v.normalizeHintField)(B)}async insertOne(B,D){return(0,_.executeOperation)(this.client,new E.InsertOneOperation(this,B,(0,v.resolveOptions)(this,D)))}async insertMany(B,D){return(0,_.executeOperation)(this.client,new E.InsertManyOperation(this,B,(0,v.resolveOptions)(this,D??{ordered:!0})))}async bulkWrite(B,D){if(!Array.isArray(B))throw new u.MongoInvalidArgumentError('Argument "operations" must be an array of documents');return(0,_.executeOperation)(this.client,new l.BulkWriteOperation(this,B,(0,v.resolveOptions)(this,D??{ordered:!0})))}async updateOne(B,D,Q){return(0,_.executeOperation)(this.client,new H.UpdateOneOperation(this,B,D,(0,v.resolveOptions)(this,Q)))}async replaceOne(B,D,Q){return(0,_.executeOperation)(this.client,new H.ReplaceOneOperation(this,B,D,(0,v.resolveOptions)(this,Q)))}async updateMany(B,D,Q){return(0,_.executeOperation)(this.client,new H.UpdateManyOperation(this,B,D,(0,v.resolveOptions)(this,Q)))}async deleteOne(B={},D={}){return(0,_.executeOperation)(this.client,new d.DeleteOneOperation(this,B,(0,v.resolveOptions)(this,D)))}async deleteMany(B={},D={}){return(0,_.executeOperation)(this.client,new d.DeleteManyOperation(this,B,(0,v.resolveOptions)(this,D)))}async rename(B,D){return(0,_.executeOperation)(this.client,new T.RenameOperation(this,B,{...D,readPreference:b.ReadPreference.PRIMARY}))}async drop(B){return(0,_.executeOperation)(this.client,new p.DropCollectionOperation(this.s.db,this.collectionName,B))}async findOne(B={},D={}){const Q=this.find(B,D).limit(-1).batchSize(1),Z=await Q.next();return await Q.close(),Z}find(B={},D={}){return new n.FindCursor(this.client,this.s.namespace,B,(0,v.resolveOptions)(this,D))}async options(B){return(0,_.executeOperation)(this.client,new L.OptionsOperation(this,(0,v.resolveOptions)(this,B)))}async isCapped(B){return(0,_.executeOperation)(this.client,new w.IsCappedOperation(this,(0,v.resolveOptions)(this,B)))}async createIndex(B,D){return(0,_.executeOperation)(this.client,new m.CreateIndexOperation(this,this.collectionName,B,(0,v.resolveOptions)(this,D)))}async createIndexes(B,D){return(0,_.executeOperation)(this.client,new m.CreateIndexesOperation(this,this.collectionName,B,(0,v.resolveOptions)(this,{...D,maxTimeMS:void 0})))}async dropIndex(B,D){return(0,_.executeOperation)(this.client,new m.DropIndexOperation(this,B,{...(0,v.resolveOptions)(this,D),readPreference:b.ReadPreference.primary}))}async dropIndexes(B){try{return await(0,_.executeOperation)(this.client,new m.DropIndexOperation(this,"*",(0,v.resolveOptions)(this,B))),!0}catch{return!1}}listIndexes(B){return new s.ListIndexesCursor(this,(0,v.resolveOptions)(this,B))}async indexExists(B,D){return(0,_.executeOperation)(this.client,new m.IndexExistsOperation(this,B,(0,v.resolveOptions)(this,D)))}async indexInformation(B){return(0,_.executeOperation)(this.client,new m.IndexInformationOperation(this.s.db,this.collectionName,(0,v.resolveOptions)(this,B)))}async estimatedDocumentCount(B){return(0,_.executeOperation)(this.client,new y.EstimatedDocumentCountOperation(this,(0,v.resolveOptions)(this,B)))}async countDocuments(B={},D={}){return(0,_.executeOperation)(this.client,new h.CountDocumentsOperation(this,B,(0,v.resolveOptions)(this,D)))}async distinct(B,D={},Q={}){return(0,_.executeOperation)(this.client,new f.DistinctOperation(this,B,D,(0,v.resolveOptions)(this,Q)))}async indexes(B){return(0,_.executeOperation)(this.client,new m.IndexesOperation(this,(0,v.resolveOptions)(this,B)))}async findOneAndDelete(B,D){return(0,_.executeOperation)(this.client,new g.FindOneAndDeleteOperation(this,B,(0,v.resolveOptions)(this,D)))}async findOneAndReplace(B,D,Q){return(0,_.executeOperation)(this.client,new g.FindOneAndReplaceOperation(this,B,D,(0,v.resolveOptions)(this,Q)))}async findOneAndUpdate(B,D,Q){return(0,_.executeOperation)(this.client,new g.FindOneAndUpdateOperation(this,B,D,(0,v.resolveOptions)(this,Q)))}aggregate(B=[],D){if(!Array.isArray(B))throw new u.MongoInvalidArgumentError('Argument "pipeline" must be an array of aggregation stages');return new i.AggregationCursor(this.client,this.s.namespace,B,(0,v.resolveOptions)(this,D))}watch(B=[],D={}){return Array.isArray(B)||(D=B,B=[]),new t.ChangeStream(this,B,(0,v.resolveOptions)(this,D))}initializeUnorderedBulkOp(B){return new e.UnorderedBulkOperation(this,(0,v.resolveOptions)(this,B))}initializeOrderedBulkOp(B){return new A.OrderedBulkOperation(this,(0,v.resolveOptions)(this,B))}async count(B={},D={}){return(0,_.executeOperation)(this.client,new c.CountOperation(this.fullNamespace,B,(0,v.resolveOptions)(this,D)))}listSearchIndexes(B,D){D=typeof B=="object"?B:D??{};const Q=B==null||typeof B=="object"?null:B;return new o.ListSearchIndexesCursor(this,Q,D)}async createSearchIndex(B){const[D]=await this.createSearchIndexes([B]);return D}async createSearchIndexes(B){return(0,_.executeOperation)(this.client,new R.CreateSearchIndexesOperation(this,B))}async dropSearchIndex(B){return(0,_.executeOperation)(this.client,new P.DropSearchIndexOperation(this,B))}async updateSearchIndex(B,D){return(0,_.executeOperation)(this.client,new F.UpdateSearchIndexOperation(this,B,D))}}return va.Collection=x,va}var Ia={},$2;function XE(){if($2)return Ia;$2=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.ChangeStreamCursor=void 0;const r=zu(),A=ut,e=C1,t=Dt,i=PA,n=nn;class s extends n.AbstractCursor{constructor(u,l,c=[],h={}){super(u,l,h),this.pipeline=c,this.options=h,this._resumeToken=null,this.startAtOperationTime=h.startAtOperationTime,h.startAfter?this.resumeToken=h.startAfter:h.resumeAfter&&(this.resumeToken=h.resumeAfter)}set resumeToken(u){this._resumeToken=u,this.emit(r.ChangeStream.RESUME_TOKEN_CHANGED,u)}get resumeToken(){return this._resumeToken}get resumeOptions(){const u={...this.options};for(const l of["resumeAfter","startAfter","startAtOperationTime"])delete u[l];return this.resumeToken!=null?this.options.startAfter&&!this.hasReceived?u.startAfter=this.resumeToken:u.resumeAfter=this.resumeToken:this.startAtOperationTime!=null&&(0,i.maxWireVersion)(this.server)>=7&&(u.startAtOperationTime=this.startAtOperationTime),u}cacheResumeToken(u){this.bufferedCount()===0&&this.postBatchResumeToken?this.resumeToken=this.postBatchResumeToken:this.resumeToken=u,this.hasReceived=!0}_processBatch(u){const l=u.cursor;l.postBatchResumeToken&&(this.postBatchResumeToken=u.cursor.postBatchResumeToken,("firstBatch"in u.cursor?u.cursor.firstBatch:u.cursor.nextBatch).length===0&&(this.resumeToken=l.postBatchResumeToken))}clone(){return new s(this.client,this.namespace,this.pipeline,{...this.cursorOptions})}async _initialize(u){const l=new e.AggregateOperation(this.namespace,this.pipeline,{...this.cursorOptions,...this.options,session:u}),c=await(0,t.executeOperation)(u.client,l),h=l.server;return this.maxWireVersion=(0,i.maxWireVersion)(h),this.startAtOperationTime==null&&this.resumeAfter==null&&this.startAfter==null&&this.maxWireVersion>=7&&(this.startAtOperationTime=c.operationTime),this._processBatch(c),this.emit(A.INIT,c),this.emit(A.RESPONSE),{server:h,session:u,response:c}}async getMore(u){const l=await super.getMore(u);return this.maxWireVersion=(0,i.maxWireVersion)(this.server),this._processBatch(l),this.emit(r.ChangeStream.MORE,l),this.emit(r.ChangeStream.RESPONSE),l}}return Ia.ChangeStreamCursor=s,Ia}var Ba={},Fu={},F1={};Object.defineProperty(F1,"__esModule",{value:!0});F1.ListCollectionsOperation=void 0;const a9=PA,u9=De,ol=le;class JE extends u9.CommandOperation{constructor(A,e,t){super(A,t),this.options={...t},delete this.options.writeConcern,this.db=A,this.filter=e,this.nameOnly=!!this.options.nameOnly,this.authorizedCollections=!!this.options.authorizedCollections,typeof this.options.batchSize=="number"&&(this.batchSize=this.options.batchSize)}async execute(A,e){return super.executeCommand(A,e,this.generateCommand((0,a9.maxWireVersion)(A)))}generateCommand(A){const e={listCollections:1,filter:this.filter,cursor:this.batchSize?{batchSize:this.batchSize}:{},nameOnly:this.nameOnly,authorizedCollections:this.authorizedCollections};return A>=9&&this.options.comment!==void 0&&(e.comment=this.options.comment),e}}F1.ListCollectionsOperation=JE;(0,ol.defineAspects)(JE,[ol.Aspect.READ_OPERATION,ol.Aspect.RETRYABLE,ol.Aspect.CURSOR_CREATING]);Object.defineProperty(Fu,"__esModule",{value:!0});Fu.ListCollectionsCursor=void 0;const l9=Dt,c9=F1,h9=nn;class J0 extends h9.AbstractCursor{constructor(A,e,t){super(A.client,A.s.namespace,t),this.parent=A,this.filter=e,this.options=t}clone(){return new J0(this.parent,this.filter,{...this.options,...this.cursorOptions})}async _initialize(A){const e=new c9.ListCollectionsOperation(this.parent,this.filter,{...this.cursorOptions,...this.options,session:A}),t=await(0,l9.executeOperation)(this.parent.client,e);return{server:e.server,session:A,response:t}}}Fu.ListCollectionsCursor=J0;var N1={};Object.defineProperty(N1,"__esModule",{value:!0});N1.RunCommandCursor=void 0;const fo=_A,K2=Dt,d9=Du,f9=Di,p9=PA,g9=nn;class m9 extends g9.AbstractCursor{setComment(A){return this.getMoreOptions.comment=A,this}setMaxTimeMS(A){return this.getMoreOptions.maxAwaitTimeMS=A,this}setBatchSize(A){return this.getMoreOptions.batchSize=A,this}clone(){throw new fo.MongoAPIError("Clone not supported, create a new cursor with db.runCursorCommand")}withReadConcern(A){throw new fo.MongoAPIError("RunCommandCursor does not support readConcern it must be attached to the command being run")}addCursorFlag(A,e){throw new fo.MongoAPIError("RunCommandCursor does not support cursor flags, they must be attached to the command being run")}maxTimeMS(A){throw new fo.MongoAPIError("maxTimeMS must be configured on the command document directly, to configure getMore.maxTimeMS use cursor.setMaxTimeMS()")}batchSize(A){throw new fo.MongoAPIError("batchSize must be configured on the command document directly, to configure getMore.batchSize use cursor.setBatchSize()")}constructor(A,e,t={}){super(A.client,(0,p9.ns)(A.namespace),t),this.getMoreOptions={},this.db=A,this.command=Object.freeze({...e})}async _initialize(A){const e=new f9.RunCommandOperation(this.db,this.command,{...this.cursorOptions,session:A,readPreference:this.cursorOptions.readPreference}),t=await(0,K2.executeOperation)(this.client,e);if(t.cursor==null)throw new fo.MongoUnexpectedServerResponseError("Expected server to respond with cursor");return{server:e.server,session:A,response:t}}async getMore(A){const e=new d9.GetMoreOperation(this.namespace,this.id,this.server,{...this.cursorOptions,session:this.session,...this.getMoreOptions});return(0,K2.executeOperation)(this.client,e)}}N1.RunCommandCursor=m9;var Ta={},q2;function y9(){if(q2)return Ta;q2=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.CollectionsOperation=void 0;const r=ca(),A=le;class e extends A.AbstractOperation{constructor(i,n){super(n),this.options=n,this.db=i}async execute(i,n){const s=await this.db.listCollections({},{...this.options,nameOnly:!0,readPreference:this.readPreference,session:n}).toArray(),o=[];for(const{name:u}of s)u.includes("$")||o.push(new r.Collection(this.db,u,this.db.s.options));return o}}return Ta.CollectionsOperation=e,Ta}var Da={},X2;function E9(){if(X2)return Da;X2=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.CreateCollectionOperation=void 0;const r=JA,A=ca(),e=_A,t=De,i=Pe,n=le,s=new Set(["w","wtimeout","j","fsync","autoIndexId","pkFactory","raw","readPreference","session","readConcern","writeConcern","raw","fieldsAsRaw","useBigInt64","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation"]),o="Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.";class u extends t.CommandOperation{constructor(c,h,d={}){super(c,d),this.options=d,this.db=c,this.name=h}async execute(c,h){var g,m;const d=this.db,f=this.name,p=this.options,y=p.encryptedFields??((m=(g=d.client.options.autoEncryption)==null?void 0:g.encryptedFieldsMap)==null?void 0:m[`${d.databaseName}.${f}`]);if(y){if(!c.loadBalanced&&c.description.maxWireVersion<r.MIN_SUPPORTED_QE_WIRE_VERSION)throw new e.MongoCompatibilityError(`${o} The minimum server version required is ${r.MIN_SUPPORTED_QE_SERVER_VERSION}`);const E=y.escCollection??`enxcol_.${f}.esc`,w=y.ecocCollection??`enxcol_.${f}.ecoc`;for(const L of[E,w])await new u(d,L,{clusteredIndex:{key:{_id:1},unique:!0}}).executeWithoutEncryptedFieldsCheck(c,h);p.encryptedFields||(this.options={...this.options,encryptedFields:y})}const _=await this.executeWithoutEncryptedFieldsCheck(c,h);return y&&await new i.CreateIndexOperation(d,f,{__safeContent__:1},{}).execute(c,h),_}async executeWithoutEncryptedFieldsCheck(c,h){const d=this.db,f=this.name,p=this.options,y={create:f};for(const _ in p)p[_]!=null&&typeof p[_]!="function"&&!s.has(_)&&(y[_]=p[_]);return await super.executeCommand(c,h,y),new A.Collection(d,f,p)}}return Da.CreateCollectionOperation=u,(0,n.defineAspects)(u,[n.Aspect.WRITE_OPERATION]),Da}var L1={};Object.defineProperty(L1,"__esModule",{value:!0});L1.ProfilingLevelOperation=void 0;const J2=_A,C9=De;class _9 extends C9.CommandOperation{constructor(A,e){super(A,e),this.options=e}async execute(A,e){const t=await super.executeCommand(A,e,{profile:-1});if(t.ok===1){const i=t.was;if(i===0)return"off";if(i===1)return"slow_only";if(i===2)return"all";throw new J2.MongoUnexpectedServerResponseError(`Illegal profiling level value ${i}`)}else throw new J2.MongoUnexpectedServerResponseError("Error with profile command")}}L1.ProfilingLevelOperation=_9;var Z0={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.SetProfilingLevelOperation=r.ProfilingLevel=void 0;const A=_A,e=PA,t=De,i=new Set(["off","slow_only","all"]);r.ProfilingLevel=Object.freeze({off:"off",slowOnly:"slow_only",all:"all"});class n extends t.CommandOperation{constructor(o,u,l){switch(super(o,l),this.options=l,u){case r.ProfilingLevel.off:this.profile=0;break;case r.ProfilingLevel.slowOnly:this.profile=1;break;case r.ProfilingLevel.all:this.profile=2;break;default:this.profile=0;break}this.level=u}async execute(o,u){const l=this.level;if(!i.has(l))throw new A.MongoInvalidArgumentError(`Profiling level must be one of "${(0,e.enumToString)(r.ProfilingLevel)}"`);return await super.executeCommand(o,u,{profile:this.profile}),l}}r.SetProfilingLevelOperation=n})(Z0);var U1={};Object.defineProperty(U1,"__esModule",{value:!0});U1.DbStatsOperation=void 0;const S9=De,Z2=le;class ZE extends S9.CommandOperation{constructor(A,e){super(A,e),this.options=e}async execute(A,e){const t={dbStats:!0};return this.options.scale!=null&&(t.scale=this.options.scale),super.executeCommand(A,e,t)}}U1.DbStatsOperation=ZE;(0,Z2.defineAspects)(ZE,[Z2.Aspect.READ_OPERATION]);var Am;function Ap(){if(Am)return Ba;Am=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.Db=void 0;const r=Eu,A=Ce,e=zu(),t=ca(),i=ut,n=so,s=Fu,o=N1,u=_A,l=y9(),c=E9(),h=Hs,d=Dt,f=Pe,p=L1,y=Su,_=qE(),g=Di,m=Z0,E=U1,w=Mr,L=Ke,T=PA,R=at,P=["writeConcern","readPreference","readPreferenceTags","native_parser","forceServerObjectId","pkFactory","serializeFunctions","raw","authSource","ignoreUndefined","readConcern","retryMiliSeconds","numberOfRetries","useBigInt64","promoteBuffers","promoteLongs","bsonRegExp","enableUtf8Validation","promoteValues","compression","retryWrites"];class F{constructor(M,b,v){if(v=v??{},v=(0,T.filterOptions)(v,P),typeof b=="string"&&b.includes("."))throw new u.MongoInvalidArgumentError("Database names cannot contain the character '.'");this.s={options:v,readPreference:L.ReadPreference.fromOptions(v),bsonOptions:(0,A.resolveBSONOptions)(v,M),pkFactory:(v==null?void 0:v.pkFactory)??T.DEFAULT_PK_FACTORY,readConcern:w.ReadConcern.fromOptions(v),writeConcern:R.WriteConcern.fromOptions(v),namespace:new T.MongoDBNamespace(b)},this.client=M}get databaseName(){return this.s.namespace.db}get options(){return this.s.options}get secondaryOk(){var M;return((M=this.s.readPreference)==null?void 0:M.preference)!=="primary"||!1}get readConcern(){return this.s.readConcern}get readPreference(){return this.s.readPreference==null?this.client.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get namespace(){return this.s.namespace.toString()}async createCollection(M,b){return(0,d.executeOperation)(this.client,new c.CreateCollectionOperation(this,M,(0,T.resolveOptions)(this,b)))}async command(M,b){return(0,d.executeOperation)(this.client,new g.RunCommandOperation(this,M,{...(0,A.resolveBSONOptions)(b),session:b==null?void 0:b.session,readPreference:b==null?void 0:b.readPreference}))}aggregate(M=[],b){return new n.AggregationCursor(this.client,this.s.namespace,M,(0,T.resolveOptions)(this,b))}admin(){return new r.Admin(this)}collection(M,b={}){if(typeof b=="function")throw new u.MongoInvalidArgumentError("The callback form of this helper has been removed.");return new t.Collection(this,M,(0,T.resolveOptions)(this,b))}async stats(M){return(0,d.executeOperation)(this.client,new E.DbStatsOperation(this,(0,T.resolveOptions)(this,M)))}listCollections(M={},b={}){return new s.ListCollectionsCursor(this,M,(0,T.resolveOptions)(this,b))}async renameCollection(M,b,v){return(0,d.executeOperation)(this.client,new _.RenameOperation(this.collection(M),b,{...v,new_collection:!0,readPreference:L.ReadPreference.primary}))}async dropCollection(M,b){return(0,d.executeOperation)(this.client,new h.DropCollectionOperation(this,M,(0,T.resolveOptions)(this,b)))}async dropDatabase(M){return(0,d.executeOperation)(this.client,new h.DropDatabaseOperation(this,(0,T.resolveOptions)(this,M)))}async collections(M){return(0,d.executeOperation)(this.client,new l.CollectionsOperation(this,(0,T.resolveOptions)(this,M)))}async createIndex(M,b,v){return(0,d.executeOperation)(this.client,new f.CreateIndexOperation(this,M,b,(0,T.resolveOptions)(this,v)))}async removeUser(M,b){return(0,d.executeOperation)(this.client,new y.RemoveUserOperation(this,M,(0,T.resolveOptions)(this,b)))}async setProfilingLevel(M,b){return(0,d.executeOperation)(this.client,new m.SetProfilingLevelOperation(this,M,(0,T.resolveOptions)(this,b)))}async profilingLevel(M){return(0,d.executeOperation)(this.client,new p.ProfilingLevelOperation(this,(0,T.resolveOptions)(this,M)))}async indexInformation(M,b){return(0,d.executeOperation)(this.client,new f.IndexInformationOperation(this,M,(0,T.resolveOptions)(this,b)))}watch(M=[],b={}){return Array.isArray(M)||(b=M,M=[]),new e.ChangeStream(this,M,(0,T.resolveOptions)(this,b))}runCursorCommand(M,b){return new o.RunCommandCursor(this,M,b)}}return F.SYSTEM_NAMESPACE_COLLECTION=i.SYSTEM_NAMESPACE_COLLECTION,F.SYSTEM_INDEX_COLLECTION=i.SYSTEM_INDEX_COLLECTION,F.SYSTEM_PROFILE_COLLECTION=i.SYSTEM_PROFILE_COLLECTION,F.SYSTEM_USER_COLLECTION=i.SYSTEM_USER_COLLECTION,F.SYSTEM_COMMAND_COLLECTION=i.SYSTEM_COMMAND_COLLECTION,F.SYSTEM_JS_COLLECTION=i.SYSTEM_JS_COLLECTION,Ba.Db=F,Ba}var ns={},k1={},z1={},ni={};const v9={},w9=Object.freeze(Object.defineProperty({__proto__:null,default:v9},Symbol.toStringTag,{value:"Module"})),b9=un(w9),I9={},B9=Object.freeze(Object.defineProperty({__proto__:null,default:I9},Symbol.toStringTag,{value:"Module"})),T9=un(B9),D9={},x9=Object.freeze(Object.defineProperty({__proto__:null,default:D9},Symbol.toStringTag,{value:"Module"})),O9=un(x9),M9={},R9=Object.freeze(Object.defineProperty({__proto__:null,default:M9},Symbol.toStringTag,{value:"Module"})),P9=un(R9),F9={},N9=Object.freeze(Object.defineProperty({__proto__:null,default:F9},Symbol.toStringTag,{value:"Module"})),L9=un(N9),U9={},k9=Object.freeze(Object.defineProperty({__proto__:null,default:U9},Symbol.toStringTag,{value:"Module"})),z9=un(k9),G9={},V9=Object.freeze(Object.defineProperty({__proto__:null,default:G9},Symbol.toStringTag,{value:"Module"})),Q9=un(V9);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMongoDBClientEncryption=r.aws4=r.getSocks=r.getSnappy=r.getGcpMetadata=r.getAwsCredentialProvider=r.getZstdLibrary=r.ZStandard=r.getKerberos=r.Kerberos=void 0;const A=_A;function e(c){const h=c?{kModuleError:c}:{};return new Proxy(h,{get:(d,f)=>{if(f==="kModuleError")return c;throw c},set:()=>{throw c}})}r.Kerberos=e(new A.MongoMissingDependencyError("Optional module `kerberos` not found. Please install it to enable kerberos authentication"));function t(){try{return r.Kerberos=b9,r.Kerberos}catch{return r.Kerberos}}r.getKerberos=t,r.ZStandard=e(new A.MongoMissingDependencyError("Optional module `@mongodb-js/zstd` not found. Please install it to enable zstd compression"));function i(){try{return r.ZStandard=T9,r.ZStandard}catch{return r.ZStandard}}r.getZstdLibrary=i;function n(){try{return O9}catch{return e(new A.MongoMissingDependencyError("Optional module `@aws-sdk/credential-providers` not found. Please install it to enable getting aws credentials via the official sdk."))}}r.getAwsCredentialProvider=n;function s(){try{return P9}catch{return e(new A.MongoMissingDependencyError("Optional module `gcp-metadata` not found. Please install it to enable getting gcp credentials via the official sdk."))}}r.getGcpMetadata=s;function o(){try{return L9}catch(c){return{kModuleError:new A.MongoMissingDependencyError("Optional module `snappy` not found. Please install it to enable snappy compression",{cause:c})}}}r.getSnappy=o;function u(){try{return z9}catch(c){return{kModuleError:new A.MongoMissingDependencyError("Optional module `socks` not found. Please install it to connections over a SOCKS5 proxy",{cause:c})}}}r.getSocks=u,r.aws4=e(new A.MongoMissingDependencyError("Optional module `aws4` not found. Please install it to enable AWS authentication"));try{r.aws4=require("aws4")}catch{}function l(){let c=null;try{c=Q9}catch(h){return{kModuleError:new A.MongoMissingDependencyError("Optional module `mongodb-client-encryption` not found. Please install it to use auto encryption or ClientEncryption.",{cause:h})}}return c}r.getMongoDBClientEncryption=l})(ni);var lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.AuthProvider=lr.AuthContext=void 0;const H9=_A;class j9{constructor(A,e,t){this.reauthenticating=!1,this.connection=A,this.credentials=e,this.options=t}}lr.AuthContext=j9;class W9{async prepare(A,e){return A}async reauth(A){if(A.reauthenticating)throw new H9.MongoRuntimeError("Reauthentication already in progress.");try{A.reauthenticating=!0,await this.auth(A)}finally{A.reauthenticating=!1}}}lr.AuthProvider=W9;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveCname=r.performGSSAPICanonicalizeHostName=r.GSSAPI=r.GSSAPICanonicalizationValue=void 0;const A=zA,e=ni,t=_A,i=PA,n=lr;r.GSSAPICanonicalizationValue=Object.freeze({on:!0,off:!1,none:"none",forward:"forward",forwardAndReverse:"forwardAndReverse"});async function s(g,m){return g.commandAsync((0,i.ns)("$external.$cmd"),m,void 0)}let o;class u extends n.AuthProvider{async auth(m){const{connection:E,credentials:w}=m;if(w==null)throw new t.MongoMissingCredentialsError("Credentials required for GSSAPI authentication");const{username:L}=w,T=await l(m),R=await T.step(""),P=await s(E,c(R)),F=await d(T,10,P.payload),H=await s(E,h(F,P.conversationId)),M=await f(T,L,H.payload);await s(E,{saslContinue:1,conversationId:H.conversationId,payload:M})}}r.GSSAPI=u;async function l(g){const{hostAddress:m}=g.options,{credentials:E}=g;if(!m||typeof m.host!="string"||!E)throw new t.MongoInvalidArgumentError("Connection must have host and port and credentials defined.");if(_(),"kModuleError"in o)throw o.kModuleError;const{initializeClient:w}=o,{username:L,password:T}=E,R=E.mechanismProperties,P=R.SERVICE_NAME??"mongodb",F=await p(m.host,R),H={};T!=null&&Object.assign(H,{user:L,password:T});const M=R.SERVICE_HOST??F;let b=`${P}${process.platform==="win32"?"/":"@"}${M}`;return"SERVICE_REALM"in R&&(b=`${b}@${R.SERVICE_REALM}`),w(b,H)}function c(g){return{saslStart:1,mechanism:"GSSAPI",payload:g,autoAuthorize:1}}function h(g,m){return{saslContinue:1,conversationId:m,payload:g}}async function d(g,m,E){try{return await g.step(E)||""}catch(w){if(m===0)throw w;return d(g,m-1,E)}}async function f(g,m,E){const w=await g.unwrap(E);return g.wrap(w||"",{user:m})}async function p(g,m){const E=m.CANONICALIZE_HOST_NAME;if(!E||E===r.GSSAPICanonicalizationValue.none)return g;if(E===r.GSSAPICanonicalizationValue.on||E===r.GSSAPICanonicalizationValue.forwardAndReverse){const{address:w}=await A.promises.lookup(g);try{const L=await A.promises.resolvePtr(w);return L.length>0?L[0]:g}catch{return y(g)}}else return y(g)}r.performGSSAPICanonicalizeHostName=p;async function y(g){try{const m=await A.promises.resolveCname(g);return m.length>0?m[0]:g}catch{return g}}r.resolveCname=y;function _(){o||(o=(0,e.getKerberos)())}})(z1);var Mi={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AUTH_MECHS_AUTH_SRC_EXTERNAL=r.AuthMechanism=void 0,r.AuthMechanism=Object.freeze({MONGODB_AWS:"MONGODB-AWS",MONGODB_CR:"MONGODB-CR",MONGODB_DEFAULT:"DEFAULT",MONGODB_GSSAPI:"GSSAPI",MONGODB_PLAIN:"PLAIN",MONGODB_SCRAM_SHA1:"SCRAM-SHA-1",MONGODB_SCRAM_SHA256:"SCRAM-SHA-256",MONGODB_X509:"MONGODB-X509",MONGODB_OIDC:"MONGODB-OIDC"}),r.AUTH_MECHS_AUTH_SRC_EXTERNAL=new Set([r.AuthMechanism.MONGODB_GSSAPI,r.AuthMechanism.MONGODB_AWS,r.AuthMechanism.MONGODB_OIDC,r.AuthMechanism.MONGODB_X509])})(Mi);(function(r){var A={};Object.defineProperty(r,"__esModule",{value:!0}),r.MongoCredentials=r.DEFAULT_ALLOWED_HOSTS=void 0;const e=_A,t=z1,i=Mi;function n(c){if(c){if(Array.isArray(c.saslSupportedMechs))return c.saslSupportedMechs.includes(i.AuthMechanism.MONGODB_SCRAM_SHA256)?i.AuthMechanism.MONGODB_SCRAM_SHA256:i.AuthMechanism.MONGODB_SCRAM_SHA1;if(c.maxWireVersion>=3)return i.AuthMechanism.MONGODB_SCRAM_SHA1}return i.AuthMechanism.MONGODB_CR}const s=["aws","azure"],o="Auth mechanism property ALLOWED_HOSTS must be an array of strings.";r.DEFAULT_ALLOWED_HOSTS=["*.mongodb.net","*.mongodb-dev.net","*.mongodbgov.net","localhost","127.0.0.1","::1"];const u="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class l{constructor(h){this.username=h.username??"",this.password=h.password,this.source=h.source,!this.source&&h.db&&(this.source=h.db),this.mechanism=h.mechanism||i.AuthMechanism.MONGODB_DEFAULT,this.mechanismProperties=h.mechanismProperties||{},this.mechanism.match(/MONGODB-AWS/i)&&(!this.username&&A.AWS_ACCESS_KEY_ID&&(this.username=A.AWS_ACCESS_KEY_ID),!this.password&&A.AWS_SECRET_ACCESS_KEY&&(this.password=A.AWS_SECRET_ACCESS_KEY),this.mechanismProperties.AWS_SESSION_TOKEN==null&&A.AWS_SESSION_TOKEN!=null&&(this.mechanismProperties={...this.mechanismProperties,AWS_SESSION_TOKEN:A.AWS_SESSION_TOKEN})),this.mechanism===i.AuthMechanism.MONGODB_OIDC&&!this.mechanismProperties.ALLOWED_HOSTS&&(this.mechanismProperties={...this.mechanismProperties,ALLOWED_HOSTS:r.DEFAULT_ALLOWED_HOSTS}),Object.freeze(this.mechanismProperties),Object.freeze(this)}equals(h){return this.mechanism===h.mechanism&&this.username===h.username&&this.password===h.password&&this.source===h.source}resolveAuthMechanism(h){return this.mechanism.match(/DEFAULT/i)?new l({username:this.username,password:this.password,source:this.source,mechanism:n(h),mechanismProperties:this.mechanismProperties}):this}validate(){if((this.mechanism===i.AuthMechanism.MONGODB_GSSAPI||this.mechanism===i.AuthMechanism.MONGODB_CR||this.mechanism===i.AuthMechanism.MONGODB_PLAIN||this.mechanism===i.AuthMechanism.MONGODB_SCRAM_SHA1||this.mechanism===i.AuthMechanism.MONGODB_SCRAM_SHA256)&&!this.username)throw new e.MongoMissingCredentialsError(`Username required for mechanism '${this.mechanism}'`);if(this.mechanism===i.AuthMechanism.MONGODB_OIDC){if(this.username&&this.mechanismProperties.PROVIDER_NAME)throw new e.MongoInvalidArgumentError(`username and PROVIDER_NAME may not be used together for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.PROVIDER_NAME==="azure"&&!this.mechanismProperties.TOKEN_AUDIENCE)throw new e.MongoAzureError(u);if(this.mechanismProperties.PROVIDER_NAME&&!s.includes(this.mechanismProperties.PROVIDER_NAME))throw new e.MongoInvalidArgumentError(`Currently only a PROVIDER_NAME in ${s.join(",")} is supported for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.REFRESH_TOKEN_CALLBACK&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new e.MongoInvalidArgumentError(`A REQUEST_TOKEN_CALLBACK must be provided when using a REFRESH_TOKEN_CALLBACK for mechanism '${this.mechanism}'`);if(!this.mechanismProperties.PROVIDER_NAME&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new e.MongoInvalidArgumentError(`Either a PROVIDER_NAME or a REQUEST_TOKEN_CALLBACK must be specified for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.ALLOWED_HOSTS){const d=this.mechanismProperties.ALLOWED_HOSTS;if(!Array.isArray(d))throw new e.MongoInvalidArgumentError(o);for(const f of d)if(typeof f!="string")throw new e.MongoInvalidArgumentError(o)}}if(i.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(this.mechanism)&&this.source!=null&&this.source!=="$external")throw new e.MongoAPIError(`Invalid source '${this.source}' for mechanism '${this.mechanism}' specified.`);if(this.mechanism===i.AuthMechanism.MONGODB_PLAIN&&this.source==null)throw new e.MongoAPIError("PLAIN Authentication Mechanism needs an auth source");if(this.mechanism===i.AuthMechanism.MONGODB_X509&&this.password!=null){if(this.password===""){Reflect.set(this,"password",void 0);return}throw new e.MongoAPIError("Password not allowed for mechanism MONGODB-X509")}const h=this.mechanismProperties.CANONICALIZE_HOST_NAME??!1;if(!Object.values(t.GSSAPICanonicalizationValue).includes(h))throw new e.MongoAPIError(`Invalid CANONICALIZE_HOST_NAME value: ${h}`)}static merge(h,d){return new l({username:d.username??(h==null?void 0:h.username)??"",password:d.password??(h==null?void 0:h.password)??"",mechanism:d.mechanism??(h==null?void 0:h.mechanism)??i.AuthMechanism.MONGODB_DEFAULT,mechanismProperties:d.mechanismProperties??(h==null?void 0:h.mechanismProperties)??{},source:d.source??d.db??(h==null?void 0:h.source)??"admin"})}}r.MongoCredentials=l})(k1);var hd={},dd={},xt={},ep={},AC={},G1={};(function(r){function A(g,m,E){return E.globals&&(g=E.globals[g.name]),new g(`${E.context?E.context:"Value"} ${m}.`)}function e(g,m){if(typeof g=="bigint")throw A(TypeError,"is a BigInt which cannot be converted to a number",m);return m.globals?m.globals.Number(g):Number(g)}function t(g){return g>0&&g%1===.5&&!(g&1)||g<0&&g%1===-.5&&(g&1)===1?o(Math.floor(g)):o(Math.round(g))}function i(g){return o(Math.trunc(g))}function n(g){return g<0?-1:1}function s(g,m){const E=g%m;return n(m)!==n(E)?E+m:E}function o(g){return g===0?0:g}function u(g,{unsigned:m}){let E,w;m?(E=0,w=2**g-1):(E=-(2**(g-1)),w=2**(g-1)-1);const L=2**g,T=2**(g-1);return(R,P={})=>{let F=e(R,P);if(F=o(F),P.enforceRange){if(!Number.isFinite(F))throw A(TypeError,"is not a finite number",P);if(F=i(F),F<E||F>w)throw A(TypeError,`is outside the accepted range of ${E} to ${w}, inclusive`,P);return F}return!Number.isNaN(F)&&P.clamp?(F=Math.min(Math.max(F,E),w),F=t(F),F):!Number.isFinite(F)||F===0?0:(F=i(F),F>=E&&F<=w?F:(F=s(F,L),!m&&F>=T?F-L:F))}}function l(g,{unsigned:m}){const E=Number.MAX_SAFE_INTEGER,w=m?0:Number.MIN_SAFE_INTEGER,L=m?BigInt.asUintN:BigInt.asIntN;return(T,R={})=>{let P=e(T,R);if(P=o(P),R.enforceRange){if(!Number.isFinite(P))throw A(TypeError,"is not a finite number",R);if(P=i(P),P<w||P>E)throw A(TypeError,`is outside the accepted range of ${w} to ${E}, inclusive`,R);return P}if(!Number.isNaN(P)&&R.clamp)return P=Math.min(Math.max(P,w),E),P=t(P),P;if(!Number.isFinite(P)||P===0)return 0;let F=BigInt(i(P));return F=L(g,F),Number(F)}}r.any=g=>g,r.undefined=()=>{},r.boolean=g=>!!g,r.byte=u(8,{unsigned:!1}),r.octet=u(8,{unsigned:!0}),r.short=u(16,{unsigned:!1}),r["unsigned short"]=u(16,{unsigned:!0}),r.long=u(32,{unsigned:!1}),r["unsigned long"]=u(32,{unsigned:!0}),r["long long"]=l(64,{unsigned:!1}),r["unsigned long long"]=l(64,{unsigned:!0}),r.double=(g,m={})=>{const E=e(g,m);if(!Number.isFinite(E))throw A(TypeError,"is not a finite floating-point value",m);return E},r["unrestricted double"]=(g,m={})=>e(g,m),r.float=(g,m={})=>{const E=e(g,m);if(!Number.isFinite(E))throw A(TypeError,"is not a finite floating-point value",m);if(Object.is(E,-0))return E;const w=Math.fround(E);if(!Number.isFinite(w))throw A(TypeError,"is outside the range of a single-precision floating-point value",m);return w},r["unrestricted float"]=(g,m={})=>{const E=e(g,m);return isNaN(E)||Object.is(E,-0)?E:Math.fround(E)},r.DOMString=(g,m={})=>{if(m.treatNullAsEmptyString&&g===null)return"";if(typeof g=="symbol")throw A(TypeError,"is a symbol, which cannot be converted to a string",m);return(m.globals?m.globals.String:String)(g)},r.ByteString=(g,m={})=>{const E=r.DOMString(g,m);let w;for(let L=0;(w=E.codePointAt(L))!==void 0;++L)if(w>255)throw A(TypeError,"is not a valid ByteString",m);return E},r.USVString=(g,m={})=>{const E=r.DOMString(g,m),w=E.length,L=[];for(let T=0;T<w;++T){const R=E.charCodeAt(T);if(R<55296||R>57343)L.push(String.fromCodePoint(R));else if(56320<=R&&R<=57343)L.push(String.fromCodePoint(65533));else if(T===w-1)L.push(String.fromCodePoint(65533));else{const P=E.charCodeAt(T+1);if(56320<=P&&P<=57343){const F=R&1023,H=P&1023;L.push(String.fromCodePoint(65536+1024*F+H)),++T}else L.push(String.fromCodePoint(65533))}}return L.join("")},r.object=(g,m={})=>{if(g===null||typeof g!="object"&&typeof g!="function")throw A(TypeError,"is not an object",m);return g};const c=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,h=typeof SharedArrayBuffer=="function"?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;function d(g){try{return c.call(g),!0}catch{return!1}}function f(g){try{return h.call(g),!0}catch{return!1}}function p(g){try{return new Uint8Array(g),!1}catch{return!0}}r.ArrayBuffer=(g,m={})=>{if(!d(g))throw m.allowShared&&!f(g)?A(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",m):A(TypeError,"is not an ArrayBuffer",m);if(p(g))throw A(TypeError,"is a detached ArrayBuffer",m);return g};const y=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;r.DataView=(g,m={})=>{try{y.call(g)}catch{throw A(TypeError,"is not a DataView",m)}if(!m.allowShared&&f(g.buffer))throw A(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",m);if(p(g.buffer))throw A(TypeError,"is backed by a detached ArrayBuffer",m);return g};const _=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(g=>{const{name:m}=g,E=/^[AEIOU]/u.test(m)?"an":"a";r[m]=(w,L={})=>{if(!ArrayBuffer.isView(w)||_.call(w)!==m)throw A(TypeError,`is not ${E} ${m} object`,L);if(!L.allowShared&&f(w.buffer))throw A(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",L);if(p(w.buffer))throw A(TypeError,"is a view on a detached ArrayBuffer",L);return w}}),r.ArrayBufferView=(g,m={})=>{if(!ArrayBuffer.isView(g))throw A(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",m);if(!m.allowShared&&f(g.buffer))throw A(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",m);if(p(g.buffer))throw A(TypeError,"is a view on a detached ArrayBuffer",m);return g},r.BufferSource=(g,m={})=>{if(ArrayBuffer.isView(g)){if(!m.allowShared&&f(g.buffer))throw A(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",m);if(p(g.buffer))throw A(TypeError,"is a view on a detached ArrayBuffer",m);return g}if(!m.allowShared&&!d(g))throw A(TypeError,"is not an ArrayBuffer or a view on one",m);if(m.allowShared&&!f(g)&&!d(g))throw A(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",m);if(p(g))throw A(TypeError,"is a detached ArrayBuffer",m);return g},r.DOMTimeStamp=r["unsigned long long"]})(G1);var eC={exports:{}};(function(r,A){function e(AA){return typeof AA=="object"&&AA!==null||typeof AA=="function"}const t=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function i(AA,Y){for(const G of Reflect.ownKeys(Y)){const X=Reflect.getOwnPropertyDescriptor(Y,G);if(X&&!Reflect.defineProperty(AA,G,X))throw new TypeError(`Cannot redefine property: ${String(G)}`)}}function n(AA,Y){const G=h(AA);return Object.defineProperties(Object.create(G["%Object.prototype%"]),Object.getOwnPropertyDescriptors(Y))}const s=Symbol("wrapper"),o=Symbol("impl"),u=Symbol("SameObject caches"),l=Symbol.for("[webidl2js] constructor registry"),c=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);function h(AA){if(t(AA,l))return AA[l];const Y=Object.create(null);Y["%Object.prototype%"]=AA.Object.prototype,Y["%IteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(new AA.Array()[Symbol.iterator]()));try{Y["%AsyncIteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(AA.eval("(async function* () {})").prototype))}catch{Y["%AsyncIteratorPrototype%"]=c}return AA[l]=Y,Y}function d(AA,Y,G){return AA[u]||(AA[u]=Object.create(null)),Y in AA[u]||(AA[u][Y]=G()),AA[u][Y]}function f(AA){return AA?AA[s]:null}function p(AA){return AA?AA[o]:null}function y(AA){const Y=f(AA);return Y||AA}function _(AA){const Y=p(AA);return Y||AA}const g=Symbol("internal");function m(AA){if(typeof AA!="string")return!1;const Y=AA>>>0;if(Y===2**32-1)return!1;const G=`${Y}`;return AA===G}const E=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function w(AA){try{return E.call(AA),!0}catch{return!1}}function L([AA,Y],G){let X;switch(G){case"key":X=AA;break;case"value":X=Y;break;case"key+value":X=[AA,Y];break}return{value:X,done:!1}}const T=Symbol("supports property index"),R=Symbol("supported property indices"),P=Symbol("supports property name"),F=Symbol("supported property names"),H=Symbol("indexed property get"),M=Symbol("indexed property set new"),b=Symbol("indexed property set existing"),v=Symbol("named property get"),C=Symbol("named property set new"),x=Symbol("named property set existing"),S=Symbol("named property delete"),B=Symbol("async iterator get the next iteration result"),D=Symbol("async iterator return steps"),Q=Symbol("async iterator initialization steps"),Z=Symbol("async iterator end of iteration");r.exports={isObject:e,hasOwn:t,define:i,newObjectInRealm:n,wrapperSymbol:s,implSymbol:o,getSameObject:d,ctorRegistrySymbol:l,initCtorRegistry:h,wrapperForImpl:f,implForWrapper:p,tryWrapperForImpl:y,tryImplForWrapper:_,iterInternalSymbol:g,isArrayBuffer:w,isArrayIndexPropName:m,supportsPropertyIndex:T,supportedPropertyIndices:R,supportsPropertyName:P,supportedPropertyNames:F,indexedGet:H,indexedSetNew:M,indexedSetExisting:b,namedGet:v,namedSetNew:C,namedSetExisting:x,namedDelete:S,asyncIteratorNext:B,asyncIteratorReturn:D,asyncIteratorInit:Q,asyncIteratorEOI:Z,iteratorResult:L}})(eC);var tp=eC.exports,fd={},tC={exports:{}};const zo=2147483647,Ei=36,rp=1,du=26,Y9=38,$9=700,rC=72,iC=128,nC="-",K9=/^xn--/,q9=/[^\0-\x7F]/,X9=/[\x2E\u3002\uFF0E\uFF61]/g,J9={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pd=Ei-rp,Ci=Math.floor,gd=String.fromCharCode;function Sn(r){throw new RangeError(J9[r])}function Z9(r,A){const e=[];let t=r.length;for(;t--;)e[t]=A(r[t]);return e}function sC(r,A){const e=r.split("@");let t="";e.length>1&&(t=e[0]+"@",r=e[1]),r=r.replace(X9,".");const i=r.split("."),n=Z9(i,A).join(".");return t+n}function ip(r){const A=[];let e=0;const t=r.length;for(;e<t;){const i=r.charCodeAt(e++);if(i>=55296&&i<=56319&&e<t){const n=r.charCodeAt(e++);(n&64512)==56320?A.push(((i&1023)<<10)+(n&1023)+65536):(A.push(i),e--)}else A.push(i)}return A}const oC=r=>String.fromCodePoint(...r),A5=function(r){return r>=48&&r<58?26+(r-48):r>=65&&r<91?r-65:r>=97&&r<123?r-97:Ei},em=function(r,A){return r+22+75*(r<26)-((A!=0)<<5)},aC=function(r,A,e){let t=0;for(r=e?Ci(r/$9):r>>1,r+=Ci(r/A);r>pd*du>>1;t+=Ei)r=Ci(r/pd);return Ci(t+(pd+1)*r/(r+Y9))},np=function(r){const A=[],e=r.length;let t=0,i=iC,n=rC,s=r.lastIndexOf(nC);s<0&&(s=0);for(let o=0;o<s;++o)r.charCodeAt(o)>=128&&Sn("not-basic"),A.push(r.charCodeAt(o));for(let o=s>0?s+1:0;o<e;){const u=t;for(let c=1,h=Ei;;h+=Ei){o>=e&&Sn("invalid-input");const d=A5(r.charCodeAt(o++));d>=Ei&&Sn("invalid-input"),d>Ci((zo-t)/c)&&Sn("overflow"),t+=d*c;const f=h<=n?rp:h>=n+du?du:h-n;if(d<f)break;const p=Ei-f;c>Ci(zo/p)&&Sn("overflow"),c*=p}const l=A.length+1;n=aC(t-u,l,u==0),Ci(t/l)>zo-i&&Sn("overflow"),i+=Ci(t/l),t%=l,A.splice(t++,0,i)}return String.fromCodePoint(...A)},sp=function(r){const A=[];r=ip(r);const e=r.length;let t=iC,i=0,n=rC;for(const u of r)u<128&&A.push(gd(u));const s=A.length;let o=s;for(s&&A.push(nC);o<e;){let u=zo;for(const c of r)c>=t&&c<u&&(u=c);const l=o+1;u-t>Ci((zo-i)/l)&&Sn("overflow"),i+=(u-t)*l,t=u;for(const c of r)if(c<t&&++i>zo&&Sn("overflow"),c===t){let h=i;for(let d=Ei;;d+=Ei){const f=d<=n?rp:d>=n+du?du:d-n;if(h<f)break;const p=h-f,y=Ei-f;A.push(gd(em(f+p%y,0))),h=Ci(p/y)}A.push(gd(em(h,0))),n=aC(i,l,o===s),i=0,++o}++i,++t}return A.join("")},uC=function(r){return sC(r,function(A){return K9.test(A)?np(A.slice(4).toLowerCase()):A})},lC=function(r){return sC(r,function(A){return q9.test(A)?"xn--"+sp(A):A})},e5={version:"2.3.1",ucs2:{decode:ip,encode:oC},decode:np,encode:sp,toASCII:lC,toUnicode:uC},t5=Object.freeze(Object.defineProperty({__proto__:null,decode:np,default:e5,encode:sp,toASCII:lC,toUnicode:uC,ucs2decode:ip,ucs2encode:oC},Symbol.toStringTag,{value:"Module"})),r5=un(t5),i5=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,n5=/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}]/u,s5=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u08B6-\u08B8\u08BA-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u0860\u0862-\u0865\u0867-\u086A\u08A0-\u08AC\u08AE-\u08B4\u08B6-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{1E900}-\u{1E943}]/u,o5=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,a5=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11B00}-\u{11B09}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11F02}-\u{11F10}\u{11F12}-\u{11F35}\u{11F3E}\u{11F3F}\u{11F41}\u{11F43}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1343F}\u{13441}-\u{13446}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E4D0}-\u{1E4EB}\u{1E4F0}-\u{1E4F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,u5=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,l5=/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u0898-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20C0\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82C\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uAB6A\uAB6B\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019C}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAB}-\u{10EAD}\u{10EB0}\u{10EB1}\u{10EFD}-\u{10F27}\u{10F30}-\u{10F59}\u{10F70}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{11FD5}-\u{11FF1}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D1E9}\u{1D1EA}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6DB}\u{1D715}\u{1D74F}\u{1D789}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E4EC}-\u{1E4EF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10F}\u{1F12F}\u{1F16A}-\u{1F16F}\u{1F1AD}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DC}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F776}\u{1F77B}-\u{1F7D9}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,c5=/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,h5=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}]/u,d5=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u0890\u0891\u08E2\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}]/u,f5=/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u1715\u171F-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B7E\u1B80-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20C0\u20D0-\u20F0\u2100-\u218B\u2190-\u2426\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B97-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E3\u31F0-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA82C\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E-\uFD4F\uFDCF\uFDFD-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{1104D}\u{11052}-\u{11075}\u{1107F}-\u{110C2}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11147}\u{11150}-\u{11176}\u{11180}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{11241}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11400}-\u{1145B}\u{1145D}-\u{11461}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{11746}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11B00}-\u{11B09}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11F00}-\u{11F10}\u{11F12}-\u{11F3A}\u{11F3E}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{13455}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE4}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1EA}\u{1D200}-\u{1D245}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E030}-\u{1E06D}\u{1E08F}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AE}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E4D0}-\u{1E4F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DC}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F776}\u{1F77B}-\u{1F7D9}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,p5=/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11B00}-\u{11B09}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11F02}-\u{11F10}\u{11F12}-\u{11F35}\u{11F3E}\u{11F3F}\u{11F41}\u{11F43}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1343F}\u{13441}-\u{13446}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E4D0}-\u{1E4EB}\u{1E4F0}-\u{1E4F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u;var g5={combiningMarks:i5,combiningClassVirama:n5,validZWNJ:s5,bidiDomain:o5,bidiS1LTR:a5,bidiS1RTL:u5,bidiS2:l5,bidiS3:c5,bidiS4EN:h5,bidiS4AN:d5,bidiS5:f5,bidiS6:p5};const m5=[[[0,44],4],[[45,46],2],[47,4],[[48,57],2],[[58,64],4],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],4],[[97,122],2],[[123,127],4],[[128,159],3],[160,5," "],[[161,167],2],[168,5," "],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,5," "],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,5," "],[181,1,""],[182,2],[183,2],[184,5," "],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"14"],[189,1,"12"],[190,1,"34"],[191,2],[192,1,""],[193,1,""],[194,1,""],[195,1,""],[196,1,""],[197,1,""],[198,1,""],[199,1,""],[200,1,""],[201,1,""],[202,1,""],[203,1,""],[204,1,""],[205,1,""],[206,1,""],[207,1,""],[208,1,""],[209,1,""],[210,1,""],[211,1,""],[212,1,""],[213,1,""],[214,1,""],[215,2],[216,1,""],[217,1,""],[218,1,""],[219,1,""],[220,1,""],[221,1,""],[222,1,""],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,""],[257,2],[258,1,""],[259,2],[260,1,""],[261,2],[262,1,""],[263,2],[264,1,""],[265,2],[266,1,""],[267,2],[268,1,""],[269,2],[270,1,""],[271,2],[272,1,""],[273,2],[274,1,""],[275,2],[276,1,""],[277,2],[278,1,""],[279,2],[280,1,""],[281,2],[282,1,""],[283,2],[284,1,""],[285,2],[286,1,""],[287,2],[288,1,""],[289,2],[290,1,""],[291,2],[292,1,""],[293,2],[294,1,""],[295,2],[296,1,""],[297,2],[298,1,""],[299,2],[300,1,""],[301,2],[302,1,""],[303,2],[304,1,"i"],[305,2],[[306,307],1,"ij"],[308,1,""],[309,2],[310,1,""],[[311,312],2],[313,1,""],[314,2],[315,1,""],[316,2],[317,1,""],[318,2],[[319,320],1,"l"],[321,1,""],[322,2],[323,1,""],[324,2],[325,1,""],[326,2],[327,1,""],[328,2],[329,1,"n"],[330,1,""],[331,2],[332,1,""],[333,2],[334,1,""],[335,2],[336,1,""],[337,2],[338,1,""],[339,2],[340,1,""],[341,2],[342,1,""],[343,2],[344,1,""],[345,2],[346,1,""],[347,2],[348,1,""],[349,2],[350,1,""],[351,2],[352,1,""],[353,2],[354,1,""],[355,2],[356,1,""],[357,2],[358,1,""],[359,2],[360,1,""],[361,2],[362,1,""],[363,2],[364,1,""],[365,2],[366,1,""],[367,2],[368,1,""],[369,2],[370,1,""],[371,2],[372,1,""],[373,2],[374,1,""],[375,2],[376,1,""],[377,1,""],[378,2],[379,1,""],[380,2],[381,1,""],[382,2],[383,1,"s"],[384,2],[385,1,""],[386,1,""],[387,2],[388,1,""],[389,2],[390,1,""],[391,1,""],[392,2],[393,1,""],[394,1,""],[395,1,""],[[396,397],2],[398,1,""],[399,1,""],[400,1,""],[401,1,""],[402,2],[403,1,""],[404,1,""],[405,2],[406,1,""],[407,1,""],[408,1,""],[[409,411],2],[412,1,""],[413,1,""],[414,2],[415,1,""],[416,1,""],[417,2],[418,1,""],[419,2],[420,1,""],[421,2],[422,1,""],[423,1,""],[424,2],[425,1,""],[[426,427],2],[428,1,""],[429,2],[430,1,""],[431,1,""],[432,2],[433,1,""],[434,1,""],[435,1,""],[436,2],[437,1,""],[438,2],[439,1,""],[440,1,""],[[441,443],2],[444,1,""],[[445,451],2],[[452,454],1,"d"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,""],[462,2],[463,1,""],[464,2],[465,1,""],[466,2],[467,1,""],[468,2],[469,1,""],[470,2],[471,1,""],[472,2],[473,1,""],[474,2],[475,1,""],[[476,477],2],[478,1,""],[479,2],[480,1,""],[481,2],[482,1,""],[483,2],[484,1,""],[485,2],[486,1,""],[487,2],[488,1,""],[489,2],[490,1,""],[491,2],[492,1,""],[493,2],[494,1,""],[[495,496],2],[[497,499],1,"dz"],[500,1,""],[501,2],[502,1,""],[503,1,""],[504,1,""],[505,2],[506,1,""],[507,2],[508,1,""],[509,2],[510,1,""],[511,2],[512,1,""],[513,2],[514,1,""],[515,2],[516,1,""],[517,2],[518,1,""],[519,2],[520,1,""],[521,2],[522,1,""],[523,2],[524,1,""],[525,2],[526,1,""],[527,2],[528,1,""],[529,2],[530,1,""],[531,2],[532,1,""],[533,2],[534,1,""],[535,2],[536,1,""],[537,2],[538,1,""],[539,2],[540,1,""],[541,2],[542,1,""],[543,2],[544,1,""],[545,2],[546,1,""],[547,2],[548,1,""],[549,2],[550,1,""],[551,2],[552,1,""],[553,2],[554,1,""],[555,2],[556,1,""],[557,2],[558,1,""],[559,2],[560,1,""],[561,2],[562,1,""],[563,2],[[564,566],2],[[567,569],2],[570,1,""],[571,1,""],[572,2],[573,1,""],[574,1,""],[[575,576],2],[577,1,""],[578,2],[579,1,""],[580,1,""],[581,1,""],[582,1,""],[583,2],[584,1,""],[585,2],[586,1,""],[587,2],[588,1,""],[589,2],[590,1,""],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,""],[690,1,"j"],[691,1,"r"],[692,1,""],[693,1,""],[694,1,""],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,5," "],[729,5," "],[730,5," "],[731,5," "],[732,5," "],[733,5," "],[734,2],[735,2],[736,1,""],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,""],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,""],[833,1,""],[834,2],[835,1,""],[836,1,""],[837,1,""],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,""],[881,2],[882,1,""],[883,2],[884,1,""],[885,2],[886,1,""],[887,2],[[888,889],3],[890,5," "],[[891,893],2],[894,5,";"],[895,1,""],[[896,899],3],[900,5," "],[901,5," "],[902,1,""],[903,1,""],[904,1,""],[905,1,""],[906,1,""],[907,3],[908,1,""],[909,3],[910,1,""],[911,1,""],[912,2],[913,1,""],[914,1,""],[915,1,""],[916,1,""],[917,1,""],[918,1,""],[919,1,""],[920,1,""],[921,1,""],[922,1,""],[923,1,""],[924,1,""],[925,1,""],[926,1,""],[927,1,""],[928,1,""],[929,1,""],[930,3],[931,1,""],[932,1,""],[933,1,""],[934,1,""],[935,1,""],[936,1,""],[937,1,""],[938,1,""],[939,1,""],[[940,961],2],[962,6,""],[[963,974],2],[975,1,""],[976,1,""],[977,1,""],[978,1,""],[979,1,""],[980,1,""],[981,1,""],[982,1,""],[983,2],[984,1,""],[985,2],[986,1,""],[987,2],[988,1,""],[989,2],[990,1,""],[991,2],[992,1,""],[993,2],[994,1,""],[995,2],[996,1,""],[997,2],[998,1,""],[999,2],[1e3,1,""],[1001,2],[1002,1,""],[1003,2],[1004,1,""],[1005,2],[1006,1,""],[1007,2],[1008,1,""],[1009,1,""],[1010,1,""],[1011,2],[1012,1,""],[1013,1,""],[1014,2],[1015,1,""],[1016,2],[1017,1,""],[1018,1,""],[1019,2],[1020,2],[1021,1,""],[1022,1,""],[1023,1,""],[1024,1,""],[1025,1,""],[1026,1,""],[1027,1,""],[1028,1,""],[1029,1,""],[1030,1,""],[1031,1,""],[1032,1,""],[1033,1,""],[1034,1,""],[1035,1,""],[1036,1,""],[1037,1,""],[1038,1,""],[1039,1,""],[1040,1,""],[1041,1,""],[1042,1,""],[1043,1,""],[1044,1,""],[1045,1,""],[1046,1,""],[1047,1,""],[1048,1,""],[1049,1,""],[1050,1,""],[1051,1,""],[1052,1,""],[1053,1,""],[1054,1,""],[1055,1,""],[1056,1,""],[1057,1,""],[1058,1,""],[1059,1,""],[1060,1,""],[1061,1,""],[1062,1,""],[1063,1,""],[1064,1,""],[1065,1,""],[1066,1,""],[1067,1,""],[1068,1,""],[1069,1,""],[1070,1,""],[1071,1,""],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,""],[1121,2],[1122,1,""],[1123,2],[1124,1,""],[1125,2],[1126,1,""],[1127,2],[1128,1,""],[1129,2],[1130,1,""],[1131,2],[1132,1,""],[1133,2],[1134,1,""],[1135,2],[1136,1,""],[1137,2],[1138,1,""],[1139,2],[1140,1,""],[1141,2],[1142,1,""],[1143,2],[1144,1,""],[1145,2],[1146,1,""],[1147,2],[1148,1,""],[1149,2],[1150,1,""],[1151,2],[1152,1,""],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,""],[1163,2],[1164,1,""],[1165,2],[1166,1,""],[1167,2],[1168,1,""],[1169,2],[1170,1,""],[1171,2],[1172,1,""],[1173,2],[1174,1,""],[1175,2],[1176,1,""],[1177,2],[1178,1,""],[1179,2],[1180,1,""],[1181,2],[1182,1,""],[1183,2],[1184,1,""],[1185,2],[1186,1,""],[1187,2],[1188,1,""],[1189,2],[1190,1,""],[1191,2],[1192,1,""],[1193,2],[1194,1,""],[1195,2],[1196,1,""],[1197,2],[1198,1,""],[1199,2],[1200,1,""],[1201,2],[1202,1,""],[1203,2],[1204,1,""],[1205,2],[1206,1,""],[1207,2],[1208,1,""],[1209,2],[1210,1,""],[1211,2],[1212,1,""],[1213,2],[1214,1,""],[1215,2],[1216,3],[1217,1,""],[1218,2],[1219,1,""],[1220,2],[1221,1,""],[1222,2],[1223,1,""],[1224,2],[1225,1,""],[1226,2],[1227,1,""],[1228,2],[1229,1,""],[1230,2],[1231,2],[1232,1,""],[1233,2],[1234,1,""],[1235,2],[1236,1,""],[1237,2],[1238,1,""],[1239,2],[1240,1,""],[1241,2],[1242,1,""],[1243,2],[1244,1,""],[1245,2],[1246,1,""],[1247,2],[1248,1,""],[1249,2],[1250,1,""],[1251,2],[1252,1,""],[1253,2],[1254,1,""],[1255,2],[1256,1,""],[1257,2],[1258,1,""],[1259,2],[1260,1,""],[1261,2],[1262,1,""],[1263,2],[1264,1,""],[1265,2],[1266,1,""],[1267,2],[1268,1,""],[1269,2],[1270,1,""],[1271,2],[1272,1,""],[1273,2],[1274,1,""],[1275,2],[1276,1,""],[1277,2],[1278,1,""],[1279,2],[1280,1,""],[1281,2],[1282,1,""],[1283,2],[1284,1,""],[1285,2],[1286,1,""],[1287,2],[1288,1,""],[1289,2],[1290,1,""],[1291,2],[1292,1,""],[1293,2],[1294,1,""],[1295,2],[1296,1,""],[1297,2],[1298,1,""],[1299,2],[1300,1,""],[1301,2],[1302,1,""],[1303,2],[1304,1,""],[1305,2],[1306,1,""],[1307,2],[1308,1,""],[1309,2],[1310,1,""],[1311,2],[1312,1,""],[1313,2],[1314,1,""],[1315,2],[1316,1,""],[1317,2],[1318,1,""],[1319,2],[1320,1,""],[1321,2],[1322,1,""],[1323,2],[1324,1,""],[1325,2],[1326,1,""],[1327,2],[1328,3],[1329,1,""],[1330,1,""],[1331,1,""],[1332,1,""],[1333,1,""],[1334,1,""],[1335,1,""],[1336,1,""],[1337,1,""],[1338,1,""],[1339,1,""],[1340,1,""],[1341,1,""],[1342,1,""],[1343,1,""],[1344,1,""],[1345,1,""],[1346,1,""],[1347,1,""],[1348,1,""],[1349,1,""],[1350,1,""],[1351,1,""],[1352,1,""],[1353,1,""],[1354,1,""],[1355,1,""],[1356,1,""],[1357,1,""],[1358,1,""],[1359,1,""],[1360,1,""],[1361,1,""],[1362,1,""],[1363,1,""],[1364,1,""],[1365,1,""],[1366,1,""],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,""],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,2],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,""],[1654,1,""],[1655,1,""],[1656,1,""],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2159],3],[[2160,2183],2],[2184,2],[[2185,2190],2],[2191,3],[[2192,2193],3],[[2194,2199],3],[[2200,2207],2],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,2],[[2230,2237],2],[[2238,2247],2],[[2248,2258],2],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,""],[2393,1,""],[2394,1,""],[2395,1,""],[2396,1,""],[2397,1,""],[2398,1,""],[2399,1,""],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,""],[2525,1,""],[2526,3],[2527,1,""],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,""],[2612,3],[2613,2],[2614,1,""],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,""],[2650,1,""],[2651,1,""],[2652,2],[2653,3],[2654,1,""],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2900],3],[2901,2],[[2902,2903],2],[[2904,2907],3],[2908,1,""],[2909,1,""],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3131],3],[3132,2],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3164],3],[3165,2],[[3166,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3292],3],[3293,2],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[3315,2],[[3316,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,2],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[3456,3],[3457,2],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,""],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,""],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[3790,2],[3791,3],[[3792,3801],2],[[3802,3803],3],[3804,1,""],[3805,1,""],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,""],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,""],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,""],[[3918,3921],2],[3922,1,""],[[3923,3926],2],[3927,1,""],[[3928,3931],2],[3932,1,""],[[3933,3944],2],[3945,1,""],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,""],[3956,2],[3957,1,""],[3958,1,""],[3959,1,""],[3960,1,""],[3961,1,""],[[3962,3968],2],[3969,1,""],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,""],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,""],[[3998,4001],2],[4002,1,""],[[4003,4006],2],[4007,1,""],[[4008,4011],2],[4012,1,""],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,""],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[[4256,4293],3],[4294,3],[4295,1,""],[[4296,4300],3],[4301,1,""],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,""],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],3],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,""],[5113,1,""],[5114,1,""],[5115,1,""],[5116,1,""],[5117,1,""],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,2],[[5902,5908],2],[5909,2],[[5910,5918],3],[5919,2],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6e3],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],3],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6149],2],[6150,3],[[6151,6154],2],[[6155,6157],7],[6158,3],[6159,7],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6848],2],[[6849,6862],2],[[6863,6911],3],[[6912,6987],2],[6988,2],[[6989,6991],3],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7038],2],[7039,3],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,""],[7297,1,""],[7298,1,""],[7299,1,""],[[7300,7301],1,""],[7302,1,""],[7303,1,""],[7304,1,""],[[7305,7311],3],[7312,1,""],[7313,1,""],[7314,1,""],[7315,1,""],[7316,1,""],[7317,1,""],[7318,1,""],[7319,1,""],[7320,1,""],[7321,1,""],[7322,1,""],[7323,1,""],[7324,1,""],[7325,1,""],[7326,1,""],[7327,1,""],[7328,1,""],[7329,1,""],[7330,1,""],[7331,1,""],[7332,1,""],[7333,1,""],[7334,1,""],[7335,1,""],[7336,1,""],[7337,1,""],[7338,1,""],[7339,1,""],[7340,1,""],[7341,1,""],[7342,1,""],[7343,1,""],[7344,1,""],[7345,1,""],[7346,1,""],[7347,1,""],[7348,1,""],[7349,1,""],[7350,1,""],[7351,1,""],[7352,1,""],[7353,1,""],[7354,1,""],[[7355,7356],3],[7357,1,""],[7358,1,""],[7359,1,""],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,""],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,""],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,""],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,""],[7493,1,""],[7494,1,""],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,""],[7499,1,""],[7500,1,""],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,""],[7506,1,"o"],[7507,1,""],[7508,1,""],[7509,1,""],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,""],[7514,1,""],[7515,1,"v"],[7516,1,""],[7517,1,""],[7518,1,""],[7519,1,""],[7520,1,""],[7521,1,""],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,""],[7527,1,""],[7528,1,""],[7529,1,""],[7530,1,""],[7531,2],[[7532,7543],2],[7544,1,""],[[7545,7578],2],[7579,1,""],[7580,1,"c"],[7581,1,""],[7582,1,""],[7583,1,""],[7584,1,"f"],[7585,1,""],[7586,1,""],[7587,1,""],[7588,1,""],[7589,1,""],[7590,1,""],[7591,1,""],[7592,1,""],[7593,1,""],[7594,1,""],[7595,1,""],[7596,1,""],[7597,1,""],[7598,1,""],[7599,1,""],[7600,1,""],[7601,1,""],[7602,1,""],[7603,1,""],[7604,1,""],[7605,1,""],[7606,1,""],[7607,1,""],[7608,1,""],[7609,1,""],[7610,1,""],[7611,1,"z"],[7612,1,""],[7613,1,""],[7614,1,""],[7615,1,""],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,2],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,""],[7681,2],[7682,1,""],[7683,2],[7684,1,""],[7685,2],[7686,1,""],[7687,2],[7688,1,""],[7689,2],[7690,1,""],[7691,2],[7692,1,""],[7693,2],[7694,1,""],[7695,2],[7696,1,""],[7697,2],[7698,1,""],[7699,2],[7700,1,""],[7701,2],[7702,1,""],[7703,2],[7704,1,""],[7705,2],[7706,1,""],[7707,2],[7708,1,""],[7709,2],[7710,1,""],[7711,2],[7712,1,""],[7713,2],[7714,1,""],[7715,2],[7716,1,""],[7717,2],[7718,1,""],[7719,2],[7720,1,""],[7721,2],[7722,1,""],[7723,2],[7724,1,""],[7725,2],[7726,1,""],[7727,2],[7728,1,""],[7729,2],[7730,1,""],[7731,2],[7732,1,""],[7733,2],[7734,1,""],[7735,2],[7736,1,""],[7737,2],[7738,1,""],[7739,2],[7740,1,""],[7741,2],[7742,1,""],[7743,2],[7744,1,""],[7745,2],[7746,1,""],[7747,2],[7748,1,""],[7749,2],[7750,1,""],[7751,2],[7752,1,""],[7753,2],[7754,1,""],[7755,2],[7756,1,""],[7757,2],[7758,1,""],[7759,2],[7760,1,""],[7761,2],[7762,1,""],[7763,2],[7764,1,""],[7765,2],[7766,1,""],[7767,2],[7768,1,""],[7769,2],[7770,1,""],[7771,2],[7772,1,""],[7773,2],[7774,1,""],[7775,2],[7776,1,""],[7777,2],[7778,1,""],[7779,2],[7780,1,""],[7781,2],[7782,1,""],[7783,2],[7784,1,""],[7785,2],[7786,1,""],[7787,2],[7788,1,""],[7789,2],[7790,1,""],[7791,2],[7792,1,""],[7793,2],[7794,1,""],[7795,2],[7796,1,""],[7797,2],[7798,1,""],[7799,2],[7800,1,""],[7801,2],[7802,1,""],[7803,2],[7804,1,""],[7805,2],[7806,1,""],[7807,2],[7808,1,""],[7809,2],[7810,1,""],[7811,2],[7812,1,""],[7813,2],[7814,1,""],[7815,2],[7816,1,""],[7817,2],[7818,1,""],[7819,2],[7820,1,""],[7821,2],[7822,1,""],[7823,2],[7824,1,""],[7825,2],[7826,1,""],[7827,2],[7828,1,""],[[7829,7833],2],[7834,1,"a"],[7835,1,""],[[7836,7837],2],[7838,1,"ss"],[7839,2],[7840,1,""],[7841,2],[7842,1,""],[7843,2],[7844,1,""],[7845,2],[7846,1,""],[7847,2],[7848,1,""],[7849,2],[7850,1,""],[7851,2],[7852,1,""],[7853,2],[7854,1,""],[7855,2],[7856,1,""],[7857,2],[7858,1,""],[7859,2],[7860,1,""],[7861,2],[7862,1,""],[7863,2],[7864,1,""],[7865,2],[7866,1,""],[7867,2],[7868,1,""],[7869,2],[7870,1,""],[7871,2],[7872,1,""],[7873,2],[7874,1,""],[7875,2],[7876,1,""],[7877,2],[7878,1,""],[7879,2],[7880,1,""],[7881,2],[7882,1,""],[7883,2],[7884,1,""],[7885,2],[7886,1,""],[7887,2],[7888,1,""],[7889,2],[7890,1,""],[7891,2],[7892,1,""],[7893,2],[7894,1,""],[7895,2],[7896,1,""],[7897,2],[7898,1,""],[7899,2],[7900,1,""],[7901,2],[7902,1,""],[7903,2],[7904,1,""],[7905,2],[7906,1,""],[7907,2],[7908,1,""],[7909,2],[7910,1,""],[7911,2],[7912,1,""],[7913,2],[7914,1,""],[7915,2],[7916,1,""],[7917,2],[7918,1,""],[7919,2],[7920,1,""],[7921,2],[7922,1,""],[7923,2],[7924,1,""],[7925,2],[7926,1,""],[7927,2],[7928,1,""],[7929,2],[7930,1,""],[7931,2],[7932,1,""],[7933,2],[7934,1,""],[7935,2],[[7936,7943],2],[7944,1,""],[7945,1,""],[7946,1,""],[7947,1,""],[7948,1,""],[7949,1,""],[7950,1,""],[7951,1,""],[[7952,7957],2],[[7958,7959],3],[7960,1,""],[7961,1,""],[7962,1,""],[7963,1,""],[7964,1,""],[7965,1,""],[[7966,7967],3],[[7968,7975],2],[7976,1,""],[7977,1,""],[7978,1,""],[7979,1,""],[7980,1,""],[7981,1,""],[7982,1,""],[7983,1,""],[[7984,7991],2],[7992,1,""],[7993,1,""],[7994,1,""],[7995,1,""],[7996,1,""],[7997,1,""],[7998,1,""],[7999,1,""],[[8e3,8005],2],[[8006,8007],3],[8008,1,""],[8009,1,""],[8010,1,""],[8011,1,""],[8012,1,""],[8013,1,""],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,""],[8026,3],[8027,1,""],[8028,3],[8029,1,""],[8030,3],[8031,1,""],[[8032,8039],2],[8040,1,""],[8041,1,""],[8042,1,""],[8043,1,""],[8044,1,""],[8045,1,""],[8046,1,""],[8047,1,""],[8048,2],[8049,1,""],[8050,2],[8051,1,""],[8052,2],[8053,1,""],[8054,2],[8055,1,""],[8056,2],[8057,1,""],[8058,2],[8059,1,""],[8060,2],[8061,1,""],[[8062,8063],3],[8064,1,""],[8065,1,""],[8066,1,""],[8067,1,""],[8068,1,""],[8069,1,""],[8070,1,""],[8071,1,""],[8072,1,""],[8073,1,""],[8074,1,""],[8075,1,""],[8076,1,""],[8077,1,""],[8078,1,""],[8079,1,""],[8080,1,""],[8081,1,""],[8082,1,""],[8083,1,""],[8084,1,""],[8085,1,""],[8086,1,""],[8087,1,""],[8088,1,""],[8089,1,""],[8090,1,""],[8091,1,""],[8092,1,""],[8093,1,""],[8094,1,""],[8095,1,""],[8096,1,""],[8097,1,""],[8098,1,""],[8099,1,""],[8100,1,""],[8101,1,""],[8102,1,""],[8103,1,""],[8104,1,""],[8105,1,""],[8106,1,""],[8107,1,""],[8108,1,""],[8109,1,""],[8110,1,""],[8111,1,""],[[8112,8113],2],[8114,1,""],[8115,1,""],[8116,1,""],[8117,3],[8118,2],[8119,1,""],[8120,1,""],[8121,1,""],[8122,1,""],[8123,1,""],[8124,1,""],[8125,5," "],[8126,1,""],[8127,5," "],[8128,5," "],[8129,5," "],[8130,1,""],[8131,1,""],[8132,1,""],[8133,3],[8134,2],[8135,1,""],[8136,1,""],[8137,1,""],[8138,1,""],[8139,1,""],[8140,1,""],[8141,5," "],[8142,5," "],[8143,5," "],[[8144,8146],2],[8147,1,""],[[8148,8149],3],[[8150,8151],2],[8152,1,""],[8153,1,""],[8154,1,""],[8155,1,""],[8156,3],[8157,5," "],[8158,5," "],[8159,5," "],[[8160,8162],2],[8163,1,""],[[8164,8167],2],[8168,1,""],[8169,1,""],[8170,1,""],[8171,1,""],[8172,1,""],[8173,5," "],[8174,5," "],[8175,5,"`"],[[8176,8177],3],[8178,1,""],[8179,1,""],[8180,1,""],[8181,3],[8182,2],[8183,1,""],[8184,1,""],[8185,1,""],[8186,1,""],[8187,1,""],[8188,1,""],[8189,5," "],[8190,5," "],[8191,3],[[8192,8202],5," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,""],[[8210,8214],2],[8215,5," "],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,5," "],[[8240,8242],2],[8243,1,""],[8244,1,""],[8245,2],[8246,1,""],[8247,1,""],[[8248,8251],2],[8252,5,"!!"],[8253,2],[8254,5," "],[[8255,8262],2],[8263,5,"??"],[8264,5,"?!"],[8265,5,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,""],[[8280,8286],2],[8287,5," "],[8288,7],[[8289,8291],3],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],3],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,5,"+"],[8315,1,""],[8316,5,"="],[8317,5,"("],[8318,5,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,5,"+"],[8331,1,""],[8332,5,"="],[8333,5,"("],[8334,5,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,""],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[8384,2],[[8385,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,5,"a/c"],[8449,5,"a/s"],[8450,1,"c"],[8451,1,"c"],[8452,2],[8453,5,"c/o"],[8454,5,"c/u"],[8455,1,""],[8456,2],[8457,1,"f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,""],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,""],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,""],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,3],[8499,1,"m"],[8500,1,"o"],[8501,1,""],[8502,1,""],[8503,1,""],[8504,1,""],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,""],[[8509,8510],1,""],[8511,1,""],[8512,1,""],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"17"],[8529,1,"19"],[8530,1,"110"],[8531,1,"13"],[8532,1,"23"],[8533,1,"15"],[8534,1,"25"],[8535,1,"35"],[8536,1,"45"],[8537,1,"16"],[8538,1,"56"],[8539,1,"18"],[8540,1,"38"],[8541,1,"58"],[8542,1,"78"],[8543,1,"1"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,3],[8580,2],[[8581,8584],2],[8585,1,"03"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,""],[8749,1,""],[8750,2],[8751,1,""],[8752,1,""],[[8753,8799],2],[8800,4],[[8801,8813],2],[[8814,8815],4],[[8816,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9e3],2],[9001,1,""],[9002,1,""],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,5,"(1)"],[9333,5,"(2)"],[9334,5,"(3)"],[9335,5,"(4)"],[9336,5,"(5)"],[9337,5,"(6)"],[9338,5,"(7)"],[9339,5,"(8)"],[9340,5,"(9)"],[9341,5,"(10)"],[9342,5,"(11)"],[9343,5,"(12)"],[9344,5,"(13)"],[9345,5,"(14)"],[9346,5,"(15)"],[9347,5,"(16)"],[9348,5,"(17)"],[9349,5,"(18)"],[9350,5,"(19)"],[9351,5,"(20)"],[[9352,9371],3],[9372,5,"(a)"],[9373,5,"(b)"],[9374,5,"(c)"],[9375,5,"(d)"],[9376,5,"(e)"],[9377,5,"(f)"],[9378,5,"(g)"],[9379,5,"(h)"],[9380,5,"(i)"],[9381,5,"(j)"],[9382,5,"(k)"],[9383,5,"(l)"],[9384,5,"(m)"],[9385,5,"(n)"],[9386,5,"(o)"],[9387,5,"(p)"],[9388,5,"(q)"],[9389,5,"(r)"],[9390,5,"(s)"],[9391,5,"(t)"],[9392,5,"(u)"],[9393,5,"(v)"],[9394,5,"(w)"],[9395,5,"(x)"],[9396,5,"(y)"],[9397,5,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,""],[[10765,10867],2],[10868,5,"::="],[10869,5,"=="],[10870,5,"==="],[[10871,10971],2],[10972,1,""],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[11158,3],[11159,2],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,""],[11265,1,""],[11266,1,""],[11267,1,""],[11268,1,""],[11269,1,""],[11270,1,""],[11271,1,""],[11272,1,""],[11273,1,""],[11274,1,""],[11275,1,""],[11276,1,""],[11277,1,""],[11278,1,""],[11279,1,""],[11280,1,""],[11281,1,""],[11282,1,""],[11283,1,""],[11284,1,""],[11285,1,""],[11286,1,""],[11287,1,""],[11288,1,""],[11289,1,""],[11290,1,""],[11291,1,""],[11292,1,""],[11293,1,""],[11294,1,""],[11295,1,""],[11296,1,""],[11297,1,""],[11298,1,""],[11299,1,""],[11300,1,""],[11301,1,""],[11302,1,""],[11303,1,""],[11304,1,""],[11305,1,""],[11306,1,""],[11307,1,""],[11308,1,""],[11309,1,""],[11310,1,""],[11311,1,""],[[11312,11358],2],[11359,2],[11360,1,""],[11361,2],[11362,1,""],[11363,1,""],[11364,1,""],[[11365,11366],2],[11367,1,""],[11368,2],[11369,1,""],[11370,2],[11371,1,""],[11372,2],[11373,1,""],[11374,1,""],[11375,1,""],[11376,1,""],[11377,2],[11378,1,""],[11379,2],[11380,2],[11381,1,""],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,""],[11391,1,""],[11392,1,""],[11393,2],[11394,1,""],[11395,2],[11396,1,""],[11397,2],[11398,1,""],[11399,2],[11400,1,""],[11401,2],[11402,1,""],[11403,2],[11404,1,""],[11405,2],[11406,1,""],[11407,2],[11408,1,""],[11409,2],[11410,1,""],[11411,2],[11412,1,""],[11413,2],[11414,1,""],[11415,2],[11416,1,""],[11417,2],[11418,1,""],[11419,2],[11420,1,""],[11421,2],[11422,1,""],[11423,2],[11424,1,""],[11425,2],[11426,1,""],[11427,2],[11428,1,""],[11429,2],[11430,1,""],[11431,2],[11432,1,""],[11433,2],[11434,1,""],[11435,2],[11436,1,""],[11437,2],[11438,1,""],[11439,2],[11440,1,""],[11441,2],[11442,1,""],[11443,2],[11444,1,""],[11445,2],[11446,1,""],[11447,2],[11448,1,""],[11449,2],[11450,1,""],[11451,2],[11452,1,""],[11453,2],[11454,1,""],[11455,2],[11456,1,""],[11457,2],[11458,1,""],[11459,2],[11460,1,""],[11461,2],[11462,1,""],[11463,2],[11464,1,""],[11465,2],[11466,1,""],[11467,2],[11468,1,""],[11469,2],[11470,1,""],[11471,2],[11472,1,""],[11473,2],[11474,1,""],[11475,2],[11476,1,""],[11477,2],[11478,1,""],[11479,2],[11480,1,""],[11481,2],[11482,1,""],[11483,2],[11484,1,""],[11485,2],[11486,1,""],[11487,2],[11488,1,""],[11489,2],[11490,1,""],[[11491,11492],2],[[11493,11498],2],[11499,1,""],[11500,2],[11501,1,""],[[11502,11505],2],[11506,1,""],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,""],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11858],2],[[11859,11869],2],[[11870,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,""],[[11936,12018],2],[12019,1,""],[[12020,12031],3],[12032,1,""],[12033,1,""],[12034,1,""],[12035,1,""],[12036,1,""],[12037,1,""],[12038,1,""],[12039,1,""],[12040,1,""],[12041,1,""],[12042,1,""],[12043,1,""],[12044,1,""],[12045,1,""],[12046,1,""],[12047,1,""],[12048,1,""],[12049,1,""],[12050,1,""],[12051,1,""],[12052,1,""],[12053,1,""],[12054,1,""],[12055,1,""],[12056,1,""],[12057,1,""],[12058,1,""],[12059,1,""],[12060,1,""],[12061,1,""],[12062,1,""],[12063,1,""],[12064,1,""],[12065,1,""],[12066,1,""],[12067,1,""],[12068,1,""],[12069,1,""],[12070,1,""],[12071,1,""],[12072,1,""],[12073,1,""],[12074,1,""],[12075,1,""],[12076,1,""],[12077,1,""],[12078,1,""],[12079,1,""],[12080,1,""],[12081,1,""],[12082,1,""],[12083,1,""],[12084,1,""],[12085,1,""],[12086,1,""],[12087,1,""],[12088,1,""],[12089,1,""],[12090,1,""],[12091,1,""],[12092,1,""],[12093,1,""],[12094,1,""],[12095,1,""],[12096,1,""],[12097,1,""],[12098,1,""],[12099,1,""],[12100,1,""],[12101,1,""],[12102,1,""],[12103,1,""],[12104,1,""],[12105,1,""],[12106,1,""],[12107,1,""],[12108,1,""],[12109,1,""],[12110,1,""],[12111,1,""],[12112,1,""],[12113,1,""],[12114,1,""],[12115,1,""],[12116,1,""],[12117,1,""],[12118,1,""],[12119,1,""],[12120,1,""],[12121,1,""],[12122,1,""],[12123,1,""],[12124,1,""],[12125,1,""],[12126,1,""],[12127,1,""],[12128,1,""],[12129,1,""],[12130,1,""],[12131,1,""],[12132,1,""],[12133,1,""],[12134,1,""],[12135,1,""],[12136,1,""],[12137,1,""],[12138,1,""],[12139,1,""],[12140,1,""],[12141,1,""],[12142,1,""],[12143,1,""],[12144,1,""],[12145,1,""],[12146,1,""],[12147,1,""],[12148,1,""],[12149,1,""],[12150,1,""],[12151,1,""],[12152,1,""],[12153,1,""],[12154,1,""],[12155,1,""],[12156,1,""],[12157,1,""],[12158,1,""],[12159,1,""],[12160,1,""],[12161,1,""],[12162,1,""],[12163,1,""],[12164,1,""],[12165,1,""],[12166,1,""],[12167,1,""],[12168,1,""],[12169,1,""],[12170,1,""],[12171,1,""],[12172,1,""],[12173,1,""],[12174,1,""],[12175,1,""],[12176,1,""],[12177,1,""],[12178,1,""],[12179,1,""],[12180,1,""],[12181,1,""],[12182,1,""],[12183,1,""],[12184,1,""],[12185,1,""],[12186,1,""],[12187,1,""],[12188,1,""],[12189,1,""],[12190,1,""],[12191,1,""],[12192,1,""],[12193,1,""],[12194,1,""],[12195,1,""],[12196,1,""],[12197,1,""],[12198,1,""],[12199,1,""],[12200,1,""],[12201,1,""],[12202,1,""],[12203,1,""],[12204,1,""],[12205,1,""],[12206,1,""],[12207,1,""],[12208,1,""],[12209,1,""],[12210,1,""],[12211,1,""],[12212,1,""],[12213,1,""],[12214,1,""],[12215,1,""],[12216,1,""],[12217,1,""],[12218,1,""],[12219,1,""],[12220,1,""],[12221,1,""],[12222,1,""],[12223,1,""],[12224,1,""],[12225,1,""],[12226,1,""],[12227,1,""],[12228,1,""],[12229,1,""],[12230,1,""],[12231,1,""],[12232,1,""],[12233,1,""],[12234,1,""],[12235,1,""],[12236,1,""],[12237,1,""],[12238,1,""],[12239,1,""],[12240,1,""],[12241,1,""],[12242,1,""],[12243,1,""],[12244,1,""],[12245,1,""],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,5," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,""],[12343,2],[12344,1,""],[12345,1,""],[12346,1,""],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,5," "],[12444,5," "],[[12445,12446],2],[12447,1,""],[12448,2],[[12449,12542],2],[12543,1,""],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,""],[12594,1,""],[12595,1,""],[12596,1,""],[12597,1,""],[12598,1,""],[12599,1,""],[12600,1,""],[12601,1,""],[12602,1,""],[12603,1,""],[12604,1,""],[12605,1,""],[12606,1,""],[12607,1,""],[12608,1,""],[12609,1,""],[12610,1,""],[12611,1,""],[12612,1,""],[12613,1,""],[12614,1,""],[12615,1,""],[12616,1,""],[12617,1,""],[12618,1,""],[12619,1,""],[12620,1,""],[12621,1,""],[12622,1,""],[12623,1,""],[12624,1,""],[12625,1,""],[12626,1,""],[12627,1,""],[12628,1,""],[12629,1,""],[12630,1,""],[12631,1,""],[12632,1,""],[12633,1,""],[12634,1,""],[12635,1,""],[12636,1,""],[12637,1,""],[12638,1,""],[12639,1,""],[12640,1,""],[12641,1,""],[12642,1,""],[12643,1,""],[12644,3],[12645,1,""],[12646,1,""],[12647,1,""],[12648,1,""],[12649,1,""],[12650,1,""],[12651,1,""],[12652,1,""],[12653,1,""],[12654,1,""],[12655,1,""],[12656,1,""],[12657,1,""],[12658,1,""],[12659,1,""],[12660,1,""],[12661,1,""],[12662,1,""],[12663,1,""],[12664,1,""],[12665,1,""],[12666,1,""],[12667,1,""],[12668,1,""],[12669,1,""],[12670,1,""],[12671,1,""],[12672,1,""],[12673,1,""],[12674,1,""],[12675,1,""],[12676,1,""],[12677,1,""],[12678,1,""],[12679,1,""],[12680,1,""],[12681,1,""],[12682,1,""],[12683,1,""],[12684,1,""],[12685,1,""],[12686,1,""],[12687,3],[[12688,12689],2],[12690,1,""],[12691,1,""],[12692,1,""],[12693,1,""],[12694,1,""],[12695,1,""],[12696,1,""],[12697,1,""],[12698,1,""],[12699,1,""],[12700,1,""],[12701,1,""],[12702,1,""],[12703,1,""],[[12704,12727],2],[[12728,12730],2],[[12731,12735],2],[[12736,12751],2],[[12752,12771],2],[[12772,12783],3],[[12784,12799],2],[12800,5,"()"],[12801,5,"()"],[12802,5,"()"],[12803,5,"()"],[12804,5,"()"],[12805,5,"()"],[12806,5,"()"],[12807,5,"()"],[12808,5,"()"],[12809,5,"()"],[12810,5,"()"],[12811,5,"()"],[12812,5,"()"],[12813,5,"()"],[12814,5,"()"],[12815,5,"()"],[12816,5,"()"],[12817,5,"()"],[12818,5,"()"],[12819,5,"()"],[12820,5,"()"],[12821,5,"()"],[12822,5,"()"],[12823,5,"()"],[12824,5,"()"],[12825,5,"()"],[12826,5,"()"],[12827,5,"()"],[12828,5,"()"],[12829,5,"()"],[12830,5,"()"],[12831,3],[12832,5,"()"],[12833,5,"()"],[12834,5,"()"],[12835,5,"()"],[12836,5,"()"],[12837,5,"()"],[12838,5,"()"],[12839,5,"()"],[12840,5,"()"],[12841,5,"()"],[12842,5,"()"],[12843,5,"()"],[12844,5,"()"],[12845,5,"()"],[12846,5,"()"],[12847,5,"()"],[12848,5,"()"],[12849,5,"()"],[12850,5,"()"],[12851,5,"()"],[12852,5,"()"],[12853,5,"()"],[12854,5,"()"],[12855,5,"()"],[12856,5,"()"],[12857,5,"()"],[12858,5,"()"],[12859,5,"()"],[12860,5,"()"],[12861,5,"()"],[12862,5,"()"],[12863,5,"()"],[12864,5,"()"],[12865,5,"()"],[12866,5,"()"],[12867,5,"()"],[12868,1,""],[12869,1,""],[12870,1,""],[12871,1,""],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,""],[12897,1,""],[12898,1,""],[12899,1,""],[12900,1,""],[12901,1,""],[12902,1,""],[12903,1,""],[12904,1,""],[12905,1,""],[12906,1,""],[12907,1,""],[12908,1,""],[12909,1,""],[12910,1,""],[12911,1,""],[12912,1,""],[12913,1,""],[12914,1,""],[12915,1,""],[12916,1,""],[12917,1,""],[12918,1,""],[12919,1,""],[12920,1,""],[12921,1,""],[12922,1,""],[12923,1,""],[12924,1,""],[12925,1,""],[12926,1,""],[12927,2],[12928,1,""],[12929,1,""],[12930,1,""],[12931,1,""],[12932,1,""],[12933,1,""],[12934,1,""],[12935,1,""],[12936,1,""],[12937,1,""],[12938,1,""],[12939,1,""],[12940,1,""],[12941,1,""],[12942,1,""],[12943,1,""],[12944,1,""],[12945,1,""],[12946,1,""],[12947,1,""],[12948,1,""],[12949,1,""],[12950,1,""],[12951,1,""],[12952,1,""],[12953,1,""],[12954,1,""],[12955,1,""],[12956,1,""],[12957,1,""],[12958,1,""],[12959,1,""],[12960,1,""],[12961,1,""],[12962,1,""],[12963,1,""],[12964,1,""],[12965,1,""],[12966,1,""],[12967,1,""],[12968,1,""],[12969,1,""],[12970,1,""],[12971,1,""],[12972,1,""],[12973,1,""],[12974,1,""],[12975,1,""],[12976,1,""],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1"],[12993,1,"2"],[12994,1,"3"],[12995,1,"4"],[12996,1,"5"],[12997,1,"6"],[12998,1,"7"],[12999,1,"8"],[13e3,1,"9"],[13001,1,"10"],[13002,1,"11"],[13003,1,"12"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,""],[13009,1,""],[13010,1,""],[13011,1,""],[13012,1,""],[13013,1,""],[13014,1,""],[13015,1,""],[13016,1,""],[13017,1,""],[13018,1,""],[13019,1,""],[13020,1,""],[13021,1,""],[13022,1,""],[13023,1,""],[13024,1,""],[13025,1,""],[13026,1,""],[13027,1,""],[13028,1,""],[13029,1,""],[13030,1,""],[13031,1,""],[13032,1,""],[13033,1,""],[13034,1,""],[13035,1,""],[13036,1,""],[13037,1,""],[13038,1,""],[13039,1,""],[13040,1,""],[13041,1,""],[13042,1,""],[13043,1,""],[13044,1,""],[13045,1,""],[13046,1,""],[13047,1,""],[13048,1,""],[13049,1,""],[13050,1,""],[13051,1,""],[13052,1,""],[13053,1,""],[13054,1,""],[13055,1,""],[13056,1,""],[13057,1,""],[13058,1,""],[13059,1,""],[13060,1,""],[13061,1,""],[13062,1,""],[13063,1,""],[13064,1,""],[13065,1,""],[13066,1,""],[13067,1,""],[13068,1,""],[13069,1,""],[13070,1,""],[13071,1,""],[13072,1,""],[13073,1,""],[13074,1,""],[13075,1,""],[13076,1,""],[13077,1,""],[13078,1,""],[13079,1,""],[13080,1,""],[13081,1,""],[13082,1,""],[13083,1,""],[13084,1,""],[13085,1,""],[13086,1,""],[13087,1,""],[13088,1,""],[13089,1,""],[13090,1,""],[13091,1,""],[13092,1,""],[13093,1,""],[13094,1,""],[13095,1,""],[13096,1,""],[13097,1,""],[13098,1,""],[13099,1,""],[13100,1,""],[13101,1,""],[13102,1,""],[13103,1,""],[13104,1,""],[13105,1,""],[13106,1,""],[13107,1,""],[13108,1,""],[13109,1,""],[13110,1,""],[13111,1,""],[13112,1,""],[13113,1,""],[13114,1,""],[13115,1,""],[13116,1,""],[13117,1,""],[13118,1,""],[13119,1,""],[13120,1,""],[13121,1,""],[13122,1,""],[13123,1,""],[13124,1,""],[13125,1,""],[13126,1,""],[13127,1,""],[13128,1,""],[13129,1,""],[13130,1,""],[13131,1,""],[13132,1,""],[13133,1,""],[13134,1,""],[13135,1,""],[13136,1,""],[13137,1,""],[13138,1,""],[13139,1,""],[13140,1,""],[13141,1,""],[13142,1,""],[13143,1,""],[13144,1,"0"],[13145,1,"1"],[13146,1,"2"],[13147,1,"3"],[13148,1,"4"],[13149,1,"5"],[13150,1,"6"],[13151,1,"7"],[13152,1,"8"],[13153,1,"9"],[13154,1,"10"],[13155,1,"11"],[13156,1,"12"],[13157,1,"13"],[13158,1,"14"],[13159,1,"15"],[13160,1,"16"],[13161,1,"17"],[13162,1,"18"],[13163,1,"19"],[13164,1,"20"],[13165,1,"21"],[13166,1,"22"],[13167,1,"23"],[13168,1,"24"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,""],[13180,1,""],[13181,1,""],[13182,1,""],[13183,1,""],[13184,1,"pa"],[13185,1,"na"],[13186,1,"a"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"f"],[13197,1,"g"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"l"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"m"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"ms"],[13224,1,"ms2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rads"],[13231,1,"rads2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"s"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"v"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"w"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k"],[13249,1,"m"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"ckg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"vm"],[13279,1,"am"],[13280,1,"1"],[13281,1,"2"],[13282,1,"3"],[13283,1,"4"],[13284,1,"5"],[13285,1,"6"],[13286,1,"7"],[13287,1,"8"],[13288,1,"9"],[13289,1,"10"],[13290,1,"11"],[13291,1,"12"],[13292,1,"13"],[13293,1,"14"],[13294,1,"15"],[13295,1,"16"],[13296,1,"17"],[13297,1,"18"],[13298,1,"19"],[13299,1,"20"],[13300,1,"21"],[13301,1,"22"],[13302,1,"23"],[13303,1,"24"],[13304,1,"25"],[13305,1,"26"],[13306,1,"27"],[13307,1,"28"],[13308,1,"29"],[13309,1,"30"],[13310,1,"31"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],2],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40956],2],[[40957,40959],2],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,""],[42561,2],[42562,1,""],[42563,2],[42564,1,""],[42565,2],[42566,1,""],[42567,2],[42568,1,""],[42569,2],[42570,1,""],[42571,2],[42572,1,""],[42573,2],[42574,1,""],[42575,2],[42576,1,""],[42577,2],[42578,1,""],[42579,2],[42580,1,""],[42581,2],[42582,1,""],[42583,2],[42584,1,""],[42585,2],[42586,1,""],[42587,2],[42588,1,""],[42589,2],[42590,1,""],[42591,2],[42592,1,""],[42593,2],[42594,1,""],[42595,2],[42596,1,""],[42597,2],[42598,1,""],[42599,2],[42600,1,""],[42601,2],[42602,1,""],[42603,2],[42604,1,""],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,""],[42625,2],[42626,1,""],[42627,2],[42628,1,""],[42629,2],[42630,1,""],[42631,2],[42632,1,""],[42633,2],[42634,1,""],[42635,2],[42636,1,""],[42637,2],[42638,1,""],[42639,2],[42640,1,""],[42641,2],[42642,1,""],[42643,2],[42644,1,""],[42645,2],[42646,1,""],[42647,2],[42648,1,""],[42649,2],[42650,1,""],[42651,2],[42652,1,""],[42653,1,""],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,""],[42787,2],[42788,1,""],[42789,2],[42790,1,""],[42791,2],[42792,1,""],[42793,2],[42794,1,""],[42795,2],[42796,1,""],[42797,2],[42798,1,""],[[42799,42801],2],[42802,1,""],[42803,2],[42804,1,""],[42805,2],[42806,1,""],[42807,2],[42808,1,""],[42809,2],[42810,1,""],[42811,2],[42812,1,""],[42813,2],[42814,1,""],[42815,2],[42816,1,""],[42817,2],[42818,1,""],[42819,2],[42820,1,""],[42821,2],[42822,1,""],[42823,2],[42824,1,""],[42825,2],[42826,1,""],[42827,2],[42828,1,""],[42829,2],[42830,1,""],[42831,2],[42832,1,""],[42833,2],[42834,1,""],[42835,2],[42836,1,""],[42837,2],[42838,1,""],[42839,2],[42840,1,""],[42841,2],[42842,1,""],[42843,2],[42844,1,""],[42845,2],[42846,1,""],[42847,2],[42848,1,""],[42849,2],[42850,1,""],[42851,2],[42852,1,""],[42853,2],[42854,1,""],[42855,2],[42856,1,""],[42857,2],[42858,1,""],[42859,2],[42860,1,""],[42861,2],[42862,1,""],[42863,2],[42864,1,""],[[42865,42872],2],[42873,1,""],[42874,2],[42875,1,""],[42876,2],[42877,1,""],[42878,1,""],[42879,2],[42880,1,""],[42881,2],[42882,1,""],[42883,2],[42884,1,""],[42885,2],[42886,1,""],[[42887,42888],2],[[42889,42890],2],[42891,1,""],[42892,2],[42893,1,""],[42894,2],[42895,2],[42896,1,""],[42897,2],[42898,1,""],[42899,2],[[42900,42901],2],[42902,1,""],[42903,2],[42904,1,""],[42905,2],[42906,1,""],[42907,2],[42908,1,""],[42909,2],[42910,1,""],[42911,2],[42912,1,""],[42913,2],[42914,1,""],[42915,2],[42916,1,""],[42917,2],[42918,1,""],[42919,2],[42920,1,""],[42921,2],[42922,1,""],[42923,1,""],[42924,1,""],[42925,1,""],[42926,1,""],[42927,2],[42928,1,""],[42929,1,""],[42930,1,""],[42931,1,""],[42932,1,""],[42933,2],[42934,1,""],[42935,2],[42936,1,""],[42937,2],[42938,1,""],[42939,2],[42940,1,""],[42941,2],[42942,1,""],[42943,2],[42944,1,""],[42945,2],[42946,1,""],[42947,2],[42948,1,""],[42949,1,""],[42950,1,""],[42951,1,""],[42952,2],[42953,1,""],[42954,2],[[42955,42959],3],[42960,1,""],[42961,2],[42962,3],[42963,2],[42964,3],[42965,2],[42966,1,""],[42967,2],[42968,1,""],[42969,2],[[42970,42993],3],[42994,1,"c"],[42995,1,"f"],[42996,1,"q"],[42997,1,""],[42998,2],[42999,2],[43e3,1,""],[43001,1,""],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[43052,2],[[43053,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,""],[43869,1,""],[43870,1,""],[43871,1,""],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[43880,2],[43881,1,""],[[43882,43883],2],[[43884,43887],3],[43888,1,""],[43889,1,""],[43890,1,""],[43891,1,""],[43892,1,""],[43893,1,""],[43894,1,""],[43895,1,""],[43896,1,""],[43897,1,""],[43898,1,""],[43899,1,""],[43900,1,""],[43901,1,""],[43902,1,""],[43903,1,""],[43904,1,""],[43905,1,""],[43906,1,""],[43907,1,""],[43908,1,""],[43909,1,""],[43910,1,""],[43911,1,""],[43912,1,""],[43913,1,""],[43914,1,""],[43915,1,""],[43916,1,""],[43917,1,""],[43918,1,""],[43919,1,""],[43920,1,""],[43921,1,""],[43922,1,""],[43923,1,""],[43924,1,""],[43925,1,""],[43926,1,""],[43927,1,""],[43928,1,""],[43929,1,""],[43930,1,""],[43931,1,""],[43932,1,""],[43933,1,""],[43934,1,""],[43935,1,""],[43936,1,""],[43937,1,""],[43938,1,""],[43939,1,""],[43940,1,""],[43941,1,""],[43942,1,""],[43943,1,""],[43944,1,""],[43945,1,""],[43946,1,""],[43947,1,""],[43948,1,""],[43949,1,""],[43950,1,""],[43951,1,""],[43952,1,""],[43953,1,""],[43954,1,""],[43955,1,""],[43956,1,""],[43957,1,""],[43958,1,""],[43959,1,""],[43960,1,""],[43961,1,""],[43962,1,""],[43963,1,""],[43964,1,""],[43965,1,""],[43966,1,""],[43967,1,""],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,""],[63745,1,""],[63746,1,""],[63747,1,""],[63748,1,""],[63749,1,""],[63750,1,""],[[63751,63752],1,""],[63753,1,""],[63754,1,""],[63755,1,""],[63756,1,""],[63757,1,""],[63758,1,""],[63759,1,""],[63760,1,""],[63761,1,""],[63762,1,""],[63763,1,""],[63764,1,""],[63765,1,""],[63766,1,""],[63767,1,""],[63768,1,""],[63769,1,""],[63770,1,""],[63771,1,""],[63772,1,""],[63773,1,""],[63774,1,""],[63775,1,""],[63776,1,""],[63777,1,""],[63778,1,""],[63779,1,""],[63780,1,""],[63781,1,""],[63782,1,""],[63783,1,""],[63784,1,""],[63785,1,""],[63786,1,""],[63787,1,""],[63788,1,""],[63789,1,""],[63790,1,""],[63791,1,""],[63792,1,""],[63793,1,""],[63794,1,""],[63795,1,""],[63796,1,""],[63797,1,""],[63798,1,""],[63799,1,""],[63800,1,""],[63801,1,""],[63802,1,""],[63803,1,""],[63804,1,""],[63805,1,""],[63806,1,""],[63807,1,""],[63808,1,""],[63809,1,""],[63810,1,""],[63811,1,""],[63812,1,""],[63813,1,""],[63814,1,""],[63815,1,""],[63816,1,""],[63817,1,""],[63818,1,""],[63819,1,""],[63820,1,""],[63821,1,""],[63822,1,""],[63823,1,""],[63824,1,""],[63825,1,""],[63826,1,""],[63827,1,""],[63828,1,""],[63829,1,""],[63830,1,""],[63831,1,""],[63832,1,""],[63833,1,""],[63834,1,""],[63835,1,""],[63836,1,""],[63837,1,""],[63838,1,""],[63839,1,""],[63840,1,""],[63841,1,""],[63842,1,""],[63843,1,""],[63844,1,""],[63845,1,""],[63846,1,""],[63847,1,""],[63848,1,""],[63849,1,""],[63850,1,""],[63851,1,""],[63852,1,""],[63853,1,""],[63854,1,""],[63855,1,""],[63856,1,""],[63857,1,""],[63858,1,""],[63859,1,""],[63860,1,""],[63861,1,""],[63862,1,""],[63863,1,""],[63864,1,""],[63865,1,""],[63866,1,""],[63867,1,""],[63868,1,""],[63869,1,""],[63870,1,""],[63871,1,""],[63872,1,""],[63873,1,""],[63874,1,""],[63875,1,""],[63876,1,""],[63877,1,""],[63878,1,""],[63879,1,""],[63880,1,""],[63881,1,""],[63882,1,""],[63883,1,""],[63884,1,""],[63885,1,""],[63886,1,""],[63887,1,""],[63888,1,""],[63889,1,""],[63890,1,""],[63891,1,""],[63892,1,""],[63893,1,""],[63894,1,""],[63895,1,""],[63896,1,""],[63897,1,""],[63898,1,""],[63899,1,""],[63900,1,""],[63901,1,""],[63902,1,""],[63903,1,""],[63904,1,""],[63905,1,""],[63906,1,""],[63907,1,""],[63908,1,""],[63909,1,""],[63910,1,""],[63911,1,""],[63912,1,""],[63913,1,""],[63914,1,""],[63915,1,""],[63916,1,""],[63917,1,""],[63918,1,""],[63919,1,""],[63920,1,""],[63921,1,""],[63922,1,""],[63923,1,""],[63924,1,""],[63925,1,""],[63926,1,""],[63927,1,""],[63928,1,""],[63929,1,""],[63930,1,""],[63931,1,""],[63932,1,""],[63933,1,""],[63934,1,""],[63935,1,""],[63936,1,""],[63937,1,""],[63938,1,""],[63939,1,""],[63940,1,""],[63941,1,""],[63942,1,""],[63943,1,""],[63944,1,""],[63945,1,""],[63946,1,""],[63947,1,""],[63948,1,""],[63949,1,""],[63950,1,""],[63951,1,""],[63952,1,""],[63953,1,""],[63954,1,""],[63955,1,""],[63956,1,""],[63957,1,""],[63958,1,""],[63959,1,""],[63960,1,""],[63961,1,""],[63962,1,""],[63963,1,""],[63964,1,""],[63965,1,""],[63966,1,""],[63967,1,""],[63968,1,""],[63969,1,""],[63970,1,""],[63971,1,""],[63972,1,""],[63973,1,""],[63974,1,""],[63975,1,""],[63976,1,""],[63977,1,""],[63978,1,""],[63979,1,""],[63980,1,""],[63981,1,""],[63982,1,""],[63983,1,""],[63984,1,""],[63985,1,""],[63986,1,""],[63987,1,""],[63988,1,""],[63989,1,""],[63990,1,""],[63991,1,""],[63992,1,""],[63993,1,""],[63994,1,""],[63995,1,""],[63996,1,""],[63997,1,""],[63998,1,""],[63999,1,""],[64e3,1,""],[64001,1,""],[64002,1,""],[64003,1,""],[64004,1,""],[64005,1,""],[64006,1,""],[64007,1,""],[64008,1,""],[64009,1,""],[64010,1,""],[64011,1,""],[64012,1,""],[64013,1,""],[[64014,64015],2],[64016,1,""],[64017,2],[64018,1,""],[[64019,64020],2],[64021,1,""],[64022,1,""],[64023,1,""],[64024,1,""],[64025,1,""],[64026,1,""],[64027,1,""],[64028,1,""],[64029,1,""],[64030,1,""],[64031,2],[64032,1,""],[64033,2],[64034,1,""],[[64035,64036],2],[64037,1,""],[64038,1,""],[[64039,64041],2],[64042,1,""],[64043,1,""],[64044,1,""],[64045,1,""],[64046,1,""],[64047,1,""],[64048,1,""],[64049,1,""],[64050,1,""],[64051,1,""],[64052,1,""],[64053,1,""],[64054,1,""],[64055,1,""],[64056,1,""],[64057,1,""],[64058,1,""],[64059,1,""],[64060,1,""],[64061,1,""],[64062,1,""],[64063,1,""],[64064,1,""],[64065,1,""],[64066,1,""],[64067,1,""],[64068,1,""],[64069,1,""],[64070,1,""],[64071,1,""],[64072,1,""],[64073,1,""],[64074,1,""],[64075,1,""],[64076,1,""],[64077,1,""],[64078,1,""],[64079,1,""],[64080,1,""],[64081,1,""],[64082,1,""],[64083,1,""],[64084,1,""],[64085,1,""],[64086,1,""],[64087,1,""],[64088,1,""],[64089,1,""],[64090,1,""],[64091,1,""],[64092,1,""],[[64093,64094],1,""],[64095,1,""],[64096,1,""],[64097,1,""],[64098,1,""],[64099,1,""],[64100,1,""],[64101,1,""],[64102,1,""],[64103,1,""],[64104,1,""],[64105,1,""],[64106,1,""],[64107,1,""],[64108,1,""],[64109,1,""],[[64110,64111],3],[64112,1,""],[64113,1,""],[64114,1,""],[64115,1,""],[64116,1,""],[64117,1,""],[64118,1,""],[64119,1,""],[64120,1,""],[64121,1,""],[64122,1,""],[64123,1,""],[64124,1,""],[64125,1,""],[64126,1,""],[64127,1,""],[64128,1,""],[64129,1,""],[64130,1,""],[64131,1,""],[64132,1,""],[64133,1,""],[64134,1,""],[64135,1,""],[64136,1,""],[64137,1,""],[64138,1,""],[64139,1,""],[64140,1,""],[64141,1,""],[64142,1,""],[64143,1,""],[64144,1,""],[64145,1,""],[64146,1,""],[64147,1,""],[64148,1,""],[64149,1,""],[64150,1,""],[64151,1,""],[64152,1,""],[64153,1,""],[64154,1,""],[64155,1,""],[64156,1,""],[64157,1,""],[64158,1,""],[64159,1,""],[64160,1,""],[64161,1,""],[64162,1,""],[64163,1,""],[64164,1,""],[64165,1,""],[64166,1,""],[64167,1,""],[64168,1,""],[64169,1,""],[64170,1,""],[64171,1,""],[64172,1,""],[64173,1,""],[64174,1,""],[64175,1,""],[64176,1,""],[64177,1,""],[64178,1,""],[64179,1,""],[64180,1,""],[64181,1,""],[64182,1,""],[64183,1,""],[64184,1,""],[64185,1,""],[64186,1,""],[64187,1,""],[64188,1,""],[64189,1,""],[64190,1,""],[64191,1,""],[64192,1,""],[64193,1,""],[64194,1,""],[64195,1,""],[64196,1,""],[64197,1,""],[64198,1,""],[64199,1,""],[64200,1,""],[64201,1,""],[64202,1,""],[64203,1,""],[64204,1,""],[64205,1,""],[64206,1,""],[64207,1,""],[64208,1,""],[64209,1,""],[64210,1,""],[64211,1,""],[64212,1,""],[64213,1,""],[64214,1,""],[64215,1,""],[64216,1,""],[64217,1,""],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,""],[64276,1,""],[64277,1,""],[64278,1,""],[64279,1,""],[[64280,64284],3],[64285,1,""],[64286,2],[64287,1,""],[64288,1,""],[64289,1,""],[64290,1,""],[64291,1,""],[64292,1,""],[64293,1,""],[64294,1,""],[64295,1,""],[64296,1,""],[64297,5,"+"],[64298,1,""],[64299,1,""],[64300,1,""],[64301,1,""],[64302,1,""],[64303,1,""],[64304,1,""],[64305,1,""],[64306,1,""],[64307,1,""],[64308,1,""],[64309,1,""],[64310,1,""],[64311,3],[64312,1,""],[64313,1,""],[64314,1,""],[64315,1,""],[64316,1,""],[64317,3],[64318,1,""],[64319,3],[64320,1,""],[64321,1,""],[64322,3],[64323,1,""],[64324,1,""],[64325,3],[64326,1,""],[64327,1,""],[64328,1,""],[64329,1,""],[64330,1,""],[64331,1,""],[64332,1,""],[64333,1,""],[64334,1,""],[64335,1,""],[[64336,64337],1,""],[[64338,64341],1,""],[[64342,64345],1,""],[[64346,64349],1,""],[[64350,64353],1,""],[[64354,64357],1,""],[[64358,64361],1,""],[[64362,64365],1,""],[[64366,64369],1,""],[[64370,64373],1,""],[[64374,64377],1,""],[[64378,64381],1,""],[[64382,64385],1,""],[[64386,64387],1,""],[[64388,64389],1,""],[[64390,64391],1,""],[[64392,64393],1,""],[[64394,64395],1,""],[[64396,64397],1,""],[[64398,64401],1,""],[[64402,64405],1,""],[[64406,64409],1,""],[[64410,64413],1,""],[[64414,64415],1,""],[[64416,64419],1,""],[[64420,64421],1,""],[[64422,64425],1,""],[[64426,64429],1,""],[[64430,64431],1,""],[[64432,64433],1,""],[[64434,64449],2],[64450,2],[[64451,64466],3],[[64467,64470],1,""],[[64471,64472],1,""],[[64473,64474],1,""],[[64475,64476],1,""],[64477,1,""],[[64478,64479],1,""],[[64480,64481],1,""],[[64482,64483],1,""],[[64484,64487],1,""],[[64488,64489],1,""],[[64490,64491],1,""],[[64492,64493],1,""],[[64494,64495],1,""],[[64496,64497],1,""],[[64498,64499],1,""],[[64500,64501],1,""],[[64502,64504],1,""],[[64505,64507],1,""],[[64508,64511],1,""],[64512,1,""],[64513,1,""],[64514,1,""],[64515,1,""],[64516,1,""],[64517,1,""],[64518,1,""],[64519,1,""],[64520,1,""],[64521,1,""],[64522,1,""],[64523,1,""],[64524,1,""],[64525,1,""],[64526,1,""],[64527,1,""],[64528,1,""],[64529,1,""],[64530,1,""],[64531,1,""],[64532,1,""],[64533,1,""],[64534,1,""],[64535,1,""],[64536,1,""],[64537,1,""],[64538,1,""],[64539,1,""],[64540,1,""],[64541,1,""],[64542,1,""],[64543,1,""],[64544,1,""],[64545,1,""],[64546,1,""],[64547,1,""],[64548,1,""],[64549,1,""],[64550,1,""],[64551,1,""],[64552,1,""],[64553,1,""],[64554,1,""],[64555,1,""],[64556,1,""],[64557,1,""],[64558,1,""],[64559,1,""],[64560,1,""],[64561,1,""],[64562,1,""],[64563,1,""],[64564,1,""],[64565,1,""],[64566,1,""],[64567,1,""],[64568,1,""],[64569,1,""],[64570,1,""],[64571,1,""],[64572,1,""],[64573,1,""],[64574,1,""],[64575,1,""],[64576,1,""],[64577,1,""],[64578,1,""],[64579,1,""],[64580,1,""],[64581,1,""],[64582,1,""],[64583,1,""],[64584,1,""],[64585,1,""],[64586,1,""],[64587,1,""],[64588,1,""],[64589,1,""],[64590,1,""],[64591,1,""],[64592,1,""],[64593,1,""],[64594,1,""],[64595,1,""],[64596,1,""],[64597,1,""],[64598,1,""],[64599,1,""],[64600,1,""],[64601,1,""],[64602,1,""],[64603,1,""],[64604,1,""],[64605,1,""],[64606,5," "],[64607,5," "],[64608,5," "],[64609,5," "],[64610,5," "],[64611,5," "],[64612,1,""],[64613,1,""],[64614,1,""],[64615,1,""],[64616,1,""],[64617,1,""],[64618,1,""],[64619,1,""],[64620,1,""],[64621,1,""],[64622,1,""],[64623,1,""],[64624,1,""],[64625,1,""],[64626,1,""],[64627,1,""],[64628,1,""],[64629,1,""],[64630,1,""],[64631,1,""],[64632,1,""],[64633,1,""],[64634,1,""],[64635,1,""],[64636,1,""],[64637,1,""],[64638,1,""],[64639,1,""],[64640,1,""],[64641,1,""],[64642,1,""],[64643,1,""],[64644,1,""],[64645,1,""],[64646,1,""],[64647,1,""],[64648,1,""],[64649,1,""],[64650,1,""],[64651,1,""],[64652,1,""],[64653,1,""],[64654,1,""],[64655,1,""],[64656,1,""],[64657,1,""],[64658,1,""],[64659,1,""],[64660,1,""],[64661,1,""],[64662,1,""],[64663,1,""],[64664,1,""],[64665,1,""],[64666,1,""],[64667,1,""],[64668,1,""],[64669,1,""],[64670,1,""],[64671,1,""],[64672,1,""],[64673,1,""],[64674,1,""],[64675,1,""],[64676,1,""],[64677,1,""],[64678,1,""],[64679,1,""],[64680,1,""],[64681,1,""],[64682,1,""],[64683,1,""],[64684,1,""],[64685,1,""],[64686,1,""],[64687,1,""],[64688,1,""],[64689,1,""],[64690,1,""],[64691,1,""],[64692,1,""],[64693,1,""],[64694,1,""],[64695,1,""],[64696,1,""],[64697,1,""],[64698,1,""],[64699,1,""],[64700,1,""],[64701,1,""],[64702,1,""],[64703,1,""],[64704,1,""],[64705,1,""],[64706,1,""],[64707,1,""],[64708,1,""],[64709,1,""],[64710,1,""],[64711,1,""],[64712,1,""],[64713,1,""],[64714,1,""],[64715,1,""],[64716,1,""],[64717,1,""],[64718,1,""],[64719,1,""],[64720,1,""],[64721,1,""],[64722,1,""],[64723,1,""],[64724,1,""],[64725,1,""],[64726,1,""],[64727,1,""],[64728,1,""],[64729,1,""],[64730,1,""],[64731,1,""],[64732,1,""],[64733,1,""],[64734,1,""],[64735,1,""],[64736,1,""],[64737,1,""],[64738,1,""],[64739,1,""],[64740,1,""],[64741,1,""],[64742,1,""],[64743,1,""],[64744,1,""],[64745,1,""],[64746,1,""],[64747,1,""],[64748,1,""],[64749,1,""],[64750,1,""],[64751,1,""],[64752,1,""],[64753,1,""],[64754,1,""],[64755,1,""],[64756,1,""],[64757,1,""],[64758,1,""],[64759,1,""],[64760,1,""],[64761,1,""],[64762,1,""],[64763,1,""],[64764,1,""],[64765,1,""],[64766,1,""],[64767,1,""],[64768,1,""],[64769,1,""],[64770,1,""],[64771,1,""],[64772,1,""],[64773,1,""],[64774,1,""],[64775,1,""],[64776,1,""],[64777,1,""],[64778,1,""],[64779,1,""],[64780,1,""],[64781,1,""],[64782,1,""],[64783,1,""],[64784,1,""],[64785,1,""],[64786,1,""],[64787,1,""],[64788,1,""],[64789,1,""],[64790,1,""],[64791,1,""],[64792,1,""],[64793,1,""],[64794,1,""],[64795,1,""],[64796,1,""],[64797,1,""],[64798,1,""],[64799,1,""],[64800,1,""],[64801,1,""],[64802,1,""],[64803,1,""],[64804,1,""],[64805,1,""],[64806,1,""],[64807,1,""],[64808,1,""],[64809,1,""],[64810,1,""],[64811,1,""],[64812,1,""],[64813,1,""],[64814,1,""],[64815,1,""],[64816,1,""],[64817,1,""],[64818,1,""],[64819,1,""],[64820,1,""],[64821,1,""],[64822,1,""],[64823,1,""],[64824,1,""],[64825,1,""],[64826,1,""],[64827,1,""],[[64828,64829],1,""],[[64830,64831],2],[[64832,64847],2],[64848,1,""],[[64849,64850],1,""],[64851,1,""],[64852,1,""],[64853,1,""],[64854,1,""],[64855,1,""],[[64856,64857],1,""],[64858,1,""],[64859,1,""],[64860,1,""],[64861,1,""],[64862,1,""],[[64863,64864],1,""],[64865,1,""],[[64866,64867],1,""],[[64868,64869],1,""],[64870,1,""],[[64871,64872],1,""],[64873,1,""],[[64874,64875],1,""],[[64876,64877],1,""],[64878,1,""],[[64879,64880],1,""],[[64881,64882],1,""],[64883,1,""],[64884,1,""],[64885,1,""],[[64886,64887],1,""],[64888,1,""],[64889,1,""],[64890,1,""],[64891,1,""],[[64892,64893],1,""],[64894,1,""],[64895,1,""],[64896,1,""],[64897,1,""],[64898,1,""],[[64899,64900],1,""],[[64901,64902],1,""],[[64903,64904],1,""],[64905,1,""],[64906,1,""],[64907,1,""],[64908,1,""],[64909,1,""],[64910,1,""],[64911,1,""],[[64912,64913],3],[64914,1,""],[64915,1,""],[64916,1,""],[64917,1,""],[64918,1,""],[[64919,64920],1,""],[64921,1,""],[64922,1,""],[64923,1,""],[[64924,64925],1,""],[64926,1,""],[64927,1,""],[64928,1,""],[64929,1,""],[64930,1,""],[64931,1,""],[64932,1,""],[64933,1,""],[64934,1,""],[64935,1,""],[64936,1,""],[64937,1,""],[64938,1,""],[64939,1,""],[64940,1,""],[64941,1,""],[64942,1,""],[64943,1,""],[64944,1,""],[64945,1,""],[64946,1,""],[64947,1,""],[64948,1,""],[64949,1,""],[64950,1,""],[64951,1,""],[64952,1,""],[64953,1,""],[64954,1,""],[64955,1,""],[64956,1,""],[64957,1,""],[64958,1,""],[64959,1,""],[64960,1,""],[64961,1,""],[64962,1,""],[64963,1,""],[64964,1,""],[64965,1,""],[64966,1,""],[64967,1,""],[[64968,64974],3],[64975,2],[[64976,65007],3],[65008,1,""],[65009,1,""],[65010,1,""],[65011,1,""],[65012,1,""],[65013,1,""],[65014,1,""],[65015,1,""],[65016,1,""],[65017,1,""],[65018,5,"   "],[65019,5," "],[65020,1,""],[65021,2],[[65022,65023],2],[[65024,65039],7],[65040,5,","],[65041,1,""],[65042,3],[65043,5,":"],[65044,5,";"],[65045,5,"!"],[65046,5,"?"],[65047,1,""],[65048,1,""],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,""],[65074,1,""],[[65075,65076],5,"_"],[65077,5,"("],[65078,5,")"],[65079,5,"{"],[65080,5,"}"],[65081,1,""],[65082,1,""],[65083,1,""],[65084,1,""],[65085,1,""],[65086,1,""],[65087,1,""],[65088,1,""],[65089,1,""],[65090,1,""],[65091,1,""],[65092,1,""],[[65093,65094],2],[65095,5,"["],[65096,5,"]"],[[65097,65100],5," "],[[65101,65103],5,"_"],[65104,5,","],[65105,1,""],[65106,3],[65107,3],[65108,5,";"],[65109,5,":"],[65110,5,"?"],[65111,5,"!"],[65112,1,""],[65113,5,"("],[65114,5,")"],[65115,5,"{"],[65116,5,"}"],[65117,1,""],[65118,1,""],[65119,5,"#"],[65120,5,"&"],[65121,5,"*"],[65122,5,"+"],[65123,1,"-"],[65124,5,"<"],[65125,5,">"],[65126,5,"="],[65127,3],[65128,5,"\\"],[65129,5,"$"],[65130,5,"%"],[65131,5,"@"],[[65132,65135],3],[65136,5," "],[65137,1,""],[65138,5," "],[65139,2],[65140,5," "],[65141,3],[65142,5," "],[65143,1,""],[65144,5," "],[65145,1,""],[65146,5," "],[65147,1,""],[65148,5," "],[65149,1,""],[65150,5," "],[65151,1,""],[65152,1,""],[[65153,65154],1,""],[[65155,65156],1,""],[[65157,65158],1,""],[[65159,65160],1,""],[[65161,65164],1,""],[[65165,65166],1,""],[[65167,65170],1,""],[[65171,65172],1,""],[[65173,65176],1,""],[[65177,65180],1,""],[[65181,65184],1,""],[[65185,65188],1,""],[[65189,65192],1,""],[[65193,65194],1,""],[[65195,65196],1,""],[[65197,65198],1,""],[[65199,65200],1,""],[[65201,65204],1,""],[[65205,65208],1,""],[[65209,65212],1,""],[[65213,65216],1,""],[[65217,65220],1,""],[[65221,65224],1,""],[[65225,65228],1,""],[[65229,65232],1,""],[[65233,65236],1,""],[[65237,65240],1,""],[[65241,65244],1,""],[[65245,65248],1,""],[[65249,65252],1,""],[[65253,65256],1,""],[[65257,65260],1,""],[[65261,65262],1,""],[[65263,65264],1,""],[[65265,65268],1,""],[[65269,65270],1,""],[[65271,65272],1,""],[[65273,65274],1,""],[[65275,65276],1,""],[[65277,65278],3],[65279,7],[65280,3],[65281,5,"!"],[65282,5,'"'],[65283,5,"#"],[65284,5,"$"],[65285,5,"%"],[65286,5,"&"],[65287,5,"'"],[65288,5,"("],[65289,5,")"],[65290,5,"*"],[65291,5,"+"],[65292,5,","],[65293,1,"-"],[65294,1,"."],[65295,5,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,5,":"],[65307,5,";"],[65308,5,"<"],[65309,5,"="],[65310,5,">"],[65311,5,"?"],[65312,5,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,5,"["],[65340,5,"\\"],[65341,5,"]"],[65342,5,"^"],[65343,5,"_"],[65344,5,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,5,"{"],[65372,5,"|"],[65373,5,"}"],[65374,5,"~"],[65375,1,""],[65376,1,""],[65377,1,"."],[65378,1,""],[65379,1,""],[65380,1,""],[65381,1,""],[65382,1,""],[65383,1,""],[65384,1,""],[65385,1,""],[65386,1,""],[65387,1,""],[65388,1,""],[65389,1,""],[65390,1,""],[65391,1,""],[65392,1,""],[65393,1,""],[65394,1,""],[65395,1,""],[65396,1,""],[65397,1,""],[65398,1,""],[65399,1,""],[65400,1,""],[65401,1,""],[65402,1,""],[65403,1,""],[65404,1,""],[65405,1,""],[65406,1,""],[65407,1,""],[65408,1,""],[65409,1,""],[65410,1,""],[65411,1,""],[65412,1,""],[65413,1,""],[65414,1,""],[65415,1,""],[65416,1,""],[65417,1,""],[65418,1,""],[65419,1,""],[65420,1,""],[65421,1,""],[65422,1,""],[65423,1,""],[65424,1,""],[65425,1,""],[65426,1,""],[65427,1,""],[65428,1,""],[65429,1,""],[65430,1,""],[65431,1,""],[65432,1,""],[65433,1,""],[65434,1,""],[65435,1,""],[65436,1,""],[65437,1,""],[65438,1,""],[65439,1,""],[65440,3],[65441,1,""],[65442,1,""],[65443,1,""],[65444,1,""],[65445,1,""],[65446,1,""],[65447,1,""],[65448,1,""],[65449,1,""],[65450,1,""],[65451,1,""],[65452,1,""],[65453,1,""],[65454,1,""],[65455,1,""],[65456,1,""],[65457,1,""],[65458,1,""],[65459,1,""],[65460,1,""],[65461,1,""],[65462,1,""],[65463,1,""],[65464,1,""],[65465,1,""],[65466,1,""],[65467,1,""],[65468,1,""],[65469,1,""],[65470,1,""],[[65471,65473],3],[65474,1,""],[65475,1,""],[65476,1,""],[65477,1,""],[65478,1,""],[65479,1,""],[[65480,65481],3],[65482,1,""],[65483,1,""],[65484,1,""],[65485,1,""],[65486,1,""],[65487,1,""],[[65488,65489],3],[65490,1,""],[65491,1,""],[65492,1,""],[65493,1,""],[65494,1,""],[65495,1,""],[[65496,65497],3],[65498,1,""],[65499,1,""],[65500,1,""],[[65501,65503],3],[65504,1,""],[65505,1,""],[65506,1,""],[65507,5," "],[65508,1,""],[65509,1,""],[65510,1,""],[65511,3],[65512,1,""],[65513,1,""],[65514,1,""],[65515,1,""],[65516,1,""],[65517,1,""],[65518,1,""],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[65948,2],[[65949,65951],3],[65952,2],[[65953,65999],3],[[66e3,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,""],[66561,1,""],[66562,1,""],[66563,1,""],[66564,1,""],[66565,1,""],[66566,1,""],[66567,1,""],[66568,1,""],[66569,1,""],[66570,1,""],[66571,1,""],[66572,1,""],[66573,1,""],[66574,1,""],[66575,1,""],[66576,1,""],[66577,1,""],[66578,1,""],[66579,1,""],[66580,1,""],[66581,1,""],[66582,1,""],[66583,1,""],[66584,1,""],[66585,1,""],[66586,1,""],[66587,1,""],[66588,1,""],[66589,1,""],[66590,1,""],[66591,1,""],[66592,1,""],[66593,1,""],[66594,1,""],[66595,1,""],[66596,1,""],[66597,1,""],[66598,1,""],[66599,1,""],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,""],[66737,1,""],[66738,1,""],[66739,1,""],[66740,1,""],[66741,1,""],[66742,1,""],[66743,1,""],[66744,1,""],[66745,1,""],[66746,1,""],[66747,1,""],[66748,1,""],[66749,1,""],[66750,1,""],[66751,1,""],[66752,1,""],[66753,1,""],[66754,1,""],[66755,1,""],[66756,1,""],[66757,1,""],[66758,1,""],[66759,1,""],[66760,1,""],[66761,1,""],[66762,1,""],[66763,1,""],[66764,1,""],[66765,1,""],[66766,1,""],[66767,1,""],[66768,1,""],[66769,1,""],[66770,1,""],[66771,1,""],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[66928,1,""],[66929,1,""],[66930,1,""],[66931,1,""],[66932,1,""],[66933,1,""],[66934,1,""],[66935,1,""],[66936,1,""],[66937,1,""],[66938,1,""],[66939,3],[66940,1,""],[66941,1,""],[66942,1,""],[66943,1,""],[66944,1,""],[66945,1,""],[66946,1,""],[66947,1,""],[66948,1,""],[66949,1,""],[66950,1,""],[66951,1,""],[66952,1,""],[66953,1,""],[66954,1,""],[66955,3],[66956,1,""],[66957,1,""],[66958,1,""],[66959,1,""],[66960,1,""],[66961,1,""],[66962,1,""],[66963,3],[66964,1,""],[66965,1,""],[66966,3],[[66967,66977],2],[66978,3],[[66979,66993],2],[66994,3],[[66995,67001],2],[67002,3],[[67003,67004],2],[[67005,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67455],3],[67456,2],[67457,1,""],[67458,1,""],[67459,1,""],[67460,1,""],[67461,1,""],[67462,3],[67463,1,""],[67464,1,""],[67465,1,""],[67466,1,""],[67467,1,""],[67468,1,""],[67469,1,""],[67470,1,""],[67471,1,""],[67472,1,""],[67473,1,""],[67474,1,""],[67475,1,""],[67476,1,""],[67477,1,""],[67478,1,""],[67479,1,""],[67480,1,""],[67481,1,""],[67482,1,""],[67483,1,""],[67484,1,""],[67485,1,""],[67486,1,""],[67487,1,""],[67488,1,""],[67489,1,""],[67490,1,""],[67491,1,""],[67492,1,""],[67493,1,"q"],[67494,1,""],[67495,1,""],[67496,1,""],[67497,1,""],[67498,1,""],[67499,1,""],[67500,1,""],[67501,1,""],[67502,1,""],[67503,1,""],[67504,1,""],[67505,3],[67506,1,""],[67507,1,""],[67508,1,""],[67509,1,""],[67510,1,""],[67511,1,""],[67512,1,""],[67513,1,""],[67514,1,""],[[67515,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,""],[68737,1,""],[68738,1,""],[68739,1,""],[68740,1,""],[68741,1,""],[68742,1,""],[68743,1,""],[68744,1,""],[68745,1,""],[68746,1,""],[68747,1,""],[68748,1,""],[68749,1,""],[68750,1,""],[68751,1,""],[68752,1,""],[68753,1,""],[68754,1,""],[68755,1,""],[68756,1,""],[68757,1,""],[68758,1,""],[68759,1,""],[68760,1,""],[68761,1,""],[68762,1,""],[68763,1,""],[68764,1,""],[68765,1,""],[68766,1,""],[68767,1,""],[68768,1,""],[68769,1,""],[68770,1,""],[68771,1,""],[68772,1,""],[68773,1,""],[68774,1,""],[68775,1,""],[68776,1,""],[68777,1,""],[68778,1,""],[68779,1,""],[68780,1,""],[68781,1,""],[68782,1,""],[68783,1,""],[68784,1,""],[68785,1,""],[68786,1,""],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,69215],3],[[69216,69246],2],[69247,3],[[69248,69289],2],[69290,3],[[69291,69292],2],[69293,2],[[69294,69295],3],[[69296,69297],2],[[69298,69372],3],[[69373,69375],2],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69487],3],[[69488,69509],2],[[69510,69513],2],[[69514,69551],3],[[69552,69572],2],[[69573,69579],2],[[69580,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69749],2],[[69750,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[69826,2],[[69827,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[69959,2],[[69960,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],2],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70209],2],[[70210,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,2],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70753],2],[[70754,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[71353,2],[[71354,71359],3],[[71360,71369],2],[[71370,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71494],2],[[71495,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,""],[71841,1,""],[71842,1,""],[71843,1,""],[71844,1,""],[71845,1,""],[71846,1,""],[71847,1,""],[71848,1,""],[71849,1,""],[71850,1,""],[71851,1,""],[71852,1,""],[71853,1,""],[71854,1,""],[71855,1,""],[71856,1,""],[71857,1,""],[71858,1,""],[71859,1,""],[71860,1,""],[71861,1,""],[71862,1,""],[71863,1,""],[71864,1,""],[71865,1,""],[71866,1,""],[71867,1,""],[71868,1,""],[71869,1,""],[71870,1,""],[71871,1,""],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,71942],2],[[71943,71944],3],[71945,2],[[71946,71947],3],[[71948,71955],2],[71956,3],[[71957,71958],2],[71959,3],[[71960,71989],2],[71990,3],[[71991,71992],2],[[71993,71994],3],[[71995,72003],2],[[72004,72006],2],[[72007,72015],3],[[72016,72025],2],[[72026,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72367],3],[[72368,72383],2],[[72384,72440],2],[[72441,72447],3],[[72448,72457],2],[[72458,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73471],3],[[73472,73488],2],[73489,3],[[73490,73530],2],[[73531,73533],3],[[73534,73538],2],[[73539,73551],2],[[73552,73561],2],[[73562,73647],3],[73648,2],[[73649,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77711],3],[[77712,77808],2],[[77809,77810],2],[[77811,77823],3],[[77824,78894],2],[78895,2],[[78896,78904],3],[[78905,78911],3],[[78912,78933],2],[[78934,82943],3],[[82944,83526],2],[[83527,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92862],2],[92863,3],[[92864,92873],2],[[92874,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93759],3],[93760,1,""],[93761,1,""],[93762,1,""],[93763,1,""],[93764,1,""],[93765,1,""],[93766,1,""],[93767,1,""],[93768,1,""],[93769,1,""],[93770,1,""],[93771,1,""],[93772,1,""],[93773,1,""],[93774,1,""],[93775,1,""],[93776,1,""],[93777,1,""],[93778,1,""],[93779,1,""],[93780,1,""],[93781,1,""],[93782,1,""],[93783,1,""],[93784,1,""],[93785,1,""],[93786,1,""],[93787,1,""],[93788,1,""],[93789,1,""],[93790,1,""],[93791,1,""],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[94180,2],[[94181,94191],3],[[94192,94193],2],[[94194,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,101589],2],[[101590,101631],3],[[101632,101640],2],[[101641,110575],3],[[110576,110579],2],[110580,3],[[110581,110587],2],[110588,3],[[110589,110590],2],[110591,3],[[110592,110593],2],[[110594,110878],2],[[110879,110882],2],[[110883,110897],3],[110898,2],[[110899,110927],3],[[110928,110930],2],[[110931,110932],3],[110933,2],[[110934,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,118527],3],[[118528,118573],2],[[118574,118575],3],[[118576,118598],2],[[118599,118607],3],[[118608,118723],2],[[118724,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,""],[119135,1,""],[119136,1,""],[119137,1,""],[119138,1,""],[119139,1,""],[119140,1,""],[[119141,119154],2],[[119155,119162],3],[[119163,119226],2],[119227,1,""],[119228,1,""],[119229,1,""],[119230,1,""],[119231,1,""],[119232,1,""],[[119233,119261],2],[[119262,119272],2],[[119273,119274],2],[[119275,119295],3],[[119296,119365],2],[[119366,119487],3],[[119488,119507],2],[[119508,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[12e4,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,""],[120485,1,""],[[120486,120487],3],[120488,1,""],[120489,1,""],[120490,1,""],[120491,1,""],[120492,1,""],[120493,1,""],[120494,1,""],[120495,1,""],[120496,1,""],[120497,1,""],[120498,1,""],[120499,1,""],[120500,1,""],[120501,1,""],[120502,1,""],[120503,1,""],[120504,1,""],[120505,1,""],[120506,1,""],[120507,1,""],[120508,1,""],[120509,1,""],[120510,1,""],[120511,1,""],[120512,1,""],[120513,1,""],[120514,1,""],[120515,1,""],[120516,1,""],[120517,1,""],[120518,1,""],[120519,1,""],[120520,1,""],[120521,1,""],[120522,1,""],[120523,1,""],[120524,1,""],[120525,1,""],[120526,1,""],[120527,1,""],[120528,1,""],[120529,1,""],[120530,1,""],[[120531,120532],1,""],[120533,1,""],[120534,1,""],[120535,1,""],[120536,1,""],[120537,1,""],[120538,1,""],[120539,1,""],[120540,1,""],[120541,1,""],[120542,1,""],[120543,1,""],[120544,1,""],[120545,1,""],[120546,1,""],[120547,1,""],[120548,1,""],[120549,1,""],[120550,1,""],[120551,1,""],[120552,1,""],[120553,1,""],[120554,1,""],[120555,1,""],[120556,1,""],[120557,1,""],[120558,1,""],[120559,1,""],[120560,1,""],[120561,1,""],[120562,1,""],[120563,1,""],[120564,1,""],[120565,1,""],[120566,1,""],[120567,1,""],[120568,1,""],[120569,1,""],[120570,1,""],[120571,1,""],[120572,1,""],[120573,1,""],[120574,1,""],[120575,1,""],[120576,1,""],[120577,1,""],[120578,1,""],[120579,1,""],[120580,1,""],[120581,1,""],[120582,1,""],[120583,1,""],[120584,1,""],[120585,1,""],[120586,1,""],[120587,1,""],[120588,1,""],[[120589,120590],1,""],[120591,1,""],[120592,1,""],[120593,1,""],[120594,1,""],[120595,1,""],[120596,1,""],[120597,1,""],[120598,1,""],[120599,1,""],[120600,1,""],[120601,1,""],[120602,1,""],[120603,1,""],[120604,1,""],[120605,1,""],[120606,1,""],[120607,1,""],[120608,1,""],[120609,1,""],[120610,1,""],[120611,1,""],[120612,1,""],[120613,1,""],[120614,1,""],[120615,1,""],[120616,1,""],[120617,1,""],[120618,1,""],[120619,1,""],[120620,1,""],[120621,1,""],[120622,1,""],[120623,1,""],[120624,1,""],[120625,1,""],[120626,1,""],[120627,1,""],[120628,1,""],[120629,1,""],[120630,1,""],[120631,1,""],[120632,1,""],[120633,1,""],[120634,1,""],[120635,1,""],[120636,1,""],[120637,1,""],[120638,1,""],[120639,1,""],[120640,1,""],[120641,1,""],[120642,1,""],[120643,1,""],[120644,1,""],[120645,1,""],[120646,1,""],[[120647,120648],1,""],[120649,1,""],[120650,1,""],[120651,1,""],[120652,1,""],[120653,1,""],[120654,1,""],[120655,1,""],[120656,1,""],[120657,1,""],[120658,1,""],[120659,1,""],[120660,1,""],[120661,1,""],[120662,1,""],[120663,1,""],[120664,1,""],[120665,1,""],[120666,1,""],[120667,1,""],[120668,1,""],[120669,1,""],[120670,1,""],[120671,1,""],[120672,1,""],[120673,1,""],[120674,1,""],[120675,1,""],[120676,1,""],[120677,1,""],[120678,1,""],[120679,1,""],[120680,1,""],[120681,1,""],[120682,1,""],[120683,1,""],[120684,1,""],[120685,1,""],[120686,1,""],[120687,1,""],[120688,1,""],[120689,1,""],[120690,1,""],[120691,1,""],[120692,1,""],[120693,1,""],[120694,1,""],[120695,1,""],[120696,1,""],[120697,1,""],[120698,1,""],[120699,1,""],[120700,1,""],[120701,1,""],[120702,1,""],[120703,1,""],[120704,1,""],[[120705,120706],1,""],[120707,1,""],[120708,1,""],[120709,1,""],[120710,1,""],[120711,1,""],[120712,1,""],[120713,1,""],[120714,1,""],[120715,1,""],[120716,1,""],[120717,1,""],[120718,1,""],[120719,1,""],[120720,1,""],[120721,1,""],[120722,1,""],[120723,1,""],[120724,1,""],[120725,1,""],[120726,1,""],[120727,1,""],[120728,1,""],[120729,1,""],[120730,1,""],[120731,1,""],[120732,1,""],[120733,1,""],[120734,1,""],[120735,1,""],[120736,1,""],[120737,1,""],[120738,1,""],[120739,1,""],[120740,1,""],[120741,1,""],[120742,1,""],[120743,1,""],[120744,1,""],[120745,1,""],[120746,1,""],[120747,1,""],[120748,1,""],[120749,1,""],[120750,1,""],[120751,1,""],[120752,1,""],[120753,1,""],[120754,1,""],[120755,1,""],[120756,1,""],[120757,1,""],[120758,1,""],[120759,1,""],[120760,1,""],[120761,1,""],[120762,1,""],[[120763,120764],1,""],[120765,1,""],[120766,1,""],[120767,1,""],[120768,1,""],[120769,1,""],[120770,1,""],[120771,1,""],[120772,1,""],[120773,1,""],[120774,1,""],[120775,1,""],[120776,1,""],[120777,1,""],[[120778,120779],1,""],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122623],3],[[122624,122654],2],[[122655,122660],3],[[122661,122666],2],[[122667,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,122927],3],[122928,1,""],[122929,1,""],[122930,1,""],[122931,1,""],[122932,1,""],[122933,1,""],[122934,1,""],[122935,1,""],[122936,1,""],[122937,1,""],[122938,1,""],[122939,1,""],[122940,1,""],[122941,1,""],[122942,1,""],[122943,1,""],[122944,1,""],[122945,1,""],[122946,1,""],[122947,1,""],[122948,1,""],[122949,1,""],[122950,1,""],[122951,1,""],[122952,1,""],[122953,1,""],[122954,1,""],[122955,1,""],[122956,1,""],[122957,1,""],[122958,1,""],[122959,1,""],[122960,1,""],[122961,1,""],[122962,1,""],[122963,1,""],[122964,1,""],[122965,1,""],[122966,1,""],[122967,1,""],[122968,1,""],[122969,1,""],[122970,1,""],[122971,1,""],[122972,1,""],[122973,1,""],[122974,1,""],[122975,1,""],[122976,1,""],[122977,1,""],[122978,1,""],[122979,1,""],[122980,1,""],[122981,1,""],[122982,1,""],[122983,1,""],[122984,1,""],[122985,1,""],[122986,1,""],[122987,1,""],[122988,1,""],[122989,1,""],[[122990,123022],3],[123023,2],[[123024,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123535],3],[[123536,123566],2],[[123567,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124111],3],[[124112,124153],2],[[124154,124895],3],[[124896,124902],2],[124903,3],[[124904,124907],2],[124908,3],[[124909,124910],2],[124911,3],[[124912,124926],2],[124927,3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,""],[125185,1,""],[125186,1,""],[125187,1,""],[125188,1,""],[125189,1,""],[125190,1,""],[125191,1,""],[125192,1,""],[125193,1,""],[125194,1,""],[125195,1,""],[125196,1,""],[125197,1,""],[125198,1,""],[125199,1,""],[125200,1,""],[125201,1,""],[125202,1,""],[125203,1,""],[125204,1,""],[125205,1,""],[125206,1,""],[125207,1,""],[125208,1,""],[125209,1,""],[125210,1,""],[125211,1,""],[125212,1,""],[125213,1,""],[125214,1,""],[125215,1,""],[125216,1,""],[125217,1,""],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,""],[126465,1,""],[126466,1,""],[126467,1,""],[126468,3],[126469,1,""],[126470,1,""],[126471,1,""],[126472,1,""],[126473,1,""],[126474,1,""],[126475,1,""],[126476,1,""],[126477,1,""],[126478,1,""],[126479,1,""],[126480,1,""],[126481,1,""],[126482,1,""],[126483,1,""],[126484,1,""],[126485,1,""],[126486,1,""],[126487,1,""],[126488,1,""],[126489,1,""],[126490,1,""],[126491,1,""],[126492,1,""],[126493,1,""],[126494,1,""],[126495,1,""],[126496,3],[126497,1,""],[126498,1,""],[126499,3],[126500,1,""],[[126501,126502],3],[126503,1,""],[126504,3],[126505,1,""],[126506,1,""],[126507,1,""],[126508,1,""],[126509,1,""],[126510,1,""],[126511,1,""],[126512,1,""],[126513,1,""],[126514,1,""],[126515,3],[126516,1,""],[126517,1,""],[126518,1,""],[126519,1,""],[126520,3],[126521,1,""],[126522,3],[126523,1,""],[[126524,126529],3],[126530,1,""],[[126531,126534],3],[126535,1,""],[126536,3],[126537,1,""],[126538,3],[126539,1,""],[126540,3],[126541,1,""],[126542,1,""],[126543,1,""],[126544,3],[126545,1,""],[126546,1,""],[126547,3],[126548,1,""],[[126549,126550],3],[126551,1,""],[126552,3],[126553,1,""],[126554,3],[126555,1,""],[126556,3],[126557,1,""],[126558,3],[126559,1,""],[126560,3],[126561,1,""],[126562,1,""],[126563,3],[126564,1,""],[[126565,126566],3],[126567,1,""],[126568,1,""],[126569,1,""],[126570,1,""],[126571,3],[126572,1,""],[126573,1,""],[126574,1,""],[126575,1,""],[126576,1,""],[126577,1,""],[126578,1,""],[126579,3],[126580,1,""],[126581,1,""],[126582,1,""],[126583,1,""],[126584,3],[126585,1,""],[126586,1,""],[126587,1,""],[126588,1,""],[126589,3],[126590,1,""],[126591,3],[126592,1,""],[126593,1,""],[126594,1,""],[126595,1,""],[126596,1,""],[126597,1,""],[126598,1,""],[126599,1,""],[126600,1,""],[126601,1,""],[126602,3],[126603,1,""],[126604,1,""],[126605,1,""],[126606,1,""],[126607,1,""],[126608,1,""],[126609,1,""],[126610,1,""],[126611,1,""],[126612,1,""],[126613,1,""],[126614,1,""],[126615,1,""],[126616,1,""],[126617,1,""],[126618,1,""],[126619,1,""],[[126620,126624],3],[126625,1,""],[126626,1,""],[126627,1,""],[126628,3],[126629,1,""],[126630,1,""],[126631,1,""],[126632,1,""],[126633,1,""],[126634,3],[126635,1,""],[126636,1,""],[126637,1,""],[126638,1,""],[126639,1,""],[126640,1,""],[126641,1,""],[126642,1,""],[126643,1,""],[126644,1,""],[126645,1,""],[126646,1,""],[126647,1,""],[126648,1,""],[126649,1,""],[126650,1,""],[126651,1,""],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,5,"0,"],[127234,5,"1,"],[127235,5,"2,"],[127236,5,"3,"],[127237,5,"4,"],[127238,5,"5,"],[127239,5,"6,"],[127240,5,"7,"],[127241,5,"8,"],[127242,5,"9,"],[[127243,127244],2],[[127245,127247],2],[127248,5,"(a)"],[127249,5,"(b)"],[127250,5,"(c)"],[127251,5,"(d)"],[127252,5,"(e)"],[127253,5,"(f)"],[127254,5,"(g)"],[127255,5,"(h)"],[127256,5,"(i)"],[127257,5,"(j)"],[127258,5,"(k)"],[127259,5,"(l)"],[127260,5,"(m)"],[127261,5,"(n)"],[127262,5,"(o)"],[127263,5,"(p)"],[127264,5,"(q)"],[127265,5,"(r)"],[127266,5,"(s)"],[127267,5,"(t)"],[127268,5,"(u)"],[127269,5,"(v)"],[127270,5,"(w)"],[127271,5,"(x)"],[127272,5,"(y)"],[127273,5,"(z)"],[127274,1,"s"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],2],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[127405,2],[[127406,127461],3],[[127462,127487],2],[127488,1,""],[127489,1,""],[127490,1,""],[[127491,127503],3],[127504,1,""],[127505,1,""],[127506,1,""],[127507,1,""],[127508,1,""],[127509,1,""],[127510,1,""],[127511,1,""],[127512,1,""],[127513,1,""],[127514,1,""],[127515,1,""],[127516,1,""],[127517,1,""],[127518,1,""],[127519,1,""],[127520,1,""],[127521,1,""],[127522,1,""],[127523,1,""],[127524,1,""],[127525,1,""],[127526,1,""],[127527,1,""],[127528,1,""],[127529,1,""],[127530,1,""],[127531,1,""],[127532,1,""],[127533,1,""],[127534,1,""],[127535,1,""],[127536,1,""],[127537,1,""],[127538,1,""],[127539,1,""],[127540,1,""],[127541,1,""],[127542,1,""],[127543,1,""],[127544,1,""],[127545,1,""],[127546,1,""],[127547,1,""],[[127548,127551],3],[127552,1,""],[127553,1,""],[127554,1,""],[127555,1,""],[127556,1,""],[127557,1,""],[127558,1,""],[127559,1,""],[127560,1,""],[[127561,127567],3],[127568,1,""],[127569,1,""],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128e3,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128727],2],[[128728,128731],3],[128732,2],[[128733,128735],2],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128764],2],[[128765,128767],3],[[128768,128883],2],[[128884,128886],2],[[128887,128890],3],[[128891,128895],2],[[128896,128980],2],[[128981,128984],2],[128985,2],[[128986,128991],3],[[128992,129003],2],[[129004,129007],3],[129008,2],[[129009,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129199],3],[[129200,129201],2],[[129202,129279],3],[[129280,129291],2],[129292,2],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,2],[[129395,129398],2],[[129399,129400],2],[129401,2],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],2],[[129445,129450],2],[[129451,129453],2],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[129483,2],[129484,2],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[129652,2],[[129653,129655],2],[[129656,129658],2],[[129659,129660],2],[[129661,129663],3],[[129664,129666],2],[[129667,129670],2],[[129671,129672],2],[[129673,129679],3],[[129680,129685],2],[[129686,129704],2],[[129705,129708],2],[[129709,129711],2],[[129712,129718],2],[[129719,129722],2],[[129723,129725],2],[129726,3],[129727,2],[[129728,129730],2],[[129731,129733],2],[[129734,129741],3],[[129742,129743],2],[[129744,129750],2],[[129751,129753],2],[[129754,129755],2],[[129756,129759],3],[[129760,129767],2],[129768,2],[[129769,129775],3],[[129776,129782],2],[[129783,129784],2],[[129785,129791],3],[[129792,129938],2],[129939,3],[[129940,129994],2],[[129995,130031],3],[130032,1,"0"],[130033,1,"1"],[130034,1,"2"],[130035,1,"3"],[130036,1,"4"],[130037,1,"5"],[130038,1,"6"],[130039,1,"7"],[130040,1,"8"],[130041,1,"9"],[[130042,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173789],2],[[173790,173791],2],[[173792,173823],3],[[173824,177972],2],[[177973,177976],2],[177977,2],[[177978,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,194559],3],[194560,1,""],[194561,1,""],[194562,1,""],[194563,1,""],[194564,1,""],[194565,1,""],[194566,1,""],[194567,1,""],[194568,1,""],[194569,1,""],[194570,1,""],[194571,1,""],[194572,1,""],[194573,1,""],[194574,1,""],[194575,1,""],[194576,1,""],[194577,1,""],[194578,1,""],[194579,1,""],[194580,1,""],[194581,1,""],[194582,1,""],[194583,1,""],[194584,1,""],[194585,1,""],[194586,1,""],[194587,1,""],[194588,1,""],[194589,1,""],[194590,1,""],[194591,1,""],[194592,1,""],[194593,1,""],[194594,1,""],[194595,1,""],[194596,1,""],[194597,1,""],[194598,1,""],[194599,1,""],[194600,1,""],[194601,1,""],[194602,1,""],[194603,1,""],[194604,1,""],[194605,1,""],[194606,1,""],[194607,1,""],[194608,1,""],[[194609,194611],1,""],[194612,1,""],[194613,1,""],[194614,1,""],[194615,1,""],[194616,1,""],[194617,1,""],[194618,1,""],[194619,1,""],[194620,1,""],[194621,1,""],[194622,1,""],[194623,1,""],[194624,1,""],[194625,1,""],[194626,1,""],[194627,1,""],[194628,1,""],[[194629,194630],1,""],[194631,1,""],[194632,1,""],[194633,1,""],[194634,1,""],[194635,1,""],[194636,1,""],[194637,1,""],[194638,1,""],[194639,1,""],[194640,1,""],[194641,1,""],[194642,1,""],[194643,1,""],[194644,1,""],[194645,1,""],[194646,1,""],[194647,1,""],[194648,1,""],[194649,1,""],[194650,1,""],[194651,1,""],[194652,1,""],[194653,1,""],[194654,1,""],[194655,1,""],[194656,1,""],[194657,1,""],[194658,1,""],[194659,1,""],[194660,1,""],[194661,1,""],[194662,1,""],[194663,1,""],[194664,3],[194665,1,""],[[194666,194667],1,""],[194668,1,""],[194669,1,""],[194670,1,""],[194671,1,""],[194672,1,""],[194673,1,""],[194674,1,""],[194675,1,""],[194676,3],[194677,1,""],[194678,1,""],[194679,1,""],[194680,1,""],[194681,1,""],[194682,1,""],[194683,1,""],[194684,1,""],[194685,1,""],[194686,1,""],[194687,1,""],[194688,1,""],[194689,1,""],[194690,1,""],[194691,1,""],[194692,1,""],[194693,1,""],[194694,1,""],[194695,1,""],[194696,1,""],[194697,1,""],[194698,1,""],[194699,1,""],[194700,1,""],[194701,1,""],[194702,1,""],[194703,1,""],[194704,1,""],[[194705,194706],1,""],[194707,1,""],[[194708,194709],1,""],[194710,1,""],[194711,1,""],[194712,1,""],[194713,1,""],[194714,1,""],[194715,1,""],[194716,1,""],[194717,1,""],[194718,1,""],[194719,1,""],[194720,1,""],[194721,1,""],[194722,1,""],[194723,1,""],[194724,1,""],[194725,1,""],[194726,1,""],[194727,1,""],[194728,1,""],[194729,1,""],[194730,1,""],[194731,1,""],[194732,1,""],[194733,1,""],[194734,1,""],[194735,1,""],[194736,1,""],[194737,1,""],[194738,1,""],[194739,1,""],[194740,1,""],[194741,1,""],[194742,1,""],[194743,1,""],[194744,1,""],[194745,1,""],[194746,1,""],[194747,1,""],[194748,1,""],[194749,1,""],[194750,1,""],[194751,1,""],[194752,1,""],[194753,1,""],[194754,1,""],[194755,1,""],[194756,1,""],[194757,1,""],[194758,1,""],[194759,1,""],[194760,1,""],[194761,1,""],[194762,1,""],[194763,1,""],[194764,1,""],[194765,1,""],[194766,1,""],[194767,1,""],[194768,1,""],[194769,1,""],[194770,1,""],[194771,1,""],[194772,1,""],[194773,1,""],[194774,1,""],[194775,1,""],[194776,1,""],[194777,1,""],[194778,1,""],[194779,1,""],[194780,1,""],[194781,1,""],[194782,1,""],[194783,1,""],[194784,1,""],[194785,1,""],[194786,1,""],[194787,1,""],[194788,1,""],[194789,1,""],[194790,1,""],[194791,1,""],[194792,1,""],[194793,1,""],[194794,1,""],[194795,1,""],[194796,1,""],[194797,1,""],[194798,1,""],[194799,1,""],[194800,1,""],[194801,1,""],[194802,1,""],[194803,1,""],[194804,1,""],[194805,1,""],[194806,1,""],[194807,1,""],[194808,1,""],[194809,1,""],[194810,1,""],[194811,1,""],[194812,1,""],[194813,1,""],[194814,1,""],[194815,1,""],[194816,1,""],[194817,1,""],[194818,1,""],[194819,1,""],[194820,1,""],[194821,1,""],[194822,1,""],[194823,1,""],[194824,1,""],[194825,1,""],[194826,1,""],[194827,1,""],[194828,1,""],[194829,1,""],[194830,1,""],[194831,1,""],[194832,1,""],[194833,1,""],[194834,1,""],[194835,1,""],[194836,1,""],[194837,1,""],[194838,1,""],[194839,1,""],[194840,1,""],[194841,1,""],[194842,1,""],[194843,1,""],[194844,1,""],[194845,1,""],[194846,1,""],[194847,3],[194848,1,""],[194849,1,""],[194850,1,""],[194851,1,""],[194852,1,""],[194853,1,""],[194854,1,""],[194855,1,""],[194856,1,""],[194857,1,""],[194858,1,""],[194859,1,""],[[194860,194861],1,""],[194862,1,""],[194863,1,""],[194864,1,""],[194865,1,""],[194866,1,""],[194867,1,""],[194868,1,""],[194869,1,""],[194870,1,""],[194871,1,""],[194872,1,""],[194873,1,""],[194874,1,""],[194875,1,""],[194876,1,""],[194877,1,""],[194878,1,""],[194879,1,""],[194880,1,""],[194881,1,""],[194882,1,""],[194883,1,""],[194884,1,""],[194885,1,""],[[194886,194887],1,""],[194888,1,""],[194889,1,""],[194890,1,""],[194891,1,""],[194892,1,""],[194893,1,""],[194894,1,""],[194895,1,""],[194896,1,""],[194897,1,""],[194898,1,""],[194899,1,""],[194900,1,""],[194901,1,""],[194902,1,""],[194903,1,""],[194904,1,""],[194905,1,""],[194906,1,""],[194907,1,""],[194908,1,""],[[194909,194910],1,""],[194911,3],[194912,1,""],[194913,1,""],[194914,1,""],[194915,1,""],[194916,1,""],[194917,1,""],[194918,1,""],[194919,1,""],[194920,1,""],[194921,1,""],[194922,1,""],[194923,1,""],[194924,1,""],[194925,1,""],[194926,1,""],[194927,1,""],[194928,1,""],[194929,1,""],[194930,1,""],[194931,1,""],[194932,1,""],[194933,1,""],[194934,1,""],[194935,1,""],[194936,1,""],[194937,1,""],[194938,1,""],[194939,1,""],[194940,1,""],[194941,1,""],[194942,1,""],[194943,1,""],[194944,1,""],[194945,1,""],[194946,1,""],[194947,1,""],[194948,1,""],[194949,1,""],[194950,1,""],[194951,1,""],[194952,1,""],[194953,1,""],[194954,1,""],[194955,1,""],[194956,1,""],[194957,1,""],[194958,1,""],[194959,1,""],[194960,1,""],[194961,1,""],[194962,1,""],[194963,1,""],[194964,1,""],[194965,1,""],[194966,1,""],[194967,1,""],[194968,1,""],[194969,1,""],[194970,1,""],[194971,1,""],[194972,1,""],[194973,1,""],[194974,1,""],[194975,1,""],[194976,1,""],[194977,1,""],[194978,1,""],[194979,1,""],[194980,1,""],[194981,1,""],[194982,1,""],[194983,1,""],[194984,1,""],[194985,1,""],[194986,1,""],[194987,1,""],[194988,1,""],[194989,1,""],[194990,1,""],[194991,1,""],[194992,1,""],[194993,1,""],[194994,1,""],[194995,1,""],[194996,1,""],[194997,1,""],[194998,1,""],[194999,1,""],[195e3,1,""],[195001,1,""],[195002,1,""],[195003,1,""],[195004,1,""],[195005,1,""],[195006,1,""],[195007,3],[195008,1,""],[195009,1,""],[195010,1,""],[195011,1,""],[195012,1,""],[195013,1,""],[195014,1,""],[195015,1,""],[195016,1,""],[195017,1,""],[195018,1,""],[195019,1,""],[195020,1,""],[195021,1,""],[195022,1,""],[195023,1,""],[195024,1,""],[195025,1,""],[195026,1,""],[195027,1,""],[195028,1,""],[195029,1,""],[195030,1,""],[195031,1,""],[195032,1,""],[195033,1,""],[195034,1,""],[195035,1,""],[195036,1,""],[195037,1,""],[195038,1,""],[195039,1,""],[195040,1,""],[195041,1,""],[195042,1,""],[195043,1,""],[195044,1,""],[195045,1,""],[195046,1,""],[195047,1,""],[195048,1,""],[195049,1,""],[195050,1,""],[195051,1,""],[195052,1,""],[195053,1,""],[195054,1,""],[195055,1,""],[195056,1,""],[195057,1,""],[195058,1,""],[195059,1,""],[195060,1,""],[195061,1,""],[195062,1,""],[195063,1,""],[195064,1,""],[195065,1,""],[195066,1,""],[195067,1,""],[195068,1,""],[195069,1,""],[[195070,195071],1,""],[195072,1,""],[195073,1,""],[195074,1,""],[195075,1,""],[195076,1,""],[195077,1,""],[195078,1,""],[195079,1,""],[195080,1,""],[195081,1,""],[195082,1,""],[195083,1,""],[195084,1,""],[195085,1,""],[195086,1,""],[195087,1,""],[195088,1,""],[195089,1,""],[195090,1,""],[195091,1,""],[195092,1,""],[195093,1,""],[195094,1,""],[195095,1,""],[195096,1,""],[195097,1,""],[195098,1,""],[195099,1,""],[195100,1,""],[195101,1,""],[[195102,196605],3],[[196606,196607],3],[[196608,201546],2],[[201547,201551],3],[[201552,205743],2],[[205744,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918e3,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]];var cC={};cC.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,disallowed_STD3_valid:4,disallowed_STD3_mapped:5,deviation:6,ignored:7};const op=r5,gr=g5,tm=m5,{STATUS_MAPPING:Lt}=cC;function y5(r){return/[^\x00-\x7F]/u.test(r)}function hC(r,{useSTD3ASCIIRules:A}){let e=0,t=tm.length-1;for(;e<=t;){const i=Math.floor((e+t)/2),n=tm[i],s=Array.isArray(n[0])?n[0][0]:n[0],o=Array.isArray(n[0])?n[0][1]:n[0];if(s<=r&&o>=r)return A&&(n[1]===Lt.disallowed_STD3_valid||n[1]===Lt.disallowed_STD3_mapped)?[Lt.disallowed,...n.slice(2)]:n[1]===Lt.disallowed_STD3_valid?[Lt.valid,...n.slice(2)]:n[1]===Lt.disallowed_STD3_mapped?[Lt.mapped,...n.slice(2)]:n.slice(1);s>r?t=i-1:e=i+1}return null}function E5(r,{useSTD3ASCIIRules:A,processingOption:e}){let t=!1,i="";for(const n of r){const[s,o]=hC(n.codePointAt(0),{useSTD3ASCIIRules:A});switch(s){case Lt.disallowed:t=!0,i+=n;break;case Lt.ignored:break;case Lt.mapped:i+=o;break;case Lt.deviation:e==="transitional"?i+=o:i+=n;break;case Lt.valid:i+=n;break}}return{string:i,error:t}}function C5(r,{checkHyphens:A,checkBidi:e,checkJoiners:t,processingOption:i,useSTD3ASCIIRules:n}){if(r.normalize("NFC")!==r)return!1;const s=Array.from(r);if(A&&(s[2]==="-"&&s[3]==="-"||r.startsWith("-")||r.endsWith("-"))||r.includes(".")||s.length>0&&gr.combiningMarks.test(s[0]))return!1;for(const o of s){const[u]=hC(o.codePointAt(0),{useSTD3ASCIIRules:n});if(i==="transitional"&&u!==Lt.valid||i==="nontransitional"&&u!==Lt.valid&&u!==Lt.deviation)return!1}if(t){let o=0;for(const[u,l]of s.entries())if(l===""||l===""){if(u>0){if(gr.combiningClassVirama.test(s[u-1]))continue;if(l===""){const c=s.indexOf("",u+1),h=c<0?s.slice(o):s.slice(o,c);if(gr.validZWNJ.test(h.join(""))){o=u+1;continue}}}return!1}}if(e&&s.length>0){let o;if(gr.bidiS1LTR.test(s[0]))o=!1;else if(gr.bidiS1RTL.test(s[0]))o=!0;else return!1;if(o){if(!gr.bidiS2.test(r)||!gr.bidiS3.test(r)||gr.bidiS4EN.test(r)&&gr.bidiS4AN.test(r))return!1}else if(!gr.bidiS5.test(r)||!gr.bidiS6.test(r))return!1}return!0}function _5(r){const A=r.map(e=>{if(e.startsWith("xn--"))try{return op.decode(e.substring(4))}catch{return""}return e}).join(".");return gr.bidiDomain.test(A)}function dC(r,A){const{processingOption:e}=A;let{string:t,error:i}=E5(r,A);t=t.normalize("NFC");const n=t.split("."),s=_5(n);for(const[o,u]of n.entries()){let l=u,c=e;if(l.startsWith("xn--")){try{l=op.decode(l.substring(4)),n[o]=l}catch{i=!0;continue}c="nontransitional"}if(i)continue;C5(l,{...A,processingOption:c,checkBidi:A.checkBidi&&s})||(i=!0)}return{string:n.join("."),error:i}}function S5(r,{checkHyphens:A=!1,checkBidi:e=!1,checkJoiners:t=!1,useSTD3ASCIIRules:i=!1,processingOption:n="nontransitional",verifyDNSLength:s=!1}={}){if(n!=="transitional"&&n!=="nontransitional")throw new RangeError("processingOption must be either transitional or nontransitional");const o=dC(r,{processingOption:n,checkHyphens:A,checkBidi:e,checkJoiners:t,useSTD3ASCIIRules:i});let u=o.string.split(".");if(u=u.map(l=>{if(y5(l))try{return`xn--${op.encode(l)}`}catch{o.error=!0}return l}),s){const l=u.join(".").length;(l>253||l===0)&&(o.error=!0);for(let c=0;c<u.length;++c)if(u[c].length>63||u[c].length===0){o.error=!0;break}}return o.error?null:u.join(".")}function v5(r,{checkHyphens:A=!1,checkBidi:e=!1,checkJoiners:t=!1,useSTD3ASCIIRules:i=!1,processingOption:n="nontransitional"}={}){const s=dC(r,{processingOption:n,checkHyphens:A,checkBidi:e,checkJoiners:t,useSTD3ASCIIRules:i});return{domain:s.string,error:s.error}}var w5={toASCII:S5,toUnicode:v5};function ap(r){return r>=48&&r<=57}function fC(r){return r>=65&&r<=90||r>=97&&r<=122}function b5(r){return fC(r)||ap(r)}function I5(r){return ap(r)||r>=65&&r<=70||r>=97&&r<=102}var pC={isASCIIDigit:ap,isASCIIAlpha:fC,isASCIIAlphanumeric:b5,isASCIIHex:I5};const B5=new TextEncoder,T5=new TextDecoder("utf-8",{ignoreBOM:!0});function D5(r){return B5.encode(r)}function x5(r){return T5.decode(r)}var up={utf8Encode:D5,utf8DecodeWithoutBOM:x5};const{isASCIIHex:rm}=pC,{utf8Encode:gC}=up;function $A(r){return r.codePointAt(0)}function O5(r){let A=r.toString(16).toUpperCase();return A.length===1&&(A=`0${A}`),`%${A}`}function mC(r){const A=new Uint8Array(r.byteLength);let e=0;for(let t=0;t<r.byteLength;++t){const i=r[t];if(i!==37)A[e++]=i;else if(i===37&&(!rm(r[t+1])||!rm(r[t+2])))A[e++]=i;else{const n=parseInt(String.fromCodePoint(r[t+1],r[t+2]),16);A[e++]=n,t+=2}}return A.slice(0,e)}function M5(r){const A=gC(r);return mC(A)}function lp(r){return r<=31||r>126}const R5=new Set([$A(" "),$A('"'),$A("<"),$A(">"),$A("`")]);function P5(r){return lp(r)||R5.has(r)}const F5=new Set([$A(" "),$A('"'),$A("#"),$A("<"),$A(">")]);function cp(r){return lp(r)||F5.has(r)}function N5(r){return cp(r)||r===$A("'")}const L5=new Set([$A("?"),$A("`"),$A("{"),$A("}")]);function yC(r){return cp(r)||L5.has(r)}const U5=new Set([$A("/"),$A(":"),$A(";"),$A("="),$A("@"),$A("["),$A("\\"),$A("]"),$A("^"),$A("|")]);function EC(r){return yC(r)||U5.has(r)}const k5=new Set([$A("$"),$A("%"),$A("&"),$A("+"),$A(",")]);function z5(r){return EC(r)||k5.has(r)}const G5=new Set([$A("!"),$A("'"),$A("("),$A(")"),$A("~")]);function V5(r){return z5(r)||G5.has(r)}function CC(r,A){const e=gC(r);let t="";for(const i of e)A(i)?t+=O5(i):t+=String.fromCharCode(i);return t}function Q5(r,A){return CC(String.fromCodePoint(r),A)}function H5(r,A,e=!1){let t="";for(const i of r)e&&i===" "?t+="+":t+=CC(i,A);return t}var hp={isC0ControlPercentEncode:lp,isFragmentPercentEncode:P5,isQueryPercentEncode:cp,isSpecialQueryPercentEncode:N5,isPathPercentEncode:yC,isUserinfoPercentEncode:EC,isURLEncodedPercentEncode:V5,percentDecodeString:M5,percentDecodeBytes:mC,utf8PercentEncodeString:H5,utf8PercentEncodeCodePoint:Q5};(function(r){const A=w5,e=pC,{utf8DecodeWithoutBOM:t}=up,{percentDecodeString:i,utf8PercentEncodeCodePoint:n,utf8PercentEncodeString:s,isC0ControlPercentEncode:o,isFragmentPercentEncode:u,isQueryPercentEncode:l,isSpecialQueryPercentEncode:c,isPathPercentEncode:h,isUserinfoPercentEncode:d}=hp;function f(O){return O.codePointAt(0)}const p={ftp:21,file:null,http:80,https:443,ws:80,wss:443},y=Symbol("failure");function _(O){return[...O].length}function g(O,N){const z=O[N];return isNaN(z)?void 0:String.fromCodePoint(z)}function m(O){return O==="."||O.toLowerCase()==="%2e"}function E(O){return O=O.toLowerCase(),O===".."||O==="%2e."||O===".%2e"||O==="%2e%2e"}function w(O,N){return e.isASCIIAlpha(O)&&(N===f(":")||N===f("|"))}function L(O){return O.length===2&&e.isASCIIAlpha(O.codePointAt(0))&&(O[1]===":"||O[1]==="|")}function T(O){return O.length===2&&e.isASCIIAlpha(O.codePointAt(0))&&O[1]===":"}function R(O){return O.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1}function P(O){return R(O)||O.search(/[\u0000-\u001F]|%|\u007F/u)!==-1}function F(O){return p[O]!==void 0}function H(O){return F(O.scheme)}function M(O){return!F(O.scheme)}function b(O){return p[O]}function v(O){if(O==="")return y;let N=10;if(O.length>=2&&O.charAt(0)==="0"&&O.charAt(1).toLowerCase()==="x"?(O=O.substring(2),N=16):O.length>=2&&O.charAt(0)==="0"&&(O=O.substring(1),N=8),O==="")return 0;let z=/[^0-7]/u;return N===10&&(z=/[^0-9]/u),N===16&&(z=/[^0-9A-Fa-f]/u),z.test(O)?y:parseInt(O,N)}function C(O){const N=O.split(".");if(N[N.length-1]===""&&N.length>1&&N.pop(),N.length>4)return y;const z=[];for(const uA of N){const gA=v(uA);if(gA===y)return y;z.push(gA)}for(let uA=0;uA<z.length-1;++uA)if(z[uA]>255)return y;if(z[z.length-1]>=256**(5-z.length))return y;let tA=z.pop(),aA=0;for(const uA of z)tA+=uA*256**(3-aA),++aA;return tA}function x(O){let N="",z=O;for(let tA=1;tA<=4;++tA)N=String(z%256)+N,tA!==4&&(N=`.${N}`),z=Math.floor(z/256);return N}function S(O){const N=[0,0,0,0,0,0,0,0];let z=0,tA=null,aA=0;if(O=Array.from(O,uA=>uA.codePointAt(0)),O[aA]===f(":")){if(O[aA+1]!==f(":"))return y;aA+=2,++z,tA=z}for(;aA<O.length;){if(z===8)return y;if(O[aA]===f(":")){if(tA!==null)return y;++aA,++z,tA=z;continue}let uA=0,gA=0;for(;gA<4&&e.isASCIIHex(O[aA]);)uA=uA*16+parseInt(g(O,aA),16),++aA,++gA;if(O[aA]===f(".")){if(gA===0||(aA-=gA,z>6))return y;let DA=0;for(;O[aA]!==void 0;){let wA=null;if(DA>0)if(O[aA]===f(".")&&DA<4)++aA;else return y;if(!e.isASCIIDigit(O[aA]))return y;for(;e.isASCIIDigit(O[aA]);){const FA=parseInt(g(O,aA));if(wA===null)wA=FA;else{if(wA===0)return y;wA=wA*10+FA}if(wA>255)return y;++aA}N[z]=N[z]*256+wA,++DA,(DA===2||DA===4)&&++z}if(DA!==4)return y;break}else if(O[aA]===f(":")){if(++aA,O[aA]===void 0)return y}else if(O[aA]!==void 0)return y;N[z]=uA,++z}if(tA!==null){let uA=z-tA;for(z=7;z!==0&&uA>0;){const gA=N[tA+uA-1];N[tA+uA-1]=N[z],N[z]=gA,--z,--uA}}else if(tA===null&&z!==8)return y;return N}function B(O){let N="";const z=AA(O);let tA=!1;for(let aA=0;aA<=7;++aA)if(!(tA&&O[aA]===0)){if(tA&&(tA=!1),z===aA){N+=aA===0?"::":":",tA=!0;continue}N+=O[aA].toString(16),aA!==7&&(N+=":")}return N}function D(O,N=!1){if(O[0]==="[")return O[O.length-1]!=="]"?y:S(O.substring(1,O.length-1));if(N)return Z(O);const z=t(i(O)),tA=G(z);return tA===y||P(tA)?y:Q(tA)?C(tA):tA}function Q(O){const N=O.split(".");if(N[N.length-1]===""){if(N.length===1)return!1;N.pop()}const z=N[N.length-1];return!!(v(z)!==y||/^[0-9]+$/u.test(z))}function Z(O){return R(O)?y:s(O,o)}function AA(O){let N=null,z=1,tA=null,aA=0;for(let uA=0;uA<O.length;++uA)O[uA]!==0?(aA>z&&(N=tA,z=aA),tA=null,aA=0):(tA===null&&(tA=uA),++aA);return aA>z?tA:N}function Y(O){return typeof O=="number"?x(O):O instanceof Array?`[${B(O)}]`:O}function G(O,N=!1){const z=A.toASCII(O,{checkBidi:!0,checkHyphens:!1,checkJoiners:!0,useSTD3ASCIIRules:N,verifyDNSLength:N});return z===null||z===""?y:z}function X(O){return O.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/ug,"")}function nA(O){return O.replace(/\u0009|\u000A|\u000D/ug,"")}function lA(O){const{path:N}=O;N.length!==0&&(O.scheme==="file"&&N.length===1&&xA(N[0])||N.pop())}function vA(O){return O.username!==""||O.password!==""}function BA(O){return O.host===null||O.host===""||O.scheme==="file"}function bA(O){return typeof O.path=="string"}function xA(O){return/^[A-Za-z]:$/u.test(O)}function TA(O,N,z,tA,aA){if(this.pointer=0,this.input=O,this.base=N||null,this.encodingOverride=z||"utf-8",this.stateOverride=aA,this.url=tA,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null};const gA=X(this.input);gA!==this.input&&(this.parseError=!0),this.input=gA}const uA=nA(this.input);for(uA!==this.input&&(this.parseError=!0),this.input=uA,this.state=aA||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Array.from(this.input,gA=>gA.codePointAt(0));this.pointer<=this.input.length;++this.pointer){const gA=this.input[this.pointer],DA=isNaN(gA)?void 0:String.fromCodePoint(gA),wA=this[`parse ${this.state}`](gA,DA);if(wA){if(wA===y){this.failure=!0;break}}else break}}TA.prototype["parse scheme start"]=function(N,z){if(e.isASCIIAlpha(N))this.buffer+=z.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,y;return!0},TA.prototype["parse scheme"]=function(N,z){if(e.isASCIIAlphanumeric(N)||N===f("+")||N===f("-")||N===f("."))this.buffer+=z.toLowerCase();else if(N===f(":")){if(this.stateOverride&&(H(this.url)&&!F(this.buffer)||!H(this.url)&&F(this.buffer)||(vA(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&this.url.host===""))return!1;if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===b(this.url.scheme)&&(this.url.port=null),!1;this.buffer="",this.url.scheme==="file"?((this.input[this.pointer+1]!==f("/")||this.input[this.pointer+2]!==f("/"))&&(this.parseError=!0),this.state="file"):H(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":H(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===f("/")?(this.state="path or authority",++this.pointer):(this.url.path="",this.state="opaque path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,y;return!0},TA.prototype["parse no scheme"]=function(N){return this.base===null||bA(this.base)&&N!==f("#")?y:(bA(this.base)&&N===f("#")?(this.url.scheme=this.base.scheme,this.url.path=this.base.path,this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},TA.prototype["parse special relative or authority"]=function(N){return N===f("/")&&this.input[this.pointer+1]===f("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},TA.prototype["parse path or authority"]=function(N){return N===f("/")?this.state="authority":(this.state="path",--this.pointer),!0},TA.prototype["parse relative"]=function(N){return this.url.scheme=this.base.scheme,N===f("/")?this.state="relative slash":H(this.url)&&N===f("\\")?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,N===f("?")?(this.url.query="",this.state="query"):N===f("#")?(this.url.fragment="",this.state="fragment"):isNaN(N)||(this.url.query=null,this.url.path.pop(),this.state="path",--this.pointer)),!0},TA.prototype["parse relative slash"]=function(N){return H(this.url)&&(N===f("/")||N===f("\\"))?(N===f("\\")&&(this.parseError=!0),this.state="special authority ignore slashes"):N===f("/")?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},TA.prototype["parse special authority slashes"]=function(N){return N===f("/")&&this.input[this.pointer+1]===f("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},TA.prototype["parse special authority ignore slashes"]=function(N){return N!==f("/")&&N!==f("\\")?(this.state="authority",--this.pointer):this.parseError=!0,!0},TA.prototype["parse authority"]=function(N,z){if(N===f("@")){this.parseError=!0,this.atFlag&&(this.buffer=`%40${this.buffer}`),this.atFlag=!0;const tA=_(this.buffer);for(let aA=0;aA<tA;++aA){const uA=this.buffer.codePointAt(aA);if(uA===f(":")&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const gA=n(uA,d);this.passwordTokenSeenFlag?this.url.password+=gA:this.url.username+=gA}this.buffer=""}else if(isNaN(N)||N===f("/")||N===f("?")||N===f("#")||H(this.url)&&N===f("\\")){if(this.atFlag&&this.buffer==="")return this.parseError=!0,y;this.pointer-=_(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=z;return!0},TA.prototype["parse hostname"]=TA.prototype["parse host"]=function(N,z){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(N===f(":")&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,y;if(this.stateOverride==="hostname")return!1;const tA=D(this.buffer,M(this.url));if(tA===y)return y;this.url.host=tA,this.buffer="",this.state="port"}else if(isNaN(N)||N===f("/")||N===f("?")||N===f("#")||H(this.url)&&N===f("\\")){if(--this.pointer,H(this.url)&&this.buffer==="")return this.parseError=!0,y;if(this.stateOverride&&this.buffer===""&&(vA(this.url)||this.url.port!==null))return this.parseError=!0,!1;const tA=D(this.buffer,M(this.url));if(tA===y)return y;if(this.url.host=tA,this.buffer="",this.state="path start",this.stateOverride)return!1}else N===f("[")?this.arrFlag=!0:N===f("]")&&(this.arrFlag=!1),this.buffer+=z;return!0},TA.prototype["parse port"]=function(N,z){if(e.isASCIIDigit(N))this.buffer+=z;else if(isNaN(N)||N===f("/")||N===f("?")||N===f("#")||H(this.url)&&N===f("\\")||this.stateOverride){if(this.buffer!==""){const tA=parseInt(this.buffer);if(tA>2**16-1)return this.parseError=!0,y;this.url.port=tA===b(this.url.scheme)?null:tA,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,y;return!0};const ie=new Set([f("/"),f("\\"),f("?"),f("#")]);function k(O,N){const z=O.length-N;return z>=2&&w(O[N],O[N+1])&&(z===2||ie.has(O[N+2]))}TA.prototype["parse file"]=function(N){return this.url.scheme="file",this.url.host="",N===f("/")||N===f("\\")?(N===f("\\")&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,N===f("?")?(this.url.query="",this.state="query"):N===f("#")?(this.url.fragment="",this.state="fragment"):isNaN(N)||(this.url.query=null,k(this.input,this.pointer)?(this.parseError=!0,this.url.path=[]):lA(this.url),this.state="path",--this.pointer)):(this.state="path",--this.pointer),!0},TA.prototype["parse file slash"]=function(N){return N===f("/")||N===f("\\")?(N===f("\\")&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(!k(this.input,this.pointer)&&T(this.base.path[0])&&this.url.path.push(this.base.path[0]),this.url.host=this.base.host),this.state="path",--this.pointer),!0},TA.prototype["parse file host"]=function(N,z){if(isNaN(N)||N===f("/")||N===f("\\")||N===f("?")||N===f("#"))if(--this.pointer,!this.stateOverride&&L(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let tA=D(this.buffer,M(this.url));if(tA===y)return y;if(tA==="localhost"&&(tA=""),this.url.host=tA,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=z;return!0},TA.prototype["parse path start"]=function(N){return H(this.url)?(N===f("\\")&&(this.parseError=!0),this.state="path",N!==f("/")&&N!==f("\\")&&--this.pointer):!this.stateOverride&&N===f("?")?(this.url.query="",this.state="query"):!this.stateOverride&&N===f("#")?(this.url.fragment="",this.state="fragment"):N!==void 0?(this.state="path",N!==f("/")&&--this.pointer):this.stateOverride&&this.url.host===null&&this.url.path.push(""),!0},TA.prototype["parse path"]=function(N){return isNaN(N)||N===f("/")||H(this.url)&&N===f("\\")||!this.stateOverride&&(N===f("?")||N===f("#"))?(H(this.url)&&N===f("\\")&&(this.parseError=!0),E(this.buffer)?(lA(this.url),N!==f("/")&&!(H(this.url)&&N===f("\\"))&&this.url.path.push("")):m(this.buffer)&&N!==f("/")&&!(H(this.url)&&N===f("\\"))?this.url.path.push(""):m(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&L(this.buffer)&&(this.buffer=`${this.buffer[0]}:`),this.url.path.push(this.buffer)),this.buffer="",N===f("?")&&(this.url.query="",this.state="query"),N===f("#")&&(this.url.fragment="",this.state="fragment")):(N===f("%")&&(!e.isASCIIHex(this.input[this.pointer+1])||!e.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=n(N,h)),!0},TA.prototype["parse opaque path"]=function(N){return N===f("?")?(this.url.query="",this.state="query"):N===f("#")?(this.url.fragment="",this.state="fragment"):(!isNaN(N)&&N!==f("%")&&(this.parseError=!0),N===f("%")&&(!e.isASCIIHex(this.input[this.pointer+1])||!e.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(N)||(this.url.path+=n(N,o))),!0},TA.prototype["parse query"]=function(N,z){if((!H(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8"),!this.stateOverride&&N===f("#")||isNaN(N)){const tA=H(this.url)?c:l;this.url.query+=s(this.buffer,tA),this.buffer="",N===f("#")&&(this.url.fragment="",this.state="fragment")}else isNaN(N)||(N===f("%")&&(!e.isASCIIHex(this.input[this.pointer+1])||!e.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=z);return!0},TA.prototype["parse fragment"]=function(N){return isNaN(N)||(N===f("%")&&(!e.isASCIIHex(this.input[this.pointer+1])||!e.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=n(N,u)),!0};function j(O,N){let z=`${O.scheme}:`;return O.host!==null&&(z+="//",(O.username!==""||O.password!=="")&&(z+=O.username,O.password!==""&&(z+=`:${O.password}`),z+="@"),z+=Y(O.host),O.port!==null&&(z+=`:${O.port}`)),O.host===null&&!bA(O)&&O.path.length>1&&O.path[0]===""&&(z+="/."),z+=W(O),O.query!==null&&(z+=`?${O.query}`),!N&&O.fragment!==null&&(z+=`#${O.fragment}`),z}function eA(O){let N=`${O.scheme}://`;return N+=Y(O.host),O.port!==null&&(N+=`:${O.port}`),N}function W(O){if(bA(O))return O.path;let N="";for(const z of O.path)N+=`/${z}`;return N}r.exports.serializeURL=j,r.exports.serializePath=W,r.exports.serializeURLOrigin=function(O){switch(O.scheme){case"blob":{const N=r.exports.parseURL(W(O));return N===null||N.scheme!=="http"&&N.scheme!=="https"?"null":r.exports.serializeURLOrigin(N)}case"ftp":case"http":case"https":case"ws":case"wss":return eA({scheme:O.scheme,host:O.host,port:O.port});case"file":return"null";default:return"null"}},r.exports.basicURLParse=function(O,N){N===void 0&&(N={});const z=new TA(O,N.baseURL,N.encodingOverride,N.url,N.stateOverride);return z.failure?null:z.url},r.exports.setTheUsername=function(O,N){O.username=s(N,d)},r.exports.setThePassword=function(O,N){O.password=s(N,d)},r.exports.serializeHost=Y,r.exports.cannotHaveAUsernamePasswordPort=BA,r.exports.hasAnOpaquePath=bA,r.exports.serializeInteger=function(O){return String(O)},r.exports.parseURL=function(O,N){return N===void 0&&(N={}),r.exports.basicURLParse(O,{baseURL:N.baseURL,encodingOverride:N.encodingOverride})}})(tC);var _C=tC.exports,md,im;function SC(){if(im)return md;im=1;const{utf8Encode:r,utf8DecodeWithoutBOM:A}=up,{percentDecodeBytes:e,utf8PercentEncodeString:t,isURLEncodedPercentEncode:i}=hp;function n(h){return h.codePointAt(0)}function s(h){const d=l(h,n("&")),f=[];for(const p of d){if(p.length===0)continue;let y,_;const g=p.indexOf(n("="));g>=0?(y=p.slice(0,g),_=p.slice(g+1)):(y=p,_=new Uint8Array(0)),y=c(y,43,32),_=c(_,43,32);const m=A(e(y)),E=A(e(_));f.push([m,E])}return f}function o(h){return s(r(h))}function u(h,d=void 0){let f="utf-8";d!==void 0&&(f=d);let p="";for(const[y,_]of h.entries()){const g=t(_[0],i,!0);let m=_[1];_.length>2&&_[2]!==void 0&&(_[2]==="hidden"&&g==="_charset_"?m=f:_[2]==="file"&&(m=m.name)),m=t(m,i,!0),y!==0&&(p+="&"),p+=`${g}=${m}`}return p}function l(h,d){const f=[];let p=0,y=h.indexOf(d);for(;y>=0;)f.push(h.slice(p,y)),p=y+1,y=h.indexOf(d,p);return p!==h.length&&f.push(h.slice(p)),f}function c(h,d,f){let p=h.indexOf(d);for(;p>=0;)h[p]=f,p=h.indexOf(d,p+1);return h}return md={parseUrlencodedString:o,serializeUrlencoded:u},md}var dp={},vC={};const nm=G1,al=tp;vC.convert=(r,A,{context:e="The provided value"}={})=>{if(typeof A!="function")throw new r.TypeError(e+" is not a function");function t(...i){const n=al.tryWrapperForImpl(this);let s;for(let o=0;o<i.length;o++)i[o]=al.tryWrapperForImpl(i[o]);return s=Reflect.apply(A,n,i),s=nm.any(s,{context:e,globals:r}),s}return t.construct=(...i)=>{for(let s=0;s<i.length;s++)i[s]=al.tryWrapperForImpl(i[s]);let n=Reflect.construct(A,i);return n=nm.any(n,{context:e,globals:r}),n},t[al.wrapperSymbol]=A,t.objectReference=A,t};var yd={},sm;function j5(){if(sm)return yd;sm=1;const r=SC();return yd.implementation=class{constructor(e,t,{doNotStripQMark:i=!1}){let n=t[0];if(this._list=[],this._url=null,!i&&typeof n=="string"&&n[0]==="?"&&(n=n.slice(1)),Array.isArray(n))for(const s of n){if(s.length!==2)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([s[0],s[1]])}else if(typeof n=="object"&&Object.getPrototypeOf(n)===null)for(const s of Object.keys(n)){const o=n[s];this._list.push([s,o])}else this._list=r.parseUrlencodedString(n)}_updateSteps(){if(this._url!==null){let e=r.serializeUrlencoded(this._list);e===""&&(e=null),this._url._url.query=e,e===null&&this._url._potentiallyStripTrailingSpacesFromAnOpaquePath()}}get size(){return this._list.length}append(e,t){this._list.push([e,t]),this._updateSteps()}delete(e,t){let i=0;for(;i<this._list.length;)this._list[i][0]===e&&(t===void 0||this._list[i][1]===t)?this._list.splice(i,1):i++;this._updateSteps()}get(e){for(const t of this._list)if(t[0]===e)return t[1];return null}getAll(e){const t=[];for(const i of this._list)i[0]===e&&t.push(i[1]);return t}has(e,t){for(const i of this._list)if(i[0]===e&&(t===void 0||i[1]===t))return!0;return!1}set(e,t){let i=!1,n=0;for(;n<this._list.length;)this._list[n][0]===e?i?this._list.splice(n,1):(i=!0,this._list[n][1]=t,n++):n++;i||this._list.push([e,t]),this._updateSteps()}sort(){this._list.sort((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return r.serializeUrlencoded(this._list)}},yd}(function(r){const A=G1,e=tp,t=vC,i=e.newObjectInRealm,n=e.implSymbol,s=e.ctorRegistrySymbol,o="URLSearchParams";r.is=h=>e.isObject(h)&&e.hasOwn(h,n)&&h[n]instanceof c.implementation,r.isImpl=h=>e.isObject(h)&&h instanceof c.implementation,r.convert=(h,d,{context:f="The provided value"}={})=>{if(r.is(d))return e.implForWrapper(d);throw new h.TypeError(`${f} is not of type 'URLSearchParams'.`)},r.createDefaultIterator=(h,d,f)=>{const y=h[s]["URLSearchParams Iterator"],_=Object.create(y);return Object.defineProperty(_,e.iterInternalSymbol,{value:{target:d,kind:f,index:0},configurable:!0}),_};function u(h,d){let f;return d!==void 0&&(f=d.prototype),e.isObject(f)||(f=h[s].URLSearchParams.prototype),Object.create(f)}r.create=(h,d,f)=>{const p=u(h);return r.setup(p,h,d,f)},r.createImpl=(h,d,f)=>{const p=r.create(h,d,f);return e.implForWrapper(p)},r._internalSetup=(h,d)=>{},r.setup=(h,d,f=[],p={})=>(p.wrapper=h,r._internalSetup(h,d),Object.defineProperty(h,n,{value:new c.implementation(d,f,p),configurable:!0}),h[n][e.wrapperSymbol]=h,c.init&&c.init(h[n]),h),r.new=(h,d)=>{const f=u(h,d);return r._internalSetup(f,h),Object.defineProperty(f,n,{value:Object.create(c.implementation.prototype),configurable:!0}),f[n][e.wrapperSymbol]=f,c.init&&c.init(f[n]),f[n]};const l=new Set(["Window","Worker"]);r.install=(h,d)=>{if(!d.some(y=>l.has(y)))return;const f=e.initCtorRegistry(h);class p{constructor(){const _=[];{let g=arguments[0];if(g!==void 0)if(e.isObject(g))if(g[Symbol.iterator]!==void 0)if(e.isObject(g)){const m=[],E=g;for(let w of E){if(e.isObject(w)){const L=[],T=w;for(let R of T)R=A.USVString(R,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element",globals:h}),L.push(R);w=L}else throw new h.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");m.push(w)}g=m}else throw new h.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");else if(e.isObject(g)){const m=Object.create(null);for(const E of Reflect.ownKeys(g)){const w=Object.getOwnPropertyDescriptor(g,E);if(w&&w.enumerable){let L=E;L=A.USVString(L,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key",globals:h});let T=g[E];T=A.USVString(T,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value",globals:h}),m[L]=T}}g=m}else throw new h.TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");else g=A.USVString(g,{context:"Failed to construct 'URLSearchParams': parameter 1",globals:h});else g="";_.push(g)}return r.setup(Object.create(new.target.prototype),h,_)}append(_,g){const m=this!==null&&this!==void 0?this:h;if(!r.is(m))throw new h.TypeError("'append' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new h.TypeError(`Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const E=[];{let w=arguments[0];w=A.USVString(w,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1",globals:h}),E.push(w)}{let w=arguments[1];w=A.USVString(w,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2",globals:h}),E.push(w)}return e.tryWrapperForImpl(m[n].append(...E))}delete(_){const g=this!==null&&this!==void 0?this:h;if(!r.is(g))throw new h.TypeError("'delete' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new h.TypeError(`Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const m=[];{let E=arguments[0];E=A.USVString(E,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1",globals:h}),m.push(E)}{let E=arguments[1];E!==void 0&&(E=A.USVString(E,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 2",globals:h})),m.push(E)}return e.tryWrapperForImpl(g[n].delete(...m))}get(_){const g=this!==null&&this!==void 0?this:h;if(!r.is(g))throw new h.TypeError("'get' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new h.TypeError(`Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const m=[];{let E=arguments[0];E=A.USVString(E,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1",globals:h}),m.push(E)}return g[n].get(...m)}getAll(_){const g=this!==null&&this!==void 0?this:h;if(!r.is(g))throw new h.TypeError("'getAll' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new h.TypeError(`Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const m=[];{let E=arguments[0];E=A.USVString(E,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1",globals:h}),m.push(E)}return e.tryWrapperForImpl(g[n].getAll(...m))}has(_){const g=this!==null&&this!==void 0?this:h;if(!r.is(g))throw new h.TypeError("'has' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new h.TypeError(`Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const m=[];{let E=arguments[0];E=A.USVString(E,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1",globals:h}),m.push(E)}{let E=arguments[1];E!==void 0&&(E=A.USVString(E,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 2",globals:h})),m.push(E)}return g[n].has(...m)}set(_,g){const m=this!==null&&this!==void 0?this:h;if(!r.is(m))throw new h.TypeError("'set' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new h.TypeError(`Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const E=[];{let w=arguments[0];w=A.USVString(w,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1",globals:h}),E.push(w)}{let w=arguments[1];w=A.USVString(w,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2",globals:h}),E.push(w)}return e.tryWrapperForImpl(m[n].set(...E))}sort(){const _=this!==null&&this!==void 0?this:h;if(!r.is(_))throw new h.TypeError("'sort' called on an object that is not a valid instance of URLSearchParams.");return e.tryWrapperForImpl(_[n].sort())}toString(){const _=this!==null&&this!==void 0?this:h;if(!r.is(_))throw new h.TypeError("'toString' called on an object that is not a valid instance of URLSearchParams.");return _[n].toString()}keys(){if(!r.is(this))throw new h.TypeError("'keys' called on an object that is not a valid instance of URLSearchParams.");return r.createDefaultIterator(h,this,"key")}values(){if(!r.is(this))throw new h.TypeError("'values' called on an object that is not a valid instance of URLSearchParams.");return r.createDefaultIterator(h,this,"value")}entries(){if(!r.is(this))throw new h.TypeError("'entries' called on an object that is not a valid instance of URLSearchParams.");return r.createDefaultIterator(h,this,"key+value")}forEach(_){if(!r.is(this))throw new h.TypeError("'forEach' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new h.TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");_=t.convert(h,_,{context:"Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1"});const g=arguments[1];let m=Array.from(this[n]),E=0;for(;E<m.length;){const[w,L]=m[E].map(e.tryWrapperForImpl);_.call(g,L,w,this),m=Array.from(this[n]),E++}}get size(){const _=this!==null&&this!==void 0?this:h;if(!r.is(_))throw new h.TypeError("'get size' called on an object that is not a valid instance of URLSearchParams.");return _[n].size}}Object.defineProperties(p.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},size:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:p.prototype.entries,configurable:!0,writable:!0}}),f[o]=p,f["URLSearchParams Iterator"]=Object.create(f["%IteratorPrototype%"],{[Symbol.toStringTag]:{configurable:!0,value:"URLSearchParams Iterator"}}),e.define(f["URLSearchParams Iterator"],{next(){const y=this&&this[e.iterInternalSymbol];if(!y)throw new h.TypeError("next() called on a value that is not a URLSearchParams iterator object");const{target:_,kind:g,index:m}=y,E=Array.from(_[n]),w=E.length;if(m>=w)return i(h,{value:void 0,done:!0});const L=E[m];return y.index=m+1,i(h,e.iteratorResult(L.map(e.tryWrapperForImpl),g))}}),Object.defineProperty(h,o,{configurable:!0,writable:!0,value:p})};const c=j5()})(dp);var om;function W5(){if(om)return fd;om=1;const r=_C,A=SC(),e=dp;return fd.implementation=class{constructor(i,n){const s=n[0],o=n[1];let u=null;if(o!==void 0&&(u=r.basicURLParse(o),u===null))throw new TypeError(`Invalid base URL: ${o}`);const l=r.basicURLParse(s,{baseURL:u});if(l===null)throw new TypeError(`Invalid URL: ${s}`);const c=l.query!==null?l.query:"";this._url=l,this._query=e.createImpl(i,[c],{doNotStripQMark:!0}),this._query._url=this}static canParse(i,n){let s=null;return!(n!==void 0&&(s=r.basicURLParse(n),s===null)||r.basicURLParse(i,{baseURL:s})===null)}get href(){return r.serializeURL(this._url)}set href(i){const n=r.basicURLParse(i);if(n===null)throw new TypeError(`Invalid URL: ${i}`);this._url=n,this._query._list.splice(0);const{query:s}=n;s!==null&&(this._query._list=A.parseUrlencodedString(s))}get origin(){return r.serializeURLOrigin(this._url)}get protocol(){return`${this._url.scheme}:`}set protocol(i){r.basicURLParse(`${i}:`,{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(i){r.cannotHaveAUsernamePasswordPort(this._url)||r.setTheUsername(this._url,i)}get password(){return this._url.password}set password(i){r.cannotHaveAUsernamePasswordPort(this._url)||r.setThePassword(this._url,i)}get host(){const i=this._url;return i.host===null?"":i.port===null?r.serializeHost(i.host):`${r.serializeHost(i.host)}:${r.serializeInteger(i.port)}`}set host(i){r.hasAnOpaquePath(this._url)||r.basicURLParse(i,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":r.serializeHost(this._url.host)}set hostname(i){r.hasAnOpaquePath(this._url)||r.basicURLParse(i,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":r.serializeInteger(this._url.port)}set port(i){r.cannotHaveAUsernamePasswordPort(this._url)||(i===""?this._url.port=null:r.basicURLParse(i,{url:this._url,stateOverride:"port"}))}get pathname(){return r.serializePath(this._url)}set pathname(i){r.hasAnOpaquePath(this._url)||(this._url.path=[],r.basicURLParse(i,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":`?${this._url.query}`}set search(i){const n=this._url;if(i===""){n.query=null,this._query._list=[],this._potentiallyStripTrailingSpacesFromAnOpaquePath();return}const s=i[0]==="?"?i.substring(1):i;n.query="",r.basicURLParse(s,{url:n,stateOverride:"query"}),this._query._list=A.parseUrlencodedString(s)}get searchParams(){return this._query}get hash(){return this._url.fragment===null||this._url.fragment===""?"":`#${this._url.fragment}`}set hash(i){if(i===""){this._url.fragment=null,this._potentiallyStripTrailingSpacesFromAnOpaquePath();return}const n=i[0]==="#"?i.substring(1):i;this._url.fragment="",r.basicURLParse(n,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}_potentiallyStripTrailingSpacesFromAnOpaquePath(){r.hasAnOpaquePath(this._url)&&this._url.fragment===null&&this._url.query===null&&(this._url.path=this._url.path.replace(/\u0020+$/u,""))}},fd}(function(r){const A=G1,e=tp,t=e.implSymbol,i=e.ctorRegistrySymbol,n="URL";r.is=l=>e.isObject(l)&&e.hasOwn(l,t)&&l[t]instanceof u.implementation,r.isImpl=l=>e.isObject(l)&&l instanceof u.implementation,r.convert=(l,c,{context:h="The provided value"}={})=>{if(r.is(c))return e.implForWrapper(c);throw new l.TypeError(`${h} is not of type 'URL'.`)};function s(l,c){let h;return c!==void 0&&(h=c.prototype),e.isObject(h)||(h=l[i].URL.prototype),Object.create(h)}r.create=(l,c,h)=>{const d=s(l);return r.setup(d,l,c,h)},r.createImpl=(l,c,h)=>{const d=r.create(l,c,h);return e.implForWrapper(d)},r._internalSetup=(l,c)=>{},r.setup=(l,c,h=[],d={})=>(d.wrapper=l,r._internalSetup(l,c),Object.defineProperty(l,t,{value:new u.implementation(c,h,d),configurable:!0}),l[t][e.wrapperSymbol]=l,u.init&&u.init(l[t]),l),r.new=(l,c)=>{const h=s(l,c);return r._internalSetup(h,l),Object.defineProperty(h,t,{value:Object.create(u.implementation.prototype),configurable:!0}),h[t][e.wrapperSymbol]=h,u.init&&u.init(h[t]),h[t]};const o=new Set(["Window","Worker"]);r.install=(l,c)=>{if(!c.some(f=>o.has(f)))return;const h=e.initCtorRegistry(l);class d{constructor(p){if(arguments.length<1)throw new l.TypeError(`Failed to construct 'URL': 1 argument required, but only ${arguments.length} present.`);const y=[];{let _=arguments[0];_=A.USVString(_,{context:"Failed to construct 'URL': parameter 1",globals:l}),y.push(_)}{let _=arguments[1];_!==void 0&&(_=A.USVString(_,{context:"Failed to construct 'URL': parameter 2",globals:l})),y.push(_)}return r.setup(Object.create(new.target.prototype),l,y)}toJSON(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'toJSON' called on an object that is not a valid instance of URL.");return p[t].toJSON()}get href(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get href' called on an object that is not a valid instance of URL.");return p[t].href}set href(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set href' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'href' property on 'URL': The provided value",globals:l}),y[t].href=p}toString(){const p=this;if(!r.is(p))throw new l.TypeError("'toString' called on an object that is not a valid instance of URL.");return p[t].href}get origin(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get origin' called on an object that is not a valid instance of URL.");return p[t].origin}get protocol(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get protocol' called on an object that is not a valid instance of URL.");return p[t].protocol}set protocol(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set protocol' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'protocol' property on 'URL': The provided value",globals:l}),y[t].protocol=p}get username(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get username' called on an object that is not a valid instance of URL.");return p[t].username}set username(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set username' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'username' property on 'URL': The provided value",globals:l}),y[t].username=p}get password(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get password' called on an object that is not a valid instance of URL.");return p[t].password}set password(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set password' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'password' property on 'URL': The provided value",globals:l}),y[t].password=p}get host(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get host' called on an object that is not a valid instance of URL.");return p[t].host}set host(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set host' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'host' property on 'URL': The provided value",globals:l}),y[t].host=p}get hostname(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get hostname' called on an object that is not a valid instance of URL.");return p[t].hostname}set hostname(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set hostname' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'hostname' property on 'URL': The provided value",globals:l}),y[t].hostname=p}get port(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get port' called on an object that is not a valid instance of URL.");return p[t].port}set port(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set port' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'port' property on 'URL': The provided value",globals:l}),y[t].port=p}get pathname(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get pathname' called on an object that is not a valid instance of URL.");return p[t].pathname}set pathname(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set pathname' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'pathname' property on 'URL': The provided value",globals:l}),y[t].pathname=p}get search(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get search' called on an object that is not a valid instance of URL.");return p[t].search}set search(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set search' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'search' property on 'URL': The provided value",globals:l}),y[t].search=p}get searchParams(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get searchParams' called on an object that is not a valid instance of URL.");return e.getSameObject(this,"searchParams",()=>e.tryWrapperForImpl(p[t].searchParams))}get hash(){const p=this!==null&&this!==void 0?this:l;if(!r.is(p))throw new l.TypeError("'get hash' called on an object that is not a valid instance of URL.");return p[t].hash}set hash(p){const y=this!==null&&this!==void 0?this:l;if(!r.is(y))throw new l.TypeError("'set hash' called on an object that is not a valid instance of URL.");p=A.USVString(p,{context:"Failed to set the 'hash' property on 'URL': The provided value",globals:l}),y[t].hash=p}static canParse(p){if(arguments.length<1)throw new l.TypeError(`Failed to execute 'canParse' on 'URL': 1 argument required, but only ${arguments.length} present.`);const y=[];{let _=arguments[0];_=A.USVString(_,{context:"Failed to execute 'canParse' on 'URL': parameter 1",globals:l}),y.push(_)}{let _=arguments[1];_!==void 0&&(_=A.USVString(_,{context:"Failed to execute 'canParse' on 'URL': parameter 2",globals:l})),y.push(_)}return u.implementation.canParse(...y)}}Object.defineProperties(d.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),Object.defineProperties(d,{canParse:{enumerable:!0}}),h[n]=d,Object.defineProperty(l,n,{configurable:!0,writable:!0,value:d}),c.includes("Window")&&Object.defineProperty(l,"webkitURL",{configurable:!0,writable:!0,value:d})};const u=W5()})(AC);const Y5=AC,$5=dp;ep.URL=Y5;ep.URLSearchParams=$5;const{URL:K5,URLSearchParams:q5}=ep,si=_C,wC=hp,V1={Array,Object,Promise,String,TypeError};K5.install(V1,["Window"]);q5.install(V1,["Window"]);xt.URL=V1.URL;xt.URLSearchParams=V1.URLSearchParams;xt.parseURL=si.parseURL;xt.basicURLParse=si.basicURLParse;xt.serializeURL=si.serializeURL;xt.serializePath=si.serializePath;xt.serializeHost=si.serializeHost;xt.serializeInteger=si.serializeInteger;xt.serializeURLOrigin=si.serializeURLOrigin;xt.setTheUsername=si.setTheUsername;xt.setThePassword=si.setThePassword;xt.cannotHaveAUsernamePasswordPort=si.cannotHaveAUsernamePasswordPort;xt.hasAnOpaquePath=si.hasAnOpaquePath;xt.percentDecodeString=wC.percentDecodeString;xt.percentDecodeBytes=wC.percentDecodeBytes;var ss={},am;function X5(){if(am)return ss;am=1;var r=Sr&&Sr.__createBinding||(Object.create?function(s,o,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(o,u);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,l,c)}:function(s,o,u,l){l===void 0&&(l=u),s[l]=o[u]}),A=Sr&&Sr.__setModuleDefault||(Object.create?function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}:function(s,o){s.default=o}),e=Sr&&Sr.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var u in s)u!=="default"&&Object.prototype.hasOwnProperty.call(s,u)&&r(o,s,u);return A(o,s),o};Object.defineProperty(ss,"__esModule",{value:!0}),ss.redactConnectionString=ss.redactValidConnectionString=void 0;const t=e(bC());function i(s,o){var u,l;const c=s.clone(),h=(u=o==null?void 0:o.replacementString)!==null&&u!==void 0?u:"_credentials_",d=(l=o==null?void 0:o.redactUsernames)!==null&&l!==void 0?l:!0;if((c.username||c.password)&&d?(c.username=h,c.password=""):c.password&&(c.password=h),c.searchParams.has("authMechanismProperties")){const f=new t.CommaAndColonSeparatedRecord(c.searchParams.get("authMechanismProperties"));f.get("AWS_SESSION_TOKEN")&&(f.set("AWS_SESSION_TOKEN",h),c.searchParams.set("authMechanismProperties",f.toString()))}return c.searchParams.has("tlsCertificateKeyFilePassword")&&c.searchParams.set("tlsCertificateKeyFilePassword",h),c.searchParams.has("proxyUsername")&&d&&c.searchParams.set("proxyUsername",h),c.searchParams.has("proxyPassword")&&c.searchParams.set("proxyPassword",h),c}ss.redactValidConnectionString=i;function n(s,o){var u,l;const c=(u=o==null?void 0:o.replacementString)!==null&&u!==void 0?u:"<credentials>",h=(l=o==null?void 0:o.redactUsernames)!==null&&l!==void 0?l:!0;let d;try{d=new t.default(s)}catch{}if(d)return o={...o,replacementString:"___credentials___"},d.redact(o).toString().replace(/___credentials___/g,c);const f=c,p=[y=>y.replace(h?/(\/\/)(.*)(@)/g:/(\/\/[^@]*:)(.*)(@)/g,`$1${f}$3`),y=>y.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi,`$1${f}`),y=>y.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi,`$1${f}`),y=>h?y.replace(/(proxyUsername=)([^&]+)/gi,`$1${f}`):y,y=>y.replace(/(proxyPassword=)([^&]+)/gi,`$1${f}`)];for(const y of p)s=y(s);return s}return ss.redactConnectionString=n,ss}var um;function bC(){return um||(um=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.CommaAndColonSeparatedRecord=r.ConnectionString=r.redactConnectionString=void 0;const A=xt,e=X5();Object.defineProperty(r,"redactConnectionString",{enumerable:!0,get:function(){return e.redactConnectionString}});const t="__this_is_a_placeholder__";function i(d){return d.startsWith("mongodb://")||d.startsWith("mongodb+srv://")}const n=/^(?<protocol>[^/]+):\/\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/;class s extends Map{delete(f){return super.delete(this._normalizeKey(f))}get(f){return super.get(this._normalizeKey(f))}has(f){return super.has(this._normalizeKey(f))}set(f,p){return super.set(this._normalizeKey(f),p)}_normalizeKey(f){f=`${f}`;for(const p of this.keys())if(p.toLowerCase()===f.toLowerCase()){f=p;break}return f}}function o(d){return class extends d{append(p,y){return super.append(this._normalizeKey(p),y)}delete(p){return super.delete(this._normalizeKey(p))}get(p){return super.get(this._normalizeKey(p))}getAll(p){return super.getAll(this._normalizeKey(p))}has(p){return super.has(this._normalizeKey(p))}set(p,y){return super.set(this._normalizeKey(p),y)}keys(){return super.keys()}values(){return super.values()}entries(){return super.entries()}[Symbol.iterator](){return super[Symbol.iterator]()}_normalizeKey(p){return s.prototype._normalizeKey.call(this,p)}}}class u extends A.URL{}class l extends Error{get name(){return"MongoParseError"}}class c extends u{constructor(f,p={}){var y;const{looseValidation:_}=p;if(!_&&!i(f))throw new l('Invalid scheme, expected connection string to start with "mongodb://" or "mongodb+srv://"');const g=f.match(n);if(!g)throw new l(`Invalid connection string "${f}"`);const{protocol:m,username:E,password:w,hosts:L,rest:T}=(y=g.groups)!==null&&y!==void 0?y:{};if(!_){if(!m||!L)throw new l(`Protocol and host list are required in "${f}"`);try{decodeURIComponent(E??""),decodeURIComponent(w??"")}catch(F){throw new l(F.message)}const P=/[:/?#[\]@]/gi;if(E!=null&&E.match(P))throw new l(`Username contains unescaped characters ${E}`);if(!E||!w){const F=f.replace(`${m}://`,"");if(F.startsWith("@")||F.startsWith(":"))throw new l("URI contained empty userinfo section")}if(w!=null&&w.match(P))throw new l("Password contains unescaped characters")}let R="";typeof E=="string"&&(R+=E),typeof w=="string"&&(R+=`:${w}`),R&&(R+="@");try{super(`${m.toLowerCase()}://${R}${t}${T}`)}catch(P){throw _&&new c(f,{...p,looseValidation:!1}),typeof P.message=="string"&&(P.message=P.message.replace(t,L)),P}if(this._hosts=L.split(","),!_){if(this.isSRV&&this.hosts.length!==1)throw new l("mongodb+srv URI cannot have multiple service names");if(this.isSRV&&this.hosts.some(P=>P.includes(":")))throw new l("mongodb+srv URI cannot have port number")}this.pathname||(this.pathname="/"),Object.setPrototypeOf(this.searchParams,o(this.searchParams.constructor).prototype)}get host(){return t}set host(f){throw new Error("No single host for connection string")}get hostname(){return t}set hostname(f){throw new Error("No single host for connection string")}get port(){return""}set port(f){throw new Error("No single host for connection string")}get href(){return this.toString()}set href(f){throw new Error("Cannot set href for connection strings")}get isSRV(){return this.protocol.includes("srv")}get hosts(){return this._hosts}set hosts(f){this._hosts=f}toString(){return super.toString().replace(t,this.hosts.join(","))}clone(){return new c(this.toString(),{looseValidation:!0})}redact(f){return(0,e.redactValidConnectionString)(this,f)}typedSearchParams(){return this.searchParams}[Symbol.for("nodejs.util.inspect.custom")](){const{href:f,origin:p,protocol:y,username:_,password:g,hosts:m,pathname:E,search:w,searchParams:L,hash:T}=this;return{href:f,origin:p,protocol:y,username:_,password:g,hosts:m,pathname:E,search:w,searchParams:L,hash:T}}}r.ConnectionString=c;class h extends s{constructor(f){super();for(const p of(f??"").split(",")){if(!p)continue;const y=p.indexOf(":");y===-1?this.set(p,""):this.set(p.slice(0,y),p.slice(y+1))}}toString(){return[...this].map(f=>f.join(":")).join(",")}}r.CommaAndColonSeparatedRecord=h,r.default=c}(dd)),dd}var An={};const J5="mongodb",Z5="6.3.0",AM="The official MongoDB driver for Node.js",eM="lib/index.js",tM=["lib","src","etc/prepare.js","mongodb.d.ts","tsconfig.json"],rM="mongodb.d.ts",iM={type:"git",url:"git@github.com:mongodb/node-mongodb-native.git"},nM=["mongodb","driver","official"],sM={name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},oM={"@mongodb-js/saslprep":"^1.1.0",bson:"^6.2.0","mongodb-connection-string-url":"^3.0.0"},aM={"@aws-sdk/credential-providers":"^3.188.0","@mongodb-js/zstd":"^1.1.0","gcp-metadata":"^5.2.0",kerberos:"^2.0.1","mongodb-client-encryption":">=6.0.0 <7",snappy:"^7.2.2",socks:"^2.7.1"},uM={"@aws-sdk/credential-providers":{optional:!0},"@mongodb-js/zstd":{optional:!0},kerberos:{optional:!0},snappy:{optional:!0},"mongodb-client-encryption":{optional:!0},"gcp-metadata":{optional:!0},socks:{optional:!0}},lM={"@iarna/toml":"^2.2.5","@istanbuljs/nyc-config-typescript":"^1.0.2","@microsoft/api-extractor":"^7.36.4","@microsoft/tsdoc-config":"^0.16.2","@mongodb-js/zstd":"^1.1.0","@octokit/core":"^4.2.4","@types/chai":"^4.3.5","@types/chai-subset":"^1.3.3","@types/express":"^4.17.17","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.1","@types/node":"^20.5.9","@types/saslprep":"^1.0.1","@types/semver":"^7.5.0","@types/sinon":"^10.0.16","@types/sinon-chai":"^3.2.9","@types/whatwg-url":"^11.0.0","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0",chai:"^4.3.7","chai-subset":"^1.6.0",chalk:"^4.1.2",eslint:"^8.48.0","eslint-config-prettier":"^8.10.0","eslint-plugin-import":"^2.28.1","eslint-plugin-prettier":"^4.2.1","eslint-plugin-simple-import-sort":"^10.0.0","eslint-plugin-tsdoc":"^0.2.17","eslint-plugin-unused-imports":"^2.0.0",express:"^4.18.2","gcp-metadata":"^5.2.0","js-yaml":"^4.1.0",mocha:"^10.2.0","mocha-sinon":"^2.1.2","mongodb-client-encryption":"^6.0.0","mongodb-legacy":"^6.0.0",nyc:"^15.1.0",prettier:"^2.8.8",semver:"^7.5.4",sinon:"^15.2.0","sinon-chai":"^3.7.0",snappy:"^7.2.2",socks:"^2.7.1","source-map-support":"^0.5.21","ts-node":"^10.9.1",tsd:"^0.28.1",typescript:"^5.0.4","typescript-cached-transpile":"^0.0.6","v8-heapsnapshot":"^1.3.1",yargs:"^17.7.2"},cM="Apache-2.0",hM={node:">=16.20.1"},dM={url:"https://jira.mongodb.org/projects/NODE/issues/"},fM="https://github.com/mongodb/node-mongodb-native",pM={"build:evergreen":"node .evergreen/generate_evergreen_tasks.js","build:ts":"node ./node_modules/typescript/bin/tsc","build:dts":"npm run build:ts && api-extractor run && node etc/clean_definition_files.cjs && eslint mongodb.d.ts --fix","build:docs":"./etc/docs/build.ts","build:typedoc":"typedoc","build:nightly":"node ./.github/scripts/nightly.mjs","check:bench":"node test/benchmarks/driverBench","check:coverage":"nyc npm run test:all","check:integration-coverage":"nyc npm run check:test","check:lambda":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/handler.test.js","check:lambda:aws":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/aws_handler.test.js","check:lint":"npm run build:dts && npm run check:dts && npm run check:eslint && npm run check:tsd","check:eslint":"eslint -v && eslint --max-warnings=0 --ext '.js,.ts' src test","check:tsd":"tsd --version && tsd","check:dependencies":"mocha test/action/dependency.test.ts","check:dts":"node ./node_modules/typescript/bin/tsc --noEmit mongodb.d.ts && tsd","check:search-indexes":"nyc mocha --config test/mocha_mongodb.json test/manual/search-index-management.prose.test.ts","check:test":"mocha --config test/mocha_mongodb.json test/integration","check:unit":"mocha test/unit","check:ts":"node ./node_modules/typescript/bin/tsc -v && node ./node_modules/typescript/bin/tsc --noEmit","check:atlas":"mocha --config test/manual/mocharc.json test/manual/atlas_connectivity.test.js","check:drivers-atlas-testing":"mocha --config test/mocha_mongodb.json test/atlas/drivers_atlas_testing.test.ts","check:adl":"mocha --config test/mocha_mongodb.json test/manual/atlas-data-lake-testing","check:aws":"nyc mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_aws.test.ts","check:oidc":"mocha --config test/mocha_mongodb.json test/manual/mongodb_oidc.prose.test.ts","check:oidc-azure":"mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_oidc_azure.prose.test.ts","check:ocsp":"mocha --config test/manual/mocharc.json test/manual/ocsp_support.test.js","check:kerberos":"nyc mocha --config test/manual/mocharc.json test/manual/kerberos.test.ts","check:tls":"mocha --config test/manual/mocharc.json test/manual/tls_support.test.ts","check:ldap":"nyc mocha --config test/manual/mocharc.json test/manual/ldap.test.js","check:socks5":"mocha --config test/manual/mocharc.json test/manual/socks5.test.ts","check:csfle":"mocha --config test/mocha_mongodb.json test/integration/client-side-encryption","check:snappy":"mocha test/unit/assorted/snappy.test.js","fix:eslint":"npm run check:eslint -- --fix",prepare:"node etc/prepare.js","preview:docs":"ts-node etc/docs/preview.ts",test:"npm run check:lint && npm run test:all","test:all":"npm run check:unit && npm run check:test","update:docs":"npm run build:docs -- --yes"},gM={directory:"test/types",compilerOptions:{strict:!0,target:"esnext",module:"commonjs",moduleResolution:"node"}},mM={name:J5,version:Z5,description:AM,main:eM,files:tM,types:rM,repository:iM,keywords:nM,author:sM,dependencies:oM,peerDependencies:aM,peerDependenciesMeta:uM,devDependencies:lM,license:cM,engines:hM,bugs:dM,homepage:fM,scripts:pM,tsd:gM};Object.defineProperty(An,"__esModule",{value:!0});An.getFAASEnv=An.makeClientMetadata=An.LimitedSizeDocument=void 0;const Ka=zA,xc=zA,Go=Ce,lm=_A,cm=mM.version;class IC{constructor(A){this.maxSize=A,this.document=new Map,this.documentSize=5}ifItFitsItSits(A,e){const t=Go.BSON.serialize(new Map().set(A,e)).byteLength-5;return t+this.documentSize>this.maxSize?!1:(this.documentSize+=t,this.document.set(A,e),!0)}toObject(){return Go.BSON.deserialize(Go.BSON.serialize(this.document),{promoteLongs:!1,promoteBuffers:!1,promoteValues:!1,useBigInt64:!1})}}An.LimitedSizeDocument=IC;function yM(r){const A=new IC(512),{appName:e=""}=r;if(e.length>0){const c=Buffer.byteLength(e,"utf8")<=128?r.appName:Buffer.from(e,"utf8").subarray(0,128).toString("utf8");A.ifItFitsItSits("application",{name:c})}const{name:t="",version:i="",platform:n=""}=r.driverInfo,s={name:t.length>0?`nodejs|${t}`:"nodejs",version:i.length>0?`${cm}|${i}`:cm};if(!A.ifItFitsItSits("driver",s))throw new lm.MongoInvalidArgumentError("Unable to include driverInfo name and version, metadata cannot exceed 512 bytes");let o=EM();if(n.length>0&&(o=`${o}|${n}`),!A.ifItFitsItSits("platform",o))throw new lm.MongoInvalidArgumentError("Unable to include driverInfo platform, metadata cannot exceed 512 bytes");const u=new Map().set("name",xc.platform).set("architecture",xc.arch).set("version",Ka.release()).set("type",Ka.type());if(!A.ifItFitsItSits("os",u)){for(const c of u.keys())if(u.delete(c),u.size===0||A.ifItFitsItSits("os",u))break}const l=BC();if(l!=null&&!A.ifItFitsItSits("env",l)){for(const c of l.keys())if(l.delete(c),l.size===0||A.ifItFitsItSits("env",l))break}return A.toObject()}An.makeClientMetadata=yM;function BC(){const{AWS_EXECUTION_ENV:r="",AWS_LAMBDA_RUNTIME_API:A="",FUNCTIONS_WORKER_RUNTIME:e="",K_SERVICE:t="",FUNCTION_NAME:i="",VERCEL:n="",AWS_LAMBDA_FUNCTION_MEMORY_SIZE:s="",AWS_REGION:o="",FUNCTION_MEMORY_MB:u="",FUNCTION_REGION:l="",FUNCTION_TIMEOUT_SEC:c="",VERCEL_REGION:h=""}=xc.env,d=r.startsWith("AWS_Lambda_")||A.length>0,f=e.length>0,p=t.length>0||i.length>0,y=n.length>0,_=new Map;return y&&!(f||p)?(h.length>0&&_.set("region",h),_.set("name","vercel"),_):d&&!(f||p||y)?(o.length>0&&_.set("region",o),s.length>0&&Number.isInteger(+s)&&_.set("memory_mb",new Go.Int32(s)),_.set("name","aws.lambda"),_):f&&!(p||d||y)?(_.set("name","azure.func"),_):p&&!(f||d||y)?(l.length>0&&_.set("region",l),u.length>0&&Number.isInteger(+u)&&_.set("memory_mb",new Go.Int32(u)),c.length>0&&Number.isInteger(+c)&&_.set("timeout_sec",new Go.Int32(c)),_.set("name","gcp.func"),_):null}An.getFAASEnv=BC;function EM(){var r,A;return"Deno"in globalThis?`Deno v${typeof((r=Deno==null?void 0:Deno.version)==null?void 0:r.deno)=="string"?(A=Deno==null?void 0:Deno.version)==null?void 0:A.deno:"0.0.0-unknown"}, ${Ka.endianness()}`:"Bun"in globalThis?`Bun v${typeof(Bun==null?void 0:Bun.version)=="string"?Bun==null?void 0:Bun.version:"0.0.0-unknown"}, ${Ka.endianness()}`:`Node.js ${xc.version}, ${Ka.endianness()}`}var Ed={},er={},hm;function Q1(){if(hm)return er;hm=1,Object.defineProperty(er,"__esModule",{value:!0}),er.OpCompressedRequest=er.OpMsgResponse=er.OpMsgRequest=er.OpQueryResponse=er.OpQueryRequest=void 0;const r=Ce,A=_A,e=Ke,t=Nu(),i=JA;let n=0;const s=2,o=4,u=8,l=16,c=32,h=64,d=128,f=1,p=2,y=4,_=8;class g{constructor(b,v,C){this.databaseName=b,this.query=v;const x=`${b}.$cmd`;if(typeof b!="string")throw new A.MongoRuntimeError("Database name must be a string for a query");if(v==null)throw new A.MongoRuntimeError("A query document must be specified for query");if(x.indexOf("\0")!==-1)throw new A.MongoRuntimeError("Namespace cannot contain a null character");this.ns=x,this.numberToSkip=C.numberToSkip||0,this.numberToReturn=C.numberToReturn||0,this.returnFieldSelector=C.returnFieldSelector||void 0,this.requestId=C.requestId??g.getRequestId(),this.pre32Limit=C.pre32Limit,this.serializeFunctions=typeof C.serializeFunctions=="boolean"?C.serializeFunctions:!1,this.ignoreUndefined=typeof C.ignoreUndefined=="boolean"?C.ignoreUndefined:!1,this.maxBsonSize=C.maxBsonSize||1024*1024*16,this.checkKeys=typeof C.checkKeys=="boolean"?C.checkKeys:!1,this.batchSize=this.numberToReturn,this.tailable=!1,this.secondaryOk=typeof C.secondaryOk=="boolean"?C.secondaryOk:!1,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1}incRequestId(){this.requestId=n++}nextRequestId(){return n+1}static getRequestId(){return++n}toBin(){const b=[];let v=null,C=0;this.tailable&&(C|=s),this.secondaryOk&&(C|=o),this.oplogReplay&&(C|=u),this.noCursorTimeout&&(C|=l),this.awaitData&&(C|=c),this.exhaust&&(C|=h),this.partial&&(C|=d),this.batchSize!==this.numberToReturn&&(this.numberToReturn=this.batchSize);const x=Buffer.alloc(4*4+4+Buffer.byteLength(this.ns)+1+4+4);b.push(x);const S=r.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});b.push(S),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0&&(v=r.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),b.push(v));const B=x.length+S.length+(v?v.length:0);let D=4;return x[3]=B>>24&255,x[2]=B>>16&255,x[1]=B>>8&255,x[0]=B&255,x[D+3]=this.requestId>>24&255,x[D+2]=this.requestId>>16&255,x[D+1]=this.requestId>>8&255,x[D]=this.requestId&255,D=D+4,x[D+3]=0,x[D+2]=0,x[D+1]=0,x[D]=0,D=D+4,x[D+3]=i.OP_QUERY>>24&255,x[D+2]=i.OP_QUERY>>16&255,x[D+1]=i.OP_QUERY>>8&255,x[D]=i.OP_QUERY&255,D=D+4,x[D+3]=C>>24&255,x[D+2]=C>>16&255,x[D+1]=C>>8&255,x[D]=C&255,D=D+4,D=D+x.write(this.ns,D,"utf8")+1,x[D-1]=0,x[D+3]=this.numberToSkip>>24&255,x[D+2]=this.numberToSkip>>16&255,x[D+1]=this.numberToSkip>>8&255,x[D]=this.numberToSkip&255,D=D+4,x[D+3]=this.numberToReturn>>24&255,x[D+2]=this.numberToReturn>>16&255,x[D+1]=this.numberToReturn>>8&255,x[D]=this.numberToReturn&255,D=D+4,b}}er.OpQueryRequest=g;class m{constructor(b,v,C,x){this.documents=new Array(0),this.parsed=!1,this.raw=b,this.data=C,this.opts=x??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=v.length,this.requestId=v.requestId,this.responseTo=v.responseTo,this.opCode=v.opCode,this.fromCompressed=v.fromCompressed,this.useBigInt64=typeof this.opts.useBigInt64=="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs=="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues=="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers=="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp=="boolean"?this.opts.bsonRegExp:!1}isParsed(){return this.parsed}parse(b){if(this.parsed)return;b=b??{};const v=b.raw||!1,C=b.documentsReturnedIn||null,x=b.useBigInt64??this.opts.useBigInt64,S=b.promoteLongs??this.opts.promoteLongs,B=b.promoteValues??this.opts.promoteValues,D=b.promoteBuffers??this.opts.promoteBuffers,Q=b.bsonRegExp??this.opts.bsonRegExp;let Z;const AA={useBigInt64:x,promoteLongs:S,promoteValues:B,promoteBuffers:D,bsonRegExp:Q};this.index=20,this.responseFlags=this.data.readInt32LE(0),this.cursorId=new r.Long(this.data.readInt32LE(4),this.data.readInt32LE(8)),this.startingFrom=this.data.readInt32LE(12),this.numberReturned=this.data.readInt32LE(16),this.documents=new Array(this.numberReturned),this.cursorNotFound=(this.responseFlags&f)!==0,this.queryFailure=(this.responseFlags&p)!==0,this.shardConfigStale=(this.responseFlags&y)!==0,this.awaitCapable=(this.responseFlags&_)!==0;for(let Y=0;Y<this.numberReturned;Y++)Z=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,v?this.documents[Y]=this.data.slice(this.index,this.index+Z):this.documents[Y]=r.deserialize(this.data.slice(this.index,this.index+Z),AA),this.index=this.index+Z;if(this.documents.length===1&&C!=null&&v){const Y={};Y[C]=!0,AA.fieldsAsRaw=Y;const G=r.deserialize(this.documents[0],AA);this.documents=[G]}this.parsed=!0}}er.OpQueryResponse=m;const E=1,w=2,L=65536;class T{constructor(b,v,C){if(this.databaseName=b,this.command=v,this.options=C,v==null)throw new A.MongoInvalidArgumentError("Query document must be specified for query");this.command.$db=b,C.readPreference&&C.readPreference.mode!==e.ReadPreference.PRIMARY&&(this.command.$readPreference=C.readPreference.toJSON()),this.options=C??{},this.requestId=C.requestId?C.requestId:T.getRequestId(),this.serializeFunctions=typeof C.serializeFunctions=="boolean"?C.serializeFunctions:!1,this.ignoreUndefined=typeof C.ignoreUndefined=="boolean"?C.ignoreUndefined:!1,this.checkKeys=typeof C.checkKeys=="boolean"?C.checkKeys:!1,this.maxBsonSize=C.maxBsonSize||1024*1024*16,this.checksumPresent=!1,this.moreToCome=C.moreToCome||!1,this.exhaustAllowed=typeof C.exhaustAllowed=="boolean"?C.exhaustAllowed:!1}toBin(){const b=[];let v=0;this.checksumPresent&&(v|=E),this.moreToCome&&(v|=w),this.exhaustAllowed&&(v|=L);const C=Buffer.alloc(4*4+4);b.push(C);let x=C.length;const S=this.command;return x+=this.makeDocumentSegment(b,S),C.writeInt32LE(x,0),C.writeInt32LE(this.requestId,4),C.writeInt32LE(0,8),C.writeInt32LE(i.OP_MSG,12),C.writeUInt32LE(v,16),b}makeDocumentSegment(b,v){const C=Buffer.alloc(1);C[0]=0;const x=this.serializeBson(v);return b.push(C),b.push(x),C.length+x.length}serializeBson(b){return r.serialize(b,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}static getRequestId(){return n=n+1&2147483647,n}}er.OpMsgRequest=T;class R{constructor(b,v,C,x){this.parsed=!1,this.raw=b,this.data=C,this.opts=x??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=v.length,this.requestId=v.requestId,this.responseTo=v.responseTo,this.opCode=v.opCode,this.fromCompressed=v.fromCompressed,this.responseFlags=C.readInt32LE(0),this.checksumPresent=(this.responseFlags&E)!==0,this.moreToCome=(this.responseFlags&w)!==0,this.exhaustAllowed=(this.responseFlags&L)!==0,this.useBigInt64=typeof this.opts.useBigInt64=="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs=="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues=="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers=="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp=="boolean"?this.opts.bsonRegExp:!1,this.documents=[]}isParsed(){return this.parsed}parse(b){if(this.parsed)return;b=b??{},this.index=4;const v=b.raw||!1,C=b.documentsReturnedIn||null,x=b.useBigInt64??this.opts.useBigInt64,S=b.promoteLongs??this.opts.promoteLongs,B=b.promoteValues??this.opts.promoteValues,D=b.promoteBuffers??this.opts.promoteBuffers,Q=b.bsonRegExp??this.opts.bsonRegExp,Z=this.parseBsonSerializationOptions(b),AA={useBigInt64:x,promoteLongs:S,promoteValues:B,promoteBuffers:D,bsonRegExp:Q,validation:Z};for(;this.index<this.data.length;){const Y=this.data.readUInt8(this.index++);if(Y===0){const G=this.data.readUInt32LE(this.index),X=this.data.slice(this.index,this.index+G);this.documents.push(v?X:r.deserialize(X,AA)),this.index+=G}else if(Y===1)throw new A.MongoRuntimeError("OP_MSG Payload Type 1 detected unsupported protocol")}if(this.documents.length===1&&C!=null&&v){const Y={};Y[C]=!0,AA.fieldsAsRaw=Y;const G=r.deserialize(this.documents[0],AA);this.documents=[G]}this.parsed=!0}parseBsonSerializationOptions({enableUtf8Validation:b}){return b===!1?{utf8:!1}:{utf8:{writeErrors:!1}}}}er.OpMsgResponse=R;const P=16,F=9;class H{constructor(b,v){this.command=b,this.options=v}static canCompress(b){const v=b instanceof T?b.command:b.query,C=Object.keys(v)[0];return!t.uncompressibleCommands.has(C)}async toBin(){const b=Buffer.concat(this.command.toBin()),v=b.slice(P),C=b.readInt32LE(12),x=await(0,t.compress)(this.options,v),S=Buffer.alloc(P);S.writeInt32LE(P+F+x.length,0),S.writeInt32LE(this.command.requestId,4),S.writeInt32LE(0,8),S.writeInt32LE(i.OP_COMPRESSED,12);const B=Buffer.alloc(F);return B.writeInt32LE(C,0),B.writeInt32LE(v.length,4),B.writeUInt8(t.Compressor[this.options.agreedCompressor],8),[S,B,x]}}return er.OpCompressedRequest=H,er}var dm;function Nu(){return dm||(dm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decompressResponse=r.compressCommand=r.decompress=r.compress=r.uncompressibleCommands=r.Compressor=void 0;const A=Fr,e=zA,t=ut,i=ni,n=_A,s=Q1(),o=JA;r.Compressor=Object.freeze({none:0,snappy:1,zlib:2,zstd:3}),r.uncompressibleCommands=new Set([t.LEGACY_HELLO_COMMAND,"saslStart","saslContinue","getnonce","authenticate","createUser","updateUser","copydbSaslStart","copydbgetnonce","copydb"]);const u=3,l=(0,A.promisify)(e.inflate.bind(e)),c=(0,A.promisify)(e.deflate.bind(e));let h,d=null;function f(){if(d==null){const w=(0,i.getSnappy)();if("kModuleError"in w)throw w.kModuleError;d=w}return d}async function p(w,L){const T={};switch(w.agreedCompressor){case"snappy":return d??(d=f()),d.compress(L);case"zstd":{if(_(),"kModuleError"in h)throw h.kModuleError;return h.compress(L,u)}case"zlib":return w.zlibCompressionLevel&&(T.level=w.zlibCompressionLevel),c(L,T);default:throw new n.MongoInvalidArgumentError(`Unknown compressor ${w.agreedCompressor} failed to compress`)}}r.compress=p;async function y(w,L){if(w!==r.Compressor.snappy&&w!==r.Compressor.zstd&&w!==r.Compressor.zlib&&w!==r.Compressor.none)throw new n.MongoDecompressionError(`Server sent message compressed using an unsupported compressor. (Received compressor ID ${w})`);switch(w){case r.Compressor.snappy:return d??(d=f()),d.uncompress(L,{asBuffer:!0});case r.Compressor.zstd:{if(_(),"kModuleError"in h)throw h.kModuleError;return h.decompress(L)}case r.Compressor.zlib:return l(L);default:return L}}r.decompress=y;function _(){h||(h=(0,i.getZstdLibrary)())}const g=16;async function m(w,L){const R=await(L.agreedCompressor==="none"||!s.OpCompressedRequest.canCompress(w)?w:new s.OpCompressedRequest(w,{agreedCompressor:L.agreedCompressor??"none",zlibCompressionLevel:L.zlibCompressionLevel??0})).toBin();return Buffer.concat(R)}r.compressCommand=m;async function E(w){const L={length:w.readInt32LE(0),requestId:w.readInt32LE(4),responseTo:w.readInt32LE(8),opCode:w.readInt32LE(12)};if(L.opCode!==o.OP_COMPRESSED){const M=L.opCode===o.OP_MSG?s.OpMsgResponse:s.OpQueryResponse,b=w.subarray(g);return new M(w,L,b)}const T={...L,fromCompressed:!0,opCode:w.readInt32LE(g),length:w.readInt32LE(g+4)},R=w[g+8],P=w.slice(g+9),F=T.opCode===o.OP_MSG?s.OpMsgResponse:s.OpQueryResponse,H=await y(R,P);if(H.length!==T.length)throw new n.MongoDecompressionError("Message body and message header must be the same length");return new F(w,T,H)}r.decompressResponse=E}(Ed)),Ed}var xa={},os={},Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.hmacSha256Hook=Se.hmacSha512Hook=Se.aes256CtrDecryptHook=Se.aes256CtrEncryptHook=Se.aes256CbcDecryptHook=Se.aes256CbcEncryptHook=Se.signRsaSha256Hook=Se.makeHmacHook=Se.sha256Hook=Se.randomHook=Se.makeAES256Hook=void 0;const Lu=zA;function Uu(r,A){return function(e,t,i,n){let s;try{const o=Lu[r](A,e,t);o.setAutoPadding(!1),s=o.update(i);const u=o.final();u.length>0&&(s=Buffer.concat([s,u]))}catch(o){return o}return s.copy(n),s.length}}Se.makeAES256Hook=Uu;function CM(r,A){try{Lu.randomFillSync(r,0,A)}catch(e){return e}return A}Se.randomHook=CM;function _M(r,A){let e;try{e=Lu.createHash("sha256").update(r).digest()}catch(t){return t}return e.copy(A),e.length}Se.sha256Hook=_M;function fp(r){return(A,e,t)=>{let i;try{i=Lu.createHmac(r,A).update(e).digest()}catch(n){return n}return i.copy(t),i.length}}Se.makeHmacHook=fp;function SM(r,A,e){let t;try{const i=Lu.createSign("sha256WithRSAEncryption"),n=Buffer.from(`-----BEGIN PRIVATE KEY-----
${r.toString("base64")}
-----END PRIVATE KEY-----
`);t=i.update(A).end().sign(n)}catch(i){return i}return t.copy(e),t.length}Se.signRsaSha256Hook=SM;Se.aes256CbcEncryptHook=Uu("createCipheriv","aes-256-cbc");Se.aes256CbcDecryptHook=Uu("createDecipheriv","aes-256-cbc");Se.aes256CtrEncryptHook=Uu("createCipheriv","aes-256-ctr");Se.aes256CtrDecryptHook=Uu("createDecipheriv","aes-256-ctr");Se.hmacSha512Hook=fp("sha512");Se.hmacSha256Hook=fp("sha256");var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.MongoCryptKMSRequestNetworkTimeoutError=$e.MongoCryptAzureKMSRequestError=$e.MongoCryptCreateEncryptedCollectionError=$e.MongoCryptCreateDataKeyError=$e.MongoCryptInvalidArgumentError=$e.MongoCryptError=void 0;const vM=_A;class ha extends vM.MongoError{constructor(A,e={}){super(A,e)}get name(){return"MongoCryptError"}}$e.MongoCryptError=ha;class wM extends ha{constructor(A){super(A)}get name(){return"MongoCryptInvalidArgumentError"}}$e.MongoCryptInvalidArgumentError=wM;class bM extends ha{constructor(A,{cause:e}){super(`Unable to complete creating data keys: ${e.message}`,{cause:e}),this.encryptedFields=A}get name(){return"MongoCryptCreateDataKeyError"}}$e.MongoCryptCreateDataKeyError=bM;class IM extends ha{constructor(A,{cause:e}){super(`Unable to create collection: ${e.message}`,{cause:e}),this.encryptedFields=A}get name(){return"MongoCryptCreateEncryptedCollectionError"}}$e.MongoCryptCreateEncryptedCollectionError=IM;class BM extends ha{constructor(A,e){super(A),this.body=e}get name(){return"MongoCryptAzureKMSRequestError"}}$e.MongoCryptAzureKMSRequestError=BM;class TM extends ha{get name(){return"MongoCryptKMSRequestNetworkTimeoutError"}}$e.MongoCryptKMSRequestNetworkTimeoutError=TM;var H1={};Object.defineProperty(H1,"__esModule",{value:!0});H1.MongocryptdManager=void 0;const DM=_A;class j1{constructor(A={}){this.uri=typeof A.mongocryptdURI=="string"&&A.mongocryptdURI.length>0?A.mongocryptdURI:j1.DEFAULT_MONGOCRYPTD_URI,this.bypassSpawn=!!A.mongocryptdBypassSpawn,this.spawnPath=A.mongocryptdSpawnPath||"",this.spawnArgs=[],Array.isArray(A.mongocryptdSpawnArgs)&&(this.spawnArgs=this.spawnArgs.concat(A.mongocryptdSpawnArgs)),this.spawnArgs.filter(e=>typeof e=="string").every(e=>e.indexOf("--idleShutdownTimeoutSecs")<0)&&this.spawnArgs.push("--idleShutdownTimeoutSecs","60")}async spawn(){const A=this.spawnPath||"mongocryptd",{spawn:e}=zA;this._child=e(A,this.spawnArgs,{stdio:"ignore",detached:!0}),this._child.on("error",()=>{}),this._child.unref()}async withRespawn(A){try{return await A()}catch(t){if(!(t instanceof DM.MongoNetworkTimeoutError&&!this.bypassSpawn))throw t}return await this.spawn(),await A()}}j1.DEFAULT_MONGOCRYPTD_URI="mongodb://localhost:27020";H1.MongocryptdManager=j1;var js={},W1={};Object.defineProperty(W1,"__esModule",{value:!0});W1.loadAWSCredentials=void 0;const xM=ni;async function OM(r){const A=(0,xM.getAwsCredentialProvider)();if("kModuleError"in A)return r;const{fromNodeProviderChain:e}=A,i=await e()();return{...r,aws:i}}W1.loadAWSCredentials=OM;var TC={},Y1={};Object.defineProperty(Y1,"__esModule",{value:!0});Y1.get=void 0;const MM=zA,Cd=zA,RM=$e;function PM(r,A={}){return new Promise((e,t)=>{let i;const n=MM.get(r,A,s=>{s.setEncoding("utf8");let o="";s.on("data",u=>o+=u),s.on("end",()=>{(0,Cd.clearTimeout)(i),e({status:s.statusCode,body:o})})}).on("error",s=>{(0,Cd.clearTimeout)(i),t(s)}).end();i=(0,Cd.setTimeout)(()=>{n.destroy(new RM.MongoCryptKMSRequestNetworkTimeoutError("request timed out after 10 seconds"))},1e4)})}Y1.get=PM;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.loadAzureCredentials=r.fetchAzureKMSToken=r.prepareRequest=r.tokenCache=r.AzureCredentialCache=void 0;const A=$e,e=Y1,t=6e3;class i{constructor(){this.cachedToken=null}async getToken(){return(this.cachedToken==null||this.needsRefresh(this.cachedToken))&&(this.cachedToken=await this._getToken()),{accessToken:this.cachedToken.accessToken}}needsRefresh(c){return c.expiresOnTimestamp-Date.now()<=t}resetCache(){this.cachedToken=null}_getToken(){return o()}}r.AzureCredentialCache=i,r.tokenCache=new i;async function n(l){const{status:c,body:h}=l,d=(()=>{try{return JSON.parse(h)}catch{throw new A.MongoCryptAzureKMSRequestError("Malformed JSON body in GET request.")}})();if(c!==200)throw new A.MongoCryptAzureKMSRequestError("Unable to complete request.",d);if(!d.access_token)throw new A.MongoCryptAzureKMSRequestError("Malformed response body - missing field `access_token`.");if(!d.expires_in)throw new A.MongoCryptAzureKMSRequestError("Malformed response body - missing field `expires_in`.");const f=Number(d.expires_in)*1e3;if(Number.isNaN(f))throw new A.MongoCryptAzureKMSRequestError("Malformed response body - unable to parse int from `expires_in` field.");return{accessToken:d.access_token,expiresOnTimestamp:Date.now()+f}}function s(l){var d;const c=new URL(((d=l.url)==null?void 0:d.toString())??"http://169.254.169.254/metadata/identity/oauth2/token");return c.searchParams.append("api-version","2018-02-01"),c.searchParams.append("resource","https://vault.azure.net"),{headers:{...l.headers,"Content-Type":"application/json",Metadata:!0},url:c}}r.prepareRequest=s;async function o(l={}){const{headers:c,url:h}=s(l),d=await(0,e.get)(h,{headers:c}).catch(f=>{throw f instanceof A.MongoCryptKMSRequestNetworkTimeoutError?new A.MongoCryptAzureKMSRequestError(`[Azure KMS] ${f.message}`):f});return n(d)}r.fetchAzureKMSToken=o;async function u(l){const c=await r.tokenCache.getToken();return{...l,azure:c}}r.loadAzureCredentials=u})(TC);var $1={};Object.defineProperty($1,"__esModule",{value:!0});$1.loadGCPCredentials=void 0;const FM=ni;async function NM(r){const A=(0,FM.getGcpMetadata)();if("kModuleError"in A)return r;const{access_token:e}=await A.instance({property:"service-accounts/default/token"});return{...r,gcp:{accessToken:e}}}$1.loadGCPCredentials=NM;Object.defineProperty(js,"__esModule",{value:!0});js.refreshKMSCredentials=js.isEmptyCredentials=void 0;const LM=W1,UM=TC,kM=$1;function Fl(r,A){const e=A[r];return e==null?!1:typeof e=="object"&&Object.keys(e).length===0}js.isEmptyCredentials=Fl;async function zM(r){let A=r;return Fl("aws",r)&&(A=await(0,LM.loadAWSCredentials)(A)),Fl("gcp",r)&&(A=await(0,kM.loadGCPCredentials)(A)),Fl("azure",r)&&(A=await(0,UM.loadAzureCredentials)(A)),A}js.refreshKMSCredentials=zM;var ku={},GM={};Object.defineProperty(ku,"__esModule",{value:!0});ku.StateMachine=void 0;const fm=zA,VM=zA,QM=zA,Fi=Ce,HM=ni,ul=PA,pn=$e;let qa=null;function jM(){if(qa==null){const r=(0,HM.getSocks)();if("kModuleError"in r)throw r.kModuleError;qa=r}return qa}const Nl=0,DC=1,xC=2,OC=3,MC=7,RC=4,PC=5,FC=6,WM=443,YM=new Map([[Nl,"MONGOCRYPT_CTX_ERROR"],[DC,"MONGOCRYPT_CTX_NEED_MONGO_COLLINFO"],[xC,"MONGOCRYPT_CTX_NEED_MONGO_MARKINGS"],[OC,"MONGOCRYPT_CTX_NEED_MONGO_KEYS"],[MC,"MONGOCRYPT_CTX_NEED_KMS_CREDENTIALS"],[RC,"MONGOCRYPT_CTX_NEED_KMS"],[PC,"MONGOCRYPT_CTX_READY"],[FC,"MONGOCRYPT_CTX_DONE"]]),$M=["tlsInsecure","tlsAllowInvalidCertificates","tlsAllowInvalidHostnames","tlsDisableOCSPEndpointCheck","tlsDisableCertificateRevocationCheck"];function pm(r){GM.MONGODB_CRYPT_DEBUG&&console.error(r)}class KM{constructor(A,e=(0,Fi.pluckBSONSerializeOptions)(A)){this.options=A,this.bsonOptions=e}async execute(A,e){const t=A._keyVaultNamespace,i=A._keyVaultClient,n=A._metaDataClient,s=A._mongocryptdClient,o=A._mongocryptdManager;let u=null;for(;e.state!==FC&&e.state!==Nl;)switch(pm(`[context#${e.id}] ${YM.get(e.state)||e.state}`),e.state){case DC:{const l=(0,Fi.deserialize)(e.nextMongoOperation());if(!n)throw new pn.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_COLLINFO but metadata client is undefined");const c=await this.fetchCollectionInfo(n,e.ns,l);c&&e.addMongoOperationResponse(c),e.finishMongoOperation();break}case xC:{const l=e.nextMongoOperation();if(!s)throw new pn.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_MARKINGS but mongocryptdClient is undefined");const c=o?await o.withRespawn(this.markCommand.bind(this,s,e.ns,l)):await this.markCommand(s,e.ns,l);e.addMongoOperationResponse(c),e.finishMongoOperation();break}case OC:{const l=e.nextMongoOperation(),c=await this.fetchKeys(i,t,l);c.length===0&&(u={v:[]});for await(const h of c)e.addMongoOperationResponse((0,Fi.serialize)(h));e.finishMongoOperation();break}case MC:{const l=await A.askForKMSCredentials();e.provideKMSProviders((0,Fi.serialize)(l));break}case RC:{const l=Array.from(this.requests(e));await Promise.all(l),e.finishKMSRequests();break}case PC:{const l=e.finalize();if(e.state===Nl){const c=e.status.message||"Finalization error";throw new pn.MongoCryptError(c)}u=(0,Fi.deserialize)(l,this.options);break}default:throw new pn.MongoCryptError(`Unknown state: ${e.state}`)}if(e.state===Nl||u==null){const l=e.status.message;throw l||pm("unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message."),new pn.MongoCryptError(l??"unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message.")}return u}kmsRequest(A){const e=A.endpoint.split(":"),t=e[1]!=null?Number.parseInt(e[1],10):WM,i={host:e[0],servername:e[0],port:t},n=A.message;return new Promise(async(s,o)=>{const u=new ul.BufferPool;let l,c;function h(){for(const y of[l,c])y&&(y.removeAllListeners(),y.destroy())}function d(){h(),o(new pn.MongoCryptError("KMS request timed out"))}function f(y){h();const _=new pn.MongoCryptError("KMS request failed",{cause:y});o(_)}if(this.options.proxyOptions&&this.options.proxyOptions.proxyHost){c=VM.connect({host:this.options.proxyOptions.proxyHost,port:this.options.proxyOptions.proxyPort||1080}),c.on("timeout",d),c.on("error",f);try{await zA.once(c,"connect"),qa??(qa=jM()),i.socket=(await qa.SocksClient.createConnection({existing_socket:c,command:"connect",destination:{host:i.host,port:i.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:this.options.proxyOptions.proxyUsername,password:this.options.proxyOptions.proxyPassword}})).socket}catch(y){return f(y)}}const p=this.options.tlsOptions;if(p){const y=A.kmsProvider,_=p[y];if(_){const g=this.validateTlsOptions(y,_);g&&o(g);try{await this.setTlsOptions(_,i)}catch(m){return f(m)}}}l=QM.connect(i,()=>{l.write(n)}),l.once("timeout",d),l.once("error",f),l.on("data",y=>{for(u.append(y);A.bytesNeeded>0&&u.length;){const _=Math.min(A.bytesNeeded,u.length);A.addResponse(u.read(_))}A.bytesNeeded<=0&&(h(),s())})})}*requests(A){for(let e=A.nextKMSRequest();e!=null;e=A.nextKMSRequest())yield this.kmsRequest(e)}validateTlsOptions(A,e){const t=Object.keys(e);for(const i of $M)if(t.includes(i))return new pn.MongoCryptError(`Insecure TLS options prohibited for ${A}: ${i}`)}async setTlsOptions(A,e){if(A.tlsCertificateKeyFile){const t=await fm.readFile(A.tlsCertificateKeyFile);e.cert=e.key=t}A.tlsCAFile&&(e.ca=await fm.readFile(A.tlsCAFile)),A.tlsCertificateKeyFilePassword&&(e.passphrase=A.tlsCertificateKeyFilePassword)}async fetchCollectionInfo(A,e,t){const{db:i}=ul.MongoDBCollectionNamespace.fromString(e),n=await A.db(i).listCollections(t,{promoteLongs:!1,promoteValues:!1}).toArray();return n.length>0?(0,Fi.serialize)(n[0]):null}async markCommand(A,e,t){const i={promoteLongs:!1,promoteValues:!1},{db:n}=ul.MongoDBCollectionNamespace.fromString(e),s=(0,Fi.deserialize)(t,i),o=await A.db(n).command(s,i);return(0,Fi.serialize)(o,this.bsonOptions)}fetchKeys(A,e,t){const{db:i,collection:n}=ul.MongoDBCollectionNamespace.fromString(e);return A.db(i).collection(n,{readConcern:{level:"majority"}}).find((0,Fi.deserialize)(t)).toArray()}}ku.StateMachine=KM;var gm;function NC(){if(gm)return os;gm=1;var r;Object.defineProperty(os,"__esModule",{value:!0}),os.AutoEncrypter=os.AutoEncryptionLoggerLevel=void 0;const A=Ce,e=ni,t=_A,i=sa(),n=PA,s=Se,o=$e,u=H1,l=js,c=ku;os.AutoEncryptionLoggerLevel=Object.freeze({FatalError:0,Error:1,Warning:2,Info:3,Trace:4});const h=Symbol.for("@@mdb.decorateDecryptionResult"),d=Symbol.for("@@mdb.decryptedKeys");class f{static getMongoCrypt(){const _=(0,e.getMongoDBClientEncryption)();if("kModuleError"in _)throw _.kModuleError;return _.MongoCrypt}constructor(_,g){var w;this[r]=!1,this._client=_,this._bypassEncryption=g.bypassAutoEncryption===!0,this._keyVaultNamespace=g.keyVaultNamespace||"admin.datakeys",this._keyVaultClient=g.keyVaultClient||_,this._metaDataClient=g.metadataClient||_,this._proxyOptions=g.proxyOptions||{},this._tlsOptions=g.tlsOptions||{},this._kmsProviders=g.kmsProviders||{};const m={cryptoCallbacks:s};g.schemaMap&&(m.schemaMap=Buffer.isBuffer(g.schemaMap)?g.schemaMap:(0,A.serialize)(g.schemaMap)),g.encryptedFieldsMap&&(m.encryptedFieldsMap=Buffer.isBuffer(g.encryptedFieldsMap)?g.encryptedFieldsMap:(0,A.serialize)(g.encryptedFieldsMap)),m.kmsProviders=Buffer.isBuffer(this._kmsProviders)?this._kmsProviders:(0,A.serialize)(this._kmsProviders),(w=g.options)!=null&&w.logger&&(m.logger=g.options.logger),g.extraOptions&&g.extraOptions.cryptSharedLibPath&&(m.cryptSharedLibPath=g.extraOptions.cryptSharedLibPath),g.bypassQueryAnalysis&&(m.bypassQueryAnalysis=g.bypassQueryAnalysis),this._bypassMongocryptdAndCryptShared=this._bypassEncryption||!!g.bypassQueryAnalysis,g.extraOptions&&g.extraOptions.cryptSharedLibSearchPaths?m.cryptSharedLibSearchPaths=g.extraOptions.cryptSharedLibSearchPaths:this._bypassMongocryptdAndCryptShared||(m.cryptSharedLibSearchPaths=["$SYSTEM"]);const E=f.getMongoCrypt();if(this._mongocrypt=new E(m),this._contextCounter=0,g.extraOptions&&g.extraOptions.cryptSharedLibRequired&&!this.cryptSharedLibVersionInfo)throw new o.MongoCryptInvalidArgumentError("`cryptSharedLibRequired` set but no crypt_shared library loaded");if(!this._bypassMongocryptdAndCryptShared&&!this.cryptSharedLibVersionInfo){this._mongocryptdManager=new u.MongocryptdManager(g.extraOptions);const L={serverSelectionTimeoutMS:1e4};(g.extraOptions==null||typeof g.extraOptions.mongocryptdURI!="string")&&(L.family=4),this._mongocryptdClient=new i.MongoClient(this._mongocryptdManager.uri,L)}}async init(){if(!(this._bypassMongocryptdAndCryptShared||this.cryptSharedLibVersionInfo)){if(!this._mongocryptdManager)throw new t.MongoRuntimeError("Reached impossible state: mongocryptdManager is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdClient)throw new t.MongoRuntimeError("Reached impossible state: mongocryptdClient is undefined when neither bypassSpawn nor the shared lib are specified.");this._mongocryptdManager.bypassSpawn||await this._mongocryptdManager.spawn();try{return await this._mongocryptdClient.connect()}catch(_){const{message:g}=_;throw g&&(g.match(/timed out after/)||g.match(/ENOTFOUND/))?new t.MongoRuntimeError("Unable to connect to `mongocryptd`, please make sure it is running or in your PATH for auto-spawn",{cause:_}):_}}}async teardown(_){var g;await((g=this._mongocryptdClient)==null?void 0:g.close(_))}async encrypt(_,g,m={}){if(this._bypassEncryption)return g;const E=Buffer.isBuffer(g)?g:(0,A.serialize)(g,m),w=this._mongocrypt.makeEncryptionContext(n.MongoDBCollectionNamespace.fromString(_).db,E);return w.id=this._contextCounter++,w.ns=_,w.document=g,new c.StateMachine({promoteValues:!1,promoteLongs:!1,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,w)}async decrypt(_,g={}){const m=Buffer.isBuffer(_)?_:(0,A.serialize)(_,g),E=this._mongocrypt.makeDecryptionContext(m);E.id=this._contextCounter++;const w=new c.StateMachine({...g,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),L=this[h],T=await w.execute(this,E);return L&&p(T,_),T}async askForKMSCredentials(){return(0,l.refreshKMSCredentials)(this._kmsProviders)}get cryptSharedLibVersionInfo(){return this._mongocrypt.cryptSharedLibVersionInfo}static get libmongocryptVersion(){return f.getMongoCrypt().libmongocryptVersion}}os.AutoEncrypter=f,r=h;function p(y,_,g=!0){if(g&&(Buffer.isBuffer(_)&&(_=(0,A.deserialize)(_)),Buffer.isBuffer(y)))throw new t.MongoRuntimeError("Expected result of decryption to be deserialized BSON object");if(!(!y||typeof y!="object"))for(const m of Object.keys(y)){const E=_[m];if(E&&E._bsontype==="Binary"&&E.sub_type===6){y[d]||Object.defineProperty(y,d,{value:[],configurable:!0,enumerable:!1,writable:!1}),y[d].push(m);continue}p(y[m],E,!1)}}return os}var mm;function qM(){if(mm)return xa;mm=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.Encrypter=void 0;const r=Fr,A=NC(),e=ut,t=ni,i=_A,n=sa(),s=Symbol("internalClient");class o{constructor(l,c,h){if(typeof h.autoEncryption!="object")throw new i.MongoInvalidArgumentError('Option "autoEncryption" must be specified');this[s]=null,this.bypassAutoEncryption=!!h.autoEncryption.bypassAutoEncryption,this.needsConnecting=!1,h.maxPoolSize===0&&h.autoEncryption.keyVaultClient==null?h.autoEncryption.keyVaultClient=l:h.autoEncryption.keyVaultClient==null&&(h.autoEncryption.keyVaultClient=this.getInternalClient(l,c,h)),this.bypassAutoEncryption?h.autoEncryption.metadataClient=void 0:h.maxPoolSize===0?h.autoEncryption.metadataClient=l:h.autoEncryption.metadataClient=this.getInternalClient(l,c,h),h.proxyHost&&(h.autoEncryption.proxyOptions={proxyHost:h.proxyHost,proxyPort:h.proxyPort,proxyUsername:h.proxyUsername,proxyPassword:h.proxyPassword}),this.autoEncrypter=new A.AutoEncrypter(l,h.autoEncryption)}getInternalClient(l,c,h){let d=this[s];if(d==null){const f={};for(const p of[...Object.getOwnPropertyNames(h),...Object.getOwnPropertySymbols(h)])["autoEncryption","minPoolSize","servers","caseTranslate","dbName"].includes(p)||Reflect.set(f,p,Reflect.get(h,p));f.minPoolSize=0,d=new n.MongoClient(c,f),this[s]=d;for(const p of e.MONGO_CLIENT_EVENTS)for(const y of l.listeners(p))d.on(p,y);l.on("newListener",(p,y)=>{d==null||d.on(p,y)}),this.needsConnecting=!0}return d}async connectInternalClient(){const l=this[s];this.needsConnecting&&l!=null&&(this.needsConnecting=!1,await l.connect())}closeCallback(l,c,h){(0,r.callbackify)(this.close.bind(this))(l,c,h)}async close(l,c){const h=await this.autoEncrypter.teardown(!!c).catch(f=>f),d=this[s];if(d!=null&&l!==d)return d.close(c);if(h)throw h}static checkForMongoCrypt(){if("kModuleError"in(0,t.getMongoDBClientEncryption)())throw new i.MongoMissingDependencyError("Auto-encryption requested, but the module is not installed. Please add `mongodb-client-encryption` as a dependency of your project")}}return xa.Encrypter=o,xa}var pp={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.MongoLogger=r.stringifyWithMaxLen=r.createStdioLogger=r.MongoLoggableComponent=r.SEVERITY_LEVEL_MAP=r.DEFAULT_MAX_DOCUMENT_LENGTH=r.SeverityLevel=void 0;const A=ue,e=Fr,t=ut,i=PA;r.SeverityLevel=Object.freeze({EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warn",NOTICE:"notice",INFORMATIONAL:"info",DEBUG:"debug",TRACE:"trace",OFF:"off"}),r.DEFAULT_MAX_DOCUMENT_LENGTH=1e3;class n extends Map{constructor(m){const E=[];for(const[w,L]of m)E.push([L,w]);E.push(...m),super(E)}getNumericSeverityLevel(m){return this.get(m)}getSeverityLevelName(m){return this.get(m)}}r.SEVERITY_LEVEL_MAP=new n([[r.SeverityLevel.OFF,-1/0],[r.SeverityLevel.EMERGENCY,0],[r.SeverityLevel.ALERT,1],[r.SeverityLevel.CRITICAL,2],[r.SeverityLevel.ERROR,3],[r.SeverityLevel.WARNING,4],[r.SeverityLevel.NOTICE,5],[r.SeverityLevel.INFORMATIONAL,6],[r.SeverityLevel.DEBUG,7],[r.SeverityLevel.TRACE,8]]),r.MongoLoggableComponent=Object.freeze({COMMAND:"command",TOPOLOGY:"topology",SERVER_SELECTION:"serverSelection",CONNECTION:"connection",CLIENT:"client"});function s(g){const m=Object.values(r.SeverityLevel),E=g==null?void 0:g.toLowerCase();return E!=null&&m.includes(E)?E:null}function o(g){return{write:m=>{g.write((0,e.inspect)(m,{compact:!0,breakLength:1/0}),"utf-8")}}}r.createStdioLogger=o;function u({MONGODB_LOG_PATH:g},{mongodbLogPath:m}){return typeof m=="string"&&/^stderr$/i.test(m)?o(process.stderr):typeof m=="string"&&/^stdout$/i.test(m)?o(process.stdout):typeof m=="object"&&typeof(m==null?void 0:m.write)=="function"?m:g&&/^stderr$/i.test(g)?o(process.stderr):g&&/^stdout$/i.test(g)?o(process.stdout):o(process.stderr)}function l(g,m,E){return s(g)??s(m)??E}function c(g,m){const E=r.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(g),w=r.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(m);return E<w?-1:E>w?1:0}function h(g,m){const E=A.EJSON.stringify(g);return m!==0&&E.length>m?`${E.slice(0,m)}...`:E}r.stringifyWithMaxLen=h;function d(g){const m=g;return m.toLog!==void 0&&typeof m.toLog=="function"}function f(g,m){g.commandName=m.commandName,g.requestId=m.requestId,g.driverConnectionId=m==null?void 0:m.connectionId;const{host:E,port:w}=i.HostAddress.fromString(m.address).toHostPort();return g.serverHost=E,g.serverPort=w,m!=null&&m.serviceId&&(g.serviceId=m.serviceId.toHexString()),g}function p(g,m){const{host:E,port:w}=i.HostAddress.fromString(m.address).toHostPort();return g.serverHost=E,g.serverPort=w,g}function y(g,m=r.DEFAULT_MAX_DOCUMENT_LENGTH){var w;let E=Object.create(null);switch(g.name){case t.COMMAND_STARTED:return E=f(E,g),E.message="Command started",E.command=h(g.command,m),E.databaseName=g.databaseName,E;case t.COMMAND_SUCCEEDED:return E=f(E,g),E.message="Command succeeded",E.durationMS=g.duration,E.reply=h(g.reply,m),E;case t.COMMAND_FAILED:return E=f(E,g),E.message="Command failed",E.durationMS=g.duration,E.failure=g.failure,E;case t.CONNECTION_POOL_CREATED:if(E=p(E,g),E.message="Connection pool created",g.options){const{maxIdleTimeMS:L,minPoolSize:T,maxPoolSize:R,maxConnecting:P,waitQueueTimeoutMS:F}=g.options;E={...E,maxIdleTimeMS:L,minPoolSize:T,maxPoolSize:R,maxConnecting:P,waitQueueTimeoutMS:F}}return E;case t.CONNECTION_POOL_READY:return E=p(E,g),E.message="Connection pool ready",E;case t.CONNECTION_POOL_CLEARED:return E=p(E,g),E.message="Connection pool cleared",((w=g.serviceId)==null?void 0:w._bsontype)==="ObjectId"&&(E.serviceId=g.serviceId.toHexString()),E;case t.CONNECTION_POOL_CLOSED:return E=p(E,g),E.message="Connection pool closed",E;case t.CONNECTION_CREATED:return E=p(E,g),E.message="Connection created",E.driverConnectionId=g.connectionId,E;case t.CONNECTION_READY:return E=p(E,g),E.message="Connection ready",E.driverConnectionId=g.connectionId,E;case t.CONNECTION_CLOSED:switch(E=p(E,g),E.message="Connection closed",E.driverConnectionId=g.connectionId,g.reason){case"stale":E.reason="Connection became stale because the pool was cleared";break;case"idle":E.reason="Connection has been available but unused for longer than the configured max idle time";break;case"error":E.reason="An error occurred while using the connection",g.error&&(E.error=g.error);break;case"poolClosed":E.reason="Connection pool was closed";break;default:E.reason=`Unknown close reason: ${g.reason}`}return E;case t.CONNECTION_CHECK_OUT_STARTED:return E=p(E,g),E.message="Connection checkout started",E;case t.CONNECTION_CHECK_OUT_FAILED:switch(E=p(E,g),E.message="Connection checkout failed",g.reason){case"poolClosed":E.reason="Connection pool was closed";break;case"timeout":E.reason="Wait queue timeout elapsed without a connection becoming available";break;case"connectionError":E.reason="An error occurred while trying to establish a new connection",g.error&&(E.error=g.error);break;default:E.reason=`Unknown close reason: ${g.reason}`}return E;case t.CONNECTION_CHECKED_OUT:return E=p(E,g),E.message="Connection checked out",E.driverConnectionId=g.connectionId,E;case t.CONNECTION_CHECKED_IN:return E=p(E,g),E.message="Connection checked in",E.driverConnectionId=g.connectionId,E;default:for(const[L,T]of Object.entries(g))T!=null&&(E[L]=T)}return E}class _{constructor(m){this.error=this.log.bind(this,"error"),this.warn=this.log.bind(this,"warn"),this.info=this.log.bind(this,"info"),this.debug=this.log.bind(this,"debug"),this.trace=this.log.bind(this,"trace"),this.componentSeverities=m.componentSeverities,this.maxDocumentLength=m.maxDocumentLength,this.logDestination=m.logDestination}log(m,E,w){if(c(m,this.componentSeverities[E])>0)return;let L={t:new Date,c:E,s:m};typeof w=="string"?L.message=w:typeof w=="object"&&(d(w)?L={...L,...w.toLog()}:L={...L,...y(w,this.maxDocumentLength)}),this.logDestination.write(L)}static resolveOptions(m,E){var T,R,P,F,H,M;const w={...m,...E,mongodbLogPath:u(m,E)},L=l((T=w.mongodbLogComponentSeverities)==null?void 0:T.default,w.MONGODB_LOG_ALL,r.SeverityLevel.OFF);return{componentSeverities:{command:l((R=w.mongodbLogComponentSeverities)==null?void 0:R.command,w.MONGODB_LOG_COMMAND,L),topology:l((P=w.mongodbLogComponentSeverities)==null?void 0:P.topology,w.MONGODB_LOG_TOPOLOGY,L),serverSelection:l((F=w.mongodbLogComponentSeverities)==null?void 0:F.serverSelection,w.MONGODB_LOG_SERVER_SELECTION,L),connection:l((H=w.mongodbLogComponentSeverities)==null?void 0:H.connection,w.MONGODB_LOG_CONNECTION,L),client:l((M=w.mongodbLogComponentSeverities)==null?void 0:M.client,w.MONGODB_LOG_CLIENT,L),default:L},maxDocumentLength:w.mongodbLogMaxDocumentLength??(0,i.parseUnsignedInteger)(w.MONGODB_LOG_MAX_DOCUMENT_LENGTH)??1e3,logDestination:w.mongodbLogPath}}}r.MongoLogger=_})(pp);var _d={},gp={},K1={};Object.defineProperty(K1,"__esModule",{value:!0});K1.MongoCR=void 0;const ym=zA,XM=_A,Em=PA,JM=lr;class ZM extends JM.AuthProvider{async auth(A){const{connection:e,credentials:t}=A;if(!t)throw new XM.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:i,password:n,source:s}=t,{nonce:o}=await e.commandAsync((0,Em.ns)(`${s}.$cmd`),{getnonce:1},void 0),u=ym.createHash("md5").update(`${i}:mongo:${n}`,"utf8").digest("hex"),l=ym.createHash("md5").update(`${o}${i}${u}`,"utf8").digest("hex"),c={authenticate:1,user:i,nonce:o,key:l};await e.commandAsync((0,Em.ns)(`${s}.$cmd`),c,void 0)}}K1.MongoCR=ZM;var q1={};Object.defineProperty(q1,"__esModule",{value:!0});q1.MongoDBAWS=void 0;const A7=zA,Sd=zA,e7=Fr,vd=Ce,Ll=ni,ys=_A,Wi=PA,t7=lr,r7=k1,i7=Mi,n7=new Set(["ap-northeast-1","ap-south-1","ap-southeast-1","ap-southeast-2","aws-global","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),s7=110,o7="http://169.254.170.2",wd="http://169.254.169.254",Cm="/latest/meta-data/iam/security-credentials",bd={useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1};class vn extends t7.AuthProvider{constructor(){super(),this.randomBytesAsync=(0,e7.promisify)(A7.randomBytes)}async auth(A){const{connection:e}=A;if(!A.credentials)throw new ys.MongoMissingCredentialsError("AuthContext must provide credentials.");if("kModuleError"in Ll.aws4)throw Ll.aws4.kModuleError;const{sign:t}=Ll.aws4;if((0,Wi.maxWireVersion)(e)<9)throw new ys.MongoCompatibilityError("MONGODB-AWS authentication requires MongoDB version 4.4 or later");A.credentials.username||(A.credentials=await a7(A.credentials));const{credentials:i}=A,n=i.username,s=i.password,o=i.mechanismProperties.AWS_SESSION_TOKEN,u=n&&s&&o?{accessKeyId:n,secretAccessKey:s,sessionToken:o}:n&&s?{accessKeyId:n,secretAccessKey:s}:void 0,l=i.source,c=await this.randomBytesAsync(32),h={saslStart:1,mechanism:"MONGODB-AWS",payload:vd.serialize({r:c,p:s7},bd)},d=await e.commandAsync((0,Wi.ns)(`${l}.$cmd`),h,void 0),f=vd.deserialize(d.payload.buffer,bd),p=f.h,y=f.s.buffer;if(y.length!==64)throw new ys.MongoRuntimeError(`Invalid server nonce length ${y.length}, expected 64`);if(!Wi.ByteUtils.equals(y.subarray(0,c.byteLength),c))throw new ys.MongoRuntimeError("Server nonce does not begin with client nonce");if(p.length<1||p.length>255||p.indexOf("..")!==-1)throw new ys.MongoRuntimeError(`Server returned an invalid host: "${p}"`);const _="Action=GetCallerIdentity&Version=2011-06-15",g=t({method:"POST",host:p,region:u7(f.h),service:"sts",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":_.length,"X-MongoDB-Server-Nonce":Wi.ByteUtils.toBase64(y),"X-MongoDB-GS2-CB-Flag":"n"},path:"/",body:_},u),m={a:g.headers.Authorization,d:g.headers["X-Amz-Date"]};o&&(m.t=o);const E={saslContinue:1,conversationId:1,payload:vd.serialize(m,bd)};await e.commandAsync((0,Wi.ns)(`${l}.$cmd`),E,void 0)}}vn.credentialProvider=null;q1.MongoDBAWS=vn;async function a7(r){function A(e){if(!e.AccessKeyId||!e.SecretAccessKey||!e.Token)throw new ys.MongoMissingCredentialsError("Could not obtain temporary MONGODB-AWS credentials");return new r7.MongoCredentials({username:e.AccessKeyId,password:e.SecretAccessKey,source:r.source,mechanism:i7.AuthMechanism.MONGODB_AWS,mechanismProperties:{AWS_SESSION_TOKEN:e.Token}})}if(vn.credentialProvider??(vn.credentialProvider=(0,Ll.getAwsCredentialProvider)()),"kModuleError"in vn.credentialProvider){if(Sd.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI)return A(await(0,Wi.request)(`${o7}${Sd.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI}`));const e=await(0,Wi.request)(`${wd}/latest/api/token`,{method:"PUT",json:!1,headers:{"X-aws-ec2-metadata-token-ttl-seconds":30}}),t=await(0,Wi.request)(`${wd}/${Cm}`,{json:!1,headers:{"X-aws-ec2-metadata-token":e}}),i=await(0,Wi.request)(`${wd}/${Cm}/${t}`,{headers:{"X-aws-ec2-metadata-token":e}});return A(i)}else{let{AWS_STS_REGIONAL_ENDPOINTS:e="",AWS_REGION:t=""}=Sd.env;e=e.toLowerCase(),t=t.toLowerCase();const i=t.length!==0&&e.length!==0,n=e==="regional"||e==="legacy"&&!n7.has(t),s=i&&n?vn.credentialProvider.fromNodeProviderChain({clientConfig:{region:t}}):vn.credentialProvider.fromNodeProviderChain();try{const o=await s();return A({AccessKeyId:o.accessKeyId,SecretAccessKey:o.secretAccessKey,Token:o.sessionToken,Expiration:o.expiration})}catch(o){throw new ys.MongoAWSError(o.message)}}}function u7(r){const A=r.split(".");return A.length===1||A[1]==="amazonaws"?"us-east-1":A[1]}var LC={},X1={},Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.commandDocument=Ws.ServiceWorkflow=void 0;const l7=ue,c7=PA,h7=Mi;class d7{async execute(A,e){const t=await this.getToken(e),i=Mf(t);return A.commandAsync((0,c7.ns)(e.source),i,void 0)}async speculativeAuth(A){const e=await this.getToken(A),t=Mf(e);return t.db=A.source,{speculativeAuthenticate:t}}}Ws.ServiceWorkflow=d7;function Mf(r){return{saslStart:1,mechanism:h7.AuthMechanism.MONGODB_OIDC,payload:l7.BSON.serialize({jwt:r})}}Ws.commandDocument=Mf;var f7={};Object.defineProperty(X1,"__esModule",{value:!0});X1.AwsServiceWorkflow=void 0;const p7=zA,g7=_A,m7=Ws,y7="AWS_WEB_IDENTITY_TOKEN_FILE must be set in the environment.";class E7 extends m7.ServiceWorkflow{constructor(){super()}async getToken(){const A=f7.AWS_WEB_IDENTITY_TOKEN_FILE;if(!A)throw new g7.MongoAWSError(y7);return p7.promises.readFile(A,"utf8")}}X1.AwsServiceWorkflow=E7;var J1={},ta={},jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.Cache=jn.ExpiringCacheEntry=void 0;const C7=3e5;class _7{constructor(A){this.expiration=this.expirationTime(A)}isValid(){return this.expiration-Date.now()>C7}expirationTime(A){return Date.now()+A*1e3}}jn.ExpiringCacheEntry=_7;class S7{constructor(){this.entries=new Map}clear(){this.entries.clear()}hashedCacheKey(A,e,t){return JSON.stringify([A,e,t])}}jn.Cache=S7;Object.defineProperty(ta,"__esModule",{value:!0});ta.AzureTokenCache=ta.AzureTokenEntry=void 0;const UC=jn;class kC extends UC.ExpiringCacheEntry{constructor(A,e){super(e),this.token=A}}ta.AzureTokenEntry=kC;class v7 extends UC.Cache{addEntry(A,e){const t=new kC(e.access_token,e.expires_in);return this.entries.set(A,t),t}cacheKey(A){return A}deleteEntry(A){this.entries.delete(A)}getEntry(A){return this.entries.get(A)}}ta.AzureTokenCache=v7;Object.defineProperty(J1,"__esModule",{value:!0});J1.AzureServiceWorkflow=void 0;const _m=_A,w7=PA,b7=ta,I7=Ws,B7="http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01",T7=Object.freeze({Metadata:"true",Accept:"application/json"}),D7="Azure endpoint did not return a value with only access_token and expires_in properties",x7="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class O7 extends I7.ServiceWorkflow{constructor(){super(...arguments),this.cache=new b7.AzureTokenCache}async getToken(A){const e=A==null?void 0:A.mechanismProperties.TOKEN_AUDIENCE;if(!e)throw new _m.MongoAzureError(x7);let t;const i=this.cache.getEntry(e);if(i!=null&&i.isValid())t=i.token;else{this.cache.deleteEntry(e);const n=await M7(e);if(!R7(n))throw new _m.MongoAzureError(D7);this.cache.addEntry(e,n),t=n.access_token}return t}}J1.AzureServiceWorkflow=O7;async function M7(r){const A=`${B7}&resource=${r}`;return await(0,w7.request)(A,{json:!0,headers:T7})}function R7(r){return r==null||typeof r!="object"?!1:"access_token"in r&&"expires_in"in r}var Z1={},Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});Ah.CallbackLockCache=void 0;const P7=_A,F7=jn,N7="Auth mechanism property REQUEST_TOKEN_CALLBACK is required.";let cs=0;const zC=async()=>({accessToken:"test"}),La=new WeakMap;La.set(zC,cs);class L7 extends F7.Cache{getEntry(A,e){const t=e.mechanismProperties.REQUEST_TOKEN_CALLBACK,i=e.mechanismProperties.REFRESH_TOKEN_CALLBACK;if(!t)throw new P7.MongoInvalidArgumentError(N7);const n=U7(t,i),s=this.cacheKey(A.address,e.username,n),o=this.entries.get(s);return o||this.addEntry(s,n,t,i)}addEntry(A,e,t,i){const n={requestCallback:Sm(t),refreshCallback:i?Sm(i):void 0,callbackHash:e};return this.entries.set(A,n),n}cacheKey(A,e,t){return this.hashedCacheKey(A,e,t)}}Ah.CallbackLockCache=L7;function Sm(r){let A=Promise.resolve();return async(e,t)=>(await A,A=A.then(()=>r(e,t)),A)}function U7(r,A){let e=La.get(r),t=La.get(A??zC);return e==null&&(cs++,e=cs,La.set(r,cs)),t==null&&A&&(cs++,t=cs,La.set(A,cs)),`${e}-${t}`}var ra={};Object.defineProperty(ra,"__esModule",{value:!0});ra.TokenEntryCache=ra.TokenEntry=void 0;const GC=jn,k7=0;class VC extends GC.ExpiringCacheEntry{constructor(A,e,t){super(t),this.tokenResult=A,this.serverInfo=e}}ra.TokenEntry=VC;class z7 extends GC.Cache{addEntry(A,e,t,i,n){const s=new VC(i,n,i.expiresInSeconds??k7);return this.entries.set(this.cacheKey(A,e,t),s),s}deleteEntry(A,e,t){this.entries.delete(this.cacheKey(A,e,t))}getEntry(A,e,t){return this.entries.get(this.cacheKey(A,e,t))}deleteExpiredEntries(){for(const[A,e]of this.entries)e.isValid()||this.entries.delete(A)}cacheKey(A,e,t){return this.hashedCacheKey(A,e,t)}}ra.TokenEntryCache=z7;Object.defineProperty(Z1,"__esModule",{value:!0});Z1.CallbackWorkflow=void 0;const Is=ue,Id=_A,vm=PA,QC=Mi,G7=Ah,V7=ra,Q7=0,H7=300,j7=["accessToken","expiresInSeconds","refreshToken"],W7="User provided OIDC callbacks must return a valid object with an accessToken.";class Y7{constructor(){this.cache=new V7.TokenEntryCache,this.callbackCache=new G7.CallbackLockCache}async speculativeAuth(A){const e=wm(A);return e.db=A.source,{speculativeAuthenticate:e}}async execute(A,e,t,i){var c,h;const{requestCallback:n,refreshCallback:s,callbackHash:o}=this.callbackCache.getEntry(A,e),u=this.cache.getEntry(A.address,e.username,o);let l;if(u)if(u.isValid()&&!t)l=await this.finishAuthentication(A,e,u.tokenResult,(c=i==null?void 0:i.speculativeAuthenticate)==null?void 0:c.conversationId);else{const d=await this.fetchAccessToken(A,e,u.serverInfo,t,o,n,s);try{l=await this.finishAuthentication(A,e,d,t||(h=i==null?void 0:i.speculativeAuthenticate)==null?void 0:h.conversationId)}catch(f){if(t&&f instanceof Id.MongoError&&f.code===Id.MONGODB_ERROR_CODES.Reauthenticate)this.cache.deleteEntry(A.address,e.username,o),l=await this.execute(A,e,t);else throw f}}else{const d=await this.startAuthentication(A,e,t,i),f=d.conversationId,p=Is.BSON.deserialize(d.payload.buffer),y=await this.fetchAccessToken(A,e,p,t,o,n,s);l=await this.finishAuthentication(A,e,y,f)}return l}async startAuthentication(A,e,t,i){let n;return!t&&(i!=null&&i.speculativeAuthenticate)?n=i.speculativeAuthenticate:n=await A.commandAsync((0,vm.ns)(e.source),wm(e),void 0),n}async finishAuthentication(A,e,t,i){return await A.commandAsync((0,vm.ns)(e.source),$7(t.accessToken,i),void 0)}async fetchAccessToken(A,e,t,i,n,s,o){const u=this.cache.getEntry(A.address,e.username,n);let l;const c={timeoutSeconds:H7,version:Q7};if(u){if(u.isValid()&&!i)return u.tokenResult;o?(c.refreshToken=u.tokenResult.refreshToken,l=await o(t,c)):l=await s(t,c)}else l=await s(t,c);if(K7(l))throw this.cache.deleteEntry(A.address,e.username,n),new Id.MongoMissingCredentialsError(W7);return this.cache.deleteExpiredEntries(),this.cache.addEntry(A.address,e.username||"",n,l,t),l}}Z1.CallbackWorkflow=Y7;function $7(r,A){return A!=null&&typeof A=="number"?{saslContinue:1,conversationId:A,payload:new Is.Binary(Is.BSON.serialize({jwt:r}))}:{saslStart:1,mechanism:QC.AuthMechanism.MONGODB_OIDC,payload:new Is.Binary(Is.BSON.serialize({jwt:r}))}}function K7(r){return r==null||typeof r!="object"||!("accessToken"in r)?!0:!Object.getOwnPropertyNames(r).every(A=>j7.includes(A))}function wm(r){const A={};return r.username&&(A.n=r.username),{saslStart:1,autoAuthorize:1,mechanism:QC.AuthMechanism.MONGODB_OIDC,payload:new Is.Binary(Is.BSON.serialize(A))}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.MongoDBOIDC=r.OIDC_WORKFLOWS=void 0;const A=_A,e=lr,t=X1,i=J1,n=Z1,s="AuthContext must provide credentials.";r.OIDC_WORKFLOWS=new Map,r.OIDC_WORKFLOWS.set("callback",new n.CallbackWorkflow),r.OIDC_WORKFLOWS.set("aws",new t.AwsServiceWorkflow),r.OIDC_WORKFLOWS.set("azure",new i.AzureServiceWorkflow);class o extends e.AuthProvider{constructor(){super()}async auth(h){const{connection:d,reauthenticating:f,response:p}=h,y=u(h);await l(y).execute(d,y,f,p)}async prepare(h,d){const f=u(d),y=await l(f).speculativeAuth(f);return{...h,...y}}}r.MongoDBOIDC=o;function u(c){const{credentials:h}=c;if(!h)throw new A.MongoMissingCredentialsError(s);return h}function l(c){const h=c.mechanismProperties.PROVIDER_NAME,d=r.OIDC_WORKFLOWS.get(h||"callback");if(!d)throw new A.MongoInvalidArgumentError(`Could not load workflow for provider ${c.mechanismProperties.PROVIDER_NAME}`);return d}})(LC);var eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.Plain=void 0;const q7=Ce,X7=_A,J7=PA,Z7=lr;class AR extends Z7.AuthProvider{async auth(A){const{connection:e,credentials:t}=A;if(!t)throw new X7.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:i,password:n}=t,o={saslStart:1,mechanism:"PLAIN",payload:new q7.Binary(Buffer.from(`\0${i}\0${n}`)),autoAuthorize:1};await e.commandAsync((0,J7.ns)("$external.$cmd"),o,void 0)}}eh.Plain=AR;var ia={};const bm=r=>r.codePointAt(0),eR=r=>r[0],tR=r=>r[r.length-1];function Im(r){const A=[],e=r.length;for(let t=0;t<e;t+=1){const i=r.charCodeAt(t);if(i>=55296&&i<=56319&&e>t+1){const n=r.charCodeAt(t+1);if(n>=56320&&n<=57343){A.push((i-55296)*1024+n-56320+65536),t+=1;continue}}A.push(i)}return A}function fu({unassigned_code_points:r,commonly_mapped_to_nothing:A,non_ASCII_space_characters:e,prohibited_characters:t,bidirectional_r_al:i,bidirectional_l:n},s,o={}){const u=e,l=A;if(typeof s!="string")throw new TypeError("Expected string.");if(s.length===0)return"";const c=Im(s).map(m=>u.get(m)?32:m).filter(m=>!l.get(m)),h=String.fromCodePoint.apply(null,c).normalize("NFKC"),d=Im(h);if(d.some(m=>t.get(m)))throw new Error("Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3");if(o.allowUnassigned!==!0&&d.some(E=>r.get(E)))throw new Error("Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5");const p=d.some(m=>i.get(m)),y=d.some(m=>n.get(m));if(p&&y)throw new Error("String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6");const _=i.get(bm(eR(h))),g=i.get(bm(tR(h)));if(p&&!(_&&g))throw new Error("Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6");return h}fu.saslprep=fu;fu.default=fu;var rR=fu,th={},iR=sn;function sn(r,A){if(!(this instanceof sn))return new sn(r,A);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=r||1024,this.deduplicate=A?A.deduplicate:null,this.zeros=this.deduplicate?rh(this.deduplicate.length):null}sn.prototype.updated=function(r){for(;this.deduplicate&&r.buffer[r.deduplicate]===this.deduplicate[r.deduplicate];)if(r.deduplicate++,r.deduplicate===this.deduplicate.length){r.deduplicate=0,r.buffer.equals&&r.buffer.equals(this.deduplicate)&&(r.buffer=this.deduplicate);break}r.updated||!this.updates||(r.updated=!0,this.updates.push(r))};sn.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var r=this.updates.pop();return r.updated=!1,r};sn.prototype._array=function(r,A){if(r>=this.maxPages){if(A)return;nR(this,r)}aR(r,this.path);for(var e=this.pages,t=this.level;t>0;t--){var i=this.path[t],n=e[i];if(!n){if(A)return;n=e[i]=new Array(32768)}e=n}return e};sn.prototype.get=function(r,A){var e=this._array(r,A),t=this.path[0],i=e&&e[t];return!i&&!A&&(i=e[t]=new HC(r,rh(this.pageSize)),r>=this.length&&(this.length=r+1)),i&&i.buffer===this.deduplicate&&this.deduplicate&&!A&&(i.buffer=oR(i.buffer),i.deduplicate=0),i};sn.prototype.set=function(r,A){var e=this._array(r,!1),t=this.path[0];if(r>=this.length&&(this.length=r+1),!A||this.zeros&&A.equals&&A.equals(this.zeros)){e[t]=void 0;return}this.deduplicate&&A.equals&&A.equals(this.deduplicate)&&(A=this.deduplicate);var i=e[t],n=sR(A,this.pageSize);i?i.buffer=n:e[t]=new HC(r,n)};sn.prototype.toBuffer=function(){for(var r=new Array(this.length),A=rh(this.pageSize),e=0;e<r.length;)for(var t=this._array(e,!0),i=0;i<32768&&e<r.length;i++)r[e++]=t&&t[i]?t[i].buffer:A;return Buffer.concat(r)};function nR(r,A){for(;r.maxPages<A;){var e=r.pages;r.pages=new Array(32768),r.pages[0]=e,r.level++,r.maxPages*=32768}}function sR(r,A){if(r.length===A)return r;if(r.length>A)return r.slice(0,A);var e=rh(A);return r.copy(e),e}function rh(r){if(Buffer.alloc)return Buffer.alloc(r);var A=new Buffer(r);return A.fill(0),A}function oR(r){var A=Buffer.allocUnsafe?Buffer.allocUnsafe(r.length):new Buffer(r.length);return r.copy(A),A}function HC(r,A){this.offset=r*A.length,this.buffer=A,this.updated=!1,this.deduplicate=0}function aR(r,A){r=(r-(A[0]=r&32767))/32768,r=(r-(A[1]=r&32767))/32768,A[3]=(r-(A[2]=r&32767))/32768&32767}var uR=iR,lR=Wn;function Wn(r){if(!(this instanceof Wn))return new Wn(r);if(r||(r={}),Buffer.isBuffer(r)&&(r={buffer:r}),this.pageOffset=r.pageOffset||0,this.pageSize=r.pageSize||1024,this.pages=r.pages||uR(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!hR(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!r.trackUpdates,this._pageMask=this.pageSize-1,r.buffer){for(var A=0;A<r.buffer.length;A+=this.pageSize)this.pages.set(A/this.pageSize,r.buffer.slice(A,A+this.pageSize));this.byteLength=r.buffer.length,this.length=8*this.byteLength}}Wn.prototype.get=function(r){var A=r&7,e=(r-A)/8;return!!(this.getByte(e)&128>>A)};Wn.prototype.getByte=function(r){var A=r&this._pageMask,e=(r-A)/this.pageSize,t=this.pages.get(e,!0);return t?t.buffer[A+this.pageOffset]:0};Wn.prototype.set=function(r,A){var e=r&7,t=(r-e)/8,i=this.getByte(t);return this.setByte(t,A?i|128>>e:i&(255^128>>e))};Wn.prototype.toBuffer=function(){for(var r=cR(this.pages.length*this.pageSize),A=0;A<this.pages.length;A++){var e=this.pages.get(A,!0),t=A*this.pageSize;e&&e.buffer.copy(r,t,this.pageOffset,this.pageOffset+this.pageSize)}return r};Wn.prototype.setByte=function(r,A){var e=r&this._pageMask,t=(r-e)/this.pageSize,i=this.pages.get(t,!1);return e+=this.pageOffset,i.buffer[e]===A?!1:(i.buffer[e]=A,r>=this.byteLength&&(this.byteLength=r+1,this.length=this.byteLength*8),this._trackUpdates&&this.pages.updated(i),!0)};function cR(r){if(Buffer.alloc)return Buffer.alloc(r);var A=new Buffer(r);return A.fill(0),A}function hR(r){return!(r&r-1)}var dR=Sr&&Sr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(th,"__esModule",{value:!0});th.createMemoryCodePoints=void 0;const fR=dR(lR);function pR(r){let A=0;function e(){const l=r.readUInt32BE(A);A+=4;const c=r.slice(A,A+l);return A+=l,(0,fR.default)({buffer:c})}const t=e(),i=e(),n=e(),s=e(),o=e(),u=e();return{unassigned_code_points:t,commonly_mapped_to_nothing:i,non_ASCII_space_characters:n,prohibited_characters:s,bidirectional_r_al:o,bidirectional_l:u}}th.createMemoryCodePoints=pR;var mp={};Object.defineProperty(mp,"__esModule",{value:!0});const gR=Buffer.from("AAHgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAP////AAAAAAAAAAAAAAADAAAAAAAAAAH//wAAAAAAAAAAAAD//wAA893wFAAAIAAAAAABAAAAAAH/AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAAAAz8AAP////+AAAAAAYCAAAAAAJ+AACAAACAH/wAAAB8H///3/+6AAAAfAAAD/wAAAAAAAAAAAAAAAAAAAAAAAwABAAIAAAAHAAAAH////////wAAAAAAAD///////////////////////////////////////////////////////4gAAAAAAAAwAAMHAAAAf/+IBmAAAEBcNAZj/vIMAAAf2B5gAABASTQeY/+F/AAH/4gKIAAAQEgwAiN//3wA//+IBmAAAEBMMA5j/PI8AH//yBxDlOccAjwcQ/7//gAf/4gEQAAAQAg8BEP5/zwA///IBEAAAEAIPARD+f08AP//yARAAABAADwMQ/7/PAD//8gAAcAAACALAd4FAP//x/+AAAAAAAAAHgAAAA//////llvwgIrIACMFAwAz/////wAAAAAAAAAAAIAAAAAfgAAADwCAAAAABAAG////////AAAAACCQHD8AAAA///////////8AAAAAA/8AAAAAAG8AAAAAAAAAAAAAAD4AAAAAAAAAAB8AAAAAAAAAAAAAPwEAAAAAAAAAAUMBQwAAAAABQwAAAAFDAUMBAQAAAQAAAAFDAQAAAAABAAAfgAAAB/////8AAAAAAAAAAAAAB/+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/wAAAAcAAAAAAAAAAAAAf/8ABAf/AAAB/wAAD/8ABE//AAAAAAAAAAAAAAAHAD///wABAD8AAAAAAAAAAAAAAP8AAAAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAA/AAADAwAAAAADAwCqAAAAAwAAAAAAAAQABAAMCAAAxAEAAAAAAAAAAAAAHv4PwDAAAAH//wAAP////wAAAB///wAAAAAAAAAYAA/gAAAAAAAP/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf///////wAAAAAB////AB///wAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAADAD///////////////////4QwAAAAgAAAAAodAYAAAAAAAAcAAACAAf//AAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wAAACAAAAAAAAAAAAAAD/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///8ADwAAAAAAAAAAgAAAAAAAAAAAAAGAAAAAAAAAAAAAAAAA+AAAAAAHgAAAAAAAAAAAAAABAAAAAAD/////////AAAAAAAHAAAAAA//gAAAAAAOAAAAAAAAAAAADwAAAAAAAQAAAAAAAAAAAAAAAAAAAeAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAB////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAB////////////////////////8B/+D4AAABBSQAAAAAAAAAAAAAAAAAP////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAAAAAAAAAAwAAAAAAAAP8AAAAAAAcAAP//D/8AAAGAEAABDwQAAAAAAAAAAAAAAAAAAAAABoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcDAwMcBAf+A////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAQ//AAAAH/////////////////////////////8AAAAAAwAAAAAD//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/wAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////////////////////////////////////////////////////////////////////////////////////////wAAAAAAAAAAAAAEAAAAAAAAAAAE2YQAKEgAAAAAAAAAAhgEBAAAACEFwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAA//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////P/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////z//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////P/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////z//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////P/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////z//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////P/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////y/////AAAAAAAAAAAAAAAA/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//AAAAABAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACIAD/////AAAAAAAAAAAAAAAB/////4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAAD/AAAAAAAB8D8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAP///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////P//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKQAP///+D4AAAAABF////g/+AAAAAHf////////////////AQGAAA+//y////4AAAAAAAAAAAAAP/////8AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF/7/++tv/////////////////wAAAAB////////////////////////////////////////////////////////////wAAP//////////P////////wAAAAAA//gAAAAAAAAAAAAAAAAAAPv/////////////////////+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIgAAAAAAAAAAAAf///4H///+AAAAAAACAEIP///v////7/////////////////////////////////////////////////v//wAAAA///////////////8/5/AAMAA+AIAAAAAAAAAAAAAAAAAAAAAACAC6///3//////+//////wA/////////////////////+A///////////7//////MD//wAAAAB//////n9//////0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABf////////HgHiA/8//gAA3+Z///7+jw4GYAQ3D/8/gB+Gf//+/tsOAAAB6A/84ABf13///v7fHgFiAAIP/AAA3+Z///7+zxoGYAQ3D/4AAF+O8axjj/cNjuAEAAf/gAHf7v///v/fAeAAAAMP/AAA3+7///7/3wvmwBgLD/wAAN/u///+//8ODuAEAw/8AADf//j///9/0/gHA/wAAOAB///////+wAP4B//AAAAAAaaQPf3U3sAT6AP/MAAAAAP///z////qD/3/////gAAEE8AAAAAAAA/35AAAAAAAA/////99oQID///8AAAAAAAAAAAD//////AD//////5D//////////////8H//////////+D/////////////wP7//////////rz+vP/////+vP////68/rz+/v///v////68/v/////+///gf///+AAAAAD/////////////+AB////////////////////////////////////////////////////////////////////////////////////////////////////////+AH///+D/////////////gAD/+8AA///GAP//wAD/+4AA/////////gP9gA/o/8AAAAAA/8D//////////////wD//////4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/////////////////////////w///////////////A///8/P/////8/P9V/////P////////v6O/jz8P/4O/gAAgAAAAAAAAAAAAAAAEABAAAAAAAAAAAAAAAAAAAAACE/9HwKvd/HB8AAAP/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////gAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAB/wHz4f/////////////4Hf//////////////vB//////4f//////////////+//////8AAAAAAAAA///////4//////AAAAD////x////////gAD/8P///////v///////////////////h////////////////z////+/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8/////////+AAAAAAAAAAAAAAAAAAAAAAAAD+AB8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB////gf///4AP//////////////j8/PzgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////vAA////4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////P/////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD////////////////////////////////////////8AP/////+P/////////4/4AAYD////8P///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/////////////7///////////7Jnv/17f//////////ef7+////976P7////////////////////////////////////////////////////////D////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////w=","base64");mp.default=gR;var jC=Sr&&Sr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};const mR=jC(rR),yR=th,ER=jC(mp),CR=(0,yR.createMemoryCodePoints)(ER.default),Ul=mR.default.bind(null,CR);Object.assign(Ul,{saslprep:Ul,default:Ul});var _R=Ul;Object.defineProperty(ia,"__esModule",{value:!0});ia.ScramSHA256=ia.ScramSHA1=void 0;const SR=_R,Yn=zA,vR=Fr,Rf=Ce,Yr=_A,Pf=PA,wR=lr,Bm=Mi;class WC extends wR.AuthProvider{constructor(A){super(),this.cryptoMethod=A||"sha1",this.randomBytesAsync=(0,vR.promisify)(Yn.randomBytes)}async prepare(A,e){const t=this.cryptoMethod,i=e.credentials;if(!i)throw new Yr.MongoMissingCredentialsError("AuthContext must provide credentials.");const n=await this.randomBytesAsync(24);return e.nonce=n,{...A,speculativeAuthenticate:{...KC(t,i,n),db:i.source}}}async auth(A){const{reauthenticating:e,response:t}=A;return t!=null&&t.speculativeAuthenticate&&!e?qC(this.cryptoMethod,t.speculativeAuthenticate,A):bR(this.cryptoMethod,A)}}function YC(r){return r.replace("=","=3D").replace(",","=2C")}function $C(r,A){return Buffer.concat([Buffer.from("n=","utf8"),Buffer.from(r,"utf8"),Buffer.from(",r=","utf8"),Buffer.from(A.toString("base64"),"utf8")])}function KC(r,A,e){const t=YC(A.username);return{saslStart:1,mechanism:r==="sha1"?Bm.AuthMechanism.MONGODB_SCRAM_SHA1:Bm.AuthMechanism.MONGODB_SCRAM_SHA256,payload:new Rf.Binary(Buffer.concat([Buffer.from("n,,","utf8"),$C(t,e)])),autoAuthorize:1,options:{skipEmptyExchange:!0}}}async function bR(r,A){const{connection:e,credentials:t}=A;if(!t)throw new Yr.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!A.nonce)throw new Yr.MongoInvalidArgumentError("AuthContext must contain a valid nonce property");const i=A.nonce,n=t.source,s=KC(r,t,i),o=await e.commandAsync((0,Pf.ns)(`${n}.$cmd`),s,void 0);await qC(r,o,A)}async function qC(r,A,e){const t=e.connection,i=e.credentials;if(!i)throw new Yr.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!e.nonce)throw new Yr.MongoInvalidArgumentError("Unable to continue SCRAM without valid nonce");const n=e.nonce,s=i.source,o=YC(i.username),u=i.password,l=r==="sha256"?(0,SR.saslprep)(u):IR(o,u),c=Buffer.isBuffer(A.payload)?new Rf.Binary(A.payload):A.payload,h=Tm(c),d=parseInt(h.i,10);if(d&&d<4096)throw new Yr.MongoRuntimeError(`Server returned an invalid iteration count ${d}`);const f=h.s,p=h.r;if(p.startsWith("nonce"))throw new Yr.MongoRuntimeError(`Server returned an invalid nonce: ${p}`);const y=`c=biws,r=${p}`,_=OR(l,Buffer.from(f,"base64"),d,r),g=ll(r,_,"Client Key"),m=ll(r,_,"Server Key"),E=TR(r,g),w=[$C(o,n),c.toString("utf8"),y].join(","),L=ll(r,E,w),T=`p=${BR(g,L)}`,R=[y,T].join(","),P=ll(r,m,w),F={saslContinue:1,conversationId:A.conversationId,payload:new Rf.Binary(Buffer.from(R))},H=await t.commandAsync((0,Pf.ns)(`${s}.$cmd`),F,void 0),M=Tm(H.payload);if(!MR(Buffer.from(M.v,"base64"),P))throw new Yr.MongoRuntimeError("Server returned an invalid signature");if(H.done!==!1)return;const b={saslContinue:1,conversationId:H.conversationId,payload:Buffer.alloc(0)};await t.commandAsync((0,Pf.ns)(`${s}.$cmd`),b,void 0)}function Tm(r){const A=r.toString("utf8"),e={},t=A.split(",");for(let i=0;i<t.length;i++){const n=t[i].split("=");e[n[0]]=n[1]}return e}function IR(r,A){if(typeof r!="string")throw new Yr.MongoInvalidArgumentError("Username must be a string");if(typeof A!="string")throw new Yr.MongoInvalidArgumentError("Password must be a string");if(A.length===0)throw new Yr.MongoInvalidArgumentError("Password cannot be empty");let e;try{e=Yn.createHash("md5")}catch(t){throw Yn.getFips()?new Error("Auth mechanism SCRAM-SHA-1 is not supported in FIPS mode"):t}return e.update(`${r}:mongo:${A}`,"utf8"),e.digest("hex")}function BR(r,A){Buffer.isBuffer(r)||(r=Buffer.from(r)),Buffer.isBuffer(A)||(A=Buffer.from(A));const e=Math.max(r.length,A.length),t=[];for(let i=0;i<e;i+=1)t.push(r[i]^A[i]);return Buffer.from(t).toString("base64")}function TR(r,A){return Yn.createHash(r).update(A).digest()}function ll(r,A,e){return Yn.createHmac(r,A).update(e).digest()}let kl={},Ff=0;function DR(){kl={},Ff=0}const xR={sha256:32,sha1:20};function OR(r,A,e,t){const i=[r,A.toString("base64"),e].join("_");if(kl[i]!=null)return kl[i];const n=Yn.pbkdf2Sync(r,A,e,xR[t],t);return Ff>=200&&DR(),kl[i]=n,Ff+=1,n}function MR(r,A){if(r.length!==A.length)return!1;if(typeof Yn.timingSafeEqual=="function")return Yn.timingSafeEqual(r,A);let e=0;for(let t=0;t<r.length;t++)e|=r[t]^A[t];return e===0}class RR extends WC{constructor(){super("sha1")}}ia.ScramSHA1=RR;class PR extends WC{constructor(){super("sha256")}}ia.ScramSHA256=PR;var ih={};Object.defineProperty(ih,"__esModule",{value:!0});ih.X509=void 0;const Dm=_A,FR=PA,NR=lr;class LR extends NR.AuthProvider{async prepare(A,e){const{credentials:t}=e;if(!t)throw new Dm.MongoMissingCredentialsError("AuthContext must provide credentials.");return{...A,speculativeAuthenticate:xm(t)}}async auth(A){const e=A.connection,t=A.credentials;if(!t)throw new Dm.MongoMissingCredentialsError("AuthContext must provide credentials.");const i=A.response;i!=null&&i.speculativeAuthenticate||await e.commandAsync((0,FR.ns)("$external.$cmd"),xm(t),void 0)}}ih.X509=LR;function xm(r){const A={authenticate:1,mechanism:"MONGODB-X509"};return r.username&&(A.user=r.username),A}var Fe={},yp={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.SENSITIVE_COMMANDS=r.CommandFailedEvent=r.CommandSucceededEvent=r.CommandStartedEvent=void 0;const A=ut,e=PA,t=Q1();class i{constructor(E,w){this.name=A.COMMAND_STARTED;const L=y(w),T=u(L),{address:R,connectionId:P,serviceId:F}=g(E);r.SENSITIVE_COMMANDS.has(T)&&(this.commandObj={},this.commandObj[T]=!0),this.address=R,this.connectionId=P,this.serviceId=F,this.requestId=w.requestId,this.databaseName=w.databaseName,this.commandName=T,this.command=h(T,L,L)}get hasServiceId(){return!!this.serviceId}}r.CommandStartedEvent=i;class n{constructor(E,w,L,T){this.name=A.COMMAND_SUCCEEDED;const R=y(w),P=u(R),{address:F,connectionId:H,serviceId:M}=g(E);this.address=F,this.connectionId=H,this.serviceId=M,this.requestId=w.requestId,this.commandName=P,this.duration=(0,e.calculateDurationInMs)(T),this.reply=h(P,R,_(w,L))}get hasServiceId(){return!!this.serviceId}}r.CommandSucceededEvent=n;class s{constructor(E,w,L,T){this.name=A.COMMAND_FAILED;const R=y(w),P=u(R),{address:F,connectionId:H,serviceId:M}=g(E);this.address=F,this.connectionId=H,this.serviceId=M,this.requestId=w.requestId,this.commandName=P,this.duration=(0,e.calculateDurationInMs)(T),this.failure=h(P,R,L)}get hasServiceId(){return!!this.serviceId}}r.CommandFailedEvent=s,r.SENSITIVE_COMMANDS=new Set(["authenticate","saslStart","saslContinue","getnonce","createUser","updateUser","copydbgetnonce","copydbsaslstart","copydb"]);const o=new Set(["hello",A.LEGACY_HELLO_COMMAND,A.LEGACY_HELLO_COMMAND_CAMEL_CASE]),u=m=>Object.keys(m)[0],l=m=>m.ns,c=m=>m.ns.split(".")[1],h=(m,E,w)=>r.SENSITIVE_COMMANDS.has(m)||o.has(m)&&E.speculativeAuthenticate?{}:w,d={$query:"filter",$orderby:"sort",$hint:"hint",$comment:"comment",$maxScan:"maxScan",$max:"max",$min:"min",$returnKey:"returnKey",$showDiskLoc:"showRecordId",$maxTimeMS:"maxTimeMS",$snapshot:"snapshot"},f={numberToSkip:"skip",numberToReturn:"batchSize",returnFieldSelector:"projection"},p=["tailable","oplogReplay","noCursorTimeout","awaitData","partial","exhaust"];function y(m){var L;if(m instanceof t.OpMsgRequest)return(0,e.deepCopy)(m.command);if((L=m.query)!=null&&L.$query){let T;return m.ns==="admin.$cmd"?T=Object.assign({},m.query.$query):(T={find:c(m)},Object.keys(d).forEach(R=>{m.query[R]!=null&&(T[d[R]]=(0,e.deepCopy)(m.query[R]))})),Object.keys(f).forEach(R=>{const P=R;m[P]!=null&&(T[f[P]]=(0,e.deepCopy)(m[P]))}),p.forEach(R=>{m[R]&&(T[R]=m[R])}),m.pre32Limit!=null&&(T.limit=m.pre32Limit),m.query.$explain?{explain:T}:T}const E={},w={};if(m.query){for(const T in m.query)E[T]=(0,e.deepCopy)(m.query[T]);w.query=E}for(const T in m)T!=="query"&&(w[T]=(0,e.deepCopy)(m[T]));return m.query?E:w}function _(m,E){return E&&(m instanceof t.OpMsgRequest?(0,e.deepCopy)(E.result?E.result:E):m.query&&m.query.$query!=null?{ok:1,cursor:{id:(0,e.deepCopy)(E.cursorId),ns:l(m),firstBatch:(0,e.deepCopy)(E.documents)}}:(0,e.deepCopy)(E.result?E.result:E))}function g(m){let E;return"id"in m&&(E=m.id),{address:m.address,serviceId:m.serviceId,connectionId:E}}})(yp);var nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.MessageStream=void 0;const UR=zA,Bd=_A,kR=PA,Ua=Q1(),Nf=Nu(),zl=JA,On=16,Om=9,zR=1024*1024*16*4,Gl=Symbol("buffer");class GR extends UR.Duplex{constructor(A={}){super(A),this.isMonitoringConnection=!1,this.maxBsonMessageSize=A.maxBsonMessageSize||zR,this[Gl]=new kR.BufferPool}get buffer(){return this[Gl]}_write(A,e,t){this[Gl].append(A),ka(this,t)}_read(){}writeCommand(A,e){const t=e.agreedCompressor??"none";if(t==="none"||!Ua.OpCompressedRequest.canCompress(A)){const u=A.toBin();this.push(Array.isArray(u)?Buffer.concat(u):u);return}const i=Buffer.concat(A.toBin()),n=i.slice(On),s=i.readInt32LE(12),o={agreedCompressor:t,zlibCompressionLevel:e.zlibCompressionLevel??0};(0,Nf.compress)(o,n).then(u=>{const l=Buffer.alloc(On);l.writeInt32LE(On+Om+u.length,0),l.writeInt32LE(A.requestId,4),l.writeInt32LE(0,8),l.writeInt32LE(zl.OP_COMPRESSED,12);const c=Buffer.alloc(Om);c.writeInt32LE(s,0),c.writeInt32LE(n.length,4),c.writeUInt8(Nf.Compressor[t],8),this.push(Buffer.concat([l,c,u]))},u=>{e.cb(u)})}}nh.MessageStream=GR;function ka(r,A){const e=r[Gl],t=e.getInt32();if(t==null)return A();if(t<0)return A(new Bd.MongoParseError(`Invalid message size: ${t}`));if(t>r.maxBsonMessageSize)return A(new Bd.MongoParseError(`Invalid message size: ${t}, max allowed: ${r.maxBsonMessageSize}`));if(t>e.length)return A();const i=e.read(t),n={length:i.readInt32LE(0),requestId:i.readInt32LE(4),responseTo:i.readInt32LE(8),opCode:i.readInt32LE(12)},s=()=>{if(r.isMonitoringConnection){const c=e.getInt32();if(c!=null&&c<=e.length)return!0}return!1};let o=n.opCode===zl.OP_MSG?Ua.OpMsgResponse:Ua.OpQueryResponse;if(n.opCode!==zl.OP_COMPRESSED){const c=i.subarray(On);return s()||(r.emit("message",new o(i,n,c)),e.length>=4)?ka(r,A):A()}n.fromCompressed=!0,n.opCode=i.readInt32LE(On),n.length=i.readInt32LE(On+4);const u=i[On+8],l=i.slice(On+9);o=n.opCode===zl.OP_MSG?Ua.OpMsgResponse:Ua.OpQueryResponse,(0,Nf.decompress)(u,l).then(c=>c.length!==n.length?A(new Bd.MongoDecompressionError("Message body and message header must be the same length")):s()||(r.emit("message",new o(i,n,c)),e.length>=4)?ka(r,A):A(),c=>A(c))}var sh={};Object.defineProperty(sh,"__esModule",{value:!0});sh.StreamDescription=void 0;const VR=ge,QR=Ai,HR=["minWireVersion","maxWireVersion","maxBsonObjectSize","maxMessageSizeBytes","maxWriteBatchSize","logicalSessionTimeoutMinutes"];class jR{constructor(A,e){this.address=A,this.type=VR.ServerType.Unknown,this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48e6,this.maxWriteBatchSize=1e5,this.logicalSessionTimeoutMinutes=e==null?void 0:e.logicalSessionTimeoutMinutes,this.loadBalanced=!!(e!=null&&e.loadBalanced),this.compressors=e&&e.compressors&&Array.isArray(e.compressors)?e.compressors:[]}receiveResponse(A){if(A!=null){this.type=(0,QR.parseServerType)(A);for(const e of HR)A[e]!=null&&(this[e]=A[e]),"__nodejs_mock_server__"in A&&(this.__nodejs_mock_server__=A.__nodejs_mock_server__);A.compression&&(this.compressor=this.compressors.filter(e=>{var t;return(t=A.compression)==null?void 0:t.includes(e)})[0])}}}sh.StreamDescription=jR;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.read=Fe.readMany=Fe.writeCommand=Fe.readWireProtocolMessages=Fe.ModernConnection=Fe.hasSessionSupport=Fe.CryptoConnection=Fe.Connection=void 0;const WR=zA,YR=zA,Oc=zA,XC=Fr,Ot=ut,ze=_A,JC=pt,Mc=ht,sr=PA,cl=yp,na=Q1(),ZC=nh,A_=sh,$R=Nu(),Rc=Vs,ct=Symbol("stream"),ke=Symbol("queue"),We=Symbol("messageStream"),Vo=Symbol("generation"),Qo=Symbol("lastUseTime"),Ho=Symbol("clusterTime"),kt=Symbol("description"),jo=Symbol("hello"),Mm=Symbol("autoEncrypter"),Fn=Symbol("delayedTimeoutId"),e_="Connection internal queue contains more than 1 operation description";class Be extends JC.TypedEventEmitter{constructor(A,e){var t;super(),this.commandAsync=(0,XC.promisify)((i,n,s,o)=>this.command(i,n,s,o)),this.id=e.id,this.address=r_(A,e),this.socketTimeoutMS=e.socketTimeoutMS??0,this.monitorCommands=e.monitorCommands,this.serverApi=e.serverApi,this.closed=!1,this[jo]=null,this[Ho]=null,this[kt]=new A_.StreamDescription(this.address,e),this[Vo]=e.generation,this[Qo]=(0,sr.now)(),this[ke]=new Map,this[We]=new ZC.MessageStream({...e,maxBsonMessageSize:(t=this.hello)==null?void 0:t.maxBsonMessageSize}),this[ct]=A,this[Fn]=null,this[We].on("message",i=>this.onMessage(i)),this[We].on("error",i=>this.onError(i)),this[ct].on("close",()=>this.onClose()),this[ct].on("timeout",()=>this.onTimeout()),this[ct].on("error",()=>{}),this[ct].pipe(this[We]),this[We].pipe(this[ct])}get description(){return this[kt]}get hello(){return this[jo]}set hello(A){this[kt].receiveResponse(A),this[kt]=Object.freeze(this[kt]),this[jo]=A}set isMonitoringConnection(A){this[We].isMonitoringConnection=A}get isMonitoringConnection(){return this[We].isMonitoringConnection}get serviceId(){var A;return(A=this.hello)==null?void 0:A.serviceId}get loadBalanced(){return this.description.loadBalanced}get generation(){return this[Vo]||0}set generation(A){this[Vo]=A}get idleTime(){return(0,sr.calculateDurationInMs)(this[Qo])}get clusterTime(){return this[Ho]}get stream(){return this[ct]}markAvailable(){this[Qo]=(0,sr.now)()}onError(A){this.cleanup(!0,A)}onClose(){const A=`connection ${this.id} to ${this.address} closed`;this.cleanup(!0,new ze.MongoNetworkError(A))}onTimeout(){this[Fn]=(0,Oc.setTimeout)(()=>{const A=`connection ${this.id} to ${this.address} timed out`,e=this.hello==null;this.cleanup(!0,new ze.MongoNetworkTimeoutError(A,{beforeHandshake:e}))},1).unref()}onMessage(A){const e=this[Fn];e!=null&&((0,Oc.clearTimeout)(e),this[Fn]=null);const t=this[ct].timeout??0;this[ct].setTimeout(0),this.emit("message",A);let i=this[ke].get(A.responseTo);if(!i&&this.isMonitoringConnection)if(this[ke].size>1)this.cleanup(!0,new ze.MongoRuntimeError(e_));else{const s=this[ke].entries().next();if(s.value!=null){const[o,u]=s.value;i=u,this[ke].delete(o)}}if(!i)return;const n=i.cb;this[ke].delete(A.responseTo),"moreToCome"in A&&A.moreToCome&&(this[ke].set(A.requestId,i),this[ct].setTimeout(t));try{A.parse(i)}catch(s){n(s);return}if(A.documents[0]){const s=A.documents[0],o=i.session;if(o&&(0,Mc.updateSessionFromResponse)(o,s),s.$clusterTime&&(this[Ho]=s.$clusterTime,this.emit(Be.CLUSTER_TIME_RECEIVED,s.$clusterTime)),s.writeConcernError){n(new ze.MongoWriteConcernError(s.writeConcernError,s),s);return}if(s.ok===0||s.$err||s.errmsg||s.code){n(new ze.MongoServerError(s));return}}n(void 0,A.documents[0])}destroy(A,e){if(this.closed){process.nextTick(()=>e==null?void 0:e());return}typeof e=="function"&&this.once("close",()=>process.nextTick(()=>e())),this.removeAllListeners(Be.PINNED),this.removeAllListeners(Be.UNPINNED);const t=`connection ${this.id} to ${this.address} closed`;this.cleanup(A.force,new ze.MongoNetworkError(t))}cleanup(A,e){if(this.closed)return;this.closed=!0;const t=()=>{for(const i of this[ke].values())i.cb(e);this[ke].clear(),this.emit(Be.CLOSE)};if(this[ct].removeAllListeners(),this[We].removeAllListeners(),this[We].destroy(),A){this[ct].destroy(),t();return}this[ct].writableEnded?t():this[ct].end(()=>{this[ct].destroy(),t()})}command(A,e,t,i){let n={...e};const s=(0,Rc.getReadPreference)(t),o=qR(this),u=t==null?void 0:t.session;let l=this.clusterTime;if(this.serverApi){const{version:d,strict:f,deprecationErrors:p}=this.serverApi;n.apiVersion=d,f!=null&&(n.apiStrict=f),p!=null&&(n.apiDeprecationErrors=p)}if(t_(this)&&u){u.clusterTime&&l&&u.clusterTime.clusterTime.greaterThan(l.clusterTime)&&(l=u.clusterTime);const d=(0,Mc.applySession)(u,n,t);if(d)return i(d)}else if(u!=null&&u.explicit)return i(new ze.MongoCompatibilityError("Current topology does not support sessions"));l&&(n.$clusterTime=l),(0,Rc.isSharded)(this)&&!o&&s&&s.mode!=="primary"&&(n={$query:n,$readPreference:s.toJSON()});const c=Object.assign({numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:s.secondaryOk()},t),h=o?new na.OpMsgRequest(A.db,n,c):new na.OpQueryRequest(A.db,n,c);try{i_(this,h,c,i)}catch(d){i(d)}}}Be.COMMAND_STARTED=Ot.COMMAND_STARTED;Be.COMMAND_SUCCEEDED=Ot.COMMAND_SUCCEEDED;Be.COMMAND_FAILED=Ot.COMMAND_FAILED;Be.CLUSTER_TIME_RECEIVED=Ot.CLUSTER_TIME_RECEIVED;Be.CLOSE=Ot.CLOSE;Be.MESSAGE=Ot.MESSAGE;Be.PINNED=Ot.PINNED;Be.UNPINNED=Ot.UNPINNED;Fe.Connection=Be;class KR extends Be{constructor(A,e){super(A,e),this[Mm]=e.autoEncrypter}command(A,e,t,i){const n=this[Mm];if(!n)return i(new ze.MongoMissingDependencyError("No AutoEncrypter available for encryption"));const s=(0,sr.maxWireVersion)(this);if(s===0)return super.command(A,e,t,i);if(s<8){i(new ze.MongoCompatibilityError("Auto-encryption requires a minimum MongoDB version of 4.2"));return}const o=e.find||e.findAndModify?e.sort:null,u=e.createIndexes?e.indexes.map(l=>l.key):null;n.encrypt(A.toString(),e,t).then(l=>{if(o!=null&&(e.find||e.findAndModify)&&(l.sort=o),u!=null&&e.createIndexes)for(const[c,h]of u.entries())l.indexes[c].key=h;super.command(A,l,t,(c,h)=>{if(c||h==null){i(c,h);return}n.decrypt(h,t).then(d=>i(void 0,d),d=>i(d))})},l=>{l&&i(l,null)})}}Fe.CryptoConnection=KR;function t_(r){return r.description.logicalSessionTimeoutMinutes!=null}Fe.hasSessionSupport=t_;function qR(r){const A=r.description;return A==null?!1:(0,sr.maxWireVersion)(r)>=6&&!A.__nodejs_mock_server__}function r_(r,A){if(A.proxyHost)return A.hostAddress.toString();const{remoteAddress:e,remotePort:t}=r;return typeof e=="string"&&typeof t=="number"?sr.HostAddress.fromHostPort(e,t).toString():(0,sr.uuidV4)().toString("hex")}function i_(r,A,e,t){e=e??{};const i={requestId:A.requestId,cb:t,session:e.session,noResponse:typeof e.noResponse=="boolean"?e.noResponse:!1,documentsReturnedIn:e.documentsReturnedIn,useBigInt64:typeof e.useBigInt64=="boolean"?e.useBigInt64:!1,promoteLongs:typeof e.promoteLongs=="boolean"?e.promoteLongs:!0,promoteValues:typeof e.promoteValues=="boolean"?e.promoteValues:!0,promoteBuffers:typeof e.promoteBuffers=="boolean"?e.promoteBuffers:!1,bsonRegExp:typeof e.bsonRegExp=="boolean"?e.bsonRegExp:!1,enableUtf8Validation:typeof e.enableUtf8Validation=="boolean"?e.enableUtf8Validation:!0,raw:typeof e.raw=="boolean"?e.raw:!1,started:0};r[kt]&&r[kt].compressor&&(i.agreedCompressor=r[kt].compressor,r[kt].zlibCompressionLevel&&(i.zlibCompressionLevel=r[kt].zlibCompressionLevel)),typeof e.socketTimeoutMS=="number"?r[ct].setTimeout(e.socketTimeoutMS):r.socketTimeoutMS!==0&&r[ct].setTimeout(r.socketTimeoutMS),r.monitorCommands&&(r.emit(Be.COMMAND_STARTED,new cl.CommandStartedEvent(r,A)),i.started=(0,sr.now)(),i.cb=(n,s)=>{n&&(s==null?void 0:s.ok)!==1?r.emit(Be.COMMAND_FAILED,new cl.CommandFailedEvent(r,A,n,i.started)):s&&(s.ok===0||s.$err)?r.emit(Be.COMMAND_FAILED,new cl.CommandFailedEvent(r,A,s,i.started)):r.emit(Be.COMMAND_SUCCEEDED,new cl.CommandSucceededEvent(r,A,s,i.started)),typeof t=="function"&&t(n,n instanceof ze.MongoWriteConcernError?void 0:s)}),i.noResponse||r[ke].set(i.requestId,i);try{r[We].writeCommand(A,i)}catch(n){if(!i.noResponse){r[ke].delete(i.requestId),i.cb(n);return}}i.noResponse&&i.cb()}class ln extends JC.TypedEventEmitter{constructor(A,e){var t;super(),this.commandAsync=(0,XC.promisify)((i,n,s,o)=>this.command(i,n,s,o)),this.id=e.id,this.address=r_(A,e),this.socketTimeoutMS=e.socketTimeoutMS??0,this.monitorCommands=e.monitorCommands,this.serverApi=e.serverApi,this.closed=!1,this[jo]=null,this[Ho]=null,this[kt]=new A_.StreamDescription(this.address,e),this[Vo]=e.generation,this[Qo]=(0,sr.now)(),this[ke]=new Map,this[We]=new ZC.MessageStream({...e,maxBsonMessageSize:(t=this.hello)==null?void 0:t.maxBsonMessageSize}),this.socket=A,this[Fn]=null,this[We].on("message",i=>this.onMessage(i)),this[We].on("error",i=>this.onError(i)),this.socket.on("close",()=>this.onClose()),this.socket.on("timeout",()=>this.onTimeout()),this.socket.on("error",()=>{}),this.socket.pipe(this[We]),this[We].pipe(this.socket)}get description(){return this[kt]}get hello(){return this[jo]}set hello(A){this[kt].receiveResponse(A),this[kt]=Object.freeze(this[kt]),this[jo]=A}set isMonitoringConnection(A){this[We].isMonitoringConnection=A}get isMonitoringConnection(){return this[We].isMonitoringConnection}get serviceId(){var A;return(A=this.hello)==null?void 0:A.serviceId}get loadBalanced(){return this.description.loadBalanced}get generation(){return this[Vo]||0}set generation(A){this[Vo]=A}get idleTime(){return(0,sr.calculateDurationInMs)(this[Qo])}get clusterTime(){return this[Ho]}get stream(){return this.socket}get hasSessionSupport(){return this.description.logicalSessionTimeoutMinutes!=null}get supportsOpMsg(){return this.description!=null&&(0,sr.maxWireVersion)(this)>=6&&!this.description.__nodejs_mock_server__}markAvailable(){this[Qo]=(0,sr.now)()}onError(A){this.cleanup(!0,A)}onClose(){const A=`connection ${this.id} to ${this.address} closed`;this.cleanup(!0,new ze.MongoNetworkError(A))}onTimeout(){this[Fn]=(0,Oc.setTimeout)(()=>{const A=`connection ${this.id} to ${this.address} timed out`,e=this.hello==null;this.cleanup(!0,new ze.MongoNetworkTimeoutError(A,{beforeHandshake:e}))},1).unref()}onMessage(A){const e=this[Fn];e!=null&&((0,Oc.clearTimeout)(e),this[Fn]=null);const t=this.socket.timeout??0;this.socket.setTimeout(0),this.emit("message",A);let i=this[ke].get(A.responseTo);if(!i&&this.isMonitoringConnection)if(this[ke].size>1)this.cleanup(!0,new ze.MongoRuntimeError(e_));else{const s=this[ke].entries().next();if(s.value!=null){const[o,u]=s.value;i=u,this[ke].delete(o)}}if(!i)return;const n=i.cb;this[ke].delete(A.responseTo),"moreToCome"in A&&A.moreToCome&&(this[ke].set(A.requestId,i),this.socket.setTimeout(t));try{A.parse(i)}catch(s){n(s);return}if(A.documents[0]){const s=A.documents[0],o=i.session;if(o&&(0,Mc.updateSessionFromResponse)(o,s),s.$clusterTime&&(this[Ho]=s.$clusterTime,this.emit(Be.CLUSTER_TIME_RECEIVED,s.$clusterTime)),s.writeConcernError){n(new ze.MongoWriteConcernError(s.writeConcernError,s),s);return}if(s.ok===0||s.$err||s.errmsg||s.code){n(new ze.MongoServerError(s));return}}n(void 0,A.documents[0])}destroy(A,e){if(this.closed){process.nextTick(()=>e==null?void 0:e());return}typeof e=="function"&&this.once("close",()=>process.nextTick(()=>e())),this.removeAllListeners(Be.PINNED),this.removeAllListeners(Be.UNPINNED);const t=`connection ${this.id} to ${this.address} closed`;this.cleanup(A.force,new ze.MongoNetworkError(t))}cleanup(A,e){if(this.closed)return;this.closed=!0;const t=()=>{for(const i of this[ke].values())i.cb(e);this[ke].clear(),this.emit(Be.CLOSE)};if(this.socket.removeAllListeners(),this[We].removeAllListeners(),this[We].destroy(),A){this.socket.destroy(),t();return}this.socket.writableEnded?t():this.socket.end(()=>{this.socket.destroy(),t()})}command(A,e,t,i){let n={...e};const s=(0,Rc.getReadPreference)(t),o=t==null?void 0:t.session;let u=this.clusterTime;if(this.serverApi){const{version:h,strict:d,deprecationErrors:f}=this.serverApi;n.apiVersion=h,d!=null&&(n.apiStrict=d),f!=null&&(n.apiDeprecationErrors=f)}if(this.hasSessionSupport&&o){o.clusterTime&&u&&o.clusterTime.clusterTime.greaterThan(u.clusterTime)&&(u=o.clusterTime);const h=(0,Mc.applySession)(o,n,t);if(h)return i(h)}else if(o!=null&&o.explicit)return i(new ze.MongoCompatibilityError("Current topology does not support sessions"));u&&(n.$clusterTime=u),(0,Rc.isSharded)(this)&&!this.supportsOpMsg&&s&&s.mode!=="primary"&&(n={$query:n,$readPreference:s.toJSON()});const l=Object.assign({numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:s.secondaryOk()},t),c=this.supportsOpMsg?new na.OpMsgRequest(A.db,n,l):new na.OpQueryRequest(A.db,n,l);try{i_(this,c,l,i)}catch(h){i(h)}}}ln.COMMAND_STARTED=Ot.COMMAND_STARTED;ln.COMMAND_SUCCEEDED=Ot.COMMAND_SUCCEEDED;ln.COMMAND_FAILED=Ot.COMMAND_FAILED;ln.CLUSTER_TIME_RECEIVED=Ot.CLUSTER_TIME_RECEIVED;ln.CLOSE=Ot.CLOSE;ln.MESSAGE=Ot.MESSAGE;ln.PINNED=Ot.PINNED;ln.UNPINNED=Ot.UNPINNED;Fe.ModernConnection=ln;const XR=1024*1024*16*4;async function*n_(r){var t;const A=new sr.BufferPool,e=((t=r.hello)==null?void 0:t.maxBsonMessageSize)??XR;for await(const[i]of(0,YR.on)(r.socket,"data")){A.append(i);const n=A.getInt32();if(n!=null){if(n<0)throw new ze.MongoParseError(`Invalid message size: ${n}`);if(n>e)throw new ze.MongoParseError(`Invalid message size: ${n}, max allowed: ${e}`);n>A.length||(yield A.read(n))}}}Fe.readWireProtocolMessages=n_;async function JR(r,A,e){const t=(0,WR.once)(r.socket,"drain"),i=e.agreedCompressor==="none"||!na.OpCompressedRequest.canCompress(A)?A:new na.OpCompressedRequest(A,{agreedCompressor:e.agreedCompressor??"none",zlibCompressionLevel:e.zlibCompressionLevel??0}),n=Buffer.concat(await i.toBin());r.socket.push(n),await t}Fe.writeCommand=JR;async function*s_(r){for await(const A of n_(r)){const e=await(0,$R.decompressResponse)(A);if(yield e,!("moreToCome"in e)||!e.moreToCome)return}}Fe.readMany=s_;async function ZR(r){for await(const A of s_(r))return A;throw new ze.MongoRuntimeError("unable to read message off of connection")}Fe.read=ZR;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.LEGAL_TCP_SOCKET_OPTIONS=r.LEGAL_TLS_SOCKET_OPTIONS=r.prepareHandshakeDocument=r.connect=r.AUTH_PROVIDERS=void 0;const A=zA,e=zA,t=ut,i=ni,n=_A,s=PA,o=lr,u=z1,l=K1,c=q1,h=LC,d=eh,f=Mi,p=ia,y=ih,_=Fe,g=JA;r.AUTH_PROVIDERS=new Map([[f.AuthMechanism.MONGODB_AWS,new c.MongoDBAWS],[f.AuthMechanism.MONGODB_CR,new l.MongoCR],[f.AuthMechanism.MONGODB_GSSAPI,new u.GSSAPI],[f.AuthMechanism.MONGODB_OIDC,new h.MongoDBOIDC],[f.AuthMechanism.MONGODB_PLAIN,new d.Plain],[f.AuthMechanism.MONGODB_SCRAM_SHA1,new p.ScramSHA1],[f.AuthMechanism.MONGODB_SCRAM_SHA256,new p.ScramSHA256],[f.AuthMechanism.MONGODB_X509,new y.X509]]);function m(x,S){H({...x,existingSocket:void 0},(B,D)=>{if(B||!D)return S(B);let Q=x.connectionType??_.Connection;x.autoEncrypter&&(Q=_.CryptoConnection);const Z=new Q(D,x);w(Z,x).then(()=>S(void 0,Z),AA=>{Z.destroy({force:!1}),S(AA)})})}r.connect=m;function E(x,S){const B=Number(x.maxWireVersion),D=Number(x.minWireVersion),Q=!Number.isNaN(B)&&B>=g.MIN_SUPPORTED_WIRE_VERSION,Z=!Number.isNaN(D)&&D<=g.MAX_SUPPORTED_WIRE_VERSION;if(Q){if(Z)return null;const Y=`Server at ${S.hostAddress} reports minimum wire version ${JSON.stringify(x.minWireVersion)}, but this version of the Node.js Driver requires at most ${g.MAX_SUPPORTED_WIRE_VERSION} (MongoDB ${g.MAX_SUPPORTED_SERVER_VERSION})`;return new n.MongoCompatibilityError(Y)}const AA=`Server at ${S.hostAddress} reports maximum wire version ${JSON.stringify(x.maxWireVersion)??0}, but this version of the Node.js Driver requires at least ${g.MIN_SUPPORTED_WIRE_VERSION} (MongoDB ${g.MIN_SUPPORTED_SERVER_VERSION})`;return new n.MongoCompatibilityError(AA)}async function w(x,S){const B=S.credentials;if(B&&B.mechanism!==f.AuthMechanism.MONGODB_DEFAULT&&!r.AUTH_PROVIDERS.get(B.mechanism))throw new n.MongoInvalidArgumentError(`AuthMechanism '${B.mechanism}' not supported`);const D=new o.AuthContext(x,B,S);x.authContext=D;const Q=await L(D),Z={...S};typeof S.connectTimeoutMS=="number"&&(Z.socketTimeoutMS=S.connectTimeoutMS);const AA=new Date().getTime(),Y=await x.commandAsync((0,s.ns)("admin.$cmd"),Q,Z);"isWritablePrimary"in Y||(Y.isWritablePrimary=Y[t.LEGACY_HELLO_COMMAND]),Y.helloOk&&(x.helloOk=!0);const G=E(Y,S);if(G)throw G;if(S.loadBalanced&&!Y.serviceId)throw new n.MongoCompatibilityError("Driver attempted to initialize in load balancing mode, but the server does not support this mode.");if(x.hello=Y,x.lastHelloMS=new Date().getTime()-AA,!Y.arbiterOnly&&B){D.response=Y;const X=B.resolveAuthMechanism(Y),nA=r.AUTH_PROVIDERS.get(X.mechanism);if(!nA)throw new n.MongoInvalidArgumentError(`No AuthProvider for ${X.mechanism} defined.`);try{await nA.auth(D)}catch(lA){throw lA instanceof n.MongoError&&(lA.addErrorLabel(n.MongoErrorLabel.HandshakeError),(0,n.needsRetryableWriteLabel)(lA,Y.maxWireVersion)&&lA.addErrorLabel(n.MongoErrorLabel.RetryableWriteError)),lA}}}async function L(x){const S=x.options,B=S.compressors?S.compressors:[],{serverApi:D}=x.connection,Q={[D!=null&&D.version||S.loadBalanced===!0?"hello":t.LEGACY_HELLO_COMMAND]:1,helloOk:!0,client:S.metadata,compression:B};S.loadBalanced===!0&&(Q.loadBalanced=!0);const Z=x.credentials;if(Z){if(Z.mechanism===f.AuthMechanism.MONGODB_DEFAULT&&Z.username){Q.saslSupportedMechs=`${Z.source}.${Z.username}`;const Y=r.AUTH_PROVIDERS.get(f.AuthMechanism.MONGODB_SCRAM_SHA256);if(!Y)throw new n.MongoInvalidArgumentError(`No AuthProvider for ${f.AuthMechanism.MONGODB_SCRAM_SHA256} defined.`);return Y.prepare(Q,x)}const AA=r.AUTH_PROVIDERS.get(Z.mechanism);if(!AA)throw new n.MongoInvalidArgumentError(`No AuthProvider for ${Z.mechanism} defined.`);return AA.prepare(Q,x)}return Q}r.prepareHandshakeDocument=L,r.LEGAL_TLS_SOCKET_OPTIONS=["ALPNProtocols","ca","cert","checkServerIdentity","ciphers","crl","ecdhCurve","key","minDHSize","passphrase","pfx","rejectUnauthorized","secureContext","secureProtocol","servername","session"],r.LEGAL_TCP_SOCKET_OPTIONS=["family","hints","localAddress","localPort","lookup"];function T(x){const S=x.hostAddress;if(!S)throw new n.MongoInvalidArgumentError('Option "hostAddress" is required');const B={};for(const D of r.LEGAL_TCP_SOCKET_OPTIONS)x[D]!=null&&(B[D]=x[D]);if(typeof S.socketPath=="string")return B.path=S.socketPath,B;if(typeof S.host=="string")return B.host=S.host,B.port=S.port,B;throw new n.MongoRuntimeError(`Unexpected HostAddress ${JSON.stringify(S)}`)}function R(x){const S=T(x);for(const B of r.LEGAL_TLS_SOCKET_OPTIONS)x[B]!=null&&(S[B]=x[B]);return x.existingSocket&&(S.socket=x.existingSocket),S.servername==null&&S.host&&!A.isIP(S.host)&&(S.servername=S.host),S}const P=["error","close","timeout","parseError"],F=new Set(P);function H(x,S){const B=x.tls??!1,D=x.noDelay??!0,Q=x.connectTimeoutMS??3e4,Z=x.rejectUnauthorized??!0,AA=x.existingSocket;let Y;const G=function(BA,bA){BA&&Y&&Y.destroy(),S(BA,bA)};if(x.proxyHost!=null)return v({...x,connectTimeoutMS:Q},G);if(B){const BA=e.connect(R(x));typeof BA.disableRenegotiation=="function"&&BA.disableRenegotiation(),Y=BA}else AA?Y=AA:Y=A.createConnection(T(x));Y.setKeepAlive(!0,3e5),Y.setTimeout(Q),Y.setNoDelay(D);const X=B?"secureConnect":"connect";let nA;function lA(BA){return bA=>{F.forEach(xA=>Y.removeAllListeners(xA)),nA&&x.cancellationToken&&x.cancellationToken.removeListener("cancel",nA),Y.removeListener(X,vA),G(C(BA,bA))}}function vA(){if(F.forEach(BA=>Y.removeAllListeners(BA)),nA&&x.cancellationToken&&x.cancellationToken.removeListener("cancel",nA),"authorizationError"in Y&&Y.authorizationError&&Z)return G(Y.authorizationError);Y.setTimeout(0),G(void 0,Y)}F.forEach(BA=>Y.once(BA,lA(BA))),x.cancellationToken&&(nA=lA("cancel"),x.cancellationToken.once("cancel",nA)),AA?process.nextTick(vA):Y.once(X,vA)}let M=null;function b(){if(M==null){const x=(0,i.getSocks)();if("kModuleError"in x)throw x.kModuleError;M=x}return M}function v(x,S){const B=s.HostAddress.fromHostPort(x.proxyHost??"",x.proxyPort??1080);H({...x,hostAddress:B,tls:!1,proxyHost:void 0},(D,Q)=>{if(D||!Q)return S(D);const Z=T(x);if(typeof Z.host!="string"||typeof Z.port!="number")return S(new n.MongoInvalidArgumentError("Can only make Socks5 connections to TCP hosts"));try{M??(M=b())}catch(AA){return S(AA)}M.SocksClient.createConnection({existing_socket:Q,timeout:x.connectTimeoutMS,command:"connect",destination:{host:Z.host,port:Z.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:x.proxyUsername||void 0,password:x.proxyPassword||void 0}}).then(({socket:AA})=>{H({...x,existingSocket:AA,proxyHost:void 0},S)},AA=>S(C("error",AA)))})}function C(x,S){switch(x){case"error":return new n.MongoNetworkError(n.MongoError.buildErrorMessage(S),{cause:S});case"timeout":return new n.MongoNetworkTimeoutError("connection timed out");case"close":return new n.MongoNetworkError("connection closed");case"cancel":return new n.MongoNetworkError("connection establishment was cancelled");default:return new n.MongoNetworkError("unknown network error")}}})(gp);var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.ServerHeartbeatFailedEvent=Me.ServerHeartbeatSucceededEvent=Me.ServerHeartbeatStartedEvent=Me.TopologyClosedEvent=Me.TopologyOpeningEvent=Me.TopologyDescriptionChangedEvent=Me.ServerClosedEvent=Me.ServerOpeningEvent=Me.ServerDescriptionChangedEvent=void 0;class AP{constructor(A,e,t,i){this.topologyId=A,this.address=e,this.previousDescription=t,this.newDescription=i}}Me.ServerDescriptionChangedEvent=AP;class eP{constructor(A,e){this.topologyId=A,this.address=e}}Me.ServerOpeningEvent=eP;class tP{constructor(A,e){this.topologyId=A,this.address=e}}Me.ServerClosedEvent=tP;class rP{constructor(A,e,t){this.topologyId=A,this.previousDescription=e,this.newDescription=t}}Me.TopologyDescriptionChangedEvent=rP;class iP{constructor(A){this.topologyId=A}}Me.TopologyOpeningEvent=iP;class nP{constructor(A){this.topologyId=A}}Me.TopologyClosedEvent=nP;class sP{constructor(A,e){this.connectionId=A,this.awaited=e}}Me.ServerHeartbeatStartedEvent=sP;class oP{constructor(A,e,t,i){this.connectionId=A,this.duration=e,this.reply=t??{},this.awaited=i}}Me.ServerHeartbeatSucceededEvent=oP;class aP{constructor(A,e,t,i){this.connectionId=A,this.duration=e,this.failure=t,this.awaited=i}}Me.ServerHeartbeatFailedEvent=aP;var Oa={},o_={},me={};Object.defineProperty(me,"__esModule",{value:!0});me.ConnectionPoolClearedEvent=me.ConnectionCheckedInEvent=me.ConnectionCheckedOutEvent=me.ConnectionCheckOutFailedEvent=me.ConnectionCheckOutStartedEvent=me.ConnectionClosedEvent=me.ConnectionReadyEvent=me.ConnectionCreatedEvent=me.ConnectionPoolClosedEvent=me.ConnectionPoolReadyEvent=me.ConnectionPoolCreatedEvent=me.ConnectionPoolMonitoringEvent=void 0;const oi=ut;class Nr{constructor(A){this.time=new Date,this.address=A.address}}me.ConnectionPoolMonitoringEvent=Nr;class uP extends Nr{constructor(A){super(A),this.name=oi.CONNECTION_POOL_CREATED;const{maxConnecting:e,maxPoolSize:t,minPoolSize:i,maxIdleTimeMS:n,waitQueueTimeoutMS:s}=A.options;this.options={maxConnecting:e,maxPoolSize:t,minPoolSize:i,maxIdleTimeMS:n,waitQueueTimeoutMS:s}}}me.ConnectionPoolCreatedEvent=uP;class lP extends Nr{constructor(A){super(A),this.name=oi.CONNECTION_POOL_READY}}me.ConnectionPoolReadyEvent=lP;class cP extends Nr{constructor(A){super(A),this.name=oi.CONNECTION_POOL_CLOSED}}me.ConnectionPoolClosedEvent=cP;class hP extends Nr{constructor(A,e){super(A),this.name=oi.CONNECTION_CREATED,this.connectionId=e.id}}me.ConnectionCreatedEvent=hP;class dP extends Nr{constructor(A,e){super(A),this.name=oi.CONNECTION_READY,this.connectionId=e.id}}me.ConnectionReadyEvent=dP;class fP extends Nr{constructor(A,e,t,i){super(A),this.name=oi.CONNECTION_CLOSED,this.connectionId=e.id,this.reason=t,this.serviceId=e.serviceId,this.error=i??null}}me.ConnectionClosedEvent=fP;class pP extends Nr{constructor(A){super(A),this.name=oi.CONNECTION_CHECK_OUT_STARTED}}me.ConnectionCheckOutStartedEvent=pP;class gP extends Nr{constructor(A,e,t){super(A),this.name=oi.CONNECTION_CHECK_OUT_FAILED,this.reason=e,this.error=t}}me.ConnectionCheckOutFailedEvent=gP;class mP extends Nr{constructor(A,e){super(A),this.name=oi.CONNECTION_CHECKED_OUT,this.connectionId=e.id}}me.ConnectionCheckedOutEvent=mP;class yP extends Nr{constructor(A,e){super(A),this.name=oi.CONNECTION_CHECKED_IN,this.connectionId=e.id}}me.ConnectionCheckedInEvent=yP;class EP extends Nr{constructor(A,e={}){super(A),this.name=oi.CONNECTION_POOL_CLEARED,this.serviceId=e.serviceId,this.interruptInUseConnections=e.interruptInUseConnections}}me.ConnectionPoolClearedEvent=EP;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.WaitQueueTimeoutError=Jr.PoolClearedOnNetworkError=Jr.PoolClearedError=Jr.PoolClosedError=void 0;const Pc=_A;class CP extends Pc.MongoDriverError{constructor(A){super("Attempted to check out a connection from closed connection pool"),this.address=A.address}get name(){return"MongoPoolClosedError"}}Jr.PoolClosedError=CP;class a_ extends Pc.MongoNetworkError{constructor(A,e){var i;const t=e||`Connection pool for ${A.address} was cleared because another operation failed with: "${(i=A.serverError)==null?void 0:i.message}"`;super(t,A.serverError?{cause:A.serverError}:void 0),this.address=A.address,this.addErrorLabel(Pc.MongoErrorLabel.PoolRequstedRetry)}get name(){return"MongoPoolClearedError"}}Jr.PoolClearedError=a_;class _P extends a_{constructor(A){super(A,`Connection to ${A.address} interrupted due to server monitor timeout`)}get name(){return"PoolClearedOnNetworkError"}}Jr.PoolClearedOnNetworkError=_P;class SP extends Pc.MongoDriverError{constructor(A,e){super(A),this.address=e}get name(){return"MongoWaitQueueTimeoutError"}}Jr.WaitQueueTimeoutError=SP;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectionPool=r.PoolState=void 0;const A=zA,e=ut,t=_A,i=pt,n=PA,s=gp,o=Fe,u=me,l=Jr,c=xu,h=Symbol("server"),d=Symbol("connections"),f=Symbol("pending"),p=Symbol("checkedOut"),y=Symbol("minPoolSizeTimer"),_=Symbol("generation"),g=Symbol("serviceGenerations"),m=Symbol("connectionCounter"),E=Symbol("cancellationToken"),w=Symbol("waitQueue"),L=Symbol("cancelled"),T=Symbol("metrics"),R=Symbol("processingWaitQueue"),P=Symbol("poolState");r.PoolState=Object.freeze({paused:"paused",ready:"ready",closed:"closed"});class F extends i.TypedEventEmitter{constructor(M,b){if(super(),this.options=Object.freeze({...b,connectionType:o.Connection,maxPoolSize:b.maxPoolSize??100,minPoolSize:b.minPoolSize??0,maxConnecting:b.maxConnecting??2,maxIdleTimeMS:b.maxIdleTimeMS??0,waitQueueTimeoutMS:b.waitQueueTimeoutMS??0,minPoolSizeCheckFrequencyMS:b.minPoolSizeCheckFrequencyMS??100,autoEncrypter:b.autoEncrypter,metadata:b.metadata}),this.options.minPoolSize>this.options.maxPoolSize)throw new t.MongoInvalidArgumentError("Connection pool minimum size must not be greater than maximum pool size");this[P]=r.PoolState.paused,this[h]=M,this[d]=new n.List,this[f]=0,this[p]=new Set,this[y]=void 0,this[_]=0,this[g]=new Map,this[m]=(0,n.makeCounter)(1),this[E]=new i.CancellationToken,this[E].setMaxListeners(1/0),this[w]=new n.List,this[T]=new c.ConnectionPoolMetrics,this[R]=!1,this.mongoLogger=this[h].topology.client.mongoLogger,this.component="connection",process.nextTick(()=>{this.emitAndLog(F.CONNECTION_POOL_CREATED,new u.ConnectionPoolCreatedEvent(this))})}get address(){return this.options.hostAddress.toString()}get closed(){return this[P]===r.PoolState.closed}get generation(){return this[_]}get totalConnectionCount(){return this.availableConnectionCount+this.pendingConnectionCount+this.currentCheckedOutCount}get availableConnectionCount(){return this[d].length}get pendingConnectionCount(){return this[f]}get currentCheckedOutCount(){return this[p].size}get waitQueueSize(){return this[w].length}get loadBalanced(){return this.options.loadBalanced}get serviceGenerations(){return this[g]}get serverError(){return this[h].description.error}get checkedOutConnections(){return this[p]}waitQueueErrorMetrics(){return this[T].info(this.options.maxPoolSize)}ready(){this[P]===r.PoolState.paused&&(this[P]=r.PoolState.ready,this.emitAndLog(F.CONNECTION_POOL_READY,new u.ConnectionPoolReadyEvent(this)),(0,A.clearTimeout)(this[y]),this.ensureMinPoolSize())}checkOut(M){this.emitAndLog(F.CONNECTION_CHECK_OUT_STARTED,new u.ConnectionCheckOutStartedEvent(this));const b=this.options.waitQueueTimeoutMS,v={callback:M,timeoutController:new n.TimeoutController(b)};v.timeoutController.signal.addEventListener("abort",()=>{v[L]=!0,v.timeoutController.clear(),this.emitAndLog(F.CONNECTION_CHECK_OUT_FAILED,new u.ConnectionCheckOutFailedEvent(this,"timeout")),v.callback(new l.WaitQueueTimeoutError(this.loadBalanced?this.waitQueueErrorMetrics():"Timed out while checking out a connection from connection pool",this.address))}),this[w].push(v),process.nextTick(()=>this.processWaitQueue())}checkIn(M){if(!this[p].has(M))return;const b=this.closed,v=this.connectionIsStale(M),C=!!(b||v||M.closed);if(C||(M.markAvailable(),this[d].unshift(M)),this[p].delete(M),this.emitAndLog(F.CONNECTION_CHECKED_IN,new u.ConnectionCheckedInEvent(this,M)),C){const x=M.closed?"error":b?"poolClosed":"stale";this.destroyConnection(M,x)}process.nextTick(()=>this.processWaitQueue())}clear(M={}){if(this.closed)return;if(this.loadBalanced){const{serviceId:x}=M;if(!x)throw new t.MongoRuntimeError("ConnectionPool.clear() called in load balanced mode with no serviceId.");const S=x.toHexString(),B=this.serviceGenerations.get(S);if(B==null)throw new t.MongoRuntimeError("Service generations are required in load balancer mode.");this.serviceGenerations.set(S,B+1),this.emitAndLog(F.CONNECTION_POOL_CLEARED,new u.ConnectionPoolClearedEvent(this,{serviceId:x}));return}const b=M.interruptInUseConnections??!1,v=this[_];this[_]+=1;const C=this[P]===r.PoolState.paused;this[P]=r.PoolState.paused,this.clearMinPoolSizeTimer(),C||this.emitAndLog(F.CONNECTION_POOL_CLEARED,new u.ConnectionPoolClearedEvent(this,{interruptInUseConnections:b})),b&&process.nextTick(()=>this.interruptInUseConnections(v)),this.processWaitQueue()}interruptInUseConnections(M){for(const b of this[p])b.generation<=M&&(this.checkIn(b),b.onError(new l.PoolClearedOnNetworkError(this)))}close(M,b){let v=M;const C=b??M;if(typeof v=="function"&&(v={}),v=Object.assign({force:!1},v),this.closed)return C();this[E].emit("cancel"),typeof this[m].return=="function"&&this[m].return(void 0),this[P]=r.PoolState.closed,this.clearMinPoolSizeTimer(),this.processWaitQueue(),(0,n.eachAsync)(this[d].toArray(),(x,S)=>{this.emitAndLog(F.CONNECTION_CLOSED,new u.ConnectionClosedEvent(this,x,"poolClosed")),x.destroy({force:!!v.force},S)},x=>{this[d].clear(),this.emitAndLog(F.CONNECTION_POOL_CLOSED,new u.ConnectionPoolClosedEvent(this)),C(x)})}withConnection(M,b,v){if(M){b(void 0,M,(C,x)=>{if(C)return this.withReauthentication(C,M,b,v);v(void 0,x)});return}this.checkOut((C,x)=>{b(C,x,(S,B)=>{S?x?this.withReauthentication(S,x,b,v):v(S):v(void 0,B),x&&this.checkIn(x)})})}withReauthentication(M,b,v,C){M instanceof t.MongoError&&M.code===t.MONGODB_ERROR_CODES.Reauthenticate?this.reauthenticate(b,v,(x,S)=>{if(x)return C(x);C(void 0,S)}):C(M)}reauthenticate(M,b,v){const C=M.authContext;if(!C)return v(new t.MongoRuntimeError("No auth context found on connection."));const x=C.credentials;if(!x)return v(new t.MongoMissingCredentialsError("Connection is missing credentials when asked to reauthenticate"));const S=x.resolveAuthMechanism(M.hello||void 0),B=s.AUTH_PROVIDERS.get(S.mechanism);if(!B)return v(new t.MongoMissingCredentialsError(`Reauthenticate failed due to no auth provider for ${x.mechanism}`));B.reauth(C).then(()=>{b(void 0,M,(D,Q)=>{if(D)return v(D);v(void 0,Q)})},D=>v(D))}clearMinPoolSizeTimer(){const M=this[y];M&&(0,A.clearTimeout)(M)}destroyConnection(M,b){this.emitAndLog(F.CONNECTION_CLOSED,new u.ConnectionClosedEvent(this,M,b)),process.nextTick(()=>M.destroy({force:!1}))}connectionIsStale(M){const b=M.serviceId;if(this.loadBalanced&&b){const v=b.toHexString(),C=this.serviceGenerations.get(v);return M.generation!==C}return M.generation!==this[_]}connectionIsIdle(M){return!!(this.options.maxIdleTimeMS&&M.idleTime>this.options.maxIdleTimeMS)}destroyConnectionIfPerished(M){const b=this.connectionIsStale(M),v=this.connectionIsIdle(M);if(!b&&!v&&!M.closed)return!1;const C=M.closed?"error":b?"stale":"idle";return this.destroyConnection(M,C),!0}createConnection(M){const b={...this.options,id:this[m].next().value,generation:this[_],cancellationToken:this[E]};this[f]++,this.emitAndLog(F.CONNECTION_CREATED,new u.ConnectionCreatedEvent(this,{id:b.id})),(0,s.connect)(b,(v,C)=>{if(v||!C){this[f]--,this.emitAndLog(F.CONNECTION_CLOSED,new u.ConnectionClosedEvent(this,{id:b.id,serviceId:void 0},"error",v)),(v instanceof t.MongoNetworkError||v instanceof t.MongoServerError)&&(v.connectionGeneration=b.generation),M(v??new t.MongoRuntimeError("Connection creation failed without error"));return}if(this[P]!==r.PoolState.ready){this[f]--,C.destroy({force:!0}),M(this.closed?new l.PoolClosedError(this):new l.PoolClearedError(this));return}for(const x of[...e.APM_EVENTS,o.Connection.CLUSTER_TIME_RECEIVED])C.on(x,S=>this.emit(x,S));if(this.loadBalanced){C.on(o.Connection.PINNED,S=>this[T].markPinned(S)),C.on(o.Connection.UNPINNED,S=>this[T].markUnpinned(S));const x=C.serviceId;if(x){let S;const B=x.toHexString();(S=this.serviceGenerations.get(B))?C.generation=S:(this.serviceGenerations.set(B,0),C.generation=0)}}C.markAvailable(),this.emitAndLog(F.CONNECTION_READY,new u.ConnectionReadyEvent(this,C)),this[f]--,M(void 0,C)})}ensureMinPoolSize(){const M=this.options.minPoolSize;this[P]!==r.PoolState.ready||M===0||(this[d].prune(b=>this.destroyConnectionIfPerished(b)),this.totalConnectionCount<M&&this.pendingConnectionCount<this.options.maxConnecting?this.createConnection((b,v)=>{b&&this[h].handleError(b),!b&&v&&(this[d].push(v),process.nextTick(()=>this.processWaitQueue())),this[P]===r.PoolState.ready&&((0,A.clearTimeout)(this[y]),this[y]=(0,A.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS))}):((0,A.clearTimeout)(this[y]),this[y]=(0,A.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)))}processWaitQueue(){if(this[R])return;for(this[R]=!0;this.waitQueueSize;){const v=this[w].first();if(!v){this[w].shift();continue}if(v[L]){this[w].shift();continue}if(this[P]!==r.PoolState.ready){const x=this.closed?"poolClosed":"connectionError",S=this.closed?new l.PoolClosedError(this):new l.PoolClearedError(this);this.emitAndLog(F.CONNECTION_CHECK_OUT_FAILED,new u.ConnectionCheckOutFailedEvent(this,x,S)),v.timeoutController.clear(),this[w].shift(),v.callback(S);continue}if(!this.availableConnectionCount)break;const C=this[d].shift();if(!C)break;this.destroyConnectionIfPerished(C)||(this[p].add(C),this.emitAndLog(F.CONNECTION_CHECKED_OUT,new u.ConnectionCheckedOutEvent(this,C)),v.timeoutController.clear(),this[w].shift(),v.callback(void 0,C))}const{maxPoolSize:M,maxConnecting:b}=this.options;for(;this.waitQueueSize>0&&this.pendingConnectionCount<b&&(M===0||this.totalConnectionCount<M);){const v=this[w].shift();!v||v[L]||this.createConnection((C,x)=>{v[L]?!C&&x&&this[d].push(x):(C?this.emitAndLog(F.CONNECTION_CHECK_OUT_FAILED,new u.ConnectionCheckOutFailedEvent(this,"connectionError",C)):x&&(this[p].add(x),this.emitAndLog(F.CONNECTION_CHECKED_OUT,new u.ConnectionCheckedOutEvent(this,x))),v.timeoutController.clear(),v.callback(C,x)),process.nextTick(()=>this.processWaitQueue())})}this[R]=!1}}F.CONNECTION_POOL_CREATED=e.CONNECTION_POOL_CREATED,F.CONNECTION_POOL_CLOSED=e.CONNECTION_POOL_CLOSED,F.CONNECTION_POOL_CLEARED=e.CONNECTION_POOL_CLEARED,F.CONNECTION_POOL_READY=e.CONNECTION_POOL_READY,F.CONNECTION_CREATED=e.CONNECTION_CREATED,F.CONNECTION_READY=e.CONNECTION_READY,F.CONNECTION_CLOSED=e.CONNECTION_CLOSED,F.CONNECTION_CHECK_OUT_STARTED=e.CONNECTION_CHECK_OUT_STARTED,F.CONNECTION_CHECK_OUT_FAILED=e.CONNECTION_CHECK_OUT_FAILED,F.CONNECTION_CHECKED_OUT=e.CONNECTION_CHECKED_OUT,F.CONNECTION_CHECKED_IN=e.CONNECTION_CHECKED_IN,r.ConnectionPool=F})(o_);var Rm;function u_(){if(Rm)return Oa;Rm=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.Server=void 0;const r=Fr,A=Fe,e=o_,t=Jr,i=ut,n=_A,s=pt,o=z0,u=PA,l=ge,c=l_(),h=Ai,d=(0,u.makeStateMachine)({[l.STATE_CLOSED]:[l.STATE_CLOSED,l.STATE_CONNECTING],[l.STATE_CONNECTING]:[l.STATE_CONNECTING,l.STATE_CLOSING,l.STATE_CONNECTED,l.STATE_CLOSED],[l.STATE_CONNECTED]:[l.STATE_CONNECTED,l.STATE_CLOSING,l.STATE_CLOSED],[l.STATE_CLOSING]:[l.STATE_CLOSING,l.STATE_CLOSED]});class f extends s.TypedEventEmitter{constructor(R,P,F){super(),this.commandAsync=(0,r.promisify)((M,b,v,C)=>this.command(M,b,v,C)),this.serverApi=F.serverApi;const H={hostAddress:P.hostAddress,...F};this.topology=R,this.pool=new e.ConnectionPool(this,H),this.s={description:P,options:F,state:l.STATE_CLOSED,operationCount:0};for(const M of[...i.CMAP_EVENTS,...i.APM_EVENTS])this.pool.on(M,b=>this.emit(M,b));if(this.pool.on(A.Connection.CLUSTER_TIME_RECEIVED,M=>{this.clusterTime=M}),this.loadBalanced){this.monitor=null;return}this.monitor=new c.Monitor(this,this.s.options);for(const M of i.HEARTBEAT_EVENTS)this.monitor.on(M,b=>this.emit(M,b));this.monitor.on("resetServer",M=>y(this,M)),this.monitor.on(f.SERVER_HEARTBEAT_SUCCEEDED,M=>{this.emit(f.DESCRIPTION_RECEIVED,new h.ServerDescription(this.description.hostAddress,M.reply,{roundTripTime:p(this.description.roundTripTime,M.duration)})),this.s.state===l.STATE_CONNECTING&&(d(this,l.STATE_CONNECTED),this.emit(f.CONNECT,this))})}get clusterTime(){return this.topology.clusterTime}set clusterTime(R){this.topology.clusterTime=R}get description(){return this.s.description}get name(){return this.s.description.address}get autoEncrypter(){if(this.s.options&&this.s.options.autoEncrypter)return this.s.options.autoEncrypter}get loadBalanced(){return this.topology.description.type===l.TopologyType.LoadBalanced}connect(){var R;this.s.state===l.STATE_CLOSED&&(d(this,l.STATE_CONNECTING),this.loadBalanced?(d(this,l.STATE_CONNECTED),this.emit(f.CONNECT,this)):(R=this.monitor)==null||R.connect())}destroy(R,P){var F;if(typeof R=="function"&&(P=R,R={force:!1}),R=Object.assign({},{force:!1},R),this.s.state===l.STATE_CLOSED){typeof P=="function"&&P();return}d(this,l.STATE_CLOSING),this.loadBalanced||(F=this.monitor)==null||F.close(),this.pool.close(R,H=>{d(this,l.STATE_CLOSED),this.emit("closed"),typeof P=="function"&&P(H)})}requestCheck(){var R;this.loadBalanced||(R=this.monitor)==null||R.requestCheck()}command(R,P,F,H){if(H==null)throw new n.MongoInvalidArgumentError("Callback must be provided");if(R.db==null||typeof R=="string")throw new n.MongoInvalidArgumentError("Namespace must not be a string");if(this.s.state===l.STATE_CLOSING||this.s.state===l.STATE_CLOSED){H(new n.MongoServerClosedError);return}const M=Object.assign({},F,{wireProtocolCommand:!1});M.omitReadPreference&&delete M.readPreference;const b=M.session,v=b==null?void 0:b.pinnedConnection;if(this.loadBalanced&&b&&v==null&&_(P,b)){this.pool.checkOut((C,x)=>{if(C||x==null)return H?H(C):void 0;b.pin(x),this.command(R,P,M,H)});return}this.incrementOperationCount(),this.pool.withConnection(v,(C,x,S)=>{if(C||!x)return this.decrementOperationCount(),C?(C instanceof t.PoolClearedError||this.handleError(C),S(C)):S(new n.MongoRuntimeError("Failed to create connection without error"));x.command(R,P,M,L(this,x,P,M,(B,D)=>{this.decrementOperationCount(),S(B,D)}))},H)}handleError(R,P){if(!(R instanceof n.MongoError)||R.connectionGeneration&&R.connectionGeneration<this.pool.generation)return;const H=R instanceof n.MongoNetworkError&&!(R instanceof n.MongoNetworkTimeoutError),M=(0,n.isNetworkErrorBeforeHandshake)(R),b=R.hasErrorLabel(n.MongoErrorLabel.HandshakeError);if(H||M||b)this.loadBalanced?P&&this.pool.clear({serviceId:P.serviceId}):(R.addErrorLabel(n.MongoErrorLabel.ResetPool),y(this,R));else if((0,n.isSDAMUnrecoverableError)(R)&&m(this,R)){const v=(0,u.maxWireVersion)(this)<=7||(0,n.isNodeShuttingDownError)(R);this.loadBalanced&&P&&v&&this.pool.clear({serviceId:P.serviceId}),this.loadBalanced||(v&&R.addErrorLabel(n.MongoErrorLabel.ResetPool),y(this,R),process.nextTick(()=>this.requestCheck()))}}decrementOperationCount(){return this.s.operationCount-=1}incrementOperationCount(){return this.s.operationCount+=1}}f.SERVER_HEARTBEAT_STARTED=i.SERVER_HEARTBEAT_STARTED,f.SERVER_HEARTBEAT_SUCCEEDED=i.SERVER_HEARTBEAT_SUCCEEDED,f.SERVER_HEARTBEAT_FAILED=i.SERVER_HEARTBEAT_FAILED,f.CONNECT=i.CONNECT,f.DESCRIPTION_RECEIVED=i.DESCRIPTION_RECEIVED,f.CLOSED=i.CLOSED,f.ENDED=i.ENDED,Oa.Server=f;function p(T,R){if(T===-1)return R;const P=.2;return P*R+(1-P)*T}function y(T,R){var P;T.loadBalanced||(R instanceof n.MongoNetworkError&&!(R instanceof n.MongoNetworkTimeoutError)&&((P=T.monitor)==null||P.reset()),T.emit(f.DESCRIPTION_RECEIVED,new h.ServerDescription(T.description.hostAddress,void 0,{error:R})))}function _(T,R){return R?R.inTransaction()||"aggregate"in T||"find"in T||"getMore"in T||"listCollections"in T||"listIndexes"in T:!1}function g(T,R){return R.serviceId?R.generation!==T.serviceGenerations.get(R.serviceId.toHexString()):R.generation!==T.generation}function m(T,R){const P=R.topologyVersion,F=T.description.topologyVersion;return(0,h.compareTopologyVersion)(F,P)<0}function E(T,R){return T&&T.inTransaction()&&!(0,o.isTransactionCommand)(R)}function w(T){return T.s.options.retryWrites!==!1}function L(T,R,P,F,H){const M=F==null?void 0:F.session;return function(v,C){return v==null&&C!=null?H(void 0,C):F!=null&&"noResponse"in F&&F.noResponse===!0?H(void 0,null):v?(!(v instanceof n.MongoError)||g(T.pool,R)||(v instanceof n.MongoNetworkError?(M&&!M.hasEnded&&M.serverSession&&(M.serverSession.isDirty=!0),E(M,P)&&!v.hasErrorLabel(n.MongoErrorLabel.TransientTransactionError)&&v.addErrorLabel(n.MongoErrorLabel.TransientTransactionError),(w(T.topology)||(0,o.isTransactionCommand)(P))&&(0,u.supportsRetryableWrites)(T)&&!E(M,P)&&v.addErrorLabel(n.MongoErrorLabel.RetryableWriteError)):(w(T.topology)||(0,o.isTransactionCommand)(P))&&(0,n.needsRetryableWriteLabel)(v,(0,u.maxWireVersion)(T))&&!E(M,P)&&v.addErrorLabel(n.MongoErrorLabel.RetryableWriteError),M&&M.isPinned&&v.hasErrorLabel(n.MongoErrorLabel.TransientTransactionError)&&M.unpin({force:!0}),T.handleError(v,R)),H(v)):H(new n.MongoUnexpectedServerResponseError("Empty response with no error"))}}return Oa}var Pm;function l_(){return Pm||(Pm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.MonitorInterval=r.RTTPinger=r.Monitor=r.ServerMonitoringMode=void 0;const A=zA,e=Ce,t=gp,i=Fe,n=An,s=ut,o=_A,u=pt,l=PA,c=ge,h=Me,d=u_(),f=Symbol("server"),p=Symbol("monitorId"),y=Symbol("connection"),_=Symbol("cancellationToken"),g=Symbol("roundTripTime"),m="idle",E="monitoring",w=(0,l.makeStateMachine)({[c.STATE_CLOSING]:[c.STATE_CLOSING,m,c.STATE_CLOSED],[c.STATE_CLOSED]:[c.STATE_CLOSED,E],[m]:[m,E,c.STATE_CLOSING],[E]:[E,m,c.STATE_CLOSING]}),L=new Set([c.STATE_CLOSING,c.STATE_CLOSED,E]);function T(S){return S.s.state===c.STATE_CLOSED||S.s.state===c.STATE_CLOSING}r.ServerMonitoringMode=Object.freeze({auto:"auto",poll:"poll",stream:"stream"});class R extends u.TypedEventEmitter{get connection(){return this[y]}constructor(B,D){super(),this[f]=B,this[y]=void 0,this[_]=new u.CancellationToken,this[_].setMaxListeners(1/0),this[p]=void 0,this.s={state:c.STATE_CLOSED},this.address=B.description.address,this.options=Object.freeze({connectTimeoutMS:D.connectTimeoutMS??1e4,heartbeatFrequencyMS:D.heartbeatFrequencyMS??1e4,minHeartbeatFrequencyMS:D.minHeartbeatFrequencyMS??500,serverMonitoringMode:D.serverMonitoringMode}),this.isRunningInFaasEnv=(0,n.getFAASEnv)()!=null;const Q=this[_],Z=Object.assign({id:"<monitor>",generation:B.pool.generation,connectionType:i.Connection,cancellationToken:Q,hostAddress:B.description.hostAddress},D,{raw:!1,useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!0});delete Z.credentials,Z.autoEncrypter&&delete Z.autoEncrypter,this.connectOptions=Object.freeze(Z)}connect(){if(this.s.state!==c.STATE_CLOSED)return;const B=this.options.heartbeatFrequencyMS,D=this.options.minHeartbeatFrequencyMS;this[p]=new x(M(this),{heartbeatFrequencyMS:B,minHeartbeatFrequencyMS:D,immediate:!0})}requestCheck(){var B;L.has(this.s.state)||(B=this[p])==null||B.wake()}reset(){const B=this[f].description.topologyVersion;if(T(this)||B==null)return;w(this,c.STATE_CLOSING),P(this),w(this,m);const D=this.options.heartbeatFrequencyMS,Q=this.options.minHeartbeatFrequencyMS;this[p]=new x(M(this),{heartbeatFrequencyMS:D,minHeartbeatFrequencyMS:Q})}close(){T(this)||(w(this,c.STATE_CLOSING),P(this),this.emit("close"),w(this,c.STATE_CLOSED))}}r.Monitor=R;function P(S){var B,D,Q;(B=S[p])==null||B.stop(),S[p]=void 0,(D=S.rttPinger)==null||D.close(),S.rttPinger=void 0,S[_].emit("cancel"),(Q=S[y])==null||Q.destroy({force:!0}),S[y]=void 0}function F(S,B){if(B==null)return!1;const D=S.options.serverMonitoringMode;return D===r.ServerMonitoringMode.poll?!1:D===r.ServerMonitoringMode.stream?!0:!S.isRunningInFaasEnv}function H(S,B){let D=(0,l.now)();const Q=S[f].description.topologyVersion,Z=F(S,Q);S.emit(d.Server.SERVER_HEARTBEAT_STARTED,new h.ServerHeartbeatStartedEvent(S.address,Z));function AA(G,X){var lA;(lA=S[y])==null||lA.destroy({force:!0}),S[y]=void 0,S.emit(d.Server.SERVER_HEARTBEAT_FAILED,new h.ServerHeartbeatFailedEvent(S.address,(0,l.calculateDurationInMs)(D),G,X));const nA=G instanceof o.MongoError?G:new o.MongoError(o.MongoError.buildErrorMessage(G),{cause:G});nA.addErrorLabel(o.MongoErrorLabel.ResetPool),nA instanceof o.MongoNetworkTimeoutError&&nA.addErrorLabel(o.MongoErrorLabel.InterruptInUseConnections),S.emit("resetServer",nA),B(G)}const Y=S[y];if(Y&&!Y.closed){const{serverApi:G,helloOk:X}=Y,nA=S.options.connectTimeoutMS,lA=S.options.heartbeatFrequencyMS,vA={[G!=null&&G.version||X?"hello":s.LEGACY_HELLO_COMMAND]:1,...Z&&Q?{maxAwaitTimeMS:lA,topologyVersion:b(Q)}:{}},BA=Z?{socketTimeoutMS:nA?nA+lA:0,exhaustAllowed:!0}:{socketTimeoutMS:nA};Z&&S.rttPinger==null&&(S.rttPinger=new v(S[_],Object.assign({heartbeatFrequencyMS:S.options.heartbeatFrequencyMS},S.connectOptions))),Y.command((0,l.ns)("admin.$cmd"),vA,BA,(bA,xA)=>{var ie;if(bA)return AA(bA,Z);"isWritablePrimary"in xA||(xA.isWritablePrimary=xA[s.LEGACY_HELLO_COMMAND]);const TA=Z&&S.rttPinger?S.rttPinger.roundTripTime:(0,l.calculateDurationInMs)(D);S.emit(d.Server.SERVER_HEARTBEAT_SUCCEEDED,new h.ServerHeartbeatSucceededEvent(S.address,TA,xA,Z)),Z?(S.emit(d.Server.SERVER_HEARTBEAT_STARTED,new h.ServerHeartbeatStartedEvent(S.address,!0)),D=(0,l.now)()):((ie=S.rttPinger)==null||ie.close(),S.rttPinger=void 0,B(void 0,xA))});return}(0,t.connect)(S.connectOptions,(G,X)=>{var nA;if(G){S[y]=void 0,AA(G,!1);return}if(X){if(X.isMonitoringConnection=!0,T(S)){X.destroy({force:!0});return}S[y]=X,S.emit(d.Server.SERVER_HEARTBEAT_SUCCEEDED,new h.ServerHeartbeatSucceededEvent(S.address,(0,l.calculateDurationInMs)(D),X.hello,F(S,(nA=X.hello)==null?void 0:nA.topologyVersion))),B(void 0,X.hello)}})}function M(S){return B=>{if(S.s.state===E){process.nextTick(B);return}w(S,E);function D(){T(S)||w(S,m),B()}H(S,(Q,Z)=>{if(Q&&S[f].description.type===c.ServerType.Unknown)return D();F(S,Z==null?void 0:Z.topologyVersion)&&(0,A.setTimeout)(()=>{var AA;T(S)||(AA=S[p])==null||AA.wake()},0),D()})}}function b(S){return{processId:S.processId,counter:e.Long.isLong(S.counter)?S.counter:e.Long.fromNumber(S.counter)}}class v{constructor(B,D){this.connection=void 0,this[_]=B,this[g]=0,this.closed=!1;const Q=D.heartbeatFrequencyMS;this[p]=(0,A.setTimeout)(()=>C(this,D),Q)}get roundTripTime(){return this[g]}close(){var B;this.closed=!0,(0,A.clearTimeout)(this[p]),(B=this.connection)==null||B.destroy({force:!0}),this.connection=void 0}}r.RTTPinger=v;function C(S,B){var G;const D=(0,l.now)();B.cancellationToken=S[_];const Q=B.heartbeatFrequencyMS;if(S.closed)return;function Z(X){if(S.closed){X==null||X.destroy({force:!0});return}S.connection==null&&(S.connection=X),S[g]=(0,l.calculateDurationInMs)(D),S[p]=(0,A.setTimeout)(()=>C(S,B),Q)}const AA=S.connection;if(AA==null){(0,t.connect)(B,(X,nA)=>{if(X){S.connection=void 0,S[g]=0;return}Z(nA)});return}const Y=(G=AA.serverApi)!=null&&G.version||AA.helloOk?"hello":s.LEGACY_HELLO_COMMAND;AA.commandAsync((0,l.ns)("admin.$cmd"),{[Y]:1},void 0).then(()=>Z(),()=>{var X;(X=S.connection)==null||X.destroy({force:!0}),S.connection=void 0,S[g]=0})}class x{constructor(B,D={}){this.isExpeditedCallToFnScheduled=!1,this.stopped=!1,this.isExecutionInProgress=!1,this.hasExecutedOnce=!1,this._executeAndReschedule=()=>{this.stopped||(this.timerId&&(0,A.clearTimeout)(this.timerId),this.isExpeditedCallToFnScheduled=!1,this.isExecutionInProgress=!0,this.fn(()=>{this.lastExecutionEnded=(0,l.now)(),this.isExecutionInProgress=!1,this._reschedule(this.heartbeatFrequencyMS)}))},this.fn=B,this.lastExecutionEnded=-1/0,this.heartbeatFrequencyMS=D.heartbeatFrequencyMS??1e3,this.minHeartbeatFrequencyMS=D.minHeartbeatFrequencyMS??500,D.immediate?this._executeAndReschedule():this._reschedule(void 0)}wake(){const D=(0,l.now)()-this.lastExecutionEnded;if(D<0)return this._executeAndReschedule();if(!this.isExecutionInProgress&&!this.isExpeditedCallToFnScheduled){if(D<this.minHeartbeatFrequencyMS){this.isExpeditedCallToFnScheduled=!0,this._reschedule(this.minHeartbeatFrequencyMS-D);return}this._executeAndReschedule()}}stop(){this.stopped=!0,this.timerId&&((0,A.clearTimeout)(this.timerId),this.timerId=void 0),this.lastExecutionEnded=-1/0,this.isExpeditedCallToFnScheduled=!1}toString(){return JSON.stringify(this)}toJSON(){const B=(0,l.now)(),D=B-this.lastExecutionEnded;return{timerId:this.timerId!=null?"set":"cleared",lastCallTime:this.lastExecutionEnded,isExpeditedCheckScheduled:this.isExpeditedCallToFnScheduled,stopped:this.stopped,heartbeatFrequencyMS:this.heartbeatFrequencyMS,minHeartbeatFrequencyMS:this.minHeartbeatFrequencyMS,currentTime:B,timeSinceLastCall:D}}_reschedule(B){this.stopped||(this.timerId&&(0,A.clearTimeout)(this.timerId),this.timerId=(0,A.setTimeout)(this._executeAndReschedule,B||this.heartbeatFrequencyMS))}}r.MonitorInterval=x}(_d)),_d}var Fm;function c_(){return Fm||(Fm=1,function(r){var A={};Object.defineProperty(r,"__esModule",{value:!0}),r.FEATURE_FLAGS=r.DEFAULT_OPTIONS=r.OPTIONS=r.parseOptions=r.resolveSRVRecord=void 0;const e=zA,t=bC(),i=zA,n=k1,s=Mi,o=An,u=Nu(),l=qM(),c=_A,h=sa(),d=pp,f=Mr,p=Ke,y=l_(),_=PA,g=at,m=["authSource","replicaSet","loadBalanced"],E="loadBalanced option only supported with a single host in the URI",w="loadBalanced option not supported with a replicaSet option",L="loadBalanced option not supported when directConnection is provided";async function T(S){if(typeof S.srvHost!="string")throw new c.MongoAPIError('Option "srvHost" must not be empty');if(S.srvHost.split(".").length<3)throw new c.MongoAPIError("URI must include hostname, domain name, and tld");const B=S.srvHost,D=await e.promises.resolveSrv(`_${S.srvServiceName}._tcp.${B}`);if(D.length===0)throw new c.MongoAPIError("No addresses found at host");for(const{name:lA}of D)if(!(0,_.matchesParentDomain)(lA,B))throw new c.MongoAPIError("Server record does not share hostname with parent URI");const Q=D.map(lA=>_.HostAddress.fromString(`${lA.name}:${lA.port??27017}`));C(Q,S,!0);let Z;try{Z=await e.promises.resolveTxt(B)}catch(lA){if(lA.code!=="ENODATA"&&lA.code!=="ENOTFOUND")throw lA;return Q}if(Z.length>1)throw new c.MongoParseError("Multiple text records not allowed");const AA=new i.URLSearchParams(Z[0].join(""));if([...AA.keys()].some(lA=>!m.includes(lA)))throw new c.MongoParseError(`Text record may only set any of: ${m.join(", ")}`);if(m.some(lA=>AA.get(lA)===""))throw new c.MongoParseError("Cannot have empty URI params in DNS TXT Record");const G=AA.get("authSource")??void 0,X=AA.get("replicaSet")??void 0,nA=AA.get("loadBalanced")??void 0;if(!S.userSpecifiedAuthSource&&G&&S.credentials&&!s.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(S.credentials.mechanism)&&(S.credentials=n.MongoCredentials.merge(S.credentials,{source:G})),!S.userSpecifiedReplicaSet&&X&&(S.replicaSet=X),nA==="true"&&(S.loadBalanced=!0),S.replicaSet&&S.srvMaxHosts>0)throw new c.MongoParseError("Cannot combine replicaSet option with srvMaxHosts");return C(Q,S,!0),Q}r.resolveSRVRecord=T;function R(S){if(!S)return;const B=(D,Q)=>{if(S.has(D)&&S.has(Q))throw new c.MongoAPIError(`The '${D}' option cannot be used with the '${Q}' option`)};B("tlsInsecure","tlsAllowInvalidCertificates"),B("tlsInsecure","tlsAllowInvalidHostnames"),B("tlsInsecure","tlsDisableCertificateRevocationCheck"),B("tlsInsecure","tlsDisableOCSPEndpointCheck"),B("tlsAllowInvalidCertificates","tlsDisableCertificateRevocationCheck"),B("tlsAllowInvalidCertificates","tlsDisableOCSPEndpointCheck"),B("tlsDisableCertificateRevocationCheck","tlsDisableOCSPEndpointCheck")}function P(S,B){if(typeof B=="boolean")return B;switch(B){case"true":return!0;case"false":return!1;default:throw new c.MongoParseError(`${S} must be either "true" or "false"`)}}function F(S,B){const D=(0,_.parseInteger)(B);if(D!=null)return D;throw new c.MongoParseError(`Expected ${S} to be stringified int value, got: ${B}`)}function H(S,B){const D=F(S,B);if(D<0)throw new c.MongoParseError(`${S} can only be a positive int value, got: ${B}`);return D}function*M(S){if(S==="")return;const B=S.split(",");for(const D of B){const[Q,Z]=D.split(/:(.*)/);if(Z==null)throw new c.MongoParseError("Cannot have undefined values in key value pairs");yield[Q,Z]}}class b extends Map{constructor(B=[]){super(B.map(([D,Q])=>[D.toLowerCase(),Q]))}has(B){return super.has(B.toLowerCase())}get(B){return super.get(B.toLowerCase())}set(B,D){return super.set(B.toLowerCase(),D)}delete(B){return super.delete(B.toLowerCase())}}function v(S,B=void 0,D={}){if(B!=null&&!(B instanceof h.MongoClient)&&(D=B,B=void 0),D.useBigInt64&&typeof D.promoteLongs=="boolean"&&!D.promoteLongs)throw new c.MongoAPIError("Must request either bigint or Long for int64 deserialization");if(D.useBigInt64&&typeof D.promoteValues=="boolean"&&!D.promoteValues)throw new c.MongoAPIError("Must request either bigint or Long for int64 deserialization");const Q=new t.default(S),{hosts:Z,isSRV:AA}=Q,Y=Object.create(null);for(const k of Object.getOwnPropertySymbols(D))r.FEATURE_FLAGS.has(k)&&(Y[k]=D[k]);Y.hosts=AA?[]:Z.map(_.HostAddress.fromString);const G=new b;if(Q.pathname!=="/"&&Q.pathname!==""){const k=decodeURIComponent(Q.pathname[0]==="/"?Q.pathname.slice(1):Q.pathname);k&&G.set("dbName",[k])}if(Q.username!==""){const k={username:decodeURIComponent(Q.username)};typeof Q.password=="string"&&(k.password=decodeURIComponent(Q.password)),G.set("auth",[k])}for(const k of Q.searchParams.keys()){const j=Q.searchParams.getAll(k),eA=/readPreferenceTags/i.test(k);if(!eA&&j.length>1)throw new c.MongoInvalidArgumentError(`URI option "${k}" cannot appear more than once in the connection string`);if(!eA&&j.includes(""))throw new c.MongoAPIError(`URI option "${k}" cannot be specified with no value`);G.has(k)||G.set(k,j)}const X=new b(Object.entries(D).filter(([,k])=>k!=null));if(G.has("serverApi"))throw new c.MongoParseError("URI cannot contain `serverApi`, it can only be passed to the client");const nA=G.get("authMechanismProperties");if(nA){for(const k of nA)if(/(^|,)ALLOWED_HOSTS:/.test(k))throw new c.MongoParseError("Auth mechanism property ALLOWED_HOSTS is not allowed in the connection string.")}if(X.has("loadBalanced"))throw new c.MongoParseError("loadBalanced is only a valid option in the URI");const lA=new b,vA=new Set([...G.keys(),...X.keys()]);for(const k of vA){const j=[],eA=X.get(k);eA!=null&&j.push(eA);const W=G.get(k)??[];j.push(...W),lA.set(k,j)}if(lA.has("tls")||lA.has("ssl")){const k=(lA.get("tls")||[]).concat(lA.get("ssl")||[]).map(P.bind(null,"tls/ssl"));if(new Set(k).size!==1)throw new c.MongoParseError("All values of tls/ssl must be the same.")}R(lA);const BA=(0,_.setDifference)(vA,Array.from(Object.keys(r.OPTIONS)).map(k=>k.toLowerCase()));if(BA.size!==0){const k=BA.size>1?"options":"option",j=BA.size>1?"are":"is";throw new c.MongoParseError(`${k} ${Array.from(BA).join(", ")} ${j} not supported`)}for(const[k,j]of Object.entries(r.OPTIONS)){const eA=lA.get(k);if(!eA||eA.length===0)r.DEFAULT_OPTIONS.has(k)&&x(Y,k,j,[r.DEFAULT_OPTIONS.get(k)]);else{const{deprecated:W}=j;if(W){const O=typeof W=="string"?`: ${W}`:"";(0,_.emitWarning)(`${k} is a deprecated option${O}`)}x(Y,k,j,eA)}}if(Y.credentials){const k=Y.credentials.mechanism===s.AuthMechanism.MONGODB_GSSAPI,j=Y.credentials.mechanism===s.AuthMechanism.MONGODB_X509,eA=Y.credentials.mechanism===s.AuthMechanism.MONGODB_AWS,W=Y.credentials.mechanism===s.AuthMechanism.MONGODB_OIDC;if((k||j)&&lA.has("authSource")&&Y.credentials.source!=="$external")throw new c.MongoParseError(`authMechanism ${Y.credentials.mechanism} requires an authSource of '$external'`);if(!(k||j||eA||W)&&Y.dbName&&!lA.has("authSource")&&(Y.credentials=n.MongoCredentials.merge(Y.credentials,{source:Y.dbName})),eA&&Y.credentials.username&&!Y.credentials.password)throw new c.MongoMissingCredentialsError(`When using ${Y.credentials.mechanism} password must be set when a username is specified`);Y.credentials.validate(),Y.credentials.password===""&&Y.credentials.username===""&&Y.credentials.mechanism===s.AuthMechanism.MONGODB_DEFAULT&&Object.keys(Y.credentials.mechanismProperties).length===0&&delete Y.credentials}if(Y.dbName||(Y.dbName="test"),C(Z,Y,AA),B&&Y.autoEncryption&&(l.Encrypter.checkForMongoCrypt(),Y.encrypter=new l.Encrypter(B,S,D),Y.autoEncrypter=Y.encrypter.autoEncrypter),Y.userSpecifiedAuthSource=X.has("authSource")||G.has("authSource"),Y.userSpecifiedReplicaSet=X.has("replicaSet")||G.has("replicaSet"),AA){if(Y.srvHost=Z[0],Y.directConnection)throw new c.MongoAPIError("SRV URI does not support directConnection");if(Y.srvMaxHosts>0&&typeof Y.replicaSet=="string")throw new c.MongoParseError("Cannot use srvMaxHosts option with replicaSet");const k=!X.has("tls")&&!G.has("tls"),j=!X.has("ssl")&&!G.has("ssl");k&&j&&(Y.tls=!0)}else if(G.has("srvMaxHosts")||X.has("srvMaxHosts")||G.has("srvServiceName")||X.has("srvServiceName"))throw new c.MongoParseError("Cannot use srvMaxHosts or srvServiceName with a non-srv connection string");if(Y.directConnection&&Y.hosts.length!==1)throw new c.MongoParseError("directConnection option requires exactly one host");if(!Y.proxyHost&&(Y.proxyPort||Y.proxyUsername||Y.proxyPassword))throw new c.MongoParseError("Must specify proxyHost if other proxy options are passed");if(Y.proxyUsername&&!Y.proxyPassword||!Y.proxyUsername&&Y.proxyPassword)throw new c.MongoParseError("Can only specify both of proxy username/password or neither");if(["proxyHost","proxyPort","proxyUsername","proxyPassword"].map(k=>G.get(k)??[]).some(k=>k.length>1))throw new c.MongoParseError("Proxy options cannot be specified multiple times in the connection string");const xA=Symbol.for("@@mdb.enableMongoLogger");Y[xA]=Y[xA]??!1;let TA={},ie={};return Y[xA]&&(TA={MONGODB_LOG_COMMAND:A.MONGODB_LOG_COMMAND,MONGODB_LOG_TOPOLOGY:A.MONGODB_LOG_TOPOLOGY,MONGODB_LOG_SERVER_SELECTION:A.MONGODB_LOG_SERVER_SELECTION,MONGODB_LOG_CONNECTION:A.MONGODB_LOG_CONNECTION,MONGODB_LOG_CLIENT:A.MONGODB_LOG_CLIENT,MONGODB_LOG_ALL:A.MONGODB_LOG_ALL,MONGODB_LOG_MAX_DOCUMENT_LENGTH:A.MONGODB_LOG_MAX_DOCUMENT_LENGTH,MONGODB_LOG_PATH:A.MONGODB_LOG_PATH,...Y[Symbol.for("@@mdb.internalLoggerConfig")]},ie={mongodbLogPath:Y.mongodbLogPath,mongodbLogComponentSeverities:Y.mongodbLogComponentSeverities,mongodbLogMaxDocumentLength:Y.mongodbLogMaxDocumentLength}),Y.mongoLoggerOptions=d.MongoLogger.resolveOptions(TA,ie),Y.metadata=(0,o.makeClientMetadata)(Y),Y}r.parseOptions=v;function C(S,B,D){if(B.loadBalanced){if(S.length>1)throw new c.MongoParseError(E);if(B.replicaSet)throw new c.MongoParseError(w);if(B.directConnection)throw new c.MongoParseError(L);if(D&&B.srvMaxHosts>0)throw new c.MongoParseError("Cannot limit srv hosts with loadBalanced enabled")}}function x(S,B,D,Q){const{target:Z,type:AA,transform:Y}=D,G=Z??B;switch(AA){case"boolean":S[G]=P(G,Q[0]);break;case"int":S[G]=F(G,Q[0]);break;case"uint":S[G]=H(G,Q[0]);break;case"string":if(Q[0]==null)break;S[G]=String(Q[0]);break;case"record":if(!(0,_.isRecord)(Q[0]))throw new c.MongoParseError(`${G} must be an object`);S[G]=Q[0];break;case"any":S[G]=Q[0];break;default:{if(!Y)throw new c.MongoParseError("Descriptors missing a type must define a transform");const X=Y({name:G,options:S,values:Q});S[G]=X;break}}}r.OPTIONS={appName:{type:"string"},auth:{target:"credentials",transform({name:S,options:B,values:[D]}){if(!(0,_.isRecord)(D,["username","password"]))throw new c.MongoParseError(`${S} must be an object with 'username' and 'password' properties`);return n.MongoCredentials.merge(B.credentials,{username:D.username,password:D.password})}},authMechanism:{target:"credentials",transform({options:S,values:[B]}){var Y,G;const D=Object.values(s.AuthMechanism),[Q]=D.filter(X=>X.match(RegExp(String.raw`\b${B}\b`,"i")));if(!Q)throw new c.MongoParseError(`authMechanism one of ${D}, got ${B}`);let Z=(Y=S.credentials)==null?void 0:Y.source;(Q===s.AuthMechanism.MONGODB_PLAIN||s.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(Q))&&(Z="$external");let AA=(G=S.credentials)==null?void 0:G.password;return Q===s.AuthMechanism.MONGODB_X509&&AA===""&&(AA=void 0),n.MongoCredentials.merge(S.credentials,{mechanism:Q,source:Z,password:AA})}},authMechanismProperties:{target:"credentials",transform({options:S,values:B}){let D=Object.create(null);for(const Q of B)if(typeof Q=="string")for(const[Z,AA]of M(Q))try{D[Z]=P(Z,AA)}catch{D[Z]=AA}else{if(!(0,_.isRecord)(Q))throw new c.MongoParseError("AuthMechanismProperties must be an object");D={...Q}}return n.MongoCredentials.merge(S.credentials,{mechanismProperties:D})}},authSource:{target:"credentials",transform({options:S,values:[B]}){const D=String(B);return n.MongoCredentials.merge(S.credentials,{source:D})}},autoEncryption:{type:"record"},bsonRegExp:{type:"boolean"},serverApi:{target:"serverApi",transform({values:[S]}){const B=typeof S=="string"?{version:S}:S,D=B&&B.version;if(!D)throw new c.MongoParseError(`Invalid \`serverApi\` property; must specify a version from the following enum: ["${Object.values(h.ServerApiVersion).join('", "')}"]`);if(!Object.values(h.ServerApiVersion).some(Q=>Q===D))throw new c.MongoParseError(`Invalid server API version=${D}; must be in the following enum: ["${Object.values(h.ServerApiVersion).join('", "')}"]`);return B}},checkKeys:{type:"boolean"},compressors:{default:"none",target:"compressors",transform({values:S}){const B=new Set;for(const D of S){const Q=typeof D=="string"?D.split(","):D;if(!Array.isArray(Q))throw new c.MongoInvalidArgumentError("compressors must be an array or a comma-delimited list of strings");for(const Z of Q)if(Object.keys(u.Compressor).includes(String(Z)))B.add(String(Z));else throw new c.MongoInvalidArgumentError(`${Z} is not a valid compression mechanism. Must be one of: ${Object.keys(u.Compressor)}.`)}return[...B]}},connectTimeoutMS:{default:3e4,type:"uint"},dbName:{type:"string"},directConnection:{default:!1,type:"boolean"},driverInfo:{default:{},type:"record"},enableUtf8Validation:{type:"boolean",default:!0},family:{transform({name:S,values:[B]}){const D=F(S,B);if(D===4||D===6)return D;throw new c.MongoParseError(`Option 'family' must be 4 or 6 got ${D}.`)}},fieldsAsRaw:{type:"record"},forceServerObjectId:{default:!1,type:"boolean"},fsync:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:S,options:B,values:[D]}){const Q=g.WriteConcern.fromOptions({writeConcern:{...B.writeConcern,fsync:P(S,D)}});if(!Q)throw new c.MongoParseError(`Unable to make a writeConcern from fsync=${D}`);return Q}},heartbeatFrequencyMS:{default:1e4,type:"uint"},ignoreUndefined:{type:"boolean"},j:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:S,options:B,values:[D]}){const Q=g.WriteConcern.fromOptions({writeConcern:{...B.writeConcern,journal:P(S,D)}});if(!Q)throw new c.MongoParseError(`Unable to make a writeConcern from journal=${D}`);return Q}},journal:{target:"writeConcern",transform({name:S,options:B,values:[D]}){const Q=g.WriteConcern.fromOptions({writeConcern:{...B.writeConcern,journal:P(S,D)}});if(!Q)throw new c.MongoParseError(`Unable to make a writeConcern from journal=${D}`);return Q}},loadBalanced:{default:!1,type:"boolean"},localThresholdMS:{default:15,type:"uint"},maxConnecting:{default:2,transform({name:S,values:[B]}){const D=H(S,B);if(D===0)throw new c.MongoInvalidArgumentError("maxConnecting must be > 0 if specified");return D}},maxIdleTimeMS:{default:0,type:"uint"},maxPoolSize:{default:100,type:"uint"},maxStalenessSeconds:{target:"readPreference",transform({name:S,options:B,values:[D]}){const Q=H(S,D);return B.readPreference?p.ReadPreference.fromOptions({readPreference:{...B.readPreference,maxStalenessSeconds:Q}}):new p.ReadPreference("secondary",void 0,{maxStalenessSeconds:Q})}},minInternalBufferSize:{type:"uint"},minPoolSize:{default:0,type:"uint"},minHeartbeatFrequencyMS:{default:500,type:"uint"},monitorCommands:{default:!1,type:"boolean"},name:{target:"driverInfo",transform({values:[S],options:B}){return{...B.driverInfo,name:String(S)}}},noDelay:{default:!0,type:"boolean"},pkFactory:{default:_.DEFAULT_PK_FACTORY,transform({values:[S]}){if((0,_.isRecord)(S,["createPk"])&&typeof S.createPk=="function")return S;throw new c.MongoParseError(`Option pkFactory must be an object with a createPk function, got ${S}`)}},promoteBuffers:{type:"boolean"},promoteLongs:{type:"boolean"},promoteValues:{type:"boolean"},useBigInt64:{type:"boolean"},proxyHost:{type:"string"},proxyPassword:{type:"string"},proxyPort:{type:"uint"},proxyUsername:{type:"string"},raw:{default:!1,type:"boolean"},readConcern:{transform({values:[S],options:B}){if(S instanceof f.ReadConcern||(0,_.isRecord)(S,["level"]))return f.ReadConcern.fromOptions({...B.readConcern,...S});throw new c.MongoParseError(`ReadConcern must be an object, got ${JSON.stringify(S)}`)}},readConcernLevel:{target:"readConcern",transform({values:[S],options:B}){return f.ReadConcern.fromOptions({...B.readConcern,level:S})}},readPreference:{default:p.ReadPreference.primary,transform({values:[S],options:B}){var D,Q,Z;if(S instanceof p.ReadPreference)return p.ReadPreference.fromOptions({readPreference:{...B.readPreference,...S},...S});if((0,_.isRecord)(S,["mode"])){const AA=p.ReadPreference.fromOptions({readPreference:{...B.readPreference,...S},...S});if(AA)return AA;throw new c.MongoParseError(`Cannot make read preference from ${JSON.stringify(S)}`)}if(typeof S=="string"){const AA={hedge:(D=B.readPreference)==null?void 0:D.hedge,maxStalenessSeconds:(Q=B.readPreference)==null?void 0:Q.maxStalenessSeconds};return new p.ReadPreference(S,(Z=B.readPreference)==null?void 0:Z.tags,AA)}throw new c.MongoParseError(`Unknown ReadPreference value: ${S}`)}},readPreferenceTags:{target:"readPreference",transform({values:S,options:B}){const D=Array.isArray(S[0])?S[0]:S,Q=[];for(const Z of D){const AA=Object.create(null);if(typeof Z=="string")for(const[Y,G]of M(Z))AA[Y]=G;if((0,_.isRecord)(Z))for(const[Y,G]of Object.entries(Z))AA[Y]=G;Q.push(AA)}return p.ReadPreference.fromOptions({readPreference:B.readPreference,readPreferenceTags:Q})}},replicaSet:{type:"string"},retryReads:{default:!0,type:"boolean"},retryWrites:{default:!0,type:"boolean"},serializeFunctions:{type:"boolean"},serverMonitoringMode:{default:"auto",transform({values:[S]}){if(!Object.values(y.ServerMonitoringMode).includes(S))throw new c.MongoParseError("serverMonitoringMode must be one of `auto`, `poll`, or `stream`");return S}},serverSelectionTimeoutMS:{default:3e4,type:"uint"},servername:{type:"string"},socketTimeoutMS:{default:0,type:"uint"},srvMaxHosts:{type:"uint",default:0},srvServiceName:{type:"string",default:"mongodb"},ssl:{target:"tls",type:"boolean"},tls:{type:"boolean"},tlsAllowInvalidCertificates:{target:"rejectUnauthorized",transform({name:S,values:[B]}){return!P(S,B)}},tlsAllowInvalidHostnames:{target:"checkServerIdentity",transform({name:S,values:[B]}){return P(S,B)?()=>{}:void 0}},tlsCAFile:{type:"string"},tlsCRLFile:{type:"string"},tlsCertificateKeyFile:{type:"string"},tlsCertificateKeyFilePassword:{target:"passphrase",type:"any"},tlsInsecure:{transform({name:S,options:B,values:[D]}){const Q=P(S,D);return Q?(B.checkServerIdentity=()=>{},B.rejectUnauthorized=!1):(B.checkServerIdentity=B.tlsAllowInvalidHostnames?()=>{}:void 0,B.rejectUnauthorized=!B.tlsAllowInvalidCertificates),Q}},w:{target:"writeConcern",transform({values:[S],options:B}){return g.WriteConcern.fromOptions({writeConcern:{...B.writeConcern,w:S}})}},waitQueueTimeoutMS:{default:0,type:"uint"},writeConcern:{target:"writeConcern",transform({values:[S],options:B}){if((0,_.isRecord)(S)||S instanceof g.WriteConcern)return g.WriteConcern.fromOptions({writeConcern:{...B.writeConcern,...S}});if(S==="majority"||typeof S=="number")return g.WriteConcern.fromOptions({writeConcern:{...B.writeConcern,w:S}});throw new c.MongoParseError(`Invalid WriteConcern cannot parse: ${JSON.stringify(S)}`)}},wtimeout:{deprecated:"Please use wtimeoutMS instead",target:"writeConcern",transform({values:[S],options:B}){const D=g.WriteConcern.fromOptions({writeConcern:{...B.writeConcern,wtimeout:H("wtimeout",S)}});if(D)return D;throw new c.MongoParseError("Cannot make WriteConcern from wtimeout")}},wtimeoutMS:{target:"writeConcern",transform({values:[S],options:B}){const D=g.WriteConcern.fromOptions({writeConcern:{...B.writeConcern,wtimeoutMS:H("wtimeoutMS",S)}});if(D)return D;throw new c.MongoParseError("Cannot make WriteConcern from wtimeout")}},zlibCompressionLevel:{default:0,type:"int"},connectionType:{type:"any"},srvPoller:{type:"any"},minDHSize:{type:"any"},pskCallback:{type:"any"},secureContext:{type:"any"},enableTrace:{type:"any"},requestCert:{type:"any"},rejectUnauthorized:{type:"any"},checkServerIdentity:{type:"any"},ALPNProtocols:{type:"any"},SNICallback:{type:"any"},session:{type:"any"},requestOCSP:{type:"any"},localAddress:{type:"any"},localPort:{type:"any"},hints:{type:"any"},lookup:{type:"any"},ca:{type:"any"},cert:{type:"any"},ciphers:{type:"any"},crl:{type:"any"},ecdhCurve:{type:"any"},key:{type:"any"},passphrase:{type:"any"},pfx:{type:"any"},secureProtocol:{type:"any"},index:{type:"any"},useNewUrlParser:{type:"boolean",deprecated:"useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},useUnifiedTopology:{type:"boolean",deprecated:"useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},mongodbLogPath:{type:"any"},mongodbLogComponentSeverities:{type:"any"},mongodbLogMaxDocumentLength:{type:"uint"}},r.DEFAULT_OPTIONS=new b(Object.entries(r.OPTIONS).filter(([,S])=>S.default!=null).map(([S,B])=>[S,B.default])),r.FEATURE_FLAGS=new Set([Symbol.for("@@mdb.skipPingOnConnect"),Symbol.for("@@mdb.enableMongoLogger"),Symbol.for("@@mdb.internalLoggerConfig")])}(hd)),hd}var as={},Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.SrvPoller=Ys.SrvPollingEvent=void 0;const vP=zA,Td=zA,wP=_A,bP=pt,h_=PA;class d_{constructor(A){this.srvRecords=A}hostnames(){return new Set(this.srvRecords.map(A=>h_.HostAddress.fromSrvRecord(A).toString()))}}Ys.SrvPollingEvent=d_;class oh extends bP.TypedEventEmitter{constructor(A){if(super(),!A||!A.srvHost)throw new wP.MongoRuntimeError("Options for SrvPoller must exist and include srvHost");this.srvHost=A.srvHost,this.srvMaxHosts=A.srvMaxHosts??0,this.srvServiceName=A.srvServiceName??"mongodb",this.rescanSrvIntervalMS=6e4,this.heartbeatFrequencyMS=A.heartbeatFrequencyMS??1e4,this.haMode=!1,this.generation=0,this._timeout=void 0}get srvAddress(){return`_${this.srvServiceName}._tcp.${this.srvHost}`}get intervalMS(){return this.haMode?this.heartbeatFrequencyMS:this.rescanSrvIntervalMS}start(){this._timeout||this.schedule()}stop(){this._timeout&&((0,Td.clearTimeout)(this._timeout),this.generation+=1,this._timeout=void 0)}schedule(){this._timeout&&(0,Td.clearTimeout)(this._timeout),this._timeout=(0,Td.setTimeout)(()=>{this._poll().catch(()=>null)},this.intervalMS)}success(A){this.haMode=!1,this.schedule(),this.emit(oh.SRV_RECORD_DISCOVERY,new d_(A))}failure(){this.haMode=!0,this.schedule()}async _poll(){const A=this.generation;let e;try{e=await vP.promises.resolveSrv(this.srvAddress)}catch{this.failure();return}if(A!==this.generation)return;const t=[];for(const i of e)(0,h_.matchesParentDomain)(i.name,this.srvHost)&&t.push(i);if(!t.length){this.failure();return}this.success(t)}}oh.SRV_RECORD_DISCOVERY="srvRecordDiscovery";Ys.SrvPoller=oh;var Nm;function IP(){if(Nm)return as;Nm=1,Object.defineProperty(as,"__esModule",{value:!0}),as.ServerCapabilities=as.Topology=void 0;const r=Fr,A=c_(),e=ut,t=_A,i=pt,n=Ke,s=PA,o=ge,u=Me,l=u_(),c=Ai,h=_u,d=Ys,f=Ou;let p=0;const y=(0,s.makeStateMachine)({[o.STATE_CLOSED]:[o.STATE_CLOSED,o.STATE_CONNECTING],[o.STATE_CONNECTING]:[o.STATE_CONNECTING,o.STATE_CLOSING,o.STATE_CONNECTED,o.STATE_CLOSED],[o.STATE_CONNECTED]:[o.STATE_CONNECTED,o.STATE_CLOSING,o.STATE_CLOSED],[o.STATE_CLOSING]:[o.STATE_CLOSING,o.STATE_CLOSED]}),_=Symbol("cancelled"),g=Symbol("waitQueue");class m extends i.TypedEventEmitter{constructor(b,v,C){super(),this.client=b,this.selectServerAsync=(0,r.promisify)((Z,AA,Y)=>this.selectServer(Z,AA,Y)),C=C??{hosts:[s.HostAddress.fromString("localhost:27017")],...Object.fromEntries(A.DEFAULT_OPTIONS.entries()),...Object.fromEntries(A.FEATURE_FLAGS.entries())},typeof v=="string"?v=[s.HostAddress.fromString(v)]:Array.isArray(v)||(v=[v]);const x=[];for(const Z of v)if(typeof Z=="string")x.push(s.HostAddress.fromString(Z));else if(Z instanceof s.HostAddress)x.push(Z);else throw new t.MongoRuntimeError(`Topology cannot be constructed from ${JSON.stringify(Z)}`);const S=w(C),B=p++,D=C.srvMaxHosts==null||C.srvMaxHosts===0||C.srvMaxHosts>=x.length?x:(0,s.shuffle)(x,C.srvMaxHosts),Q=new Map;for(const Z of D)Q.set(Z.toString(),new c.ServerDescription(Z));this[g]=new s.List,this.s={id:B,options:C,seedlist:x,state:o.STATE_CLOSED,description:new f.TopologyDescription(S,Q,C.replicaSet,void 0,void 0,void 0,C),serverSelectionTimeoutMS:C.serverSelectionTimeoutMS,heartbeatFrequencyMS:C.heartbeatFrequencyMS,minHeartbeatFrequencyMS:C.minHeartbeatFrequencyMS,servers:new Map,credentials:C==null?void 0:C.credentials,clusterTime:void 0,connectionTimers:new Set,detectShardedTopology:Z=>this.detectShardedTopology(Z),detectSrvRecords:Z=>this.detectSrvRecords(Z)},C.srvHost&&!C.loadBalanced&&(this.s.srvPoller=C.srvPoller??new d.SrvPoller({heartbeatFrequencyMS:this.s.heartbeatFrequencyMS,srvHost:C.srvHost,srvMaxHosts:C.srvMaxHosts,srvServiceName:C.srvServiceName}),this.on(m.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology))}detectShardedTopology(b){var D,Q,Z;const v=b.previousDescription.type,C=b.newDescription.type,x=v!==o.TopologyType.Sharded&&C===o.TopologyType.Sharded,S=(D=this.s.srvPoller)==null?void 0:D.listeners(d.SrvPoller.SRV_RECORD_DISCOVERY),B=!!(S!=null&&S.includes(this.s.detectSrvRecords));x&&!B&&((Q=this.s.srvPoller)==null||Q.on(d.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords),(Z=this.s.srvPoller)==null||Z.start())}detectSrvRecords(b){const v=this.s.description;this.s.description=this.s.description.updateFromSrvPollingEvent(b,this.s.options.srvMaxHosts),this.s.description!==v&&(T(this),this.emit(m.TOPOLOGY_DESCRIPTION_CHANGED,new u.TopologyDescriptionChangedEvent(this.s.id,v,this.s.description)))}get description(){return this.s.description}get loadBalanced(){return this.s.options.loadBalanced}get capabilities(){return new H(this.lastHello())}connect(b,v){if(typeof b=="function"&&(v=b,b={}),b=b??{},this.s.state===o.STATE_CONNECTED){typeof v=="function"&&v();return}y(this,o.STATE_CONNECTING),this.emit(m.TOPOLOGY_OPENING,new u.TopologyOpeningEvent(this.s.id)),this.emit(m.TOPOLOGY_DESCRIPTION_CHANGED,new u.TopologyDescriptionChangedEvent(this.s.id,new f.TopologyDescription(o.TopologyType.Unknown),this.s.description));const C=Array.from(this.s.description.servers.values());if(this.s.servers=new Map(C.map(B=>[B.address,L(this,B)])),this.s.options.loadBalanced)for(const B of C){const D=new c.ServerDescription(B.hostAddress,void 0,{loadBalanced:this.s.options.loadBalanced});this.serverUpdateHandler(D)}const x=B=>v?v(B):this.emit(m.ERROR,B),S=b.readPreference??n.ReadPreference.primary;this.selectServer((0,h.readPreferenceServerSelector)(S),b,(B,D)=>{if(B)return this.close({force:!1},()=>x(B));if(!(this.s.options[Symbol.for("@@mdb.skipPingOnConnect")]===!0)&&D&&this.s.credentials){D.command((0,s.ns)("admin.$cmd"),{ping:1},{},Z=>{if(Z)return x(Z);y(this,o.STATE_CONNECTED),this.emit(m.OPEN,this),this.emit(m.CONNECT,this),v==null||v(void 0,this)});return}y(this,o.STATE_CONNECTED),this.emit(m.OPEN,this),this.emit(m.CONNECT,this),v==null||v(void 0,this)})}close(b,v){if(b=b??{force:!1},this.s.state===o.STATE_CLOSED||this.s.state===o.STATE_CLOSING)return v==null?void 0:v();const C=Array.from(this.s.servers.values(),x=>(0,r.promisify)(E)(x,this,{force:!!(b!=null&&b.force)}));Promise.all(C).then(()=>{this.s.servers.clear(),y(this,o.STATE_CLOSING),R(this[g],new t.MongoTopologyClosedError),(0,o.drainTimerQueue)(this.s.connectionTimers),this.s.srvPoller&&(this.s.srvPoller.stop(),this.s.srvPoller.removeListener(d.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords)),this.removeListener(m.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology),y(this,o.STATE_CLOSED),this.emit(m.TOPOLOGY_CLOSED,new u.TopologyClosedEvent(this.s.id))}).finally(()=>v==null?void 0:v())}selectServer(b,v,C){let x;if(typeof b!="function")if(typeof b=="string")x=(0,h.readPreferenceServerSelector)(n.ReadPreference.fromString(b));else{let Z;b instanceof n.ReadPreference?Z=b:(n.ReadPreference.translate(v),Z=v.readPreference||n.ReadPreference.primary),x=(0,h.readPreferenceServerSelector)(Z)}else x=b;v=Object.assign({},{serverSelectionTimeoutMS:this.s.serverSelectionTimeoutMS},v);const S=this.description.type===o.TopologyType.Sharded,B=v.session,D=B&&B.transaction;if(S&&D&&D.server){C(void 0,D.server);return}const Q={serverSelector:x,transaction:D,callback:C,timeoutController:new s.TimeoutController(v.serverSelectionTimeoutMS)};Q.timeoutController.signal.addEventListener("abort",()=>{Q[_]=!0,Q.timeoutController.clear();const Z=new t.MongoServerSelectionError(`Server selection timed out after ${v.serverSelectionTimeoutMS} ms`,this.description);Q.callback(Z)}),this[g].push(Q),P(this)}serverUpdateHandler(b){if(!this.s.description.hasServer(b.address)||F(this.s.description,b))return;const v=this.s.description,C=this.s.description.servers.get(b.address);if(!C)return;const x=b.$clusterTime;x&&(0,o._advanceClusterTime)(this,x);const S=C&&C.equals(b);if(this.s.description=this.s.description.update(b),this.s.description.compatibilityError){this.emit(m.ERROR,new t.MongoCompatibilityError(this.s.description.compatibilityError));return}if(!S){const B=this.s.description.servers.get(b.address);B&&this.emit(m.SERVER_DESCRIPTION_CHANGED,new u.ServerDescriptionChangedEvent(this.s.id,b.address,C,B))}T(this,b),this[g].length>0&&P(this),S||this.emit(m.TOPOLOGY_DESCRIPTION_CHANGED,new u.TopologyDescriptionChangedEvent(this.s.id,v,this.s.description))}auth(b,v){typeof b=="function"&&(v=b,b=void 0),typeof v=="function"&&v(void 0,!0)}get clientMetadata(){return this.s.options.metadata}isConnected(){return this.s.state===o.STATE_CONNECTED}isDestroyed(){return this.s.state===o.STATE_CLOSED}lastHello(){const b=Array.from(this.description.servers.values());return b.length===0?{}:b.filter(x=>x.type!==o.ServerType.Unknown)[0]||{maxWireVersion:this.description.commonWireVersion}}get commonWireVersion(){return this.description.commonWireVersion}get logicalSessionTimeoutMinutes(){return this.description.logicalSessionTimeoutMinutes}get clusterTime(){return this.s.clusterTime}set clusterTime(b){this.s.clusterTime=b}}m.SERVER_OPENING=e.SERVER_OPENING,m.SERVER_CLOSED=e.SERVER_CLOSED,m.SERVER_DESCRIPTION_CHANGED=e.SERVER_DESCRIPTION_CHANGED,m.TOPOLOGY_OPENING=e.TOPOLOGY_OPENING,m.TOPOLOGY_CLOSED=e.TOPOLOGY_CLOSED,m.TOPOLOGY_DESCRIPTION_CHANGED=e.TOPOLOGY_DESCRIPTION_CHANGED,m.ERROR=e.ERROR,m.OPEN=e.OPEN,m.CONNECT=e.CONNECT,m.CLOSE=e.CLOSE,m.TIMEOUT=e.TIMEOUT,as.Topology=m;function E(M,b,v,C){v=v??{force:!1};for(const x of e.LOCAL_SERVER_EVENTS)M.removeAllListeners(x);M.destroy(v,()=>{b.emit(m.SERVER_CLOSED,new u.ServerClosedEvent(b.s.id,M.description.address));for(const x of e.SERVER_RELAY_EVENTS)M.removeAllListeners(x);typeof C=="function"&&C()})}function w(M){return M!=null&&M.directConnection?o.TopologyType.Single:M!=null&&M.replicaSet?o.TopologyType.ReplicaSetNoPrimary:M!=null&&M.loadBalanced?o.TopologyType.LoadBalanced:o.TopologyType.Unknown}function L(M,b){M.emit(m.SERVER_OPENING,new u.ServerOpeningEvent(M.s.id,b.address));const v=new l.Server(M,b,M.s.options);for(const C of e.SERVER_RELAY_EVENTS)v.on(C,x=>M.emit(C,x));return v.on(l.Server.DESCRIPTION_RECEIVED,C=>M.serverUpdateHandler(C)),v.connect(),v}function T(M,b){if(b&&M.s.servers.has(b.address)){const v=M.s.servers.get(b.address);if(v){if(v.s.description=b,b.error instanceof t.MongoError&&b.error.hasErrorLabel(t.MongoErrorLabel.ResetPool)){const C=b.error.hasErrorLabel(t.MongoErrorLabel.InterruptInUseConnections);v.pool.clear({interruptInUseConnections:C})}else if(b.error==null){const C=M.s.description.type;(b.isDataBearing||b.type!==o.ServerType.Unknown&&C===o.TopologyType.Single)&&v.pool.ready()}}}for(const v of M.description.servers.values())if(!M.s.servers.has(v.address)){const C=L(M,v);M.s.servers.set(v.address,C)}for(const v of M.s.servers){const C=v[0];if(M.description.hasServer(C)||!M.s.servers.has(C))continue;const x=M.s.servers.get(C);M.s.servers.delete(C),x&&E(x,M)}}function R(M,b){for(;M.length;){const v=M.shift();v&&(v.timeoutController.clear(),v[_]||v.callback(b))}}function P(M){if(M.s.state===o.STATE_CLOSED){R(M[g],new t.MongoTopologyClosedError);return}const b=M.description.type===o.TopologyType.Sharded,v=Array.from(M.description.servers.values()),C=M[g].length;for(let x=0;x<C;++x){const S=M[g].shift();if(!S||S[_])continue;let B;try{const Z=S.serverSelector;B=Z?Z(M.description,v):v}catch(Z){S.timeoutController.clear(),S.callback(Z);continue}let D;if(B.length===0){M[g].push(S);continue}else if(B.length===1)D=M.s.servers.get(B[0].address);else{const Z=(0,s.shuffle)(B,2),AA=M.s.servers.get(Z[0].address),Y=M.s.servers.get(Z[1].address);D=AA&&Y&&AA.s.operationCount<Y.s.operationCount?AA:Y}if(!D){S.callback(new t.MongoServerSelectionError("server selection returned a server description but the server was not found in the topology",M.description));return}const Q=S.transaction;b&&Q&&Q.isActive&&D&&Q.pinServer(D),S.timeoutController.clear(),S.callback(void 0,D)}if(M[g].length>0)for(const[,x]of M.s.servers)process.nextTick(function(){return x.requestCheck()})}function F(M,b){const v=M.servers.get(b.address),C=v==null?void 0:v.topologyVersion;return(0,c.compareTopologyVersion)(C,b.topologyVersion)>0}class H{constructor(b){this.minWireVersion=b.minWireVersion||0,this.maxWireVersion=b.maxWireVersion||0}get hasAggregationCursor(){return this.maxWireVersion>=1}get hasWriteCommands(){return this.maxWireVersion>=2}get hasTextSearch(){return this.minWireVersion>=0}get hasAuthCommands(){return this.maxWireVersion>=1}get hasListCollectionsCommand(){return this.maxWireVersion>=3}get hasListIndexesCommand(){return this.maxWireVersion>=3}get supportsSnapshotReads(){return this.maxWireVersion>=13}get commandsTakeWriteConcern(){return this.maxWireVersion>=5}get commandsTakeCollation(){return this.maxWireVersion>=5}}return as.ServerCapabilities=H,as}var Lm;function sa(){if(Lm)return ns;Lm=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.MongoClient=ns.ServerApiVersion=void 0;const r=zA,A=Fr,e=Ce,t=zu(),i=k1,n=Mi,s=c_(),o=ut,u=Ap(),l=_A,c=pp,h=pt,d=Dt,f=Di,p=Ke,y=_u,_=IP(),g=ht,m=PA;ns.ServerApiVersion=Object.freeze({v1:"1"});const E=Symbol("options");class w extends h.TypedEventEmitter{constructor(T,R){super(),this[E]=(0,s.parseOptions)(T,this,R),this.mongoLogger=new c.MongoLogger(this[E].mongoLoggerOptions);const P=this;this.s={url:T,bsonOptions:(0,e.resolveBSONOptions)(this[E]),namespace:(0,m.ns)("admin"),hasBeenClosed:!1,sessionPool:new g.ServerSessionPool(this),activeSessions:new Set,get options(){return P[E]},get readConcern(){return P[E].readConcern},get writeConcern(){return P[E].writeConcern},get readPreference(){return P[E].readPreference},get isMongoClient(){return!0}},this.checkForNonGenuineHosts()}checkForNonGenuineHosts(){const T=this[E].hosts.filter(H=>(0,m.isHostMatch)(m.DOCUMENT_DB_CHECK,H.host)),R=(0,m.isHostMatch)(m.DOCUMENT_DB_CHECK,this[E].srvHost),P=this[E].hosts.filter(H=>(0,m.isHostMatch)(m.COSMOS_DB_CHECK,H.host)),F=(0,m.isHostMatch)(m.COSMOS_DB_CHECK,this[E].srvHost);T.length!==0||R?this.mongoLogger.info("client",m.DOCUMENT_DB_MSG):(P.length!==0||F)&&this.mongoLogger.info("client",m.COSMOS_DB_MSG)}get options(){return Object.freeze({...this[E]})}get serverApi(){return this[E].serverApi&&Object.freeze({...this[E].serverApi})}get monitorCommands(){return this[E].monitorCommands}set monitorCommands(T){this[E].monitorCommands=T}get autoEncrypter(){return this[E].autoEncrypter}get readConcern(){return this.s.readConcern}get writeConcern(){return this.s.writeConcern}get readPreference(){return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}async connect(){if(this.connectionLock)return this.connectionLock;try{this.connectionLock=this._connect(),await this.connectionLock}finally{this.connectionLock=void 0}return this}async _connect(){var P,F,H,M,b,v;if(this.topology&&this.topology.isConnected())return this;const T=this[E];if(T.tls&&(typeof T.tlsCAFile=="string"&&(T.ca??(T.ca=await r.promises.readFile(T.tlsCAFile))),typeof T.tlsCRLFile=="string"&&(T.crl??(T.crl=await r.promises.readFile(T.tlsCRLFile))),typeof T.tlsCertificateKeyFile=="string"&&(!T.key||!T.cert))){const C=await r.promises.readFile(T.tlsCertificateKeyFile);T.key??(T.key=C),T.cert??(T.cert=C)}if(typeof T.srvHost=="string"){const C=await(0,s.resolveSRVRecord)(T);for(const[x,S]of C.entries())T.hosts[x]=S}if(((P=T.credentials)==null?void 0:P.mechanism)===n.AuthMechanism.MONGODB_OIDC){const C=((H=(F=T.credentials)==null?void 0:F.mechanismProperties)==null?void 0:H.ALLOWED_HOSTS)||i.DEFAULT_ALLOWED_HOSTS;if(!!!((b=(M=T.credentials)==null?void 0:M.mechanismProperties)!=null&&b.PROVIDER_NAME)){for(const S of T.hosts)if(!(0,m.hostMatchesWildcards)(S.toHostPort().host,C))throw new l.MongoInvalidArgumentError(`Host '${S}' is not valid for OIDC authentication with ALLOWED_HOSTS of '${C.join(",")}'`)}}this.topology=new _.Topology(this,T.hosts,T),this.topology.once(_.Topology.OPEN,()=>this.emit("open",this));for(const C of o.MONGO_CLIENT_EVENTS)this.topology.on(C,(...x)=>this.emit(C,...x));const R=async()=>{var C;try{await(0,A.promisify)(x=>{var S;return(S=this.topology)==null?void 0:S.connect(T,x)})()}catch(x){throw(C=this.topology)==null||C.close({force:!0}),x}};return this.autoEncrypter?(await((v=this.autoEncrypter)==null?void 0:v.init()),await R(),await T.encrypter.connectInternalClient()):await R(),this}async close(T=!1){Object.defineProperty(this.s,"hasBeenClosed",{value:!0,enumerable:!0,configurable:!1,writable:!1});const R=Array.from(this.s.activeSessions,v=>v.endSession());if(this.s.activeSessions.clear(),await Promise.all(R),this.topology==null)return;const P=(0,y.readPreferenceServerSelector)(p.ReadPreference.primaryPreferred),F=this.topology.description,H=Array.from(F.servers.values());if(P(F,H).length!==0){const v=Array.from(this.s.sessionPool.sessions,({id:C})=>C);v.length!==0&&await(0,d.executeOperation)(this,new f.RunAdminCommandOperation({endSessions:v},{readPreference:p.ReadPreference.primaryPreferred,noResponse:!0})).catch(()=>null)}const b=this.topology;this.topology=void 0,await new Promise((v,C)=>{b.close({force:T},x=>{if(x)return C(x);const{encrypter:S}=this[E];if(S)return S.closeCallback(this,T,B=>{if(B)return C(B);v()});v()})})}db(T,R){R=R??{},T||(T=this.options.dbName);const P=Object.assign({},this[E],R);return new u.Db(this,T,P)}static async connect(T,R){return new this(T,R).connect()}startSession(T){const R=new g.ClientSession(this,this.s.sessionPool,{explicit:!0,...T},this[E]);return this.s.activeSessions.add(R),R.once("ended",()=>{this.s.activeSessions.delete(R)}),R}async withSession(T,R){const P={owner:Symbol(),...typeof T=="object"?T:{}},F=typeof T=="function"?T:R;if(F==null)throw new l.MongoInvalidArgumentError("Missing required callback parameter");const H=this.startSession(P);try{return await F(H)}finally{try{await H.endSession()}catch{}}}watch(T=[],R={}){return Array.isArray(T)||(R=T,T=[]),new t.ChangeStream(this,T,(0,m.resolveOptions)(this,R))}}return ns.MongoClient=w,ns}var Um;function zu(){if(Um)return Sa;Um=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.ChangeStream=void 0;const r=ca(),A=ut,e=XE(),t=Ap(),i=_A,n=sa(),s=pt,o=PA,u=Symbol("cursorStream"),l=Symbol("closed"),c=Symbol("mode"),h=["resumeAfter","startAfter","startAtOperationTime","fullDocument","fullDocumentBeforeChange","showExpandedEvents"],d={COLLECTION:Symbol("Collection"),DATABASE:Symbol("Database"),CLUSTER:Symbol("Cluster")},f=[A.RESUME_TOKEN_CHANGED,A.END,A.CLOSE],p="A change stream document has been received that lacks a resume token (_id).",y="ChangeStream is closed";class _ extends s.TypedEventEmitter{constructor(m,E=[],w={}){if(super(),this.pipeline=E,this.options={...w},delete this.options.writeConcern,m instanceof r.Collection)this.type=d.COLLECTION;else if(m instanceof t.Db)this.type=d.DATABASE;else if(m instanceof n.MongoClient)this.type=d.CLUSTER;else throw new i.MongoChangeStreamError("Parent provided to ChangeStream constructor must be an instance of Collection, Db, or MongoClient");this.parent=m,this.namespace=m.s.namespace,!this.options.readPreference&&m.readPreference&&(this.options.readPreference=m.readPreference),this.cursor=this._createChangeStreamCursor(w),this[l]=!1,this[c]=!1,this.on("newListener",L=>{L==="change"&&this.cursor&&this.listenerCount("change")===0&&this._streamEvents(this.cursor)}),this.on("removeListener",L=>{var T;L==="change"&&this.listenerCount("change")===0&&this.cursor&&((T=this[u])==null||T.removeAllListeners("data"))})}get cursorStream(){return this[u]}get resumeToken(){var m;return(m=this.cursor)==null?void 0:m.resumeToken}async hasNext(){for(this._setIsIterator();;)try{return await this.cursor.hasNext()}catch(m){try{await this._processErrorIteratorMode(m)}catch(E){try{await this.close()}catch{}throw E}}}async next(){for(this._setIsIterator();;)try{const m=await this.cursor.next();return this._processChange(m??null)}catch(m){try{await this._processErrorIteratorMode(m)}catch(E){try{await this.close()}catch{}throw E}}}async tryNext(){for(this._setIsIterator();;)try{return await this.cursor.tryNext()??null}catch(m){try{await this._processErrorIteratorMode(m)}catch(E){try{await this.close()}catch{}throw E}}}async*[Symbol.asyncIterator](){if(!this.closed)try{for(;;)yield await this.next()}finally{try{await this.close()}catch{}}}get closed(){return this[l]||this.cursor.closed}async close(){this[l]=!0;const m=this.cursor;try{await m.close()}finally{this._endStream()}}stream(m){if(this.closed)throw new i.MongoChangeStreamError(y);return this.streamOptions=m,this.cursor.stream(m)}_setIsEmitter(){if(this[c]==="iterator")throw new i.MongoAPIError("ChangeStream cannot be used as an EventEmitter after being used as an iterator");this[c]="emitter"}_setIsIterator(){if(this[c]==="emitter")throw new i.MongoAPIError("ChangeStream cannot be used as an iterator after being used as an EventEmitter");this[c]="iterator"}_createChangeStreamCursor(m){const E=(0,o.filterOptions)(m,h);this.type===d.CLUSTER&&(E.allChangesForCluster=!0);const w=[{$changeStream:E},...this.pipeline],L=this.type===d.CLUSTER?this.parent:this.type===d.DATABASE?this.parent.client:this.type===d.COLLECTION?this.parent.client:null;if(L==null)throw new i.MongoRuntimeError(`Changestream type should only be one of cluster, database, collection. Found ${this.type.toString()}`);const T=new e.ChangeStreamCursor(L,this.namespace,w,m);for(const R of f)T.on(R,P=>this.emit(R,P));return this.listenerCount(_.CHANGE)>0&&this._streamEvents(T),T}_closeEmitterModeWithError(m){this.emit(_.ERROR,m),this.close().catch(()=>null)}_streamEvents(m){this._setIsEmitter();const E=this[u]??m.stream();this[u]=E,E.on("data",w=>{try{const L=this._processChange(w);this.emit(_.CHANGE,L)}catch(L){this.emit(_.ERROR,L)}}),E.on("error",w=>this._processErrorStreamMode(w))}_endStream(){const m=this[u];m&&(["data","close","end","error"].forEach(E=>m.removeAllListeners(E)),m.destroy()),this[u]=void 0}_processChange(m){if(this[l])throw new i.MongoAPIError(y);if(m==null)throw new i.MongoRuntimeError(y);if(m&&!m._id)throw new i.MongoChangeStreamError(p);return this.cursor.cacheResumeToken(m._id),this.options.startAtOperationTime=void 0,m}_processErrorStreamMode(m){this[l]||((0,i.isResumableError)(m,this.cursor.maxWireVersion)?(this._endStream(),this.cursor.close().catch(()=>null),(0,o.getTopology)(this.parent).selectServer(this.cursor.readPreference,{},w=>{if(w)return this._closeEmitterModeWithError(m);this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)})):this._closeEmitterModeWithError(m))}async _processErrorIteratorMode(m){if(this[l])throw new i.MongoAPIError(y);if(!(0,i.isResumableError)(m,this.cursor.maxWireVersion)){try{await this.close()}catch{}throw m}await this.cursor.close().catch(()=>null);const E=(0,o.getTopology)(this.parent);try{await E.selectServerAsync(this.cursor.readPreference,{}),this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)}catch{throw await this.close(),m}}}return _.RESPONSE=A.RESPONSE,_.MORE=A.MORE,_.INIT=A.INIT,_.CLOSE=A.CLOSE,_.CHANGE=A.CHANGE,_.END=A.END,_.ERROR=A.ERROR,_.RESUME_TOKEN_CHANGED=A.RESUME_TOKEN_CHANGED,Sa.ChangeStream=_,Sa}var ah={},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.GridFSBucketReadStream=void 0;const BP=zA,or=_A;class Ep extends BP.Readable{constructor(A,e,t,i,n){super({emitClose:!0}),this.s={bytesToTrim:0,bytesToSkip:0,bytesRead:0,chunks:A,expected:0,files:e,filter:i,init:!1,expectedEnd:0,options:{start:0,end:0,...n},readPreference:t}}_read(){this.destroyed||xP(this,()=>TP(this))}start(A=0){return km(this),this.s.options.start=A,this}end(A=0){return km(this),this.s.options.end=A,this}async abort(){var A;this.push(null),this.destroy(),await((A=this.s.cursor)==null?void 0:A.close())}}Ep.FILE="file";Gu.GridFSBucketReadStream=Ep;function km(r){if(r.s.init)throw new or.MongoGridFSStreamError("Options cannot be changed after the stream is initialized")}function TP(r){if(r.destroyed||!r.s.cursor||!r.s.file)return;const A=({error:e,doc:t})=>{var d;if(r.destroyed)return;if(e){r.destroy(e);return}if(!t){r.push(null),(d=r.s.cursor)==null||d.close().then(()=>null,f=>r.destroy(f));return}if(!r.s.file)return;const i=r.s.file.length-r.s.bytesRead,n=r.s.expected++,s=Math.min(r.s.file.chunkSize,i);if(t.n>n)return r.destroy(new or.MongoGridFSChunkError(`ChunkIsMissing: Got unexpected n: ${t.n}, expected: ${n}`));if(t.n<n)return r.destroy(new or.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${t.n}, expected: ${n}`));let o=Buffer.isBuffer(t.data)?t.data:t.data.buffer;if(o.byteLength!==s)return i<=0?r.destroy(new or.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${t.n}, expected file length ${r.s.file.length} bytes but already read ${r.s.bytesRead} bytes`)):r.destroy(new or.MongoGridFSChunkError(`ChunkIsWrongSize: Got unexpected length: ${o.byteLength}, expected: ${s}`));if(r.s.bytesRead+=o.byteLength,o.byteLength===0)return r.push(null);let u=null,l=null;r.s.bytesToSkip!=null&&(u=r.s.bytesToSkip,r.s.bytesToSkip=0);const c=n===r.s.expectedEnd-1,h=r.s.options.end-r.s.bytesToSkip;c&&r.s.bytesToTrim!=null?l=r.s.file.chunkSize-r.s.bytesToTrim:r.s.options.end&&h<t.data.byteLength&&(l=h),(u!=null||l!=null)&&(o=o.slice(u||0,l||o.byteLength)),r.push(o)};r.s.cursor.next().then(e=>A({error:null,doc:e}),e=>A({error:e,doc:null}))}function DP(r){const A={};r.s.readPreference&&(A.readPreference=r.s.readPreference),r.s.options&&r.s.options.sort&&(A.sort=r.s.options.sort),r.s.options&&r.s.options.skip&&(A.skip=r.s.options.skip);const e=({error:t,doc:i})=>{if(t)return r.destroy(t);if(!i){const o=`FileNotFound: file ${r.s.filter._id?r.s.filter._id.toString():r.s.filter.filename} was not found`,u=new or.MongoRuntimeError(o);return u.code="ENOENT",r.destroy(u)}if(i.length<=0){r.push(null);return}if(r.destroyed){r.destroy();return}try{r.s.bytesToSkip=OP(r,i,r.s.options)}catch(s){return r.destroy(s)}const n={files_id:i._id};if(r.s.options&&r.s.options.start!=null){const s=Math.floor(r.s.options.start/i.chunkSize);s>0&&(n.n={$gte:s})}r.s.cursor=r.s.chunks.find(n).sort({n:1}),r.s.readPreference&&r.s.cursor.withReadPreference(r.s.readPreference),r.s.expectedEnd=Math.ceil(i.length/i.chunkSize),r.s.file=i;try{r.s.bytesToTrim=MP(r,i,r.s.cursor,r.s.options)}catch(s){return r.destroy(s)}r.emit(Ep.FILE,i)};r.s.files.findOne(r.s.filter,A).then(t=>e({error:null,doc:t}),t=>e({error:t,doc:null}))}function xP(r,A){if(r.s.file)return A();r.s.init||(DP(r),r.s.init=!0),r.once("file",()=>{A()})}function OP(r,A,e){if(e&&e.start!=null){if(e.start>A.length)throw new or.MongoInvalidArgumentError(`Stream start (${e.start}) must not be more than the length of the file (${A.length})`);if(e.start<0)throw new or.MongoInvalidArgumentError(`Stream start (${e.start}) must not be negative`);if(e.end!=null&&e.end<e.start)throw new or.MongoInvalidArgumentError(`Stream start (${e.start}) must not be greater than stream end (${e.end})`);return r.s.bytesRead=Math.floor(e.start/A.chunkSize)*A.chunkSize,r.s.expected=Math.floor(e.start/A.chunkSize),e.start-r.s.bytesRead}throw new or.MongoInvalidArgumentError("Start option must be defined")}function MP(r,A,e,t){if(t&&t.end!=null){if(t.end>A.length)throw new or.MongoInvalidArgumentError(`Stream end (${t.end}) must not be more than the length of the file (${A.length})`);if(t.start==null||t.start<0)throw new or.MongoInvalidArgumentError(`Stream end (${t.end}) must not be negative`);const i=t.start!=null?Math.floor(t.start/A.chunkSize):0;return e.limit(Math.ceil(t.end/A.chunkSize)-i),r.s.expectedEnd=Math.ceil(t.end/A.chunkSize),Math.ceil(t.end/A.chunkSize)*A.chunkSize-t.end}throw new or.MongoInvalidArgumentError("End option must be defined")}var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.GridFSBucketWriteStream=void 0;const RP=zA,f_=Ce,$s=_A,PP=at;class FP extends RP.Writable{constructor(A,e,t){super(),this.gridFSFile=null,t=t??{},this.bucket=A,this.chunks=A.s._chunksCollection,this.filename=e,this.files=A.s._filesCollection,this.options=t,this.writeConcern=PP.WriteConcern.fromOptions(t)||A.s.options.writeConcern,this.done=!1,this.id=t.id?t.id:new f_.ObjectId,this.chunkSizeBytes=t.chunkSizeBytes||this.bucket.s.options.chunkSizeBytes,this.bufToStore=Buffer.alloc(this.chunkSizeBytes),this.length=0,this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1},this.bucket.s.calledOpenUploadStream||(this.bucket.s.calledOpenUploadStream=!0,LP(this).then(()=>{this.bucket.s.checkedIndexes=!0,this.bucket.emit("index")},()=>null))}_construct(A){if(this.bucket.s.checkedIndexes)return process.nextTick(A);this.bucket.once("index",A)}_write(A,e,t){kP(this,A,e,t)}_final(A){if(this.state.streamEnd)return process.nextTick(A);this.state.streamEnd=!0,zP(this,A)}async abort(){if(this.state.streamEnd)throw new $s.MongoAPIError("Cannot abort a stream that has already completed");if(this.state.aborted)throw new $s.MongoAPIError("Cannot call abort() on a stream twice");this.state.aborted=!0,await this.chunks.deleteMany({files_id:this.id})}}Vu.GridFSBucketWriteStream=FP;function Cp(r,A,e){if(r.state.errored){process.nextTick(e);return}r.state.errored=!0,process.nextTick(e,A)}function p_(r,A,e){return{_id:new f_.ObjectId,files_id:r,n:A,data:e}}async function NP(r){const A={files_id:1,n:1};let e;try{e=await r.chunks.listIndexes().toArray()}catch(i){if(i instanceof $s.MongoError&&i.code===$s.MONGODB_ERROR_CODES.NamespaceNotFound)e=[];else throw i}!!e.find(i=>Object.keys(i.key).length===2&&i.key.files_id===1&&i.key.n===1)||await r.chunks.createIndex(A,{...r.writeConcern,background:!0,unique:!0})}function Lf(r,A){if(r.done)return process.nextTick(A);if(r.state.streamEnd&&r.state.outstandingRequests===0&&!r.state.errored){r.done=!0;const e=UP(r.id,r.length,r.chunkSizeBytes,r.filename,r.options.contentType,r.options.aliases,r.options.metadata);if(Fc(r,A))return;r.files.insertOne(e,{writeConcern:r.writeConcern}).then(()=>{r.gridFSFile=e,A()},t=>Cp(r,t,A));return}process.nextTick(A)}async function LP(r){if(await r.files.findOne({},{projection:{_id:1}})!=null)return;const e={filename:1,uploadDate:1};let t;try{t=await r.files.listIndexes().toArray()}catch(n){if(n instanceof $s.MongoError&&n.code===$s.MONGODB_ERROR_CODES.NamespaceNotFound)t=[];else throw n}!!t.find(n=>Object.keys(n.key).length===2&&n.key.filename===1&&n.key.uploadDate===1)||await r.files.createIndex(e,{background:!1}),await NP(r)}function UP(r,A,e,t,i,n,s){const o={_id:r,length:A,chunkSize:e,uploadDate:new Date,filename:t};return i&&(o.contentType=i),n&&(o.aliases=n),s&&(o.metadata=s),o}function kP(r,A,e,t){if(Fc(r,t))return;const i=Buffer.isBuffer(A)?A:Buffer.from(A,e);if(r.length+=i.length,r.pos+i.length<r.chunkSizeBytes){i.copy(r.bufToStore,r.pos),r.pos+=i.length,process.nextTick(t);return}let n=i.length,s=r.chunkSizeBytes-r.pos,o=Math.min(s,i.length),u=0;for(;n>0;){const l=i.length-n;i.copy(r.bufToStore,r.pos,l,l+o),r.pos+=o,s-=o;let c;if(s===0){if(c=p_(r.id,r.n,Buffer.from(r.bufToStore)),++r.state.outstandingRequests,++u,Fc(r,t))return;r.chunks.insertOne(c,{writeConcern:r.writeConcern}).then(()=>{--r.state.outstandingRequests,--u,u||Lf(r,t)},h=>Cp(r,h,t)),s=r.chunkSizeBytes,r.pos=0,++r.n}n-=o,o=Math.min(s,n)}}function zP(r,A){if(r.pos===0)return Lf(r,A);++r.state.outstandingRequests;const e=Buffer.alloc(r.pos);r.bufToStore.copy(e,0,0,r.pos);const t=p_(r.id,r.n,e);Fc(r,A)||r.chunks.insertOne(t,{writeConcern:r.writeConcern}).then(()=>{--r.state.outstandingRequests,Lf(r,A)},i=>Cp(r,i,A))}function Fc(r,A){return r.state.aborted?(process.nextTick(A,new $s.MongoAPIError("Stream has been aborted")),!0):!1}Object.defineProperty(ah,"__esModule",{value:!0});ah.GridFSBucket=void 0;const zm=_A,GP=pt,VP=at,Gm=Gu,Vm=Vu,QP={bucketName:"fs",chunkSizeBytes:255*1024};class g_ extends GP.TypedEventEmitter{constructor(A,e){super(),this.setMaxListeners(0);const t={...QP,...e,writeConcern:VP.WriteConcern.fromOptions(e)};this.s={db:A,options:t,_chunksCollection:A.collection(t.bucketName+".chunks"),_filesCollection:A.collection(t.bucketName+".files"),checkedIndexes:!1,calledOpenUploadStream:!1}}openUploadStream(A,e){return new Vm.GridFSBucketWriteStream(this,A,e)}openUploadStreamWithId(A,e,t){return new Vm.GridFSBucketWriteStream(this,e,{...t,id:A})}openDownloadStream(A,e){return new Gm.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:A},e)}async delete(A){const{deletedCount:e}=await this.s._filesCollection.deleteOne({_id:A});if(await this.s._chunksCollection.deleteMany({files_id:A}),e===0)throw new zm.MongoRuntimeError(`File not found for id ${A}`)}find(A={},e={}){return this.s._filesCollection.find(A,e)}openDownloadStreamByName(A,e){let t={uploadDate:-1},i;return e&&e.revision!=null&&(e.revision>=0?(t={uploadDate:1},i=e.revision):i=-e.revision-1),new Gm.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:A},{...e,sort:t,skip:i})}async rename(A,e){const t={_id:A},i={$set:{filename:e}},{matchedCount:n}=await this.s._filesCollection.updateOne(t,i);if(n===0)throw new zm.MongoRuntimeError(`File with id ${A} not found`)}async drop(){await this.s._filesCollection.drop(),await this.s._chunksCollection.drop()}}g_.INDEX="index";ah.GridFSBucket=g_;var uh={};Object.defineProperty(uh,"__esModule",{value:!0});uh.ClientEncryption=void 0;const ui=Ce,HP=ni,gn=PA,jP=Se,us=$e,WP=js,hl=ku;class Nc{static getMongoCrypt(){const A=(0,HP.getMongoDBClientEncryption)();if("kModuleError"in A)throw A.kModuleError;return A.MongoCrypt}constructor(A,e){if(this._client=A,this._proxyOptions=e.proxyOptions??{},this._tlsOptions=e.tlsOptions??{},this._kmsProviders=e.kmsProviders||{},e.keyVaultNamespace==null)throw new us.MongoCryptInvalidArgumentError("Missing required option `keyVaultNamespace`");const t={...e,cryptoCallbacks:jP,kmsProviders:Buffer.isBuffer(this._kmsProviders)?this._kmsProviders:(0,ui.serialize)(this._kmsProviders)};this._keyVaultNamespace=e.keyVaultNamespace,this._keyVaultClient=e.keyVaultClient||A;const i=Nc.getMongoCrypt();this._mongoCrypt=new i(t)}async createDataKey(A,e={}){if(e.keyAltNames&&!Array.isArray(e.keyAltNames))throw new us.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but was of type ${typeof e.keyAltNames}.`);let t;e.keyAltNames&&e.keyAltNames.length>0&&(t=e.keyAltNames.map((d,f)=>{if(typeof d!="string")throw new us.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but item at index ${f} was of type ${typeof d}`);return(0,ui.serialize)({keyAltName:d})}));let i;e.keyMaterial&&(i=(0,ui.serialize)({keyMaterial:e.keyMaterial}));const n=(0,ui.serialize)({provider:A,...e.masterKey}),s=this._mongoCrypt.makeDataKeyContext(n,{keyAltNames:t,keyMaterial:i}),u=await new hl.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,s),{db:l,collection:c}=gn.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),{insertedId:h}=await this._keyVaultClient.db(l).collection(c).insertOne(u,{writeConcern:{w:"majority"}});return h}async rewrapManyDataKey(A,e){let t;if(e){const d=Object.assign({provider:e.provider},e.masterKey);t=(0,ui.serialize)(d)}const i=(0,ui.serialize)(A),n=this._mongoCrypt.makeRewrapManyDataKeyContext(i,t),s=new hl.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:o}=await s.execute(this,n);if(o.length===0)return{};const{db:u,collection:l}=gn.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),c=o.map(d=>({updateOne:{filter:{_id:d._id},update:{$set:{masterKey:d.masterKey,keyMaterial:d.keyMaterial},$currentDate:{updateDate:!0}}}}));return{bulkWriteResult:await this._keyVaultClient.db(u).collection(l).bulkWrite(c,{writeConcern:{w:"majority"}})}}async deleteKey(A){const{db:e,collection:t}=gn.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(e).collection(t).deleteOne({_id:A},{writeConcern:{w:"majority"}})}getKeys(){const{db:A,collection:e}=gn.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(A).collection(e).find({},{readConcern:{level:"majority"}})}async getKey(A){const{db:e,collection:t}=gn.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(e).collection(t).findOne({_id:A},{readConcern:{level:"majority"}})}async getKeyByAltName(A){const{db:e,collection:t}=gn.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(e).collection(t).findOne({keyAltNames:A},{readConcern:{level:"majority"}})}async addKeyAltName(A,e){const{db:t,collection:i}=gn.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(t).collection(i).findOneAndUpdate({_id:A},{$addToSet:{keyAltNames:e}},{writeConcern:{w:"majority"},returnDocument:"before"})}async removeKeyAltName(A,e){const{db:t,collection:i}=gn.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),n=[{$set:{keyAltNames:{$cond:[{$eq:["$keyAltNames",[e]]},"$$REMOVE",{$filter:{input:"$keyAltNames",cond:{$ne:["$$this",e]}}}]}}}];return await this._keyVaultClient.db(t).collection(i).findOneAndUpdate({_id:A},n,{writeConcern:{w:"majority"},returnDocument:"before"})}async createEncryptedCollection(A,e,t){const{provider:i,masterKey:n,createCollectionOptions:{encryptedFields:{...s},...o}}=t;if(Array.isArray(s.fields)){const u=s.fields.map(async h=>h==null||typeof h!="object"||h.keyId!=null?h:{...h,keyId:await this.createDataKey(i,{masterKey:n})}),l=await Promise.allSettled(u);s.fields=l.map((h,d)=>h.status==="fulfilled"?h.value:s.fields[d]);const c=l.find(h=>h.status==="rejected");if(c!=null)throw new us.MongoCryptCreateDataKeyError(s,{cause:c.reason})}try{return{collection:await A.createCollection(e,{...o,encryptedFields:s}),encryptedFields:s}}catch(u){throw new us.MongoCryptCreateEncryptedCollectionError(s,{cause:u})}}async encrypt(A,e){return this._encrypt(A,!1,e)}async encryptExpression(A,e){return this._encrypt(A,!0,e)}async decrypt(A){const e=(0,ui.serialize)({v:A}),t=this._mongoCrypt.makeExplicitDecryptionContext(e),i=new hl.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:n}=await i.execute(this,t);return n}async askForKMSCredentials(){return(0,WP.refreshKMSCredentials)(this._kmsProviders)}static get libmongocryptVersion(){return Nc.getMongoCrypt().libmongocryptVersion}async _encrypt(A,e,t){const{algorithm:i,keyId:n,keyAltName:s,contentionFactor:o,queryType:u,rangeOptions:l}=t,c={expressionMode:e,algorithm:i};if(n&&(c.keyId=n.buffer),s){if(n)throw new us.MongoCryptInvalidArgumentError('"options" cannot contain both "keyId" and "keyAltName"');if(typeof s!="string")throw new us.MongoCryptInvalidArgumentError(`"options.keyAltName" must be of type string, but was of type ${typeof s}`);c.keyAltName=(0,ui.serialize)({keyAltName:s})}(typeof o=="number"||typeof o=="bigint")&&(c.contentionFactor=o),typeof u=="string"&&(c.queryType=u),typeof l=="object"&&(c.rangeOptions=(0,ui.serialize)(l));const h=(0,ui.serialize)({v:A}),d=new hl.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),f=this._mongoCrypt.makeExplicitEncryptionContext(h,c);return(await d.execute(this,f)).v}}uh.ClientEncryption=Nc;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.MongoUnexpectedServerResponseError=r.MongoTransactionError=r.MongoTopologyClosedError=r.MongoTailableCursorError=r.MongoSystemError=r.MongoServerSelectionError=r.MongoServerError=r.MongoServerClosedError=r.MongoRuntimeError=r.MongoParseError=r.MongoNotConnectedError=r.MongoNetworkTimeoutError=r.MongoNetworkError=r.MongoMissingDependencyError=r.MongoMissingCredentialsError=r.MongoKerberosError=r.MongoInvalidArgumentError=r.MongoGridFSStreamError=r.MongoGridFSChunkError=r.MongoExpiredSessionError=r.MongoError=r.MongoDriverError=r.MongoDecompressionError=r.MongoCursorInUseError=r.MongoCursorExhaustedError=r.MongoCompatibilityError=r.MongoChangeStreamError=r.MongoBatchReExecutionError=r.MongoAzureError=r.MongoAWSError=r.MongoAPIError=r.ChangeStreamCursor=r.ClientEncryption=r.MongoBulkWriteError=r.UUID=r.Timestamp=r.ObjectId=r.MinKey=r.MaxKey=r.Long=r.Int32=r.Double=r.Decimal128=r.DBRef=r.Code=r.BSONType=r.BSONSymbol=r.BSONRegExp=r.Binary=r.BSON=void 0,r.ConnectionPoolReadyEvent=r.ConnectionPoolMonitoringEvent=r.ConnectionPoolCreatedEvent=r.ConnectionPoolClosedEvent=r.ConnectionPoolClearedEvent=r.ConnectionCreatedEvent=r.ConnectionClosedEvent=r.ConnectionCheckOutStartedEvent=r.ConnectionCheckOutFailedEvent=r.ConnectionCheckedOutEvent=r.ConnectionCheckedInEvent=r.CommandSucceededEvent=r.CommandStartedEvent=r.CommandFailedEvent=r.WriteConcern=r.ReadPreference=r.ReadConcern=r.TopologyType=r.ServerType=r.ReadPreferenceMode=r.ReadConcernLevel=r.ProfilingLevel=r.ReturnDocument=r.ServerApiVersion=r.ExplainVerbosity=r.MongoErrorLabel=r.CURSOR_FLAGS=r.Compressor=r.AuthMechanism=r.GSSAPICanonicalizationValue=r.AutoEncryptionLoggerLevel=r.BatchType=r.UnorderedBulkOperation=r.OrderedBulkOperation=r.MongoClient=r.ListIndexesCursor=r.ListCollectionsCursor=r.GridFSBucketWriteStream=r.GridFSBucketReadStream=r.GridFSBucket=r.FindCursor=r.Db=r.Collection=r.ClientSession=r.ChangeStream=r.CancellationToken=r.AggregationCursor=r.Admin=r.AbstractCursor=r.MongoWriteConcernError=void 0,r.MongoCryptKMSRequestNetworkTimeoutError=r.MongoCryptInvalidArgumentError=r.MongoCryptError=r.MongoCryptCreateEncryptedCollectionError=r.MongoCryptCreateDataKeyError=r.MongoCryptAzureKMSRequestError=r.SrvPollingEvent=r.TopologyOpeningEvent=r.TopologyDescriptionChangedEvent=r.TopologyClosedEvent=r.ServerOpeningEvent=r.ServerHeartbeatSucceededEvent=r.ServerHeartbeatStartedEvent=r.ServerHeartbeatFailedEvent=r.ServerDescriptionChangedEvent=r.ServerClosedEvent=r.ConnectionReadyEvent=void 0;const A=Eu;Object.defineProperty(r,"Admin",{enumerable:!0,get:function(){return A.Admin}});const e=vu;Object.defineProperty(r,"OrderedBulkOperation",{enumerable:!0,get:function(){return e.OrderedBulkOperation}});const t=Tu;Object.defineProperty(r,"UnorderedBulkOperation",{enumerable:!0,get:function(){return t.UnorderedBulkOperation}});const i=zu();Object.defineProperty(r,"ChangeStream",{enumerable:!0,get:function(){return i.ChangeStream}});const n=ca();Object.defineProperty(r,"Collection",{enumerable:!0,get:function(){return n.Collection}});const s=nn;Object.defineProperty(r,"AbstractCursor",{enumerable:!0,get:function(){return s.AbstractCursor}});const o=so;Object.defineProperty(r,"AggregationCursor",{enumerable:!0,get:function(){return o.AggregationCursor}});const u=Qs;Object.defineProperty(r,"FindCursor",{enumerable:!0,get:function(){return u.FindCursor}});const l=Fu;Object.defineProperty(r,"ListCollectionsCursor",{enumerable:!0,get:function(){return l.ListCollectionsCursor}});const c=Pu;Object.defineProperty(r,"ListIndexesCursor",{enumerable:!0,get:function(){return c.ListIndexesCursor}});const h=Ap();Object.defineProperty(r,"Db",{enumerable:!0,get:function(){return h.Db}});const d=ah;Object.defineProperty(r,"GridFSBucket",{enumerable:!0,get:function(){return d.GridFSBucket}});const f=Gu;Object.defineProperty(r,"GridFSBucketReadStream",{enumerable:!0,get:function(){return f.GridFSBucketReadStream}});const p=Vu;Object.defineProperty(r,"GridFSBucketWriteStream",{enumerable:!0,get:function(){return p.GridFSBucketWriteStream}});const y=sa();Object.defineProperty(r,"MongoClient",{enumerable:!0,get:function(){return y.MongoClient}});const _=pt;Object.defineProperty(r,"CancellationToken",{enumerable:!0,get:function(){return _.CancellationToken}});const g=ht;Object.defineProperty(r,"ClientSession",{enumerable:!0,get:function(){return g.ClientSession}});var m=Ce;Object.defineProperty(r,"BSON",{enumerable:!0,get:function(){return m.BSON}});var E=Ce;Object.defineProperty(r,"Binary",{enumerable:!0,get:function(){return E.Binary}}),Object.defineProperty(r,"BSONRegExp",{enumerable:!0,get:function(){return E.BSONRegExp}}),Object.defineProperty(r,"BSONSymbol",{enumerable:!0,get:function(){return E.BSONSymbol}}),Object.defineProperty(r,"BSONType",{enumerable:!0,get:function(){return E.BSONType}}),Object.defineProperty(r,"Code",{enumerable:!0,get:function(){return E.Code}}),Object.defineProperty(r,"DBRef",{enumerable:!0,get:function(){return E.DBRef}}),Object.defineProperty(r,"Decimal128",{enumerable:!0,get:function(){return E.Decimal128}}),Object.defineProperty(r,"Double",{enumerable:!0,get:function(){return E.Double}}),Object.defineProperty(r,"Int32",{enumerable:!0,get:function(){return E.Int32}}),Object.defineProperty(r,"Long",{enumerable:!0,get:function(){return E.Long}}),Object.defineProperty(r,"MaxKey",{enumerable:!0,get:function(){return E.MaxKey}}),Object.defineProperty(r,"MinKey",{enumerable:!0,get:function(){return E.MinKey}}),Object.defineProperty(r,"ObjectId",{enumerable:!0,get:function(){return E.ObjectId}}),Object.defineProperty(r,"Timestamp",{enumerable:!0,get:function(){return E.Timestamp}}),Object.defineProperty(r,"UUID",{enumerable:!0,get:function(){return E.UUID}});var w=cu;Object.defineProperty(r,"MongoBulkWriteError",{enumerable:!0,get:function(){return w.MongoBulkWriteError}});var L=uh;Object.defineProperty(r,"ClientEncryption",{enumerable:!0,get:function(){return L.ClientEncryption}});var T=XE();Object.defineProperty(r,"ChangeStreamCursor",{enumerable:!0,get:function(){return T.ChangeStreamCursor}});var R=_A;Object.defineProperty(r,"MongoAPIError",{enumerable:!0,get:function(){return R.MongoAPIError}}),Object.defineProperty(r,"MongoAWSError",{enumerable:!0,get:function(){return R.MongoAWSError}}),Object.defineProperty(r,"MongoAzureError",{enumerable:!0,get:function(){return R.MongoAzureError}}),Object.defineProperty(r,"MongoBatchReExecutionError",{enumerable:!0,get:function(){return R.MongoBatchReExecutionError}}),Object.defineProperty(r,"MongoChangeStreamError",{enumerable:!0,get:function(){return R.MongoChangeStreamError}}),Object.defineProperty(r,"MongoCompatibilityError",{enumerable:!0,get:function(){return R.MongoCompatibilityError}}),Object.defineProperty(r,"MongoCursorExhaustedError",{enumerable:!0,get:function(){return R.MongoCursorExhaustedError}}),Object.defineProperty(r,"MongoCursorInUseError",{enumerable:!0,get:function(){return R.MongoCursorInUseError}}),Object.defineProperty(r,"MongoDecompressionError",{enumerable:!0,get:function(){return R.MongoDecompressionError}}),Object.defineProperty(r,"MongoDriverError",{enumerable:!0,get:function(){return R.MongoDriverError}}),Object.defineProperty(r,"MongoError",{enumerable:!0,get:function(){return R.MongoError}}),Object.defineProperty(r,"MongoExpiredSessionError",{enumerable:!0,get:function(){return R.MongoExpiredSessionError}}),Object.defineProperty(r,"MongoGridFSChunkError",{enumerable:!0,get:function(){return R.MongoGridFSChunkError}}),Object.defineProperty(r,"MongoGridFSStreamError",{enumerable:!0,get:function(){return R.MongoGridFSStreamError}}),Object.defineProperty(r,"MongoInvalidArgumentError",{enumerable:!0,get:function(){return R.MongoInvalidArgumentError}}),Object.defineProperty(r,"MongoKerberosError",{enumerable:!0,get:function(){return R.MongoKerberosError}}),Object.defineProperty(r,"MongoMissingCredentialsError",{enumerable:!0,get:function(){return R.MongoMissingCredentialsError}}),Object.defineProperty(r,"MongoMissingDependencyError",{enumerable:!0,get:function(){return R.MongoMissingDependencyError}}),Object.defineProperty(r,"MongoNetworkError",{enumerable:!0,get:function(){return R.MongoNetworkError}}),Object.defineProperty(r,"MongoNetworkTimeoutError",{enumerable:!0,get:function(){return R.MongoNetworkTimeoutError}}),Object.defineProperty(r,"MongoNotConnectedError",{enumerable:!0,get:function(){return R.MongoNotConnectedError}}),Object.defineProperty(r,"MongoParseError",{enumerable:!0,get:function(){return R.MongoParseError}}),Object.defineProperty(r,"MongoRuntimeError",{enumerable:!0,get:function(){return R.MongoRuntimeError}}),Object.defineProperty(r,"MongoServerClosedError",{enumerable:!0,get:function(){return R.MongoServerClosedError}}),Object.defineProperty(r,"MongoServerError",{enumerable:!0,get:function(){return R.MongoServerError}}),Object.defineProperty(r,"MongoServerSelectionError",{enumerable:!0,get:function(){return R.MongoServerSelectionError}}),Object.defineProperty(r,"MongoSystemError",{enumerable:!0,get:function(){return R.MongoSystemError}}),Object.defineProperty(r,"MongoTailableCursorError",{enumerable:!0,get:function(){return R.MongoTailableCursorError}}),Object.defineProperty(r,"MongoTopologyClosedError",{enumerable:!0,get:function(){return R.MongoTopologyClosedError}}),Object.defineProperty(r,"MongoTransactionError",{enumerable:!0,get:function(){return R.MongoTransactionError}}),Object.defineProperty(r,"MongoUnexpectedServerResponseError",{enumerable:!0,get:function(){return R.MongoUnexpectedServerResponseError}}),Object.defineProperty(r,"MongoWriteConcernError",{enumerable:!0,get:function(){return R.MongoWriteConcernError}});var P=cu;Object.defineProperty(r,"BatchType",{enumerable:!0,get:function(){return P.BatchType}});var F=NC();Object.defineProperty(r,"AutoEncryptionLoggerLevel",{enumerable:!0,get:function(){return F.AutoEncryptionLoggerLevel}});var H=z1;Object.defineProperty(r,"GSSAPICanonicalizationValue",{enumerable:!0,get:function(){return H.GSSAPICanonicalizationValue}});var M=Mi;Object.defineProperty(r,"AuthMechanism",{enumerable:!0,get:function(){return M.AuthMechanism}});var b=Nu();Object.defineProperty(r,"Compressor",{enumerable:!0,get:function(){return b.Compressor}});var v=nn;Object.defineProperty(r,"CURSOR_FLAGS",{enumerable:!0,get:function(){return v.CURSOR_FLAGS}});var C=_A;Object.defineProperty(r,"MongoErrorLabel",{enumerable:!0,get:function(){return C.MongoErrorLabel}});var x=x0;Object.defineProperty(r,"ExplainVerbosity",{enumerable:!0,get:function(){return x.ExplainVerbosity}});var S=sa();Object.defineProperty(r,"ServerApiVersion",{enumerable:!0,get:function(){return S.ServerApiVersion}});var B=X0;Object.defineProperty(r,"ReturnDocument",{enumerable:!0,get:function(){return B.ReturnDocument}});var D=Z0;Object.defineProperty(r,"ProfilingLevel",{enumerable:!0,get:function(){return D.ProfilingLevel}});var Q=Mr;Object.defineProperty(r,"ReadConcernLevel",{enumerable:!0,get:function(){return Q.ReadConcernLevel}});var Z=Ke;Object.defineProperty(r,"ReadPreferenceMode",{enumerable:!0,get:function(){return Z.ReadPreferenceMode}});var AA=ge;Object.defineProperty(r,"ServerType",{enumerable:!0,get:function(){return AA.ServerType}}),Object.defineProperty(r,"TopologyType",{enumerable:!0,get:function(){return AA.TopologyType}});var Y=Mr;Object.defineProperty(r,"ReadConcern",{enumerable:!0,get:function(){return Y.ReadConcern}});var G=Ke;Object.defineProperty(r,"ReadPreference",{enumerable:!0,get:function(){return G.ReadPreference}});var X=at;Object.defineProperty(r,"WriteConcern",{enumerable:!0,get:function(){return X.WriteConcern}});var nA=yp;Object.defineProperty(r,"CommandFailedEvent",{enumerable:!0,get:function(){return nA.CommandFailedEvent}}),Object.defineProperty(r,"CommandStartedEvent",{enumerable:!0,get:function(){return nA.CommandStartedEvent}}),Object.defineProperty(r,"CommandSucceededEvent",{enumerable:!0,get:function(){return nA.CommandSucceededEvent}});var lA=me;Object.defineProperty(r,"ConnectionCheckedInEvent",{enumerable:!0,get:function(){return lA.ConnectionCheckedInEvent}}),Object.defineProperty(r,"ConnectionCheckedOutEvent",{enumerable:!0,get:function(){return lA.ConnectionCheckedOutEvent}}),Object.defineProperty(r,"ConnectionCheckOutFailedEvent",{enumerable:!0,get:function(){return lA.ConnectionCheckOutFailedEvent}}),Object.defineProperty(r,"ConnectionCheckOutStartedEvent",{enumerable:!0,get:function(){return lA.ConnectionCheckOutStartedEvent}}),Object.defineProperty(r,"ConnectionClosedEvent",{enumerable:!0,get:function(){return lA.ConnectionClosedEvent}}),Object.defineProperty(r,"ConnectionCreatedEvent",{enumerable:!0,get:function(){return lA.ConnectionCreatedEvent}}),Object.defineProperty(r,"ConnectionPoolClearedEvent",{enumerable:!0,get:function(){return lA.ConnectionPoolClearedEvent}}),Object.defineProperty(r,"ConnectionPoolClosedEvent",{enumerable:!0,get:function(){return lA.ConnectionPoolClosedEvent}}),Object.defineProperty(r,"ConnectionPoolCreatedEvent",{enumerable:!0,get:function(){return lA.ConnectionPoolCreatedEvent}}),Object.defineProperty(r,"ConnectionPoolMonitoringEvent",{enumerable:!0,get:function(){return lA.ConnectionPoolMonitoringEvent}}),Object.defineProperty(r,"ConnectionPoolReadyEvent",{enumerable:!0,get:function(){return lA.ConnectionPoolReadyEvent}}),Object.defineProperty(r,"ConnectionReadyEvent",{enumerable:!0,get:function(){return lA.ConnectionReadyEvent}});var vA=Me;Object.defineProperty(r,"ServerClosedEvent",{enumerable:!0,get:function(){return vA.ServerClosedEvent}}),Object.defineProperty(r,"ServerDescriptionChangedEvent",{enumerable:!0,get:function(){return vA.ServerDescriptionChangedEvent}}),Object.defineProperty(r,"ServerHeartbeatFailedEvent",{enumerable:!0,get:function(){return vA.ServerHeartbeatFailedEvent}}),Object.defineProperty(r,"ServerHeartbeatStartedEvent",{enumerable:!0,get:function(){return vA.ServerHeartbeatStartedEvent}}),Object.defineProperty(r,"ServerHeartbeatSucceededEvent",{enumerable:!0,get:function(){return vA.ServerHeartbeatSucceededEvent}}),Object.defineProperty(r,"ServerOpeningEvent",{enumerable:!0,get:function(){return vA.ServerOpeningEvent}}),Object.defineProperty(r,"TopologyClosedEvent",{enumerable:!0,get:function(){return vA.TopologyClosedEvent}}),Object.defineProperty(r,"TopologyDescriptionChangedEvent",{enumerable:!0,get:function(){return vA.TopologyDescriptionChangedEvent}}),Object.defineProperty(r,"TopologyOpeningEvent",{enumerable:!0,get:function(){return vA.TopologyOpeningEvent}});var BA=Ys;Object.defineProperty(r,"SrvPollingEvent",{enumerable:!0,get:function(){return BA.SrvPollingEvent}});var bA=$e;Object.defineProperty(r,"MongoCryptAzureKMSRequestError",{enumerable:!0,get:function(){return bA.MongoCryptAzureKMSRequestError}}),Object.defineProperty(r,"MongoCryptCreateDataKeyError",{enumerable:!0,get:function(){return bA.MongoCryptCreateDataKeyError}}),Object.defineProperty(r,"MongoCryptCreateEncryptedCollectionError",{enumerable:!0,get:function(){return bA.MongoCryptCreateEncryptedCollectionError}}),Object.defineProperty(r,"MongoCryptError",{enumerable:!0,get:function(){return bA.MongoCryptError}}),Object.defineProperty(r,"MongoCryptInvalidArgumentError",{enumerable:!0,get:function(){return bA.MongoCryptInvalidArgumentError}}),Object.defineProperty(r,"MongoCryptKMSRequestNetworkTimeoutError",{enumerable:!0,get:function(){return bA.MongoCryptKMSRequestNetworkTimeoutError}})})(Ef);const Tn=class Tn{constructor({skyColor:A=new fA(200,200,200)}={}){this._skyColor=A,this.sky=null,this.scene=null,this.view=null,this.camera=null,this.objects=new Set,this.revObjects=new Map,this._selected=new Set,this.models=new Map,this.ids=new Map,this._cameraController=null,this._events=new Sy,this._ctrlPressed=!1,this.moveInterval=30,this.depth=0,this.lastX=-1,this.lastY=-1,this.ObjectToMove=void 0,this.canMove=!1,this._dragMult=200,this.count=0,this._mqttHandler=new yf({mgr:this,server:!1})}async init(){K.setting.pick.enable=!0,K.setting.pick.mode="pixel",this.targetObj=null,this.matList=[],await K.init();const A=K.inputSystem.canvas;A.remove(),document.querySelector("body").prepend(A),A.width=window.innerWidth,A.height=window.innerHeight,this.scene=new hB,this.scene.envMap=new Wg(this._skyColor);let e=new de,t=e.addComponent(n0);this.camera=e,this.cam=t,this._cameraController=this.camera.addComponent(VI),this._cameraController.smooth=0,this._cameraController.panFactor=.01,this._cameraController.wheelStep=.01,e.localPosition=new I(0,0,4),this.cam.perspective(60,A.width/A.height,.1,5e3),this.scene.addChild(e),this.view=new yB,this.view.scene=this.scene,this.view.camera=this.cam;const i=[],n=Object.keys(Tn.MODELS).length;let s=0;for(const l of Object.keys(Tn.MODELS)){const c=K.res.loadGltf(Tn.MODELS[l]);i.push(c),c.then(h=>{this.models.set(l,h),s++;let d=0;n!==0&&(d=s/n),this.events.do("load_models",d)})}await Promise.all(i),this.createNewObject({pos:new I,select:!1}),this.view.camera=this.cam;let o=this.createNewObject({model:"floor",pos:new I(0,1,0),select:!1});for(o.scaleX=.01,o.scaleY=.01,o.scaleZ=.01,o.rotationY=90,o.transform.localPosition=new I(0,-2,0),s=0;s<3;s++){let l=this.createNewObject({model:"lathe",select:!1});l.scaleX=3,l.scaleY=3,l.scaleZ=3}for(this.createNewObject({model:"ladder",select:!1}),s=0;s<3;s++){let l=this.createNewObject({model:"forklift",select:!1});l.scaleX=1.3,l.scaleY=1.3,l.scaleZ=1.3}for(s=0;s<2;s++){let l=this.createNewObject({model:"picaMachine",select:!1});l.scaleX=.2,l.scaleY=.2,l.scaleZ=.2}for(s=0;s<3;s++){let l=this.createNewObject({model:"robot",select:!1});l.scaleX=.04,l.scaleY=.04,l.scaleZ=.04}let u=this.createNewObject({model:"bin",select:!1});for(u.scaleX=.06,u.scaleY=.06,u.scaleZ=.06,u.rotationX=90,s=0;s<3;s++){let l=this.createNewObject({model:"tank",select:!1});l.scaleX=.025,l.scaleY=.025,l.scaleZ=.025}for(s=0;s<3;s++){let l=this.createNewObject({model:"boiler",select:!1});l.rotationX=-90}for(s=0;s<1;s++){let l=this.createNewObject({model:"roboticArm",select:!1});l.scaleX=2.5,l.scaleY=2.5,l.scaleZ=2.5}for(const l of Object.keys(Tn.MODELS)){const c=await K.res.loadGltf(Tn.MODELS[l]);this.models.set(l,c)}this.createNewObject(new I,!1),document.addEventListener("keydown",l=>{switch(l.key){case"a":{if(!l.ctrlKey||document.querySelector(":focus"))break;l.preventDefault(),this.selectAll();break}case"f":{this.focusOnSelected();break}case"i":{if(!l.ctrlKey)break;l.preventDefault(),this.invertSelection();break}case"p":{this.alert("Temperature above critical threshold.");break}case"r":{l.ctrlKey?(l.preventDefault(),this.resetCamera()):this.createNewObject();break}case"Tab":{if(document.querySelector(":focus"))break;this.clearSelection(),l.preventDefault();break}case"Delete":{this.deleteSelected(),l.preventDefault();break}case"Control":{this._ctrlPressed=!0;break}}}),document.addEventListener("keyup",l=>{l.key==="Control"&&(this._ctrlPressed=!1)}),K.startRenderView(this.view),this.view.pickFire.addEventListener(mA.PICK_CLICK,l=>{this.revObjects.get(l.target).click()},this),this.view.pickFire.addEventListener(mA.PICK_OVER,l=>{this.revObjects.get(l.target).mouseOver()},this),this.view.pickFire.addEventListener(mA.PICK_OUT,l=>{this.revObjects.get(l.target).mouseOff()},this),this.view.pickFire.addEventListener(mA.PICK_DOWN,l=>{this.revObjects.get(l.target).mouseDown()},this),this.createNewObject({model:"dragon",pos:new I(0,0,0)}),this.view.pickFire.addEventListener(mA.PICK_OVER,this._onOver,this),K.inputSystem.addEventListener(mA.POINTER_DOWN,this._onMouseDown,this,null,999),K.inputSystem.addEventListener(mA.POINTER_MOVE,this._onMouseMove,this),K.inputSystem.addEventListener(mA.POINTER_UP,this._onMouseUp,this)}getObjectById(A){return this.ids.has(A)?this.ids.get(A):null}get events(){return this._events}get selectedCount(){return this._selected.size}getCameraForward(){return this.camera===null?new I:this.camera.transform.forward}setSkyColor(A){let e=new Wg(A);this.sky=this.scene.addComponent(DI),this.sky.map=e}startDrag(A){document.body.style.cursor="grabbing"}stopDrag(){document.body.style.cursor="default"}resetCamera(){const A=this._getAllBounds(),e=A.min.add(A.max).div(2);this._cameraController.target=e;const t=Yg.getBoundingBoxScale(A),i=this.camera.transform.localPosition.subtract(e).normalize();this.camera.localPosition=e.add(i.mul(t))}alert(A="",e=""){this.events.do("alert",A,e)}getObjectFromID(A){return this.objects.has(A)?this.objects.get(A):null}getAllObjects(){return Array.from(this.objects.values())}createNewObject({pos:A=null,select:e=!0,model:t=""}={}){A===null&&(A=this.getCameraForward().mul(8).add(this.camera.transform.worldPosition));const i=new c1({manager:this,pos:A,id:this.count.toString(),model:t});return i.getObject3D().name=this.count.toString(),this.count+=1,console.log("Object "+i.getObject3D().name,i),this.addObject(i),e&&(i.select(),this.focusOnSelected()),i.getObject3D()}addObject(A){this.objects.add(A),this.scene.addChild(A.getObject3D()),this.revObjects.set(A.getObject3D(),A),this.events.do("add",A)}removeObject(A){this.objects.delete(A),this.revObjects.delete(A.getObject3D()),this._selected.has(A)&&this.deselect(A),this.events.do("delete",A)}clearObjects(){for(const A of this.objects.values())A.delete()}select(A){this._ctrlPressed?this._selected.has(A)?this._selected.delete(A):this._selected.add(A):(this.clearSelection(),this._selected.add(A)),this.events.do("select",Array.from(this._selected.values())),this.updateSelectBox()}selectAll(){this._selected.clear(),this.objects.forEach(A=>this._selected.add(A)),this.updateSelectBox(),this.events.do("select",this.getSelected())}invertSelection(){const A=new Set(this.objects);A.forEach(e=>{this._selected.has(e)&&A.delete(e)}),this._selected.clear(),this._selected=A,this.updateSelectBox(),this.events.do("select",this.getSelected())}getSelected(){return Array.from(this._selected.values())}getFirstSelected(){return this.selectedCount===0?null:Array.from(this._selected.values())[0]}deselect(A){this._selected.delete(A),this.events.do("select",Array.from(this._selected.values())),this.updateSelectBox()}clearSelection(){this._selected.clear(),this.events.do("select",Array.from(this._selected.values())),this.updateSelectBox()}deleteSelected(){for(const A of this._selected.values())A.delete()}duplicateSelected(A=!0){if(this.selectedCount===0)return;const e=Array.from(this._selected.values());this.clearSelection();for(const t of e){const i=t.duplicate();A&&this._selected.add(i)}A&&(this.updateSelectBox(),this.events.do("select",Array.from(this._selected.values())))}focusOnSelected(){if(this.selectedCount===0)return;const A=this._getSelectedBounds(),e=A.min.add(A.max).div(2);this._cameraController.target=e;const t=Yg.getBoundingBoxScale(A)*2,i=this.camera.transform.localPosition.subtract(e).normalize();this.camera.localPosition=e.add(i.mul(t))}isSelected(A){return this._selected.has(A)}updateSelectBox(){if(this.view.graphic3D.Clear("selection"),this.selectedCount===0)return;const A=this._getSelectedBounds();this.view.graphic3D.drawBox("selection",A.min,A.max)}_getSelectedBounds(){let A=null;for(const e of this._selected.values())A===null?A=e.getBoundingBox():A.merge(e.getBoundingBox());return A===null?new Qe:A}_getAllBounds(){let A=null;for(const e of this.objects.values())A===null?A=e.getBoundingBox():A.merge(e.getBoundingBox());return A===null?new Qe:A}_onOver(A){console.log("onOver: Name-",this.revObjects)}_onOut(A){if(console.log("onOut",A.target.name,A.data.pickInfo),this.targetObj.numChildren>0){let e=this.matList.length-1;this.targetObj.forChild(t=>{if(t.hasComponent(he)){console.log("node",t.name);let i=t.getComponent(he),n=new ks;n.baseColor=fA.COLOR_BLUE,i.material=this.matList[e],e=e-1}})}else{let t=A.target.getComponent(he),i=new ks;i.baseColor=fA.COLOR_RED,t.material=this.mat1}}_onMouseDown(A){if(A.mouseCode===2){this.lastTime=Date.now(),this.canMove=!0;const e=this.cam.screenPointToWorld(A.mouseX,A.mouseY,0);this.lastX=e.x,this.lastY=e.y,this.lastZ=e.z}}_onMouseMove(A){if(this.canMove&&this.ObjectToMove!==void 0){A.stopImmediatePropagation();const e=Date.now();if(e-this.lastTime>this.moveInterval){this.lastTime=e;const t=this.cam.screenPointToWorld(A.mouseX,A.mouseY,0);this.ObjectToMove.setX(this.ObjectToMove.getObject3D().x+(t.x-this.lastX)*this._dragMult),this.ObjectToMove.setY(this.ObjectToMove.getObject3D().y+(t.y-this.lastY)*this._dragMult),this.ObjectToMove.setZ(this.ObjectToMove.getObject3D().z+(t.z-this.lastZ)*this._dragMult),this.lastX=t.x,this.lastY=t.y,this.lastZ=t.z}}}_onMouseUp(A){this.ObjectToMove=void 0,this.canMove=!1}};a(Tn,"MODELS",{dragon:"https://cdn.orillusion.com/PBR/DragonAttenuation/DragonAttenuation.gltf",table:"/glb_models/Assembly Warehouse Table.glb",cart:"/glb_models/trolley cart for warehouse.glb",rack:"/glb_models/JM_Rack_A.glb",wall:"/glb_models/Slatwall_Bin_5.5in.glb",floor:"./src/assets/glb_models/factory_floor_sample_1.glb",workstation1:"/glb_models/workstation.glb",workstation1_whole:"/glb_models/workstation_whole.glb",workstation2:"/glb_models/Station 10x Layout v31.glb",lathe:"./src/assets/glb_models/downloadsGLB/desk_lathe.glb",ladder:"./src/assets/glb_models/downloadsGLB/escada_movel_-_moving_ladder.glb",forklift:"./src/assets/glb_models/downloadsGLB/forklift_gameready.glb",picaMachine:"./src/assets/glb_models/downloadsGLB/pica_pica_-_machines.glb",robot:"./src/assets/glb_models/FANUC-430 Robot.glb",rack:"./src/assets/glb_models/JM_Rack_A.glb",bin:"./src/assets/glb_models/Slatwall_Bin_5.5in.glb",tank:"./src/assets/glb_models/UN-COMPLIANT IBC TANK.glb",boiler:"./src/assets/glb_models/downloadsGLB/boiler_from_the_puffer_vic_32 (1).glb",roboticArm:"./src/assets/glb_models/downloadsGLB/black_honey_-_robotic_arm (1).glb",".translation-handle":"/glb_models/translation_handle.glb"});let Rr=Tn;const YP="mongodb+srv://alanfeng6:magnaspring24@magna-cluster.xht2nlr.mongodb.net/?retryWrites=true&w=majority&appName=Magna-cluster",Dd=new Ef.MongoClient(YP,{serverApi:{version:Ef.ServerApiVersion.v1,strict:!0,deprecationErrors:!0}});async function $P(){try{await Dd.connect(),await Dd.db("admin").command({ping:1}),console.log("Pinged your deployment. You successfully connected to MongoDB!")}finally{await Dd.close()}}$P().catch(console.dir);const KP="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M12%2011.5V16.5'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M12%207.51L12.01%207.49889'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M12%2022C17.5228%2022%2022%2017.5228%2022%2012C22%206.47715%2017.5228%202%2012%202C6.47715%202%202%206.47715%202%2012C2%2017.5228%206.47715%2022%2012%2022Z'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",qP="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20stroke-width='1.5'%20height='36px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M4%2019V5C4%203.89543%204.89543%203%206%203H19.4C19.7314%203%2020%203.26863%2020%203.6V16.7143'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M6%2017L20%2017'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M6%2021L20%2021'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3cpath%20d='M6%2021C4.89543%2021%204%2020.1046%204%2019C4%2017.8954%204.89543%2017%206%2017'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M9%207L15%207'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%3e%3c/path%3e%3c/svg%3e",XP="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M12%2019.51L12.01%2019.4989'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M2%208C8%203.5%2016%203.5%2022%208'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M5%2012C9%209%2015%209%2019%2012'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M8.5%2015.5C10.7504%2014.1%2013.2498%2014.0996%2015.5001%2015.5'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",JP="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M12%2012.5C12.2761%2012.5%2012.5%2012.2761%2012.5%2012C12.5%2011.7239%2012.2761%2011.5%2012%2011.5C11.7239%2011.5%2011.5%2011.7239%2011.5%2012C11.5%2012.2761%2011.7239%2012.5%2012%2012.5Z'%20fill='%23000000'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M12%2020.5C12.2761%2020.5%2012.5%2020.2761%2012.5%2020C12.5%2019.7239%2012.2761%2019.5%2012%2019.5C11.7239%2019.5%2011.5%2019.7239%2011.5%2020C11.5%2020.2761%2011.7239%2020.5%2012%2020.5Z'%20fill='%23000000'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M12%204.5C12.2761%204.5%2012.5%204.27614%2012.5%204C12.5%203.72386%2012.2761%203.5%2012%203.5C11.7239%203.5%2011.5%203.72386%2011.5%204C11.5%204.27614%2011.7239%204.5%2012%204.5Z'%20fill='%23000000'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",Lr=(r,A)=>{const e=r.__vccOpts||r;for(const[t,i]of A)e[t]=i;return e},ZP={name:"ObjectInfoText",props:{name:{default:""},value:{default:""}}},AF={class:"object-info-text"},eF={class:"oit-left"},tF={class:"oit-right"};function rF(r,A,e,t,i,n){return qA(),ae("div",AF,[EA("p",eF,wi(e.name),1),EA("p",tF,wi(e.value),1)])}const m_=Lr(ZP,[["render",rF],["__scopeId","data-v-a7b8a151"]]),iF={name:"ObjectInfoPosition",props:{mgr:{type:Rr,required:!0}},data(){return{pos:new I,xVal:0,yVal:0,zVal:0}},methods:{doX(){this.mgr.getFirstSelected().setX(parseFloat(this.xVal))},doY(){this.mgr.getFirstSelected().setY(parseFloat(this.yVal))},doZ(){this.mgr.getFirstSelected().setZ(parseFloat(this.zVal))},blurInput(r){r.target.blur()},update(r){r.length!==1?this.pos=new I:this.pos=r[0].getObject3D().localPosition,this.xVal=Math.floor(this.pos.x*100)/100,this.yVal=Math.floor(this.pos.y*100)/100,this.zVal=Math.floor(this.pos.z*100)/100}},created(){this.mgr.events.on("select",r=>this.update(r)),this.update(this.mgr.getSelected())}},nF=r=>(Js("data-v-97bdefdd"),r=r(),Zs(),r),sF=nF(()=>EA("p",{class:"input-label"},"Position",-1)),oF={class:"input-vector"};function aF(r,A,e,t,i,n){return qA(),ae(wt,null,[sF,EA("div",oF,[St(EA("input",{class:"input-vector-comp c-x","onUpdate:modelValue":A[0]||(A[0]=s=>i.xVal=s),type:"text",placeholder:"x",onInput:A[1]||(A[1]=(...s)=>n.doX&&n.doX(...s)),onKeyup:A[2]||(A[2]=Ds((...s)=>n.blurInput&&n.blurInput(...s),["enter"]))},null,544),[[Kr,i.xVal]]),St(EA("input",{class:"input-vector-comp c-y","onUpdate:modelValue":A[3]||(A[3]=s=>i.yVal=s),type:"text",placeholder:"y",onInput:A[4]||(A[4]=(...s)=>n.doY&&n.doY(...s)),onKeyup:A[5]||(A[5]=Ds((...s)=>n.blurInput&&n.blurInput(...s),["enter"]))},null,544),[[Kr,i.yVal]]),St(EA("input",{class:"input-vector-comp c-z","onUpdate:modelValue":A[6]||(A[6]=s=>i.zVal=s),type:"text",placeholder:"z",onInput:A[7]||(A[7]=(...s)=>n.doZ&&n.doZ(...s)),onKeyup:A[8]||(A[8]=Ds((...s)=>n.blurInput&&n.blurInput(...s),["enter"])),style:{"margin-right":"0"}},null,544),[[Kr,i.zVal]])])],64)}const uF=Lr(iF,[["render",aF],["__scopeId","data-v-97bdefdd"]]),lF={name:"ObjectInfoInput",props:{mgr:{type:Rr,required:!0},default:{default:""},onChange:{default:r=>{}},label:{default:"Field"},placeholder:{default:"Optional"}},data(){return{val:""}},methods:{blurInput(r){r.target.blur()},doChange(){this.onChange(this.val)}},created(){this.val=this.default}},cF={class:"input-parent"},hF={class:"input-label"},dF=["placeholder"];function fF(r,A,e,t,i,n){return qA(),ae("div",cF,[EA("p",hF,wi(e.label),1),St(EA("input",{class:"input","onUpdate:modelValue":A[0]||(A[0]=s=>i.val=s),type:"text",placeholder:e.placeholder,onInput:A[1]||(A[1]=(...s)=>n.doChange&&n.doChange(...s)),onKeyup:A[2]||(A[2]=Ds((...s)=>n.blurInput&&n.blurInput(...s),["enter"]))},null,40,dF),[[Kr,i.val]])])}const Uf=Lr(lF,[["render",fF]]),Qm={extends:Uf,data(){return{listener:null}},methods:{doChange(){this.mgr.getFirstSelected().id=this.val,this.mgr.events.do("rename")},update(){if(this.mgr.selectedCount!==1){this.val="";return}this.val=this.mgr.getFirstSelected().id}},created(){this.listener=this.mgr.events.on("select",r=>this.update()),this.update()},destroyed(){this.mgr.events.remove(this.listener)}},pF={props:{mgr:{type:Rr,required:!0}},data(){return{options:Array.from(this.mgr.models.keys()).filter(r=>r[0]!=="."),current:this.mgr.getFirstSelected().modelID,listener:null}},methods:{doChange(){this.mgr.getFirstSelected().setModel(this.current)},update(){const r=this.mgr.getFirstSelected();if(r===null){this.current="";return}this.current=r.modelID}},created(){this.listener=this.mgr.events.on("select",r=>this.update()),this.update()},destroyed(){this.listener!==null&&this.mgr.events.remove(this.listener)}},y_=r=>(Js("data-v-607d3a78"),r=r(),Zs(),r),gF={class:"model-parent"},mF=y_(()=>EA("p",{class:"label"},"Model",-1)),yF=y_(()=>EA("option",{value:""},"Default",-1)),EF=["value"];function CF(r,A,e,t,i,n){return qA(),ae("div",gF,[mF,St(EA("select",{class:"dropdown","onUpdate:modelValue":A[0]||(A[0]=s=>i.current=s),onChange:A[1]||(A[1]=s=>n.doChange())},[yF,(qA(!0),ae(wt,null,Zf(i.options,s=>(qA(),ae("option",{value:s},wi(s),9,EF))),256))],544),[[j3,i.current]])])}const _F=Lr(pF,[["render",CF],["__scopeId","data-v-607d3a78"]]),SF={props:{label:{default:"Dropdown"},options:{type:Array,default:[]},default:{default:""},onChange:{default:r=>{}}},data(){return{optionList:[],current:""}},methods:{doChange(){this.onChange(this.current)}},created(){this.current=this.default,this.optionList=[...this.options]}},vF={class:"model-parent"},wF={class:"label"},bF=["value"];function IF(r,A,e,t,i,n){return qA(),ae("div",vF,[EA("p",wF,wi(e.label),1),St(EA("select",{class:"dropdown","onUpdate:modelValue":A[0]||(A[0]=s=>i.current=s),onChange:A[1]||(A[1]=s=>n.doChange())},[(qA(!0),ae(wt,null,Zf(i.optionList,s=>(qA(),ae("option",{value:s.toLowerCase()},wi(s),9,bF))),256))],544),[[j3,i.current]])])}const BF=Lr(SF,[["render",IF],["__scopeId","data-v-fd6ed95b"]]),TF={name:"ObjectInfoRotation",props:{mgr:{type:Rr,required:!0}},data(){return{rot:new I,xVal:0,yVal:0,zVal:0}},methods:{doChange(){this.rot=new I(parseFloat(this.xVal),parseFloat(this.yVal),parseFloat(this.zVal)),this.mgr.getFirstSelected().getObject3D().localRotation=this.rot.clone()},blurInput(r){r.target.blur()},update(r){r.length!==1?this.rot=new I:this.rot=r[0].getObject3D().localRotation,this.xVal=Math.floor(this.rot.x*100)/100,this.yVal=Math.floor(this.rot.y*100)/100,this.zVal=Math.floor(this.rot.z*100)/100}},created(){this.mgr.events.on("select",r=>this.update(r)),this.update(this.mgr.getSelected())}},DF=r=>(Js("data-v-80725312"),r=r(),Zs(),r),xF=DF(()=>EA("p",{class:"input-label"},"Rotation",-1)),OF={class:"input-vector"};function MF(r,A,e,t,i,n){return qA(),ae(wt,null,[xF,EA("div",OF,[St(EA("input",{class:"input-vector-comp c-x","onUpdate:modelValue":A[0]||(A[0]=s=>i.xVal=s),type:"text",placeholder:"x",onInput:A[1]||(A[1]=(...s)=>n.doChange&&n.doChange(...s)),onKeyup:A[2]||(A[2]=Ds((...s)=>n.blurInput&&n.blurInput(...s),["enter"]))},null,544),[[Kr,i.xVal]]),St(EA("input",{class:"input-vector-comp c-y","onUpdate:modelValue":A[3]||(A[3]=s=>i.yVal=s),type:"text",placeholder:"y",onInput:A[4]||(A[4]=(...s)=>n.doChange&&n.doChange(...s)),onKeyup:A[5]||(A[5]=Ds((...s)=>n.blurInput&&n.blurInput(...s),["enter"]))},null,544),[[Kr,i.yVal]]),St(EA("input",{class:"input-vector-comp c-z","onUpdate:modelValue":A[6]||(A[6]=s=>i.zVal=s),type:"text",placeholder:"z",onInput:A[7]||(A[7]=(...s)=>n.doChange&&n.doChange(...s)),onKeyup:A[8]||(A[8]=Ds((...s)=>n.blurInput&&n.blurInput(...s),["enter"])),style:{"margin-right":"0"}},null,544),[[Kr,i.zVal]])])],64)}const RF=Lr(TF,[["render",MF],["__scopeId","data-v-80725312"]]),cn=r=>(Js("data-v-67cef47e"),r=r(),Zs(),r),PF={key:0,id:"info-parent"},FF={class:"section",id:"info"},NF={class:"section-header"},LF=cn(()=>EA("img",{class:"section-header-icon",src:KP,alt:"Info"},null,-1)),UF={class:"info-tabs"},kF=cn(()=>EA("img",{class:"section-header-icon",src:qP,alt:"General"},null,-1)),zF=cn(()=>EA("p",null,"General",-1)),GF=[kF,zF],VF=cn(()=>EA("img",{class:"section-header-icon",src:XP,alt:"General"},null,-1)),QF=cn(()=>EA("p",null,"Sync",-1)),HF=[VF,QF],jF={class:"section-inner"},WF={class:"section-inner"},YF=cn(()=>EA("p",{class:"hint"},"Objects will not receive live data unless they have an ID.",-1)),$F={key:0,class:"single-input"},KF={class:"single-input-left"},qF={class:"color-input"},XF=cn(()=>EA("p",null,"Min",-1)),JF=cn(()=>EA("div",{class:"gradient-dots"},[EA("img",{class:"section-header-icon",src:JP,alt:"Gradient"})],-1)),ZF={class:"color-input"},AN=cn(()=>EA("p",null,"Max",-1)),eN={name:"ObjectInfo",props:{mgr:{type:Rr,required:!0}},data(){return{listener:null,selected:[],tab:"general",data_type_options:["None","Single value","Position"],data_type:"none",min:0,max:100,default:0,color_1:"#5dc938",color_2:"#f24f44",gradient:new l1}},methods:{tabStyle(r){return r===this.tab?"info-tab-current":""},setScale(r){const A=this.mgr.getFirstSelected();if(A===null)return;let e=1;r!==""&&(e=parseFloat(r)),A.getObject3D().transform.localScale=new I(e,e,e)},onDataTypeChange(r){switch(this.data_type=r,r){case"none":{this.mgr.getFirstSelected().liveData={type:"none"};break}case"single value":{this.mgr.getFirstSelected().liveData={type:"single value",gradient:this.gradient,min:this.min,max:this.max};break}case"position":{this.mgr.getFirstSelected().liveData={type:"position"};break}}},makeGradient(){const r=new fA;r.setHex(this.color_1);const A=new fA;return A.setHex(this.color_2),this.gradient.clear(),this.gradient.set(0,r),this.gradient.set(1,A),this.mgr.getFirstSelected().liveData={type:"single value",gradient:this.gradient,min:this.min,max:this.max},"background-image: linear-gradient(to bottom, "+this.color_1+", "+this.color_2+");"},update(r){this.selected=r;const A=this.mgr.getFirstSelected();A!==null&&(this.data_type=A.liveData.type)}},created(){this.listener=this.mgr.events.on("select",r=>this.update(r)),this.update(this.mgr.getSelected())},destroyed(){this.listener!==null&&this.mgr.events.remove(this.listener)}},tN=Object.assign(eN,{setup(r){return(A,e)=>A.selected.length===1?(qA(),ae("div",PF,[EA("div",FF,[EA("div",NF,[LF,EA("div",UF,[EA("div",{class:Wo(["info-tab",A.tabStyle("general")]),onClick:e[0]||(e[0]=t=>A.tab="general")},GF,2),EA("div",{class:Wo(["info-tab",A.tabStyle("live_data")]),onClick:e[1]||(e[1]=t=>A.tab="live_data")},HF,2)])]),St(EA("div",jF,[pe(m_,{name:"Type",value:"Object"}),pe(Qm,{mgr:r.mgr,label:"ID",placeholder:"Optional"},null,8,["mgr"]),pe(_F,{mgr:r.mgr},null,8,["mgr"]),pe(uF,{mgr:r.mgr},null,8,["mgr"]),pe(RF,{mgr:r.mgr},null,8,["mgr"]),pe(Uf,{mgr:r.mgr,label:"Scale",placeholder:"1","on-change":t=>A.setScale(t),style:{"margin-top":"16px"}},null,8,["mgr","on-change"])],512),[[yh,A.tab==="general"]]),St(EA("div",WF,[pe(Qm,{mgr:r.mgr,label:"ID",placeholder:"Optional"},null,8,["mgr"]),YF,pe(BF,{label:"Data type",options:A.data_type_options,default:A.data_type,"on-change":A.onDataTypeChange},null,8,["options","default","on-change"]),St(pe(Uf,{mgr:r.mgr,label:"Default value",placeholder:"0","on-change":t=>this.default=t},null,8,["mgr","on-change"]),[[yh,A.data_type==="single value"]]),A.data_type==="single value"?(qA(),ae("div",$F,[EA("div",KF,[EA("div",qF,[XF,St(EA("input",{class:"input single-input-input",type:"text",placeholder:"0","onUpdate:modelValue":e[2]||(e[2]=t=>A.min=t)},null,512),[[Kr,A.min]]),St(EA("input",{type:"color","onUpdate:modelValue":e[3]||(e[3]=t=>A.color_1=t)},null,512),[[Kr,A.color_1]])]),JF,EA("div",ZF,[AN,St(EA("input",{class:"input single-input-input",type:"text",placeholder:"100","onUpdate:modelValue":e[4]||(e[4]=t=>A.max=t)},null,512),[[Kr,A.max]]),St(EA("input",{type:"color","onUpdate:modelValue":e[5]||(e[5]=t=>A.color_2=t)},null,512),[[Kr,A.color_2]])])]),EA("div",{class:"single-input-right",id:"color-gradient",style:gu(A.makeGradient())},null,4)])):$t("",!0)],512),[[yh,A.tab==="live_data"]])])])):$t("",!0)}}),rN=Lr(tN,[["__scopeId","data-v-67cef47e"]]),iN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cg%20clip-path='url(%23clip0_2576_14436)'%3e%3cpath%20d='M10.0503%2010.6066L2.97923%2017.6777C2.19818%2018.4587%202.19818%2019.725%202.97923%2020.5061V20.5061C3.76027%2021.2871%205.0266%2021.2871%205.80765%2020.5061L12.8787%2013.435'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M10.0502%2010.6066C9.20638%208.45358%209.37134%205.6286%2011.1109%203.88909C12.8504%202.14957%2016.0606%201.76777%2017.8284%202.82843L14.7877%205.8691L14.5051%208.98014L17.6161%208.69753L20.6568%205.65685C21.7175%207.42462%2021.3357%2010.6349%2019.5961%2012.3744C17.8566%2014.1139%2015.0316%2014.2789%2012.8786%2013.435'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2576_14436'%3e%3crect%20width='24'%20height='24'%20fill='white'%3e%3c/rect%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",nN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M3%2020.4V3.6C3%203.26863%203.26863%203%203.6%203H20.4C20.7314%203%2021%203.26863%2021%203.6V20.4C21%2020.7314%2020.7314%2021%2020.4%2021H3.6C3.26863%2021%203%2020.7314%203%2020.4Z'%20stroke='%23000000'%20stroke-width='1.5'%3e%3c/path%3e%3cpath%20d='M12%2013C12.5523%2013%2013%2012.5523%2013%2012C13%2011.4477%2012.5523%2011%2012%2011C11.4477%2011%2011%2011.4477%2011%2012C11%2012.5523%2011.4477%2013%2012%2013Z'%20fill='%23000000'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",sN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M21%207.35304L21%2016.647C21%2016.8649%2020.8819%2017.0656%2020.6914%2017.1715L12.2914%2021.8381C12.1102%2021.9388%2011.8898%2021.9388%2011.7086%2021.8381L3.30861%2017.1715C3.11814%2017.0656%203%2016.8649%203%2016.647L2.99998%207.35304C2.99998%207.13514%203.11812%206.93437%203.3086%206.82855L11.7086%202.16188C11.8898%202.06121%2012.1102%202.06121%2012.2914%202.16188L20.6914%206.82855C20.8818%206.93437%2021%207.13514%2021%207.35304Z'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M3.52844%207.29357L11.7086%2011.8381C11.8898%2011.9388%2012.1102%2011.9388%2012.2914%2011.8381L20.5%207.27777'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M12%2021L12%2012'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",oN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='24px'%20height='24px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M6%2012H12M18%2012H12M12%2012V6M12%2012V18'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",aN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='24px'%20height='24px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M6.75827%2017.2426L12.0009%2012M17.2435%206.75736L12.0009%2012M12.0009%2012L6.75827%206.75736M12.0009%2012L17.2435%2017.2426'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",uN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M19.4%2020H9.6C9.26863%2020%209%2019.7314%209%2019.4V9.6C9%209.26863%209.26863%209%209.6%209H19.4C19.7314%209%2020%209.26863%2020%209.6V19.4C20%2019.7314%2019.7314%2020%2019.4%2020Z'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M15%209V4.6C15%204.26863%2014.7314%204%2014.4%204H4.6C4.26863%204%204%204.26863%204%204.6V14.4C4%2014.7314%204.26863%2015%204.6%2015H9'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",lN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M20%209L18.005%2020.3463C17.8369%2021.3026%2017.0062%2022%2016.0353%2022H7.96474C6.99379%2022%206.1631%2021.3026%205.99496%2020.3463L4%209'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M21%206L15.375%206M3%206L8.625%206M8.625%206V4C8.625%202.89543%209.52043%202%2010.625%202H13.375C14.4796%202%2015.375%202.89543%2015.375%204V6M8.625%206L15.375%206'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",cN={props:{mgr:{type:Rr,required:!0}},data(){return{selected:[]}},created(){this.mgr.events.on("select",r=>this.selected=[...r])}},cr=r=>(Js("data-v-cacc0b07"),r=r(),Zs(),r),hN={class:"section",id:"tools"},dN=cv('<div class="tools-icon" data-v-cacc0b07><img class="section-header-icon" id="tools-icon" src="'+iN+'" alt="Wrench" draggable="false" data-v-cacc0b07><span class="tooltip" data-v-cacc0b07><span class="shortcuts" data-v-cacc0b07>More Shortcuts</span><span data-v-cacc0b07>Select all - <span class="soft" data-v-cacc0b07>Ctrl + A</span></span><span data-v-cacc0b07>Invert selection - <span class="soft" data-v-cacc0b07>Ctrl + I</span></span></span></div>',1),fN={class:"section-inner tools-inner"},pN=cr(()=>EA("img",{src:nN,alt:"Plus",draggable:"false"},null,-1)),gN=cr(()=>EA("span",{class:"tooltip"},[Ao("Reset Camera "),EA("span",{class:"soft"},"[Ctrl+R]")],-1)),mN=[pN,gN],yN=cr(()=>EA("img",{src:sN,alt:"Plus",draggable:"false"},null,-1)),EN=cr(()=>EA("span",{class:"tooltip"},[Ao("Focus on Selection "),EA("span",{class:"soft"},"[F]")],-1)),CN=[yN,EN],_N=cr(()=>EA("div",{class:"tool-spacing"},null,-1)),SN=cr(()=>EA("img",{src:oN,alt:"Plus",draggable:"false"},null,-1)),vN=cr(()=>EA("span",{class:"tooltip"},[Ao("New Object "),EA("span",{class:"soft"},"[R]")],-1)),wN=[SN,vN],bN=cr(()=>EA("img",{src:aN,alt:"Plus",draggable:"false"},null,-1)),IN=cr(()=>EA("span",{class:"tooltip"},[Ao("Deselect "),EA("span",{class:"soft"},"[Tab]")],-1)),BN=[bN,IN],TN=cr(()=>EA("img",{src:uN,alt:"Plus",draggable:"false"},null,-1)),DN=cr(()=>EA("span",{class:"tooltip"},[Ao("Duplicate "),EA("span",{class:"soft"},"[Ctrl+D]")],-1)),xN=[TN,DN],ON=cr(()=>EA("img",{src:lN,alt:"Plus",draggable:"false"},null,-1)),MN=cr(()=>EA("span",{class:"tooltip"},[Ao("Delete "),EA("span",{class:"soft"},"[Del]")],-1)),RN=[ON,MN];function PN(r,A,e,t,i,n){return qA(),ae("div",hN,[dN,EA("div",fN,[EA("div",{class:"tool",onClick:A[0]||(A[0]=s=>e.mgr.resetCamera())},mN),i.selected.length!==0?(qA(),ae("div",{key:0,class:"tool",onClick:A[1]||(A[1]=s=>e.mgr.focusOnSelected())},CN)):$t("",!0),_N,EA("div",{class:"tool",onClick:A[2]||(A[2]=s=>e.mgr.createNewObject())},wN),i.selected.length!==0?(qA(),ae("div",{key:1,class:"tool",onClick:A[3]||(A[3]=s=>e.mgr.clearSelection())},BN)):$t("",!0),i.selected.length!==0?(qA(),ae("div",{key:2,class:"tool",onClick:A[4]||(A[4]=s=>e.mgr.duplicateSelected())},xN)):$t("",!0),i.selected.length!==0?(qA(),ae("div",{key:3,class:"tool",onClick:A[5]||(A[5]=s=>e.mgr.deleteSelected())},RN)):$t("",!0)])])}const FN=Lr(cN,[["render",PN],["__scopeId","data-v-cacc0b07"]]),NN="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.1%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20d='M256%2032c14.2%200%2027.3%207.5%2034.5%2019.8l216%20368c7.3%2012.4%207.3%2027.7%20.2%2040.1S486.3%20480%20472%20480H40c-14.3%200-27.6-7.7-34.7-20.1s-7-27.8%20.2-40.1l216-368C228.7%2039.5%20241.8%2032%20256%2032zm0%20128c-13.3%200-24%2010.7-24%2024V296c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24V184c0-13.3-10.7-24-24-24zm32%20224a32%2032%200%201%200%20-64%200%2032%2032%200%201%200%2064%200z'/%3e%3c/svg%3e",LN={components:{ObjectInfoText:m_},data(){return{visible:!1,description:"",objectID:""}},props:{mgr:{type:Rr,required:!0},desc:{default:"Temperature above critical threshold."}},created(){this.mgr.events.on("alert",(r,A)=>{this.description=r,this.objectID=A,this.visible=!0}),this.description=this.desc}},E_=r=>(Js("data-v-9855af0e"),r=r(),Zs(),r),UN={key:0,class:"alert-menu-parent"},kN={class:"alert-menu"},zN=E_(()=>EA("div",{class:"alert-header"},[EA("img",{class:"alert-icon",src:NN,alt:"Alert Icon"}),EA("h1",{class:"alert-title"},"Alert")],-1)),GN={class:"alert-main"},VN=E_(()=>EA("h3",null,"Issue Detected at the following:",-1)),QN={class:"desc"};function HN(r,A,e,t,i,n){const s=SS("object-info-text");return i.visible?(qA(),ae("div",UN,[EA("div",kN,[zN,EA("div",GN,[VN,pe(s,{name:"ID",value:i.objectID,style:{margin:"0 128px 0 128px"}},null,8,["value"]),EA("h3",QN,wi(i.description),1),EA("button",{onClick:A[0]||(A[0]=o=>i.visible=!1)},"Ok")])])])):$t("",!0)}const jN=Lr(LN,[["render",HN],["__scopeId","data-v-9855af0e"]]),WN={name:"LoadBar",props:{mgr:{type:Rr,required:!0}},data(){return{listener:null,progress:0,gradient:new l1}},computed:{getFill(){const r="width: "+Math.floor(this.progress*100)+"%;",A=this.gradient.get(this.progress),t="background-color: "+("rgb("+A.r*255+", "+A.g*255+", "+A.b*255+")")+";";return r+t}},created(){this.listener=this.mgr.events.on("load_models",r=>this.progress=r),this.gradient.set(0,new fA(.99,1,.39)),this.gradient.set(1,new fA(.45,.93,.34))},destroyed(){this.listener!==null&&this.mgr.events.remove(this.listener)}},YN={key:0,class:"load-bar-parent"},$N={class:"load-bar"},KN={class:"bar-parent"};function qN(r,A,e,t,i,n){return qA(),Zc(r0,{name:"fade"},{default:_3(()=>[i.progress<1?(qA(),ae("div",YN,[EA("div",$N,[EA("p",null,"Loading Models... "+wi(Math.floor(i.progress*100))+"%",1),EA("div",KN,[EA("div",{class:"bar-fill",style:gu(n.getFill)},null,4)])])])):$t("",!0)]),_:1})}const XN=Lr(WN,[["render",qN],["__scopeId","data-v-bddec383"]]),JN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M8%206L20%206'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M4%206.01L4.01%205.99889'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M4%2012.01L4.01%2011.9989'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M4%2018.01L4.01%2017.9989'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M8%2012L20%2012'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M8%2018L20%2018'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",ZN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M6%2015L12%209L18%2015'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",AL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M6%209L12%2015L18%209'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",eL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='36px'%20height='36px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M11.5%2012H6.6C6.26863%2012%206%2012.2686%206%2012.6V19.4C6%2019.7314%206.26863%2020%206.6%2020H17.4C17.7314%2020%2018%2019.7314%2018%2019.4V18.5'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M16%2012V8C16%206.66667%2015.2%204%2012%204C11.2532%204%2010.6371%204.14525%2010.1313%204.38491'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M16%2012H17.4C17.7314%2012%2018%2012.2686%2018%2012.6V13'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M8%208V8.5V12'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20d='M3%203L21%2021'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",tL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='24px'%20height='24px'%20stroke-width='1.5'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20color='%23000000'%3e%3cpath%20d='M16%2012H17.4C17.7314%2012%2018%2012.2686%2018%2012.6V19.4C18%2019.7314%2017.7314%2020%2017.4%2020H6.6C6.26863%2020%206%2019.7314%206%2019.4V12.6C6%2012.2686%206.26863%2012%206.6%2012H8M16%2012V8C16%206.66667%2015.2%204%2012%204C8.8%204%208%206.66667%208%208V12M16%2012H8'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/svg%3e",rL={name:"OutlineListing",props:{object:{type:c1,required:!0}},data(){return{selectListener:null,renameListener:null,lockedListener:null,selected:!1,name:"",locked:!1}},computed:{dynamicStyle(){return this.selected?"listing-selected":""}},methods:{update(){this.selected=this.object.isSelected(),this.name=this.object.id,this.locked=this.object.locked},doDelete(){this.object.delete()}},created(){this.selectListener=this.object.mgr.events.on("select",()=>this.update()),this.renameListener=this.object.mgr.events.on("rename",()=>this.update()),this.lockedListener=this.object.events.on("lock",()=>this.update()),this.update()},destroyed(){this.mgr.events.remove(this.selectListener),this.mgr.events.remove(this.renameListener),this.object.events.remove(this.lockedListener)}},iL={key:0,class:"listing-name anonymous"},nL={key:1,class:"listing-name"},sL={class:"listing-buttons"};function oL(r,A,e,t,i,n){return qA(),ae("div",{class:Wo(["listing",n.dynamicStyle]),onClick:A[2]||(A[2]=s=>{this.object.select(),this.object.mouseOff()}),onMouseover:A[3]||(A[3]=s=>this.object.mouseOver()),onMouseout:A[4]||(A[4]=s=>this.object.mouseOff())},[i.name===""?(qA(),ae("p",iL,"Object")):$t("",!0),i.name!==""?(qA(),ae("p",nL,wi(i.name),1)):$t("",!0),EA("div",sL,[i.locked?$t("",!0):(qA(),ae("img",{key:0,class:"listing-button",src:eL,alt:"Lock",onClick:A[0]||(A[0]=og(s=>e.object.toggleLock(),["stop"]))})),i.locked?(qA(),ae("img",{key:1,class:"listing-button",src:tL,alt:"Lock",onClick:A[1]||(A[1]=og(s=>e.object.toggleLock(),["stop"]))})):$t("",!0)])],34)}const C_=Lr(rL,[["render",oL]]),aL=r=>(Js("data-v-276c9a4a"),r=r(),Zs(),r),uL={id:"outline-parent"},lL={class:"section",id:"outline"},cL={class:"section-header"},hL=aL(()=>EA("img",{class:"section-header-icon",src:JN,alt:"List",draggable:"false"},null,-1)),dL={class:"section-header-button"},fL={key:0,class:"section-inner"},pL={key:0,class:"empty"},gL={name:"Outline",components:{OutlineListing:C_},props:{mgr:{type:Rr,required:!0}},data(){return{list:Wc([]),collapsed:!1}},methods:{addObject(r){this.list.push(r)},removeObject(r){this.list.splice(this.list.indexOf(r),1)}},created(){this.mgr.events.on("add",r=>this.addObject(r)),this.mgr.events.on("delete",r=>this.removeObject(r))}},mL=Object.assign(gL,{setup(r){const A="Outline";return(e,t)=>(qA(),ae("div",uL,[EA("div",lL,[EA("div",cL,[hL,EA("h1",{class:"section-title"},wi(A)),EA("div",dL,[e.collapsed?(qA(),ae("img",{key:1,class:"section-header-icon",src:AL,alt:"Arrow",draggable:"false",onClick:t[1]||(t[1]=i=>e.collapsed=!1)})):(qA(),ae("img",{key:0,class:"section-header-icon",src:ZN,alt:"Arrow",draggable:"false",onClick:t[0]||(t[0]=i=>e.collapsed=!0)}))])]),e.collapsed?$t("",!0):(qA(),ae("div",fL,[e.list.length===0?(qA(),ae("p",pL,"There are no objects.")):$t("",!0),(qA(!0),ae(wt,null,Zf(e.list,i=>(qA(),Zc(C_,{object:i},null,8,["object"]))),256))]))])]))}}),__=Lr(mL,[["__scopeId","data-v-276c9a4a"]]),yL={components:{Outline:__}},EL=Object.assign(yL,{__name:"FloorDisplay",setup(r){let A=new Rr;window.manager=A;const e=aS("canvas");return Jf(()=>{A.init()}),(t,i)=>(qA(),ae(wt,null,[EA("canvas",{id:"canvas",ref_key:"canvas",ref:e,onMousedown:i[0]||(i[0]=(...n)=>fr(A).startDrag&&fr(A).startDrag(...n)),onMouseleave:i[1]||(i[1]=(...n)=>fr(A).stopDrag&&fr(A).stopDrag(...n)),onMouseup:i[2]||(i[2]=(...n)=>fr(A).stopDrag&&fr(A).stopDrag(...n))},null,544),pe(rN,{mgr:fr(A)},null,8,["mgr"]),pe(FN,{mgr:fr(A)},null,8,["mgr"]),pe(__,{mgr:fr(A)},null,8,["mgr"]),pe(jN,{mgr:fr(A)},null,8,["mgr"]),pe(XN,{mgr:fr(A)},null,8,["mgr"])],64))}}),CL={__name:"App",setup(r){return(A,e)=>(qA(),Zc(EL))}};ew(CL).mount("#app");
